(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))p(_);new MutationObserver(_=>{for(const v of _)if(v.type==="childList")for(const y of v.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&p(y)}).observe(document,{childList:!0,subtree:!0});function h(_){const v={};return _.integrity&&(v.integrity=_.integrity),_.referrerPolicy&&(v.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?v.credentials="include":_.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function p(_){if(_.ep)return;_.ep=!0;const v=h(_);fetch(_.href,v)}})();var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Du(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Th={exports:{}},bu={},Dh={exports:{}},Pt={};var bp;function h_(){if(bp)return Pt;bp=1;var o=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.iterator;function F(le){return le===null||typeof le!="object"?null:(le=j&&le[j]||le["@@iterator"],typeof le=="function"?le:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Z={};function H(le,Me,ut){this.props=le,this.context=Me,this.refs=Z,this.updater=ut||ie}H.prototype.isReactComponent={},H.prototype.setState=function(le,Me){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,Me,"setState")},H.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function Le(){}Le.prototype=H.prototype;function I(le,Me,ut){this.props=le,this.context=Me,this.refs=Z,this.updater=ut||ie}var te=I.prototype=new Le;te.constructor=I,K(te,H.prototype),te.isPureReactComponent=!0;var J=Array.isArray,Y=Object.prototype.hasOwnProperty,he={current:null},ge={key:!0,ref:!0,__self:!0,__source:!0};function oe(le,Me,ut){var et,Ye={},Je=null,St=null;if(Me!=null)for(et in Me.ref!==void 0&&(St=Me.ref),Me.key!==void 0&&(Je=""+Me.key),Me)Y.call(Me,et)&&!ge.hasOwnProperty(et)&&(Ye[et]=Me[et]);var Lt=arguments.length-2;if(Lt===1)Ye.children=ut;else if(1<Lt){for(var At=Array(Lt),vn=0;vn<Lt;vn++)At[vn]=arguments[vn+2];Ye.children=At}if(le&&le.defaultProps)for(et in Lt=le.defaultProps,Lt)Ye[et]===void 0&&(Ye[et]=Lt[et]);return{$$typeof:o,type:le,key:Je,ref:St,props:Ye,_owner:he.current}}function xe(le,Me){return{$$typeof:o,type:le.type,key:Me,ref:le.ref,props:le.props,_owner:le._owner}}function Ae(le){return typeof le=="object"&&le!==null&&le.$$typeof===o}function Ge(le){var Me={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(ut){return Me[ut]})}var lt=/\/+/g;function ze(le,Me){return typeof le=="object"&&le!==null&&le.key!=null?Ge(""+le.key):Me.toString(36)}function wt(le,Me,ut,et,Ye){var Je=typeof le;(Je==="undefined"||Je==="boolean")&&(le=null);var St=!1;if(le===null)St=!0;else switch(Je){case"string":case"number":St=!0;break;case"object":switch(le.$$typeof){case o:case u:St=!0}}if(St)return St=le,Ye=Ye(St),le=et===""?"."+ze(St,0):et,J(Ye)?(ut="",le!=null&&(ut=le.replace(lt,"$&/")+"/"),wt(Ye,Me,ut,"",function(vn){return vn})):Ye!=null&&(Ae(Ye)&&(Ye=xe(Ye,ut+(!Ye.key||St&&St.key===Ye.key?"":(""+Ye.key).replace(lt,"$&/")+"/")+le)),Me.push(Ye)),1;if(St=0,et=et===""?".":et+":",J(le))for(var Lt=0;Lt<le.length;Lt++){Je=le[Lt];var At=et+ze(Je,Lt);St+=wt(Je,Me,ut,At,Ye)}else if(At=F(le),typeof At=="function")for(le=At.call(le),Lt=0;!(Je=le.next()).done;)Je=Je.value,At=et+ze(Je,Lt++),St+=wt(Je,Me,ut,At,Ye);else if(Je==="object")throw Me=String(le),Error("Objects are not valid as a React child (found: "+(Me==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":Me)+"). If you meant to render a collection of children, use an array instead.");return St}function Bt(le,Me,ut){if(le==null)return le;var et=[],Ye=0;return wt(le,et,"","",function(Je){return Me.call(ut,Je,Ye++)}),et}function Re(le){if(le._status===-1){var Me=le._result;Me=Me(),Me.then(function(ut){(le._status===0||le._status===-1)&&(le._status=1,le._result=ut)},function(ut){(le._status===0||le._status===-1)&&(le._status=2,le._result=ut)}),le._status===-1&&(le._status=0,le._result=Me)}if(le._status===1)return le._result.default;throw le._result}var rt={current:null},be={transition:null},tt={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:be,ReactCurrentOwner:he};function Be(){throw Error("act(...) is not supported in production builds of React.")}return Pt.Children={map:Bt,forEach:function(le,Me,ut){Bt(le,function(){Me.apply(this,arguments)},ut)},count:function(le){var Me=0;return Bt(le,function(){Me++}),Me},toArray:function(le){return Bt(le,function(Me){return Me})||[]},only:function(le){if(!Ae(le))throw Error("React.Children.only expected to receive a single React element child.");return le}},Pt.Component=H,Pt.Fragment=h,Pt.Profiler=_,Pt.PureComponent=I,Pt.StrictMode=p,Pt.Suspense=B,Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tt,Pt.act=Be,Pt.cloneElement=function(le,Me,ut){if(le==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+le+".");var et=K({},le.props),Ye=le.key,Je=le.ref,St=le._owner;if(Me!=null){if(Me.ref!==void 0&&(Je=Me.ref,St=he.current),Me.key!==void 0&&(Ye=""+Me.key),le.type&&le.type.defaultProps)var Lt=le.type.defaultProps;for(At in Me)Y.call(Me,At)&&!ge.hasOwnProperty(At)&&(et[At]=Me[At]===void 0&&Lt!==void 0?Lt[At]:Me[At])}var At=arguments.length-2;if(At===1)et.children=ut;else if(1<At){Lt=Array(At);for(var vn=0;vn<At;vn++)Lt[vn]=arguments[vn+2];et.children=Lt}return{$$typeof:o,type:le.type,key:Ye,ref:Je,props:et,_owner:St}},Pt.createContext=function(le){return le={$$typeof:y,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},le.Provider={$$typeof:v,_context:le},le.Consumer=le},Pt.createElement=oe,Pt.createFactory=function(le){var Me=oe.bind(null,le);return Me.type=le,Me},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(le){return{$$typeof:P,render:le}},Pt.isValidElement=Ae,Pt.lazy=function(le){return{$$typeof:S,_payload:{_status:-1,_result:le},_init:Re}},Pt.memo=function(le,Me){return{$$typeof:D,type:le,compare:Me===void 0?null:Me}},Pt.startTransition=function(le){var Me=be.transition;be.transition={};try{le()}finally{be.transition=Me}},Pt.unstable_act=Be,Pt.useCallback=function(le,Me){return rt.current.useCallback(le,Me)},Pt.useContext=function(le){return rt.current.useContext(le)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(le){return rt.current.useDeferredValue(le)},Pt.useEffect=function(le,Me){return rt.current.useEffect(le,Me)},Pt.useId=function(){return rt.current.useId()},Pt.useImperativeHandle=function(le,Me,ut){return rt.current.useImperativeHandle(le,Me,ut)},Pt.useInsertionEffect=function(le,Me){return rt.current.useInsertionEffect(le,Me)},Pt.useLayoutEffect=function(le,Me){return rt.current.useLayoutEffect(le,Me)},Pt.useMemo=function(le,Me){return rt.current.useMemo(le,Me)},Pt.useReducer=function(le,Me,ut){return rt.current.useReducer(le,Me,ut)},Pt.useRef=function(le){return rt.current.useRef(le)},Pt.useState=function(le){return rt.current.useState(le)},Pt.useSyncExternalStore=function(le,Me,ut){return rt.current.useSyncExternalStore(le,Me,ut)},Pt.useTransition=function(){return rt.current.useTransition()},Pt.version="18.3.1",Pt}var Cp;function Jd(){return Cp||(Cp=1,Dh.exports=h_()),Dh.exports}var Lp;function d_(){if(Lp)return bu;Lp=1;var o=Jd(),u=Symbol.for("react.element"),h=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,_=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function y(P,B,D){var S,j={},F=null,ie=null;D!==void 0&&(F=""+D),B.key!==void 0&&(F=""+B.key),B.ref!==void 0&&(ie=B.ref);for(S in B)p.call(B,S)&&!v.hasOwnProperty(S)&&(j[S]=B[S]);if(P&&P.defaultProps)for(S in B=P.defaultProps,B)j[S]===void 0&&(j[S]=B[S]);return{$$typeof:u,type:P,key:F,ref:ie,props:j,_owner:_.current}}return bu.Fragment=h,bu.jsx=y,bu.jsxs=y,bu}var kp;function f_(){return kp||(kp=1,Th.exports=d_()),Th.exports}var c=f_(),U=Jd();const Bu=Du(U);var wc={},Ah={exports:{}},Rr={},Rh={exports:{}},Oh={};var Ep;function p_(){return Ep||(Ep=1,(function(o){function u(be,tt){var Be=be.length;be.push(tt);e:for(;0<Be;){var le=Be-1>>>1,Me=be[le];if(0<_(Me,tt))be[le]=tt,be[Be]=Me,Be=le;else break e}}function h(be){return be.length===0?null:be[0]}function p(be){if(be.length===0)return null;var tt=be[0],Be=be.pop();if(Be!==tt){be[0]=Be;e:for(var le=0,Me=be.length,ut=Me>>>1;le<ut;){var et=2*(le+1)-1,Ye=be[et],Je=et+1,St=be[Je];if(0>_(Ye,Be))Je<Me&&0>_(St,Ye)?(be[le]=St,be[Je]=Be,le=Je):(be[le]=Ye,be[et]=Be,le=et);else if(Je<Me&&0>_(St,Be))be[le]=St,be[Je]=Be,le=Je;else break e}}return tt}function _(be,tt){var Be=be.sortIndex-tt.sortIndex;return Be!==0?Be:be.id-tt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;o.unstable_now=function(){return v.now()}}else{var y=Date,P=y.now();o.unstable_now=function(){return y.now()-P}}var B=[],D=[],S=1,j=null,F=3,ie=!1,K=!1,Z=!1,H=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(be){for(var tt=h(D);tt!==null;){if(tt.callback===null)p(D);else if(tt.startTime<=be)p(D),tt.sortIndex=tt.expirationTime,u(B,tt);else break;tt=h(D)}}function J(be){if(Z=!1,te(be),!K)if(h(B)!==null)K=!0,Re(Y);else{var tt=h(D);tt!==null&&rt(J,tt.startTime-be)}}function Y(be,tt){K=!1,Z&&(Z=!1,Le(oe),oe=-1),ie=!0;var Be=F;try{for(te(tt),j=h(B);j!==null&&(!(j.expirationTime>tt)||be&&!Ge());){var le=j.callback;if(typeof le=="function"){j.callback=null,F=j.priorityLevel;var Me=le(j.expirationTime<=tt);tt=o.unstable_now(),typeof Me=="function"?j.callback=Me:j===h(B)&&p(B),te(tt)}else p(B);j=h(B)}if(j!==null)var ut=!0;else{var et=h(D);et!==null&&rt(J,et.startTime-tt),ut=!1}return ut}finally{j=null,F=Be,ie=!1}}var he=!1,ge=null,oe=-1,xe=5,Ae=-1;function Ge(){return!(o.unstable_now()-Ae<xe)}function lt(){if(ge!==null){var be=o.unstable_now();Ae=be;var tt=!0;try{tt=ge(!0,be)}finally{tt?ze():(he=!1,ge=null)}}else he=!1}var ze;if(typeof I=="function")ze=function(){I(lt)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,Bt=wt.port2;wt.port1.onmessage=lt,ze=function(){Bt.postMessage(null)}}else ze=function(){H(lt,0)};function Re(be){ge=be,he||(he=!0,ze())}function rt(be,tt){oe=H(function(){be(o.unstable_now())},tt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(be){be.callback=null},o.unstable_continueExecution=function(){K||ie||(K=!0,Re(Y))},o.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<be?Math.floor(1e3/be):5},o.unstable_getCurrentPriorityLevel=function(){return F},o.unstable_getFirstCallbackNode=function(){return h(B)},o.unstable_next=function(be){switch(F){case 1:case 2:case 3:var tt=3;break;default:tt=F}var Be=F;F=tt;try{return be()}finally{F=Be}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(be,tt){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var Be=F;F=be;try{return tt()}finally{F=Be}},o.unstable_scheduleCallback=function(be,tt,Be){var le=o.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?le+Be:le):Be=le,be){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=Be+Me,be={id:S++,callback:tt,priorityLevel:be,startTime:Be,expirationTime:Me,sortIndex:-1},Be>le?(be.sortIndex=Be,u(D,be),h(B)===null&&be===h(D)&&(Z?(Le(oe),oe=-1):Z=!0,rt(J,Be-le))):(be.sortIndex=Me,u(B,be),K||ie||(K=!0,Re(Y))),be},o.unstable_shouldYield=Ge,o.unstable_wrapCallback=function(be){var tt=F;return function(){var Be=F;F=tt;try{return be.apply(this,arguments)}finally{F=Be}}}})(Oh)),Oh}var Sp;function m_(){return Sp||(Sp=1,Rh.exports=p_()),Rh.exports}var Pp;function g_(){if(Pp)return Rr;Pp=1;var o=Jd(),u=m_();function h(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=new Set,_={};function v(e,n){y(e,n),y(e+"Capture",n)}function y(e,n){for(_[e]=n,e=0;e<n.length;e++)p.add(n[e])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B=Object.prototype.hasOwnProperty,D=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},j={};function F(e){return B.call(j,e)?!0:B.call(S,e)?!1:D.test(e)?j[e]=!0:(S[e]=!0,!1)}function ie(e,n,l,m){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K(e,n,l,m){if(n===null||typeof n>"u"||ie(e,n,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Z(e,n,l,m,b,C,O){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=C,this.removeEmptyString=O}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){H[e]=new Z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];H[n]=new Z(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){H[e]=new Z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){H[e]=new Z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){H[e]=new Z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){H[e]=new Z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){H[e]=new Z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){H[e]=new Z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){H[e]=new Z(e,5,!1,e.toLowerCase(),null,!1,!1)});var Le=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Le,I);H[n]=new Z(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Le,I);H[n]=new Z(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Le,I);H[n]=new Z(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){H[e]=new Z(e,1,!1,e.toLowerCase(),null,!1,!1)}),H.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){H[e]=new Z(e,1,!1,e.toLowerCase(),null,!0,!0)});function te(e,n,l,m){var b=H.hasOwnProperty(n)?H[n]:null;(b!==null?b.type!==0:m||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(K(n,l,b,m)&&(l=null),m||b===null?F(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):b.mustUseProperty?e[b.propertyName]=l===null?b.type===3?!1:"":l:(n=b.attributeName,m=b.attributeNamespace,l===null?e.removeAttribute(n):(b=b.type,l=b===3||b===4&&l===!0?"":""+l,m?e.setAttributeNS(m,n,l):e.setAttribute(n,l))))}var J=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),he=Symbol.for("react.portal"),ge=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),Ge=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),rt=Symbol.for("react.offscreen"),be=Symbol.iterator;function tt(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,le;function Me(e){if(le===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);le=n&&n[1]||""}return`
`+le+e}var ut=!1;function et(e,n){if(!e||ut)return"";ut=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ke){var m=ke}Reflect.construct(e,[],n)}else{try{n.call()}catch(ke){m=ke}e.call(n.prototype)}else{try{throw Error()}catch(ke){m=ke}e()}}catch(ke){if(ke&&m&&typeof ke.stack=="string"){for(var b=ke.stack.split(`
`),C=m.stack.split(`
`),O=b.length-1,$=C.length-1;1<=O&&0<=$&&b[O]!==C[$];)$--;for(;1<=O&&0<=$;O--,$--)if(b[O]!==C[$]){if(O!==1||$!==1)do if(O--,$--,0>$||b[O]!==C[$]){var re=`
`+b[O].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=O&&0<=$);break}}}finally{ut=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?Me(e):""}function Ye(e){switch(e.tag){case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return Me("Suspense");case 19:return Me("SuspenseList");case 0:case 2:case 15:return e=et(e.type,!1),e;case 11:return e=et(e.type.render,!1),e;case 1:return e=et(e.type,!0),e;default:return""}}function Je(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ge:return"Fragment";case he:return"Portal";case xe:return"Profiler";case oe:return"StrictMode";case ze:return"Suspense";case wt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ge:return(e.displayName||"Context")+".Consumer";case Ae:return(e._context.displayName||"Context")+".Provider";case lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bt:return n=e.displayName||null,n!==null?n:Je(e.type)||"Memo";case Re:n=e._payload,e=e._init;try{return Je(e(n))}catch{}}return null}function St(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Je(n);case 8:return n===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Lt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function At(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vn(e){var n=At(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),m=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var b=l.get,C=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return b.call(this)},set:function(O){m=""+O,C.call(this,O)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zi(e){e._valueTracker||(e._valueTracker=vn(e))}function Ki(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),m="";return e&&(m=At(e)?e.checked?"true":"false":e.value),e=m,e!==l?(n.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oo(e,n){var l=n.checked;return Be({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function ea(e,n){var l=n.defaultValue==null?"":n.defaultValue,m=n.checked!=null?n.checked:n.defaultChecked;l=Lt(n.value!=null?n.value:l),e._wrapperState={initialChecked:m,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ta(e,n){n=n.checked,n!=null&&te(e,"checked",n,!1)}function Xi(e,n){ta(e,n);var l=Lt(n.value),m=n.type;if(l!=null)m==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(m==="submit"||m==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ao(e,n.type,l):n.hasOwnProperty("defaultValue")&&ao(e,n.type,Lt(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function gi(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var m=n.type;if(!(m!=="submit"&&m!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function ao(e,n,l){(n!=="number"||$i(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var Ji=Array.isArray;function Kr(e,n,l,m){if(e=e.options,n){n={};for(var b=0;b<l.length;b++)n["$"+l[b]]=!0;for(l=0;l<e.length;l++)b=n.hasOwnProperty("$"+e[l].value),e[l].selected!==b&&(e[l].selected=b),b&&m&&(e[l].defaultSelected=!0)}else{for(l=""+Lt(l),n=null,b=0;b<e.length;b++){if(e[b].value===l){e[b].selected=!0,m&&(e[b].defaultSelected=!0);return}n!==null||e[b].disabled||(n=e[b])}n!==null&&(n.selected=!0)}}function lo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(h(91));return Be({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function na(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(h(92));if(Ji(l)){if(1<l.length)throw Error(h(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:Lt(l)}}function Ya(e,n){var l=Lt(n.value),m=Lt(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),m!=null&&(e.defaultValue=""+m)}function Qa(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function uo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function co(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?uo(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var js,ra=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,m,b){MSApp.execUnsafeLocalFunction(function(){return e(n,l,m,b)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function _i(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qi=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(e){Qi.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Yi[n]=Yi[e]})});function ia(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||Yi.hasOwnProperty(e)&&Yi[e]?(""+n).trim():n+"px"}function Ts(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var m=l.indexOf("--")===0,b=ia(l,n[l],m);l==="float"&&(l="cssFloat"),m?e.setProperty(l,b):e[l]=b}}var es=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(e,n){if(n){if(es[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(h(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(h(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(h(61))}if(n.style!=null&&typeof n.style!="object")throw Error(h(62))}}function Fr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,yi=null,vi=null;function el(e){if(e=ai(e)){if(typeof Ds!="function")throw Error(h(280));var n=e.stateNode;n&&(n=Ln(n),Ds(e.stateNode,e.type,n))}}function tl(e){yi?vi?vi.push(e):vi=[e]:yi=e}function aa(){if(yi){var e=yi,n=vi;if(vi=yi=null,el(e),n)for(e=0;e<n.length;e++)el(n[e])}}function la(e,n){return e(n)}function nl(){}var ua=!1;function fo(e,n,l){if(ua)return e(n,l);ua=!0;try{return la(e,n,l)}finally{ua=!1,(yi!==null||vi!==null)&&(nl(),aa())}}function ts(e,n){var l=e.stateNode;if(l===null)return null;var m=Ln(l);if(m===null)return null;l=m[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(e=e.type,m=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!m;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(h(231,n,typeof l));return l}var ca=!1;if(P)try{var As={};Object.defineProperty(As,"passive",{get:function(){ca=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{ca=!1}function $l(e,n,l,m,b,C,O,$,re){var ke=Array.prototype.slice.call(arguments,3);try{n.apply(l,ke)}catch(Ie){this.onError(Ie)}}var xn=!1,it=null,Rs=!1,po=null,ha={onError:function(e){xn=!0,it=e}};function rl(e,n,l,m,b,C,O,$,re){xn=!1,it=null,$l.apply(ha,arguments)}function da(e,n,l,m,b,C,O,$,re){if(rl.apply(this,arguments),xn){if(xn){var ke=it;xn=!1,it=null}else throw Error(h(198));Rs||(Rs=!0,po=ke)}}function $r(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function xi(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function fa(e){if($r(e)!==e)throw Error(h(188))}function Xl(e){var n=e.alternate;if(!n){if(n=$r(e),n===null)throw Error(h(188));return n!==e?null:e}for(var l=e,m=n;;){var b=l.return;if(b===null)break;var C=b.alternate;if(C===null){if(m=b.return,m!==null){l=m;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===l)return fa(b),e;if(C===m)return fa(b),n;C=C.sibling}throw Error(h(188))}if(l.return!==m.return)l=b,m=C;else{for(var O=!1,$=b.child;$;){if($===l){O=!0,l=b,m=C;break}if($===m){O=!0,m=b,l=C;break}$=$.sibling}if(!O){for($=C.child;$;){if($===l){O=!0,l=C,m=b;break}if($===m){O=!0,m=C,l=b;break}$=$.sibling}if(!O)throw Error(h(189))}}if(l.alternate!==m)throw Error(h(190))}if(l.tag!==3)throw Error(h(188));return l.stateNode.current===l?e:n}function il(e){return e=Xl(e),e!==null?sl(e):null}function sl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=sl(e);if(n!==null)return n;e=e.sibling}return null}var ol=u.unstable_scheduleCallback,Os=u.unstable_cancelCallback,pa=u.unstable_shouldYield,mo=u.unstable_requestPaint,$t=u.unstable_now,Jl=u.unstable_getCurrentPriorityLevel,ma=u.unstable_ImmediatePriority,al=u.unstable_UserBlockingPriority,go=u.unstable_NormalPriority,ga=u.unstable_LowPriority,ns=u.unstable_IdlePriority,Ns=null,tr=null;function Xr(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:rs,Vt=Math.log,Is=Math.LN2;function rs(e){return e>>>=0,e===0?32:31-(Vt(e)/Is|0)|0}var zr=64,is=4194304;function gt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wt(e,n){var l=e.pendingLanes;if(l===0)return 0;var m=0,b=e.suspendedLanes,C=e.pingedLanes,O=l&268435455;if(O!==0){var $=O&~b;$!==0?m=gt($):(C&=O,C!==0&&(m=gt(C)))}else O=l&~b,O!==0?m=gt(O):C!==0&&(m=gt(C));if(m===0)return 0;if(n!==0&&n!==m&&(n&b)===0&&(b=m&-m,C=n&-n,b>=C||b===16&&(C&4194240)!==0))return n;if((m&4)!==0&&(m|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=m;0<n;)l=31-vt(n),b=1<<l,m|=e[l],n&=~b;return m}function _a(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(e,n){for(var l=e.suspendedLanes,m=e.pingedLanes,b=e.expirationTimes,C=e.pendingLanes;0<C;){var O=31-vt(C),$=1<<O,re=b[O];re===-1?(($&l)===0||($&m)!==0)&&(b[O]=_a($,n)):re<=n&&(e.expiredLanes|=$),C&=~$}}function Pn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ll(){var e=zr;return zr<<=1,(zr&4194240)===0&&(zr=64),e}function ss(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function nr(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-vt(n),e[n]=l}function Qt(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var m=e.eventTimes;for(e=e.expirationTimes;0<l;){var b=31-vt(l),C=1<<b;n[b]=0,m[b]=-1,e[b]=-1,l&=~C}}function vr(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var m=31-vt(l),b=1<<m;b&n|e[m]&n&&(e[m]|=n),l&=~b}}var Mt=0;function os(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var yo,wi,vo,xo,Fs,zs=!1,as=[],rr=null,Ur=null,xr=null,Us=new Map,mt=new Map,hn=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ya(e,n){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Us.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mt.delete(n.pointerId)}}function bi(e,n,l,m,b,C){return e===null||e.nativeEvent!==C?(e={blockedOn:n,domEventName:l,eventSystemFlags:m,nativeEvent:C,targetContainers:[b]},n!==null&&(n=ai(n),n!==null&&wi(n)),e):(e.eventSystemFlags|=m,n=e.targetContainers,b!==null&&n.indexOf(b)===-1&&n.push(b),e)}function va(e,n,l,m,b){switch(n){case"focusin":return rr=bi(rr,e,n,l,m,b),!0;case"dragenter":return Ur=bi(Ur,e,n,l,m,b),!0;case"mouseover":return xr=bi(xr,e,n,l,m,b),!0;case"pointerover":var C=b.pointerId;return Us.set(C,bi(Us.get(C)||null,e,n,l,m,b)),!0;case"gotpointercapture":return C=b.pointerId,mt.set(C,bi(mt.get(C)||null,e,n,l,m,b)),!0}return!1}function wo(e){var n=qt(e.target);if(n!==null){var l=$r(n);if(l!==null){if(n=l.tag,n===13){if(n=xi(l),n!==null){e.blockedOn=n,Fs(e.priority,function(){vo(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=us(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var m=new l.constructor(l.type,l);sa=m,l.target.dispatchEvent(m),sa=null}else return n=ai(l),n!==null&&wi(n),e.blockedOn=l,!1;n.shift()}return!0}function bo(e,n,l){wr(e)&&l.delete(n)}function Hs(){zs=!1,rr!==null&&wr(rr)&&(rr=null),Ur!==null&&wr(Ur)&&(Ur=null),xr!==null&&wr(xr)&&(xr=null),Us.forEach(bo),mt.forEach(bo)}function Xt(e,n){e.blockedOn===n&&(e.blockedOn=null,zs||(zs=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Hs)))}function ir(e){function n(b){return Xt(b,e)}if(0<as.length){Xt(as[0],e);for(var l=1;l<as.length;l++){var m=as[l];m.blockedOn===e&&(m.blockedOn=null)}}for(rr!==null&&Xt(rr,e),Ur!==null&&Xt(Ur,e),xr!==null&&Xt(xr,e),Us.forEach(n),mt.forEach(n),l=0;l<hn.length;l++)m=hn[l],m.blockedOn===e&&(m.blockedOn=null);for(;0<hn.length&&(l=hn[0],l.blockedOn===null);)wo(l),l.blockedOn===null&&hn.shift()}var Ci=J.ReactCurrentBatchConfig,Jr=!0;function Yl(e,n,l,m){var b=Mt,C=Ci.transition;Ci.transition=null;try{Mt=1,ls(e,n,l,m)}finally{Mt=b,Ci.transition=C}}function ul(e,n,l,m){var b=Mt,C=Ci.transition;Ci.transition=null;try{Mt=4,ls(e,n,l,m)}finally{Mt=b,Ci.transition=C}}function ls(e,n,l,m){if(Jr){var b=us(e,n,l,m);if(b===null)t(e,n,m,kt,l),ya(e,m);else if(va(b,e,n,l,m))m.stopPropagation();else if(ya(e,m),n&4&&-1<Tt.indexOf(e)){for(;b!==null;){var C=ai(b);if(C!==null&&yo(C),C=us(e,n,l,m),C===null&&t(e,n,m,kt,l),C===b)break;b=C}b!==null&&m.stopPropagation()}else t(e,n,m,null,l)}}var kt=null;function us(e,n,l,m){if(kt=null,e=oa(m),e=qt(e),e!==null)if(n=$r(e),n===null)e=null;else if(l=n.tag,l===13){if(e=xi(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return kt=e,null}function bt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jl()){case ma:return 1;case al:return 4;case go:case ga:return 16;case ns:return 536870912;default:return 16}default:return 16}}var Yr=null,Mn=null,Qr=null;function Ws(){if(Qr)return Qr;var e,n=Mn,l=n.length,m,b="value"in Yr?Yr.value:Yr.textContent,C=b.length;for(e=0;e<l&&n[e]===b[e];e++);var O=l-e;for(m=1;m<=O&&n[l-m]===b[C-m];m++);return Qr=b.slice(e,1<m?1-m:void 0)}function Li(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Hr(){return!1}function wn(e){function n(l,m,b,C,O){this._reactName=l,this._targetInst=b,this.type=m,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var $ in e)e.hasOwnProperty($)&&(l=e[$],this[$]=l?l(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?cs:Hr,this.isPropagationStopped=Hr,this}return Be(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=wn(sr),ki=Be({},sr,{view:0,detail:0}),Ql=wn(ki),Hn,wa,hs,or=Be({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(Hn=e.screenX-hs.screenX,wa=e.screenY-hs.screenY):wa=Hn=0,hs=e),Hn)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),ba=wn(or),cl=Be({},or,{dataTransfer:0}),Co=wn(cl),eu=Be({},ki,{relatedTarget:0}),en=wn(eu),Bn=Be({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=wn(Bn),ds=Be({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=wn(ds),Ca=Be({},sr,{data:0}),Wn=wn(Ca),hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qn[e])?!!n[e]:!1}function Ei(){return dl}var Vn=Be({},ki,{key:function(e){if(e.key){var n=hl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fl=wn(Vn),Vs=Be({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=wn(Vs),ka=Be({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),Lo=wn(ka),nu=Be({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pl=wn(nu),ml=Be({},or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ko=wn(ml),jn=[9,13,27,32],ar=P&&"CompositionEvent"in window,fs=null;P&&"documentMode"in document&&(fs=document.documentMode);var Wr=P&&"TextEvent"in window&&!fs,gl=P&&(!ar||fs&&8<fs&&11>=fs),Si=" ",_l=!1;function ps(e,n){switch(e){case"keyup":return jn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function Gs(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(_l=!0,Si);case"textInput":return e=n.data,e===Si&&_l?null:e;default:return null}}function dn(e,n){if(br)return e==="compositionend"||!ar&&ps(e,n)?(e=Ws(),Qr=Mn=Yr=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gl&&n.locale!=="ko"?null:n.data;default:return null}}var ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ms[e.type]:n==="textarea"}function Eo(e,n,l,m){tl(m),n=f(n,"onChange"),0<n.length&&(l=new xa("onChange","change",null,l,m),e.push({event:l,listeners:n}))}var Ks=null,bn=null;function Cr(e){Oo(e,0)}function Lr(e){var n=an(e);if(Ki(n))return e}function ru(e,n){if(e==="change")return n}var kr=!1;if(P){var Cn;if(P){var Er="oninput"in document;if(!Er){var Pi=document.createElement("div");Pi.setAttribute("oninput","return;"),Er=typeof Pi.oninput=="function"}Cn=Er}else Cn=!1;kr=Cn&&(!document.documentMode||9<document.documentMode)}function gs(){Ks&&(Ks.detachEvent("onpropertychange",So),bn=Ks=null)}function So(e){if(e.propertyName==="value"&&Lr(bn)){var n=[];Eo(n,bn,e,oa(e)),fo(Cr,n)}}function Po(e,n,l){e==="focusin"?(gs(),Ks=n,bn=l,Ks.attachEvent("onpropertychange",So)):e==="focusout"&&gs()}function _s(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lr(bn)}function Mo(e,n){if(e==="click")return Lr(n)}function $s(e,n){if(e==="input"||e==="change")return Lr(n)}function yl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var lr=typeof Object.is=="function"?Object.is:yl;function ti(e,n){if(lr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),m=Object.keys(n);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var b=l[m];if(!B.call(n,b)||!lr(e[b],n[b]))return!1}return!0}function Sa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pa(e,n){var l=Sa(e);e=0;for(var m;l;){if(l.nodeType===3){if(m=e+l.textContent.length,e<=n&&m>=n)return{node:l,offset:n-e};e=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sa(l)}}function vl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bo(){for(var e=window,n=$i();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=$i(e.document)}return n}function jo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function ur(e){var n=Bo(),l=e.focusedElem,m=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&vl(l.ownerDocument.documentElement,l)){if(m!==null&&jo(l)){if(n=m.start,e=m.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var b=l.textContent.length,C=Math.min(m.start,b);m=m.end===void 0?C:Math.min(m.end,b),!e.extend&&C>m&&(b=m,m=C,C=b),b=Pa(l,C);var O=Pa(l,m);b&&O&&(e.rangeCount!==1||e.anchorNode!==b.node||e.anchorOffset!==b.offset||e.focusNode!==O.node||e.focusOffset!==O.offset)&&(n=n.createRange(),n.setStart(b.node,b.offset),e.removeAllRanges(),C>m?(e.addRange(n),e.extend(O.node,O.offset)):(n.setEnd(O.node,O.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var To=P&&"documentMode"in document&&11>=document.documentMode,Gn=null,Sr=null,Xs=null,Js=!1;function Do(e,n,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Js||Gn==null||Gn!==$i(m)||(m=Gn,"selectionStart"in m&&jo(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Xs&&ti(Xs,m)||(Xs=m,m=f(Sr,"onSelect"),0<m.length&&(n=new xa("onSelect","select",null,n,l),e.push({event:n,listeners:m}),n.target=Gn)))}function ni(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ys={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},ri={},Ao={};P&&(Ao=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Mi(e){if(ri[e])return ri[e];if(!ys[e])return e;var n=ys[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Ao)return ri[e]=n[l];return e}var Ma=Mi("animationend"),Zn=Mi("animationiteration"),Ba=Mi("animationstart"),cr=Mi("transitionend"),Jt=new Map,xl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,n){Jt.set(e,n),v(n,[e])}for(var Bi=0;Bi<xl.length;Bi++){var ii=xl[Bi],wl=ii.toLowerCase(),iu=ii[0].toUpperCase()+ii.slice(1);Nn(wl,"on"+iu)}Nn(Ma,"onAnimationEnd"),Nn(Zn,"onAnimationIteration"),Nn(Ba,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(cr,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),v("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),v("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),v("onBeforeInput",["compositionend","keypress","textInput","paste"]),v("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),v("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ji=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function Ro(e,n,l){var m=e.type||"unknown-event";e.currentTarget=l,da(m,n,void 0,e),e.currentTarget=null}function Oo(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var m=e[l],b=m.event;m=m.listeners;e:{var C=void 0;if(n)for(var O=m.length-1;0<=O;O--){var $=m[O],re=$.instance,ke=$.currentTarget;if($=$.listener,re!==C&&b.isPropagationStopped())break e;Ro(b,$,ke),C=re}else for(O=0;O<m.length;O++){if($=m[O],re=$.instance,ke=$.currentTarget,$=$.listener,re!==C&&b.isPropagationStopped())break e;Ro(b,$,ke),C=re}}}if(Rs)throw e=po,Rs=!1,po=null,e}function Nt(e,n){var l=n[si];l===void 0&&(l=n[si]=new Set);var m=e+"__bubble";l.has(m)||(bl(n,e,2,!1),l.add(m))}function fn(e,n,l){var m=0;n&&(m|=4),bl(l,e,m,n)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[Ys]){e[Ys]=!0,p.forEach(function(l){l!=="selectionchange"&&(ji.has(l)||fn(l,!1,e),fn(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ys]||(n[Ys]=!0,fn("selectionchange",!1,n))}}function bl(e,n,l,m){switch(bt(n)){case 1:var b=Yl;break;case 4:b=ul;break;default:b=ls}l=b.bind(null,n,l,e),b=void 0,!ca||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(b=!0),m?b!==void 0?e.addEventListener(n,l,{capture:!0,passive:b}):e.addEventListener(n,l,!0):b!==void 0?e.addEventListener(n,l,{passive:b}):e.addEventListener(n,l,!1)}function t(e,n,l,m,b){var C=m;if((n&1)===0&&(n&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var $=m.stateNode.containerInfo;if($===b||$.nodeType===8&&$.parentNode===b)break;if(O===4)for(O=m.return;O!==null;){var re=O.tag;if((re===3||re===4)&&(re=O.stateNode.containerInfo,re===b||re.nodeType===8&&re.parentNode===b))return;O=O.return}for(;$!==null;){if(O=qt($),O===null)return;if(re=O.tag,re===5||re===6){m=C=O;continue e}$=$.parentNode}}m=m.return}fo(function(){var ke=C,Ie=oa(l),We=[];e:{var Oe=Jt.get(e);if(Oe!==void 0){var Xe=xa,nt=e;switch(e){case"keypress":if(Li(l)===0)break e;case"keydown":case"keyup":Xe=fl;break;case"focusin":nt="focus",Xe=en;break;case"focusout":nt="blur",Xe=en;break;case"beforeblur":case"afterblur":Xe=en;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Lo;break;case Ma:case Zn:case Ba:Xe=tu;break;case cr:Xe=pl;break;case"scroll":Xe=Ql;break;case"wheel":Xe=ko;break;case"copy":case"cut":case"paste":Xe=ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=La}var at=(n&4)!==0,mn=!at&&e==="scroll",_e=at?Oe!==null?Oe+"Capture":null:Oe;at=[];for(var ue=ke,we;ue!==null;){we=ue;var Ve=we.stateNode;if(we.tag===5&&Ve!==null&&(we=Ve,_e!==null&&(Ve=ts(ue,_e),Ve!=null&&at.push(s(ue,Ve,we)))),mn)break;ue=ue.return}0<at.length&&(Oe=new Xe(Oe,nt,null,l,Ie),We.push({event:Oe,listeners:at}))}}if((n&7)===0){e:{if(Oe=e==="mouseover"||e==="pointerover",Xe=e==="mouseout"||e==="pointerout",Oe&&l!==sa&&(nt=l.relatedTarget||l.fromElement)&&(qt(nt)||nt[$e]))break e;if((Xe||Oe)&&(Oe=Ie.window===Ie?Ie:(Oe=Ie.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Xe?(nt=l.relatedTarget||l.toElement,Xe=ke,nt=nt?qt(nt):null,nt!==null&&(mn=$r(nt),nt!==mn||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=ke),Xe!==nt)){if(at=ba,Ve="onMouseLeave",_e="onMouseEnter",ue="mouse",(e==="pointerout"||e==="pointerover")&&(at=La,Ve="onPointerLeave",_e="onPointerEnter",ue="pointer"),mn=Xe==null?Oe:an(Xe),we=nt==null?Oe:an(nt),Oe=new at(Ve,ue+"leave",Xe,l,Ie),Oe.target=mn,Oe.relatedTarget=we,Ve=null,qt(Ie)===ke&&(at=new at(_e,ue+"enter",nt,l,Ie),at.target=we,at.relatedTarget=mn,Ve=at),mn=Ve,Xe&&nt)t:{for(at=Xe,_e=nt,ue=0,we=at;we;we=w(we))ue++;for(we=0,Ve=_e;Ve;Ve=w(Ve))we++;for(;0<ue-we;)at=w(at),ue--;for(;0<we-ue;)_e=w(_e),we--;for(;ue--;){if(at===_e||_e!==null&&at===_e.alternate)break t;at=w(at),_e=w(_e)}at=null}else at=null;Xe!==null&&M(We,Oe,Xe,at,!1),nt!==null&&mn!==null&&M(We,mn,nt,at,!0)}}e:{if(Oe=ke?an(ke):window,Xe=Oe.nodeName&&Oe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Oe.type==="file")var ct=ru;else if(Zs(Oe))if(kr)ct=$s;else{ct=_s;var ft=Po}else(Xe=Oe.nodeName)&&Xe.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(ct=Mo);if(ct&&(ct=ct(e,ke))){Eo(We,ct,l,Ie);break e}ft&&ft(e,Oe,ke),e==="focusout"&&(ft=Oe._wrapperState)&&ft.controlled&&Oe.type==="number"&&ao(Oe,"number",Oe.value)}switch(ft=ke?an(ke):window,e){case"focusin":(Zs(ft)||ft.contentEditable==="true")&&(Gn=ft,Sr=ke,Xs=null);break;case"focusout":Xs=Sr=Gn=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,Do(We,l,Ie);break;case"selectionchange":if(To)break;case"keydown":case"keyup":Do(We,l,Ie)}var pt;if(ar)e:{switch(e){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else br?ps(e,l)&&(yt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(yt="onCompositionStart");yt&&(gl&&l.locale!=="ko"&&(br||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&br&&(pt=Ws()):(Yr=Ie,Mn="value"in Yr?Yr.value:Yr.textContent,br=!0)),ft=f(ke,yt),0<ft.length&&(yt=new Wn(yt,e,null,l,Ie),We.push({event:yt,listeners:ft}),pt?yt.data=pt:(pt=Ea(l),pt!==null&&(yt.data=pt)))),(pt=Wr?Gs(e,l):dn(e,l))&&(ke=f(ke,"onBeforeInput"),0<ke.length&&(Ie=new Wn("onBeforeInput","beforeinput",null,l,Ie),We.push({event:Ie,listeners:ke}),Ie.data=pt))}Oo(We,n)})}function s(e,n,l){return{instance:e,listener:n,currentTarget:l}}function f(e,n){for(var l=n+"Capture",m=[];e!==null;){var b=e,C=b.stateNode;b.tag===5&&C!==null&&(b=C,C=ts(e,l),C!=null&&m.unshift(s(e,C,b)),C=ts(e,n),C!=null&&m.push(s(e,C,b))),e=e.return}return m}function w(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function M(e,n,l,m,b){for(var C=n._reactName,O=[];l!==null&&l!==m;){var $=l,re=$.alternate,ke=$.stateNode;if(re!==null&&re===m)break;$.tag===5&&ke!==null&&($=ke,b?(re=ts(l,C),re!=null&&O.unshift(s(l,re,$))):b||(re=ts(l,C),re!=null&&O.push(s(l,re,$)))),l=l.return}O.length!==0&&e.push({event:n,listeners:O})}var N=/\r\n?/g,ee=/\u0000|\uFFFD/g;function me(e){return(typeof e=="string"?e:""+e).replace(N,`
`).replace(ee,"")}function Ce(e,n,l){if(n=me(n),me(e)!==n&&l)throw Error(h(425))}function je(){}var Ke=null,dt=null;function xt(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var on=typeof setTimeout=="function"?setTimeout:void 0,tn=typeof clearTimeout=="function"?clearTimeout:void 0,In=typeof Promise=="function"?Promise:void 0,Tn=typeof queueMicrotask=="function"?queueMicrotask:typeof In<"u"?function(e){return In.resolve(null).then(e).catch(ws)}:on;function ws(e){setTimeout(function(){throw e})}function ja(e,n){var l=n,m=0;do{var b=l.nextSibling;if(e.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(m===0){e.removeChild(b),ir(n);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=b}while(l);ir(n)}function Pr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Fn(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),hr="__reactFiber$"+nn,_n="__reactProps$"+nn,$e="__reactContainer$"+nn,si="__reactEvents$"+nn,Ta="__reactListeners$"+nn,oi="__reactHandles$"+nn;function qt(e){var n=e[hr];if(n)return n;for(var l=e.parentNode;l;){if(n=l[$e]||l[hr]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Fn(e);e!==null;){if(l=e[hr])return l;e=Fn(e)}return n}e=l,l=e.parentNode}return null}function ai(e){return e=e[hr]||e[$e],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function an(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(h(33))}function Ln(e){return e[_n]||null}var Ti=[],zt=-1;function qr(e){return{current:e}}function Ut(e){0>zt||(e.current=Ti[zt],Ti[zt]=null,zt--)}function jt(e,n){zt++,Ti[zt]=e.current,e.current=n}var bs={},Gt=qr(bs),Kn=qr(!1),Vr=bs;function No(e,n){var l=e.type.contextTypes;if(!l)return bs;var m=e.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===n)return m.__reactInternalMemoizedMaskedChildContext;var b={},C;for(C in l)b[C]=n[C];return m&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=b),b}function kn(e){return e=e.childContextTypes,e!=null}function Da(){Ut(Kn),Ut(Gt)}function Wu(e,n,l){if(Gt.current!==bs)throw Error(h(168));jt(Gt,n),jt(Kn,l)}function qu(e,n,l){var m=e.stateNode;if(n=n.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var b in m)if(!(b in n))throw Error(h(108,St(e)||"Unknown",b));return Be({},l,m)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bs,Vr=Gt.current,jt(Gt,e),jt(Kn,Kn.current),!0}function Cl(e,n,l){var m=e.stateNode;if(!m)throw Error(h(169));l?(e=qu(e,n,Vr),m.__reactInternalMemoizedMergedChildContext=e,Ut(Kn),Ut(Gt),jt(Gt,e)):Ut(Kn),jt(Kn,l)}var Di=null,Ll=!1,su=!1;function kl(e){Di===null?Di=[e]:Di.push(e)}function Ai(e){Ll=!0,kl(e)}function Mr(){if(!su&&Di!==null){su=!0;var e=0,n=Mt;try{var l=Di;for(Mt=1;e<l.length;e++){var m=l[e];do m=m(!0);while(m!==null)}Di=null,Ll=!1}catch(b){throw Di!==null&&(Di=Di.slice(e+1)),ol(ma,Mr),b}finally{Mt=n,su=!1}}return null}var Cs=[],Ri=0,Ra=null,Qs=0,Br=[],jr=0,Ls=null,li=1,Oi="";function Dn(e,n){Cs[Ri++]=Qs,Cs[Ri++]=Ra,Ra=e,Qs=n}function Vu(e,n,l){Br[jr++]=li,Br[jr++]=Oi,Br[jr++]=Ls,Ls=e;var m=li;e=Oi;var b=32-vt(m)-1;m&=~(1<<b),l+=1;var C=32-vt(n)+b;if(30<C){var O=b-b%5;C=(m&(1<<O)-1).toString(32),m>>=O,b-=O,li=1<<32-vt(n)+b|l<<b|m,Oi=C+e}else li=1<<C|l<<b|m,Oi=e}function El(e){e.return!==null&&(Dn(e,1),Vu(e,1,0))}function ou(e){for(;e===Ra;)Ra=Cs[--Ri],Cs[Ri]=null,Qs=Cs[--Ri],Cs[Ri]=null;for(;e===Ls;)Ls=Br[--jr],Br[jr]=null,Oi=Br[--jr],Br[jr]=null,li=Br[--jr],Br[jr]=null}var dr=null,fr=null,Ht=!1,$n=null;function Gu(e,n){var l=fi(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function Oa(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,dr=e,fr=Pr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,dr=e,fr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Ls!==null?{id:li,overflow:Oi}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=fi(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,dr=e,fr=null,!0):!1;default:return!1}}function Sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function au(e){if(Ht){var n=fr;if(n){var l=n;if(!Oa(e,n)){if(Sl(e))throw Error(h(418));n=Pr(l.nextSibling);var m=dr;n&&Oa(e,n)?Gu(m,l):(e.flags=e.flags&-4097|2,Ht=!1,dr=e)}}else{if(Sl(e))throw Error(h(418));e.flags=e.flags&-4097|2,Ht=!1,dr=e}}}function lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dr=e}function Pl(e){if(e!==dr)return!1;if(!Ht)return lu(e),Ht=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!xt(e.type,e.memoizedProps)),n&&(n=fr)){if(Sl(e))throw Zu(),Error(h(418));for(;n;)Gu(e,n),n=Pr(n.nextSibling)}if(lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){fr=Pr(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}fr=null}}else fr=dr?Pr(e.stateNode.nextSibling):null;return!0}function Zu(){for(var e=fr;e;)e=Pr(e.nextSibling)}function Ni(){fr=dr=null,Ht=!1}function Io(e){$n===null?$n=[e]:$n.push(e)}var Ku=J.ReactCurrentBatchConfig;function Na(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(h(309));var m=l.stateNode}if(!m)throw Error(h(147,e));var b=m,C=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===C?n.ref:(n=function(O){var $=b.refs;O===null?delete $[C]:$[C]=O},n._stringRef=C,n)}if(typeof e!="string")throw Error(h(284));if(!l._owner)throw Error(h(290,e))}return e}function Ml(e,n){throw e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function uu(e){var n=e._init;return n(e._payload)}function cu(e){function n(_e,ue){if(e){var we=_e.deletions;we===null?(_e.deletions=[ue],_e.flags|=16):we.push(ue)}}function l(_e,ue){if(!e)return null;for(;ue!==null;)n(_e,ue),ue=ue.sibling;return null}function m(_e,ue){for(_e=new Map;ue!==null;)ue.key!==null?_e.set(ue.key,ue):_e.set(ue.index,ue),ue=ue.sibling;return _e}function b(_e,ue){return _e=Zo(_e,ue),_e.index=0,_e.sibling=null,_e}function C(_e,ue,we){return _e.index=we,e?(we=_e.alternate,we!==null?(we=we.index,we<ue?(_e.flags|=2,ue):we):(_e.flags|=2,ue)):(_e.flags|=1048576,ue)}function O(_e){return e&&_e.alternate===null&&(_e.flags|=2),_e}function $(_e,ue,we,Ve){return ue===null||ue.tag!==6?(ue=Eh(we,_e.mode,Ve),ue.return=_e,ue):(ue=b(ue,we),ue.return=_e,ue)}function re(_e,ue,we,Ve){var ct=we.type;return ct===ge?Ie(_e,ue,we.props.children,Ve,we.key):ue!==null&&(ue.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Re&&uu(ct)===ue.type)?(Ve=b(ue,we.props),Ve.ref=Na(_e,ue,we),Ve.return=_e,Ve):(Ve=fc(we.type,we.key,we.props,null,_e.mode,Ve),Ve.ref=Na(_e,ue,we),Ve.return=_e,Ve)}function ke(_e,ue,we,Ve){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==we.containerInfo||ue.stateNode.implementation!==we.implementation?(ue=Sh(we,_e.mode,Ve),ue.return=_e,ue):(ue=b(ue,we.children||[]),ue.return=_e,ue)}function Ie(_e,ue,we,Ve,ct){return ue===null||ue.tag!==7?(ue=qa(we,_e.mode,Ve,ct),ue.return=_e,ue):(ue=b(ue,we),ue.return=_e,ue)}function We(_e,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=Eh(""+ue,_e.mode,we),ue.return=_e,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Y:return we=fc(ue.type,ue.key,ue.props,null,_e.mode,we),we.ref=Na(_e,null,ue),we.return=_e,we;case he:return ue=Sh(ue,_e.mode,we),ue.return=_e,ue;case Re:var Ve=ue._init;return We(_e,Ve(ue._payload),we)}if(Ji(ue)||tt(ue))return ue=qa(ue,_e.mode,we,null),ue.return=_e,ue;Ml(_e,ue)}return null}function Oe(_e,ue,we,Ve){var ct=ue!==null?ue.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return ct!==null?null:$(_e,ue,""+we,Ve);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case Y:return we.key===ct?re(_e,ue,we,Ve):null;case he:return we.key===ct?ke(_e,ue,we,Ve):null;case Re:return ct=we._init,Oe(_e,ue,ct(we._payload),Ve)}if(Ji(we)||tt(we))return ct!==null?null:Ie(_e,ue,we,Ve,null);Ml(_e,we)}return null}function Xe(_e,ue,we,Ve,ct){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return _e=_e.get(we)||null,$(ue,_e,""+Ve,ct);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case Y:return _e=_e.get(Ve.key===null?we:Ve.key)||null,re(ue,_e,Ve,ct);case he:return _e=_e.get(Ve.key===null?we:Ve.key)||null,ke(ue,_e,Ve,ct);case Re:var ft=Ve._init;return Xe(_e,ue,we,ft(Ve._payload),ct)}if(Ji(Ve)||tt(Ve))return _e=_e.get(we)||null,Ie(ue,_e,Ve,ct,null);Ml(ue,Ve)}return null}function nt(_e,ue,we,Ve){for(var ct=null,ft=null,pt=ue,yt=ue=0,On=null;pt!==null&&yt<we.length;yt++){pt.index>yt?(On=pt,pt=null):On=pt.sibling;var Rt=Oe(_e,pt,we[yt],Ve);if(Rt===null){pt===null&&(pt=On);break}e&&pt&&Rt.alternate===null&&n(_e,pt),ue=C(Rt,ue,yt),ft===null?ct=Rt:ft.sibling=Rt,ft=Rt,pt=On}if(yt===we.length)return l(_e,pt),Ht&&Dn(_e,yt),ct;if(pt===null){for(;yt<we.length;yt++)pt=We(_e,we[yt],Ve),pt!==null&&(ue=C(pt,ue,yt),ft===null?ct=pt:ft.sibling=pt,ft=pt);return Ht&&Dn(_e,yt),ct}for(pt=m(_e,pt);yt<we.length;yt++)On=Xe(pt,_e,yt,we[yt],Ve),On!==null&&(e&&On.alternate!==null&&pt.delete(On.key===null?yt:On.key),ue=C(On,ue,yt),ft===null?ct=On:ft.sibling=On,ft=On);return e&&pt.forEach(function(Ko){return n(_e,Ko)}),Ht&&Dn(_e,yt),ct}function at(_e,ue,we,Ve){var ct=tt(we);if(typeof ct!="function")throw Error(h(150));if(we=ct.call(we),we==null)throw Error(h(151));for(var ft=ct=null,pt=ue,yt=ue=0,On=null,Rt=we.next();pt!==null&&!Rt.done;yt++,Rt=we.next()){pt.index>yt?(On=pt,pt=null):On=pt.sibling;var Ko=Oe(_e,pt,Rt.value,Ve);if(Ko===null){pt===null&&(pt=On);break}e&&pt&&Ko.alternate===null&&n(_e,pt),ue=C(Ko,ue,yt),ft===null?ct=Ko:ft.sibling=Ko,ft=Ko,pt=On}if(Rt.done)return l(_e,pt),Ht&&Dn(_e,yt),ct;if(pt===null){for(;!Rt.done;yt++,Rt=we.next())Rt=We(_e,Rt.value,Ve),Rt!==null&&(ue=C(Rt,ue,yt),ft===null?ct=Rt:ft.sibling=Rt,ft=Rt);return Ht&&Dn(_e,yt),ct}for(pt=m(_e,pt);!Rt.done;yt++,Rt=we.next())Rt=Xe(pt,_e,yt,Rt.value,Ve),Rt!==null&&(e&&Rt.alternate!==null&&pt.delete(Rt.key===null?yt:Rt.key),ue=C(Rt,ue,yt),ft===null?ct=Rt:ft.sibling=Rt,ft=Rt);return e&&pt.forEach(function(c_){return n(_e,c_)}),Ht&&Dn(_e,yt),ct}function mn(_e,ue,we,Ve){if(typeof we=="object"&&we!==null&&we.type===ge&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case Y:e:{for(var ct=we.key,ft=ue;ft!==null;){if(ft.key===ct){if(ct=we.type,ct===ge){if(ft.tag===7){l(_e,ft.sibling),ue=b(ft,we.props.children),ue.return=_e,_e=ue;break e}}else if(ft.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Re&&uu(ct)===ft.type){l(_e,ft.sibling),ue=b(ft,we.props),ue.ref=Na(_e,ft,we),ue.return=_e,_e=ue;break e}l(_e,ft);break}else n(_e,ft);ft=ft.sibling}we.type===ge?(ue=qa(we.props.children,_e.mode,Ve,we.key),ue.return=_e,_e=ue):(Ve=fc(we.type,we.key,we.props,null,_e.mode,Ve),Ve.ref=Na(_e,ue,we),Ve.return=_e,_e=Ve)}return O(_e);case he:e:{for(ft=we.key;ue!==null;){if(ue.key===ft)if(ue.tag===4&&ue.stateNode.containerInfo===we.containerInfo&&ue.stateNode.implementation===we.implementation){l(_e,ue.sibling),ue=b(ue,we.children||[]),ue.return=_e,_e=ue;break e}else{l(_e,ue);break}else n(_e,ue);ue=ue.sibling}ue=Sh(we,_e.mode,Ve),ue.return=_e,_e=ue}return O(_e);case Re:return ft=we._init,mn(_e,ue,ft(we._payload),Ve)}if(Ji(we))return nt(_e,ue,we,Ve);if(tt(we))return at(_e,ue,we,Ve);Ml(_e,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ue!==null&&ue.tag===6?(l(_e,ue.sibling),ue=b(ue,we),ue.return=_e,_e=ue):(l(_e,ue),ue=Eh(we,_e.mode,Ve),ue.return=_e,_e=ue),O(_e)):l(_e,ue)}return mn}var Fo=cu(!0),$u=cu(!1),Ia=qr(null),Bl=null,zo=null,hu=null;function du(){hu=zo=Bl=null}function fu(e){var n=Ia.current;Ut(Ia),e._currentValue=n}function pu(e,n,l){for(;e!==null;){var m=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,m!==null&&(m.childLanes|=n)):m!==null&&(m.childLanes&n)!==n&&(m.childLanes|=n),e===l)break;e=e.return}}function eo(e,n){Bl=e,hu=zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Tr=!0),e.firstContext=null)}function En(e){var n=e._currentValue;if(hu!==e)if(e={context:e,memoizedValue:n,next:null},zo===null){if(Bl===null)throw Error(h(308));zo=e,Bl.dependencies={lanes:0,firstContext:e}}else zo=zo.next=e;return n}var ui=null;function mu(e){ui===null?ui=[e]:ui.push(e)}function Xu(e,n,l,m){var b=n.interleaved;return b===null?(l.next=l,mu(n)):(l.next=b.next,b.next=l),n.interleaved=l,Ii(e,m)}function Ii(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var Zt=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ju(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function hi(e,n,l){var m=e.updateQueue;if(m===null)return null;if(m=m.shared,(Dt&2)!==0){var b=m.pending;return b===null?n.next=n:(n.next=b.next,b.next=n),m.pending=n,Ii(e,l)}return b=m.interleaved,b===null?(n.next=n,mu(m)):(n.next=b.next,b.next=n),m.interleaved=n,Ii(e,l)}function jl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var m=n.lanes;m&=e.pendingLanes,l|=m,n.lanes=l,vr(e,l)}}function Yu(e,n){var l=e.updateQueue,m=e.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var b=null,C=null;if(l=l.firstBaseUpdate,l!==null){do{var O={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};C===null?b=C=O:C=C.next=O,l=l.next}while(l!==null);C===null?b=C=n:C=C.next=n}else b=C=n;l={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:m.shared,effects:m.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function Tl(e,n,l,m){var b=e.updateQueue;Zt=!1;var C=b.firstBaseUpdate,O=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var re=$,ke=re.next;re.next=null,O===null?C=ke:O.next=ke,O=re;var Ie=e.alternate;Ie!==null&&(Ie=Ie.updateQueue,$=Ie.lastBaseUpdate,$!==O&&($===null?Ie.firstBaseUpdate=ke:$.next=ke,Ie.lastBaseUpdate=re))}if(C!==null){var We=b.baseState;O=0,Ie=ke=re=null,$=C;do{var Oe=$.lane,Xe=$.eventTime;if((m&Oe)===Oe){Ie!==null&&(Ie=Ie.next={eventTime:Xe,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var nt=e,at=$;switch(Oe=n,Xe=l,at.tag){case 1:if(nt=at.payload,typeof nt=="function"){We=nt.call(Xe,We,Oe);break e}We=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=at.payload,Oe=typeof nt=="function"?nt.call(Xe,We,Oe):nt,Oe==null)break e;We=Be({},We,Oe);break e;case 2:Zt=!0}}$.callback!==null&&$.lane!==0&&(e.flags|=64,Oe=b.effects,Oe===null?b.effects=[$]:Oe.push($))}else Xe={eventTime:Xe,lane:Oe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ie===null?(ke=Ie=Xe,re=We):Ie=Ie.next=Xe,O|=Oe;if($=$.next,$===null){if($=b.shared.pending,$===null)break;Oe=$,$=Oe.next,Oe.next=null,b.lastBaseUpdate=Oe,b.shared.pending=null}}while(!0);if(Ie===null&&(re=We),b.baseState=re,b.firstBaseUpdate=ke,b.lastBaseUpdate=Ie,n=b.shared.interleaved,n!==null){b=n;do O|=b.lane,b=b.next;while(b!==n)}else C===null&&(b.shared.lanes=0);za|=O,e.lanes=O,e.memoizedState=We}}function r(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var m=e[n],b=m.callback;if(b!==null){if(m.callback=null,m=l,typeof b!="function")throw Error(h(191,b));b.call(m)}}}var i={},a=qr(i),d=qr(i),g=qr(i);function x(e){if(e===i)throw Error(h(174));return e}function k(e,n){switch(jt(g,n),jt(d,e),jt(a,i),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:co(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=co(n,e)}Ut(a),jt(a,n)}function E(){Ut(a),Ut(d),Ut(g)}function T(e){x(g.current);var n=x(a.current),l=co(n,e.type);n!==l&&(jt(d,e),jt(a,l))}function A(e){d.current===e&&(Ut(a),Ut(d))}var q=qr(0);function V(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ae=[];function ce(){for(var e=0;e<ae.length;e++)ae[e]._workInProgressVersionPrimary=null;ae.length=0}var Pe=J.ReactCurrentDispatcher,De=J.ReactCurrentBatchConfig,qe=0,Fe=null,W=null,de=null,Ee=!1,Ue=!1,Ne=0,He=0;function R(){throw Error(h(321))}function z(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!lr(e[l],n[l]))return!1;return!0}function G(e,n,l,m,b,C){if(qe=C,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Pe.current=e===null||e.memoizedState===null?O0:N0,e=l(m,b),Ue){C=0;do{if(Ue=!1,Ne=0,25<=C)throw Error(h(301));C+=1,de=W=null,n.updateQueue=null,Pe.current=I0,e=l(m,b)}while(Ue)}if(Pe.current=Qu,n=W!==null&&W.next!==null,qe=0,de=W=Fe=null,Ee=!1,n)throw Error(h(300));return e}function ne(){var e=Ne!==0;return Ne=0,e}function Q(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Fe.memoizedState=de=e:de=de.next=e,de}function X(){if(W===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=W.next;var n=de===null?Fe.memoizedState:de.next;if(n!==null)de=n,W=e;else{if(e===null)throw Error(h(310));W=e,e={memoizedState:W.memoizedState,baseState:W.baseState,baseQueue:W.baseQueue,queue:W.queue,next:null},de===null?Fe.memoizedState=de=e:de=de.next=e}return de}function pe(e,n){return typeof n=="function"?n(e):n}function se(e){var n=X(),l=n.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=e;var m=W,b=m.baseQueue,C=l.pending;if(C!==null){if(b!==null){var O=b.next;b.next=C.next,C.next=O}m.baseQueue=b=C,l.pending=null}if(b!==null){C=b.next,m=m.baseState;var $=O=null,re=null,ke=C;do{var Ie=ke.lane;if((qe&Ie)===Ie)re!==null&&(re=re.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),m=ke.hasEagerState?ke.eagerState:e(m,ke.action);else{var We={lane:Ie,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};re===null?($=re=We,O=m):re=re.next=We,Fe.lanes|=Ie,za|=Ie}ke=ke.next}while(ke!==null&&ke!==C);re===null?O=m:re.next=$,lr(m,n.memoizedState)||(Tr=!0),n.memoizedState=m,n.baseState=O,n.baseQueue=re,l.lastRenderedState=m}if(e=l.interleaved,e!==null){b=e;do C=b.lane,Fe.lanes|=C,za|=C,b=b.next;while(b!==e)}else b===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function fe(e){var n=X(),l=n.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=e;var m=l.dispatch,b=l.pending,C=n.memoizedState;if(b!==null){l.pending=null;var O=b=b.next;do C=e(C,O.action),O=O.next;while(O!==b);lr(C,n.memoizedState)||(Tr=!0),n.memoizedState=C,n.baseQueue===null&&(n.baseState=C),l.lastRenderedState=C}return[C,m]}function ve(){}function ye(e,n){var l=Fe,m=X(),b=n(),C=!lr(m.memoizedState,b);if(C&&(m.memoizedState=b,Tr=!0),m=m.queue,Fa(ot.bind(null,l,m,e),[e]),m.getSnapshot!==n||C||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Et(9,st.bind(null,l,m,b,n),void 0,null),Rn===null)throw Error(h(349));(qe&30)!==0||Te(l,n,b)}return b}function Te(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function st(e,n,l,m){n.value=l,n.getSnapshot=m,_t(n)&&Yt(e)}function ot(e,n,l){return l(function(){_t(n)&&Yt(e)})}function _t(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!lr(e,l)}catch{return!0}}function Yt(e){var n=Ii(e,1);n!==null&&Wi(n,e,1,-1)}function ln(e){var n=Q();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pe,lastRenderedState:e},n.queue=e,e=e.dispatch=R0.bind(null,Fe,e),[n.memoizedState,e]}function Et(e,n,l,m){return e={tag:e,create:n,destroy:l,deps:m,next:null},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(m=l.next,l.next=e,e.next=m,n.lastEffect=e)),e}function It(){return X().memoizedState}function pn(e,n,l,m){var b=Q();Fe.flags|=e,b.memoizedState=Et(1|n,l,void 0,m===void 0?null:m)}function to(e,n,l,m){var b=X();m=m===void 0?null:m;var C=void 0;if(W!==null){var O=W.memoizedState;if(C=O.destroy,m!==null&&z(m,O.deps)){b.memoizedState=Et(n,l,C,m);return}}Fe.flags|=e,b.memoizedState=Et(1|n,l,C,m)}function Dl(e,n){return pn(8390656,8,e,n)}function Fa(e,n){return to(2048,8,e,n)}function Gr(e,n){return to(4,2,e,n)}function Uo(e,n){return to(4,4,e,n)}function pr(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function An(e,n,l){return l=l!=null?l.concat([e]):null,to(4,4,pr.bind(null,n,e),l)}function Kt(){}function wf(e,n){var l=X();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&z(n,m[1])?m[0]:(l.memoizedState=[e,n],e)}function bf(e,n){var l=X();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&z(n,m[1])?m[0]:(e=e(),l.memoizedState=[e,n],e)}function Cf(e,n,l){return(qe&21)===0?(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=l):(lr(l,n)||(l=ll(),Fe.lanes|=l,za|=l,e.baseState=!0),n)}function D0(e,n){var l=Mt;Mt=l!==0&&4>l?l:4,e(!0);var m=De.transition;De.transition={};try{e(!1),n()}finally{Mt=l,De.transition=m}}function Lf(){return X().memoizedState}function A0(e,n,l){var m=Vo(e);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},kf(e))Ef(n,l);else if(l=Xu(e,n,l,m),l!==null){var b=gr();Wi(l,e,m,b),Sf(l,n,m)}}function R0(e,n,l){var m=Vo(e),b={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(kf(e))Ef(n,b);else{var C=e.alternate;if(e.lanes===0&&(C===null||C.lanes===0)&&(C=n.lastRenderedReducer,C!==null))try{var O=n.lastRenderedState,$=C(O,l);if(b.hasEagerState=!0,b.eagerState=$,lr($,O)){var re=n.interleaved;re===null?(b.next=b,mu(n)):(b.next=re.next,re.next=b),n.interleaved=b;return}}catch{}finally{}l=Xu(e,n,b,m),l!==null&&(b=gr(),Wi(l,e,m,b),Sf(l,n,m))}}function kf(e){var n=e.alternate;return e===Fe||n!==null&&n===Fe}function Ef(e,n){Ue=Ee=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Sf(e,n,l){if((l&4194240)!==0){var m=n.lanes;m&=e.pendingLanes,l|=m,n.lanes=l,vr(e,l)}}var Qu={readContext:En,useCallback:R,useContext:R,useEffect:R,useImperativeHandle:R,useInsertionEffect:R,useLayoutEffect:R,useMemo:R,useReducer:R,useRef:R,useState:R,useDebugValue:R,useDeferredValue:R,useTransition:R,useMutableSource:R,useSyncExternalStore:R,useId:R,unstable_isNewReconciler:!1},O0={readContext:En,useCallback:function(e,n){return Q().memoizedState=[e,n===void 0?null:n],e},useContext:En,useEffect:Dl,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,pn(4194308,4,pr.bind(null,n,e),l)},useLayoutEffect:function(e,n){return pn(4194308,4,e,n)},useInsertionEffect:function(e,n){return pn(4,2,e,n)},useMemo:function(e,n){var l=Q();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var m=Q();return n=l!==void 0?l(n):n,m.memoizedState=m.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},m.queue=e,e=e.dispatch=A0.bind(null,Fe,e),[m.memoizedState,e]},useRef:function(e){var n=Q();return e={current:e},n.memoizedState=e},useState:ln,useDebugValue:Kt,useDeferredValue:function(e){return Q().memoizedState=e},useTransition:function(){var e=ln(!1),n=e[0];return e=D0.bind(null,e[1]),Q().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var m=Fe,b=Q();if(Ht){if(l===void 0)throw Error(h(407));l=l()}else{if(l=n(),Rn===null)throw Error(h(349));(qe&30)!==0||Te(m,n,l)}b.memoizedState=l;var C={value:l,getSnapshot:n};return b.queue=C,Dl(ot.bind(null,m,C,e),[e]),m.flags|=2048,Et(9,st.bind(null,m,C,l,n),void 0,null),l},useId:function(){var e=Q(),n=Rn.identifierPrefix;if(Ht){var l=Oi,m=li;l=(m&~(1<<32-vt(m)-1)).toString(32)+l,n=":"+n+"R"+l,l=Ne++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=He++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},N0={readContext:En,useCallback:wf,useContext:En,useEffect:Fa,useImperativeHandle:An,useInsertionEffect:Gr,useLayoutEffect:Uo,useMemo:bf,useReducer:se,useRef:It,useState:function(){return se(pe)},useDebugValue:Kt,useDeferredValue:function(e){var n=X();return Cf(n,W.memoizedState,e)},useTransition:function(){var e=se(pe)[0],n=X().memoizedState;return[e,n]},useMutableSource:ve,useSyncExternalStore:ye,useId:Lf,unstable_isNewReconciler:!1},I0={readContext:En,useCallback:wf,useContext:En,useEffect:Fa,useImperativeHandle:An,useInsertionEffect:Gr,useLayoutEffect:Uo,useMemo:bf,useReducer:fe,useRef:It,useState:function(){return fe(pe)},useDebugValue:Kt,useDeferredValue:function(e){var n=X();return W===null?n.memoizedState=e:Cf(n,W.memoizedState,e)},useTransition:function(){var e=fe(pe)[0],n=X().memoizedState;return[e,n]},useMutableSource:ve,useSyncExternalStore:ye,useId:Lf,unstable_isNewReconciler:!1};function zi(e,n){if(e&&e.defaultProps){n=Be({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function eh(e,n,l,m){n=e.memoizedState,l=l(m,n),l=l==null?n:Be({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ec={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var m=gr(),b=Vo(e),C=Fi(m,b);C.payload=n,l!=null&&(C.callback=l),n=hi(e,C,b),n!==null&&(Wi(n,e,b,m),jl(n,e,b))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var m=gr(),b=Vo(e),C=Fi(m,b);C.tag=1,C.payload=n,l!=null&&(C.callback=l),n=hi(e,C,b),n!==null&&(Wi(n,e,b,m),jl(n,e,b))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=gr(),m=Vo(e),b=Fi(l,m);b.tag=2,n!=null&&(b.callback=n),n=hi(e,b,m),n!==null&&(Wi(n,e,m,l),jl(n,e,m))}};function Pf(e,n,l,m,b,C,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(m,C,O):n.prototype&&n.prototype.isPureReactComponent?!ti(l,m)||!ti(b,C):!0}function Mf(e,n,l){var m=!1,b=bs,C=n.contextType;return typeof C=="object"&&C!==null?C=En(C):(b=kn(n)?Vr:Gt.current,m=n.contextTypes,C=(m=m!=null)?No(e,b):bs),n=new n(l,C),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ec,e.stateNode=n,n._reactInternals=e,m&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=b,e.__reactInternalMemoizedMaskedChildContext=C),n}function Bf(e,n,l,m){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,m),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,m),n.state!==e&&ec.enqueueReplaceState(n,n.state,null)}function th(e,n,l,m){var b=e.stateNode;b.props=l,b.state=e.memoizedState,b.refs={},ci(e);var C=n.contextType;typeof C=="object"&&C!==null?b.context=En(C):(C=kn(n)?Vr:Gt.current,b.context=No(e,C)),b.state=e.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(eh(e,n,C,l),b.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(n=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),n!==b.state&&ec.enqueueReplaceState(b,b.state,null),Tl(e,l,b,m),b.state=e.memoizedState),typeof b.componentDidMount=="function"&&(e.flags|=4194308)}function Al(e,n){try{var l="",m=n;do l+=Ye(m),m=m.return;while(m);var b=l}catch(C){b=`
Error generating stack: `+C.message+`
`+C.stack}return{value:e,source:n,stack:b,digest:null}}function nh(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function rh(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function jf(e,n,l){l=Fi(-1,l),l.tag=3,l.payload={element:null};var m=n.value;return l.callback=function(){ac||(ac=!0,yh=m),rh(e,n)},l}function Tf(e,n,l){l=Fi(-1,l),l.tag=3;var m=e.type.getDerivedStateFromError;if(typeof m=="function"){var b=n.value;l.payload=function(){return m(b)},l.callback=function(){rh(e,n)}}var C=e.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(l.callback=function(){rh(e,n),typeof m!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var O=n.stack;this.componentDidCatch(n.value,{componentStack:O!==null?O:""})}),l}function Df(e,n,l){var m=e.pingCache;if(m===null){m=e.pingCache=new F0;var b=new Set;m.set(n,b)}else b=m.get(n),b===void 0&&(b=new Set,m.set(n,b));b.has(l)||(b.add(l),e=Q0.bind(null,e,n,l),n.then(e,e))}function Af(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Rf(e,n,l,m,b){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=Fi(-1,1),n.tag=2,hi(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=b,e)}var z0=J.ReactCurrentOwner,Tr=!1;function mr(e,n,l,m){n.child=e===null?$u(n,null,l,m):Fo(n,e.child,l,m)}function Of(e,n,l,m,b){l=l.render;var C=n.ref;return eo(n,b),m=G(e,n,l,m,C,b),l=ne(),e!==null&&!Tr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,no(e,n,b)):(Ht&&l&&El(n),n.flags|=1,mr(e,n,m,b),n.child)}function Nf(e,n,l,m,b){if(e===null){var C=l.type;return typeof C=="function"&&!kh(C)&&C.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=C,If(e,n,C,m,b)):(e=fc(l.type,null,m,n,n.mode,b),e.ref=n.ref,e.return=n,n.child=e)}if(C=e.child,(e.lanes&b)===0){var O=C.memoizedProps;if(l=l.compare,l=l!==null?l:ti,l(O,m)&&e.ref===n.ref)return no(e,n,b)}return n.flags|=1,e=Zo(C,m),e.ref=n.ref,e.return=n,n.child=e}function If(e,n,l,m,b){if(e!==null){var C=e.memoizedProps;if(ti(C,m)&&e.ref===n.ref)if(Tr=!1,n.pendingProps=m=C,(e.lanes&b)!==0)(e.flags&131072)!==0&&(Tr=!0);else return n.lanes=e.lanes,no(e,n,b)}return ih(e,n,l,m,b)}function Ff(e,n,l){var m=n.pendingProps,b=m.children,C=e!==null?e.memoizedState:null;if(m.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Ol,Zr),Zr|=l;else{if((l&1073741824)===0)return e=C!==null?C.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,jt(Ol,Zr),Zr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=C!==null?C.baseLanes:l,jt(Ol,Zr),Zr|=m}else C!==null?(m=C.baseLanes|l,n.memoizedState=null):m=l,jt(Ol,Zr),Zr|=m;return mr(e,n,b,l),n.child}function zf(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function ih(e,n,l,m,b){var C=kn(l)?Vr:Gt.current;return C=No(n,C),eo(n,b),l=G(e,n,l,m,C,b),m=ne(),e!==null&&!Tr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,no(e,n,b)):(Ht&&m&&El(n),n.flags|=1,mr(e,n,l,b),n.child)}function Uf(e,n,l,m,b){if(kn(l)){var C=!0;Aa(n)}else C=!1;if(eo(n,b),n.stateNode===null)nc(e,n),Mf(n,l,m),th(n,l,m,b),m=!0;else if(e===null){var O=n.stateNode,$=n.memoizedProps;O.props=$;var re=O.context,ke=l.contextType;typeof ke=="object"&&ke!==null?ke=En(ke):(ke=kn(l)?Vr:Gt.current,ke=No(n,ke));var Ie=l.getDerivedStateFromProps,We=typeof Ie=="function"||typeof O.getSnapshotBeforeUpdate=="function";We||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||($!==m||re!==ke)&&Bf(n,O,m,ke),Zt=!1;var Oe=n.memoizedState;O.state=Oe,Tl(n,m,O,b),re=n.memoizedState,$!==m||Oe!==re||Kn.current||Zt?(typeof Ie=="function"&&(eh(n,l,Ie,m),re=n.memoizedState),($=Zt||Pf(n,l,$,m,Oe,re,ke))?(We||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(n.flags|=4194308)):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=m,n.memoizedState=re),O.props=m,O.state=re,O.context=ke,m=$):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),m=!1)}else{O=n.stateNode,Ju(e,n),$=n.memoizedProps,ke=n.type===n.elementType?$:zi(n.type,$),O.props=ke,We=n.pendingProps,Oe=O.context,re=l.contextType,typeof re=="object"&&re!==null?re=En(re):(re=kn(l)?Vr:Gt.current,re=No(n,re));var Xe=l.getDerivedStateFromProps;(Ie=typeof Xe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||($!==We||Oe!==re)&&Bf(n,O,m,re),Zt=!1,Oe=n.memoizedState,O.state=Oe,Tl(n,m,O,b);var nt=n.memoizedState;$!==We||Oe!==nt||Kn.current||Zt?(typeof Xe=="function"&&(eh(n,l,Xe,m),nt=n.memoizedState),(ke=Zt||Pf(n,l,ke,m,Oe,nt,re)||!1)?(Ie||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(m,nt,re),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(m,nt,re)),typeof O.componentDidUpdate=="function"&&(n.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof O.componentDidUpdate!="function"||$===e.memoizedProps&&Oe===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||$===e.memoizedProps&&Oe===e.memoizedState||(n.flags|=1024),n.memoizedProps=m,n.memoizedState=nt),O.props=m,O.state=nt,O.context=re,m=ke):(typeof O.componentDidUpdate!="function"||$===e.memoizedProps&&Oe===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||$===e.memoizedProps&&Oe===e.memoizedState||(n.flags|=1024),m=!1)}return sh(e,n,l,m,C,b)}function sh(e,n,l,m,b,C){zf(e,n);var O=(n.flags&128)!==0;if(!m&&!O)return b&&Cl(n,l,!1),no(e,n,C);m=n.stateNode,z0.current=n;var $=O&&typeof l.getDerivedStateFromError!="function"?null:m.render();return n.flags|=1,e!==null&&O?(n.child=Fo(n,e.child,null,C),n.child=Fo(n,null,$,C)):mr(e,n,$,C),n.memoizedState=m.state,b&&Cl(n,l,!0),n.child}function Hf(e){var n=e.stateNode;n.pendingContext?Wu(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Wu(e,n.context,!1),k(e,n.containerInfo)}function Wf(e,n,l,m,b){return Ni(),Io(b),n.flags|=256,mr(e,n,l,m),n.child}var oh={dehydrated:null,treeContext:null,retryLane:0};function ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function qf(e,n,l){var m=n.pendingProps,b=q.current,C=!1,O=(n.flags&128)!==0,$;if(($=O)||($=e!==null&&e.memoizedState===null?!1:(b&2)!==0),$?(C=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(b|=1),jt(q,b&1),e===null)return au(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(O=m.children,e=m.fallback,C?(m=n.mode,C=n.child,O={mode:"hidden",children:O},(m&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=O):C=pc(O,m,0,null),e=qa(e,m,l,null),C.return=n,e.return=n,C.sibling=e,n.child=C,n.child.memoizedState=ah(l),n.memoizedState=oh,e):lh(n,O));if(b=e.memoizedState,b!==null&&($=b.dehydrated,$!==null))return U0(e,n,O,m,$,b,l);if(C){C=m.fallback,O=n.mode,b=e.child,$=b.sibling;var re={mode:"hidden",children:m.children};return(O&1)===0&&n.child!==b?(m=n.child,m.childLanes=0,m.pendingProps=re,n.deletions=null):(m=Zo(b,re),m.subtreeFlags=b.subtreeFlags&14680064),$!==null?C=Zo($,C):(C=qa(C,O,l,null),C.flags|=2),C.return=n,m.return=n,m.sibling=C,n.child=m,m=C,C=n.child,O=e.child.memoizedState,O=O===null?ah(l):{baseLanes:O.baseLanes|l,cachePool:null,transitions:O.transitions},C.memoizedState=O,C.childLanes=e.childLanes&~l,n.memoizedState=oh,m}return C=e.child,e=C.sibling,m=Zo(C,{mode:"visible",children:m.children}),(n.mode&1)===0&&(m.lanes=l),m.return=n,m.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=m,n.memoizedState=null,m}function lh(e,n){return n=pc({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function tc(e,n,l,m){return m!==null&&Io(m),Fo(n,e.child,null,l),e=lh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function U0(e,n,l,m,b,C,O){if(l)return n.flags&256?(n.flags&=-257,m=nh(Error(h(422))),tc(e,n,O,m)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(C=m.fallback,b=n.mode,m=pc({mode:"visible",children:m.children},b,0,null),C=qa(C,b,O,null),C.flags|=2,m.return=n,C.return=n,m.sibling=C,n.child=m,(n.mode&1)!==0&&Fo(n,e.child,null,O),n.child.memoizedState=ah(O),n.memoizedState=oh,C);if((n.mode&1)===0)return tc(e,n,O,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var $=m.dgst;return m=$,C=Error(h(419)),m=nh(C,m,void 0),tc(e,n,O,m)}if($=(O&e.childLanes)!==0,Tr||$){if(m=Rn,m!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|O))!==0?0:b,b!==0&&b!==C.retryLane&&(C.retryLane=b,Ii(e,b),Wi(m,e,b,-1))}return Lh(),m=nh(Error(h(421))),tc(e,n,O,m)}return b.data==="$?"?(n.flags|=128,n.child=e.child,n=e_.bind(null,e),b._reactRetry=n,null):(e=C.treeContext,fr=Pr(b.nextSibling),dr=n,Ht=!0,$n=null,e!==null&&(Br[jr++]=li,Br[jr++]=Oi,Br[jr++]=Ls,li=e.id,Oi=e.overflow,Ls=n),n=lh(n,m.children),n.flags|=4096,n)}function Vf(e,n,l){e.lanes|=n;var m=e.alternate;m!==null&&(m.lanes|=n),pu(e.return,n,l)}function uh(e,n,l,m,b){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:b}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=l,C.tailMode=b)}function Gf(e,n,l){var m=n.pendingProps,b=m.revealOrder,C=m.tail;if(mr(e,n,m.children,l),m=q.current,(m&2)!==0)m=m&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,l,n);else if(e.tag===19)Vf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}m&=1}if(jt(q,m),(n.mode&1)===0)n.memoizedState=null;else switch(b){case"forwards":for(l=n.child,b=null;l!==null;)e=l.alternate,e!==null&&V(e)===null&&(b=l),l=l.sibling;l=b,l===null?(b=n.child,n.child=null):(b=l.sibling,l.sibling=null),uh(n,!1,b,l,C);break;case"backwards":for(l=null,b=n.child,n.child=null;b!==null;){if(e=b.alternate,e!==null&&V(e)===null){n.child=b;break}e=b.sibling,b.sibling=l,l=b,b=e}uh(n,!0,l,null,C);break;case"together":uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function nc(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function no(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),za|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,l=Zo(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Zo(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function H0(e,n,l){switch(n.tag){case 3:Hf(n),Ni();break;case 5:T(n);break;case 1:kn(n.type)&&Aa(n);break;case 4:k(n,n.stateNode.containerInfo);break;case 10:var m=n.type._context,b=n.memoizedProps.value;jt(Ia,m._currentValue),m._currentValue=b;break;case 13:if(m=n.memoizedState,m!==null)return m.dehydrated!==null?(jt(q,q.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?qf(e,n,l):(jt(q,q.current&1),e=no(e,n,l),e!==null?e.sibling:null);jt(q,q.current&1);break;case 19:if(m=(l&n.childLanes)!==0,(e.flags&128)!==0){if(m)return Gf(e,n,l);n.flags|=128}if(b=n.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),jt(q,q.current),m)break;return null;case 22:case 23:return n.lanes=0,Ff(e,n,l)}return no(e,n,l)}var Zf,ch,Kf,$f;Zf=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ch=function(){},Kf=function(e,n,l,m){var b=e.memoizedProps;if(b!==m){e=n.stateNode,x(a.current);var C=null;switch(l){case"input":b=oo(e,b),m=oo(e,m),C=[];break;case"select":b=Be({},b,{value:void 0}),m=Be({},m,{value:void 0}),C=[];break;case"textarea":b=lo(e,b),m=lo(e,m),C=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(e.onclick=je)}ho(l,m);var O;l=null;for(ke in b)if(!m.hasOwnProperty(ke)&&b.hasOwnProperty(ke)&&b[ke]!=null)if(ke==="style"){var $=b[ke];for(O in $)$.hasOwnProperty(O)&&(l||(l={}),l[O]="")}else ke!=="dangerouslySetInnerHTML"&&ke!=="children"&&ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&ke!=="autoFocus"&&(_.hasOwnProperty(ke)?C||(C=[]):(C=C||[]).push(ke,null));for(ke in m){var re=m[ke];if($=b?.[ke],m.hasOwnProperty(ke)&&re!==$&&(re!=null||$!=null))if(ke==="style")if($){for(O in $)!$.hasOwnProperty(O)||re&&re.hasOwnProperty(O)||(l||(l={}),l[O]="");for(O in re)re.hasOwnProperty(O)&&$[O]!==re[O]&&(l||(l={}),l[O]=re[O])}else l||(C||(C=[]),C.push(ke,l)),l=re;else ke==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,$=$?$.__html:void 0,re!=null&&$!==re&&(C=C||[]).push(ke,re)):ke==="children"?typeof re!="string"&&typeof re!="number"||(C=C||[]).push(ke,""+re):ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&(_.hasOwnProperty(ke)?(re!=null&&ke==="onScroll"&&Nt("scroll",e),C||$===re||(C=[])):(C=C||[]).push(ke,re))}l&&(C=C||[]).push("style",l);var ke=C;(n.updateQueue=ke)&&(n.flags|=4)}},$f=function(e,n,l,m){l!==m&&(n.flags|=4)};function gu(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:m.sibling=null}}function Xn(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,m=0;if(n)for(var b=e.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=e,b=b.sibling;else for(b=e.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=e,b=b.sibling;return e.subtreeFlags|=m,e.childLanes=l,n}function W0(e,n,l){var m=n.pendingProps;switch(ou(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(n),null;case 1:return kn(n.type)&&Da(),Xn(n),null;case 3:return m=n.stateNode,E(),Ut(Kn),Ut(Gt),ce(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(e===null||e.child===null)&&(Pl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$n!==null&&(wh($n),$n=null))),ch(e,n),Xn(n),null;case 5:A(n);var b=x(g.current);if(l=n.type,e!==null&&n.stateNode!=null)Kf(e,n,l,m,b),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!m){if(n.stateNode===null)throw Error(h(166));return Xn(n),null}if(e=x(a.current),Pl(n)){m=n.stateNode,l=n.type;var C=n.memoizedProps;switch(m[hr]=n,m[_n]=C,e=(n.mode&1)!==0,l){case"dialog":Nt("cancel",m),Nt("close",m);break;case"iframe":case"object":case"embed":Nt("load",m);break;case"video":case"audio":for(b=0;b<vs.length;b++)Nt(vs[b],m);break;case"source":Nt("error",m);break;case"img":case"image":case"link":Nt("error",m),Nt("load",m);break;case"details":Nt("toggle",m);break;case"input":ea(m,C),Nt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!C.multiple},Nt("invalid",m);break;case"textarea":na(m,C),Nt("invalid",m)}ho(l,C),b=null;for(var O in C)if(C.hasOwnProperty(O)){var $=C[O];O==="children"?typeof $=="string"?m.textContent!==$&&(C.suppressHydrationWarning!==!0&&Ce(m.textContent,$,e),b=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(C.suppressHydrationWarning!==!0&&Ce(m.textContent,$,e),b=["children",""+$]):_.hasOwnProperty(O)&&$!=null&&O==="onScroll"&&Nt("scroll",m)}switch(l){case"input":Zi(m),gi(m,C,!0);break;case"textarea":Zi(m),Qa(m);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(m.onclick=je)}m=b,n.updateQueue=m,m!==null&&(n.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uo(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=O.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof m.is=="string"?e=O.createElement(l,{is:m.is}):(e=O.createElement(l),l==="select"&&(O=e,m.multiple?O.multiple=!0:m.size&&(O.size=m.size))):e=O.createElementNS(e,l),e[hr]=n,e[_n]=m,Zf(e,n,!1,!1),n.stateNode=e;e:{switch(O=Fr(l,m),l){case"dialog":Nt("cancel",e),Nt("close",e),b=m;break;case"iframe":case"object":case"embed":Nt("load",e),b=m;break;case"video":case"audio":for(b=0;b<vs.length;b++)Nt(vs[b],e);b=m;break;case"source":Nt("error",e),b=m;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),b=m;break;case"details":Nt("toggle",e),b=m;break;case"input":ea(e,m),b=oo(e,m),Nt("invalid",e);break;case"option":b=m;break;case"select":e._wrapperState={wasMultiple:!!m.multiple},b=Be({},m,{value:void 0}),Nt("invalid",e);break;case"textarea":na(e,m),b=lo(e,m),Nt("invalid",e);break;default:b=m}ho(l,b),$=b;for(C in $)if($.hasOwnProperty(C)){var re=$[C];C==="style"?Ts(e,re):C==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&ra(e,re)):C==="children"?typeof re=="string"?(l!=="textarea"||re!=="")&&_i(e,re):typeof re=="number"&&_i(e,""+re):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(_.hasOwnProperty(C)?re!=null&&C==="onScroll"&&Nt("scroll",e):re!=null&&te(e,C,re,O))}switch(l){case"input":Zi(e),gi(e,m,!1);break;case"textarea":Zi(e),Qa(e);break;case"option":m.value!=null&&e.setAttribute("value",""+Lt(m.value));break;case"select":e.multiple=!!m.multiple,C=m.value,C!=null?Kr(e,!!m.multiple,C,!1):m.defaultValue!=null&&Kr(e,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(e.onclick=je)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Xn(n),null;case 6:if(e&&n.stateNode!=null)$f(e,n,e.memoizedProps,m);else{if(typeof m!="string"&&n.stateNode===null)throw Error(h(166));if(l=x(g.current),x(a.current),Pl(n)){if(m=n.stateNode,l=n.memoizedProps,m[hr]=n,(C=m.nodeValue!==l)&&(e=dr,e!==null))switch(e.tag){case 3:Ce(m.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ce(m.nodeValue,l,(e.mode&1)!==0)}C&&(n.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[hr]=n,n.stateNode=m}return Xn(n),null;case 13:if(Ut(q),m=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&fr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Zu(),Ni(),n.flags|=98560,C=!1;else if(C=Pl(n),m!==null&&m.dehydrated!==null){if(e===null){if(!C)throw Error(h(318));if(C=n.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(h(317));C[hr]=n}else Ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xn(n),C=!1}else $n!==null&&(wh($n),$n=null),C=!0;if(!C)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(m=m!==null,m!==(e!==null&&e.memoizedState!==null)&&m&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(q.current&1)!==0?Sn===0&&(Sn=3):Lh())),n.updateQueue!==null&&(n.flags|=4),Xn(n),null);case 4:return E(),ch(e,n),e===null&&xs(n.stateNode.containerInfo),Xn(n),null;case 10:return fu(n.type._context),Xn(n),null;case 17:return kn(n.type)&&Da(),Xn(n),null;case 19:if(Ut(q),C=n.memoizedState,C===null)return Xn(n),null;if(m=(n.flags&128)!==0,O=C.rendering,O===null)if(m)gu(C,!1);else{if(Sn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(O=V(e),O!==null){for(n.flags|=128,gu(C,!1),m=O.updateQueue,m!==null&&(n.updateQueue=m,n.flags|=4),n.subtreeFlags=0,m=l,l=n.child;l!==null;)C=l,e=m,C.flags&=14680066,O=C.alternate,O===null?(C.childLanes=0,C.lanes=e,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=O.childLanes,C.lanes=O.lanes,C.child=O.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=O.memoizedProps,C.memoizedState=O.memoizedState,C.updateQueue=O.updateQueue,C.type=O.type,e=O.dependencies,C.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return jt(q,q.current&1|2),n.child}e=e.sibling}C.tail!==null&&$t()>Nl&&(n.flags|=128,m=!0,gu(C,!1),n.lanes=4194304)}else{if(!m)if(e=V(O),e!==null){if(n.flags|=128,m=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),gu(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!Ht)return Xn(n),null}else 2*$t()-C.renderingStartTime>Nl&&l!==1073741824&&(n.flags|=128,m=!0,gu(C,!1),n.lanes=4194304);C.isBackwards?(O.sibling=n.child,n.child=O):(l=C.last,l!==null?l.sibling=O:n.child=O,C.last=O)}return C.tail!==null?(n=C.tail,C.rendering=n,C.tail=n.sibling,C.renderingStartTime=$t(),n.sibling=null,l=q.current,jt(q,m?l&1|2:l&1),n):(Xn(n),null);case 22:case 23:return Ch(),m=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==m&&(n.flags|=8192),m&&(n.mode&1)!==0?(Zr&1073741824)!==0&&(Xn(n),n.subtreeFlags&6&&(n.flags|=8192)):Xn(n),null;case 24:return null;case 25:return null}throw Error(h(156,n.tag))}function q0(e,n){switch(ou(n),n.tag){case 1:return kn(n.type)&&Da(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return E(),Ut(Kn),Ut(Gt),ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return A(n),null;case 13:if(Ut(q),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));Ni()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ut(q),null;case 4:return E(),null;case 10:return fu(n.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var rc=!1,Jn=!1,V0=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Rl(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){un(e,n,m)}else l.current=null}function hh(e,n,l){try{l()}catch(m){un(e,n,m)}}var Xf=!1;function G0(e,n){if(Ke=Jr,e=Bo(),jo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var b=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{l.nodeType,C.nodeType}catch{l=null;break e}var O=0,$=-1,re=-1,ke=0,Ie=0,We=e,Oe=null;t:for(;;){for(var Xe;We!==l||b!==0&&We.nodeType!==3||($=O+b),We!==C||m!==0&&We.nodeType!==3||(re=O+m),We.nodeType===3&&(O+=We.nodeValue.length),(Xe=We.firstChild)!==null;)Oe=We,We=Xe;for(;;){if(We===e)break t;if(Oe===l&&++ke===b&&($=O),Oe===C&&++Ie===m&&(re=O),(Xe=We.nextSibling)!==null)break;We=Oe,Oe=We.parentNode}We=Xe}l=$===-1||re===-1?null:{start:$,end:re}}else l=null}l=l||{start:0,end:0}}else l=null;for(dt={focusedElem:e,selectionRange:l},Jr=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){n=Qe;try{var nt=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var at=nt.memoizedProps,mn=nt.memoizedState,_e=n.stateNode,ue=_e.getSnapshotBeforeUpdate(n.elementType===n.type?at:zi(n.type,at),mn);_e.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:var we=n.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(Ve){un(n,n.return,Ve)}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}return nt=Xf,Xf=!1,nt}function _u(e,n,l){var m=n.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&e)===e){var C=b.destroy;b.destroy=void 0,C!==void 0&&hh(n,l,C)}b=b.next}while(b!==m)}}function ic(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var m=l.create;l.destroy=m()}l=l.next}while(l!==n)}}function dh(e){var n=e.ref;if(n!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof n=="function"?n(e):n.current=e}}function Jf(e){var n=e.alternate;n!==null&&(e.alternate=null,Jf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[hr],delete n[_n],delete n[si],delete n[Ta],delete n[oi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yf(e){return e.tag===5||e.tag===3||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,n,l){var m=e.tag;if(m===5||m===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=je));else if(m!==4&&(e=e.child,e!==null))for(fh(e,n,l),e=e.sibling;e!==null;)fh(e,n,l),e=e.sibling}function ph(e,n,l){var m=e.tag;if(m===5||m===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(m!==4&&(e=e.child,e!==null))for(ph(e,n,l),e=e.sibling;e!==null;)ph(e,n,l),e=e.sibling}var zn=null,Ui=!1;function Ho(e,n,l){for(l=l.child;l!==null;)ep(e,n,l),l=l.sibling}function ep(e,n,l){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Ns,l)}catch{}switch(l.tag){case 5:Jn||Rl(l,n);case 6:var m=zn,b=Ui;zn=null,Ho(e,n,l),zn=m,Ui=b,zn!==null&&(Ui?(e=zn,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):zn.removeChild(l.stateNode));break;case 18:zn!==null&&(Ui?(e=zn,l=l.stateNode,e.nodeType===8?ja(e.parentNode,l):e.nodeType===1&&ja(e,l),ir(e)):ja(zn,l.stateNode));break;case 4:m=zn,b=Ui,zn=l.stateNode.containerInfo,Ui=!0,Ho(e,n,l),zn=m,Ui=b;break;case 0:case 11:case 14:case 15:if(!Jn&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var C=b,O=C.destroy;C=C.tag,O!==void 0&&((C&2)!==0||(C&4)!==0)&&hh(l,n,O),b=b.next}while(b!==m)}Ho(e,n,l);break;case 1:if(!Jn&&(Rl(l,n),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch($){un(l,n,$)}Ho(e,n,l);break;case 21:Ho(e,n,l);break;case 22:l.mode&1?(Jn=(m=Jn)||l.memoizedState!==null,Ho(e,n,l),Jn=m):Ho(e,n,l);break;default:Ho(e,n,l)}}function tp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new V0),n.forEach(function(m){var b=t_.bind(null,e,m);l.has(m)||(l.add(m),m.then(b,b))})}}function Hi(e,n){var l=n.deletions;if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];try{var C=e,O=n,$=O;e:for(;$!==null;){switch($.tag){case 5:zn=$.stateNode,Ui=!1;break e;case 3:zn=$.stateNode.containerInfo,Ui=!0;break e;case 4:zn=$.stateNode.containerInfo,Ui=!0;break e}$=$.return}if(zn===null)throw Error(h(160));ep(C,O,b),zn=null,Ui=!1;var re=b.alternate;re!==null&&(re.return=null),b.return=null}catch(ke){un(b,n,ke)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)np(n,e),n=n.sibling}function np(e,n){var l=e.alternate,m=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hi(n,e),ks(e),m&4){try{_u(3,e,e.return),ic(3,e)}catch(at){un(e,e.return,at)}try{_u(5,e,e.return)}catch(at){un(e,e.return,at)}}break;case 1:Hi(n,e),ks(e),m&512&&l!==null&&Rl(l,l.return);break;case 5:if(Hi(n,e),ks(e),m&512&&l!==null&&Rl(l,l.return),e.flags&32){var b=e.stateNode;try{_i(b,"")}catch(at){un(e,e.return,at)}}if(m&4&&(b=e.stateNode,b!=null)){var C=e.memoizedProps,O=l!==null?l.memoizedProps:C,$=e.type,re=e.updateQueue;if(e.updateQueue=null,re!==null)try{$==="input"&&C.type==="radio"&&C.name!=null&&ta(b,C),Fr($,O);var ke=Fr($,C);for(O=0;O<re.length;O+=2){var Ie=re[O],We=re[O+1];Ie==="style"?Ts(b,We):Ie==="dangerouslySetInnerHTML"?ra(b,We):Ie==="children"?_i(b,We):te(b,Ie,We,ke)}switch($){case"input":Xi(b,C);break;case"textarea":Ya(b,C);break;case"select":var Oe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!C.multiple;var Xe=C.value;Xe!=null?Kr(b,!!C.multiple,Xe,!1):Oe!==!!C.multiple&&(C.defaultValue!=null?Kr(b,!!C.multiple,C.defaultValue,!0):Kr(b,!!C.multiple,C.multiple?[]:"",!1))}b[_n]=C}catch(at){un(e,e.return,at)}}break;case 6:if(Hi(n,e),ks(e),m&4){if(e.stateNode===null)throw Error(h(162));b=e.stateNode,C=e.memoizedProps;try{b.nodeValue=C}catch(at){un(e,e.return,at)}}break;case 3:if(Hi(n,e),ks(e),m&4&&l!==null&&l.memoizedState.isDehydrated)try{ir(n.containerInfo)}catch(at){un(e,e.return,at)}break;case 4:Hi(n,e),ks(e);break;case 13:Hi(n,e),ks(e),b=e.child,b.flags&8192&&(C=b.memoizedState!==null,b.stateNode.isHidden=C,!C||b.alternate!==null&&b.alternate.memoizedState!==null||(_h=$t())),m&4&&tp(e);break;case 22:if(Ie=l!==null&&l.memoizedState!==null,e.mode&1?(Jn=(ke=Jn)||Ie,Hi(n,e),Jn=ke):Hi(n,e),ks(e),m&8192){if(ke=e.memoizedState!==null,(e.stateNode.isHidden=ke)&&!Ie&&(e.mode&1)!==0)for(Qe=e,Ie=e.child;Ie!==null;){for(We=Qe=Ie;Qe!==null;){switch(Oe=Qe,Xe=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:_u(4,Oe,Oe.return);break;case 1:Rl(Oe,Oe.return);var nt=Oe.stateNode;if(typeof nt.componentWillUnmount=="function"){m=Oe,l=Oe.return;try{n=m,nt.props=n.memoizedProps,nt.state=n.memoizedState,nt.componentWillUnmount()}catch(at){un(m,l,at)}}break;case 5:Rl(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){sp(We);continue}}Xe!==null?(Xe.return=Oe,Qe=Xe):sp(We)}Ie=Ie.sibling}e:for(Ie=null,We=e;;){if(We.tag===5){if(Ie===null){Ie=We;try{b=We.stateNode,ke?(C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):($=We.stateNode,re=We.memoizedProps.style,O=re!=null&&re.hasOwnProperty("display")?re.display:null,$.style.display=ia("display",O))}catch(at){un(e,e.return,at)}}}else if(We.tag===6){if(Ie===null)try{We.stateNode.nodeValue=ke?"":We.memoizedProps}catch(at){un(e,e.return,at)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===e)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===e)break e;for(;We.sibling===null;){if(We.return===null||We.return===e)break e;Ie===We&&(Ie=null),We=We.return}Ie===We&&(Ie=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:Hi(n,e),ks(e),m&4&&tp(e);break;case 21:break;default:Hi(n,e),ks(e)}}function ks(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(Yf(l)){var m=l;break e}l=l.return}throw Error(h(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(_i(b,""),m.flags&=-33);var C=Qf(e);ph(e,C,b);break;case 3:case 4:var O=m.stateNode.containerInfo,$=Qf(e);fh(e,$,O);break;default:throw Error(h(161))}}catch(re){un(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Z0(e,n,l){Qe=e,rp(e)}function rp(e,n,l){for(var m=(e.mode&1)!==0;Qe!==null;){var b=Qe,C=b.child;if(b.tag===22&&m){var O=b.memoizedState!==null||rc;if(!O){var $=b.alternate,re=$!==null&&$.memoizedState!==null||Jn;$=rc;var ke=Jn;if(rc=O,(Jn=re)&&!ke)for(Qe=b;Qe!==null;)O=Qe,re=O.child,O.tag===22&&O.memoizedState!==null?op(b):re!==null?(re.return=O,Qe=re):op(b);for(;C!==null;)Qe=C,rp(C),C=C.sibling;Qe=b,rc=$,Jn=ke}ip(e)}else(b.subtreeFlags&8772)!==0&&C!==null?(C.return=b,Qe=C):ip(e)}}function ip(e){for(;Qe!==null;){var n=Qe;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Jn||ic(5,n);break;case 1:var m=n.stateNode;if(n.flags&4&&!Jn)if(l===null)m.componentDidMount();else{var b=n.elementType===n.type?l.memoizedProps:zi(n.type,l.memoizedProps);m.componentDidUpdate(b,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var C=n.updateQueue;C!==null&&r(n,C,m);break;case 3:var O=n.updateQueue;if(O!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}r(n,O,l)}break;case 5:var $=n.stateNode;if(l===null&&n.flags&4){l=$;var re=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&l.focus();break;case"img":re.src&&(l.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ke=n.alternate;if(ke!==null){var Ie=ke.memoizedState;if(Ie!==null){var We=Ie.dehydrated;We!==null&&ir(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}Jn||n.flags&512&&dh(n)}catch(Oe){un(n,n.return,Oe)}}if(n===e){Qe=null;break}if(l=n.sibling,l!==null){l.return=n.return,Qe=l;break}Qe=n.return}}function sp(e){for(;Qe!==null;){var n=Qe;if(n===e){Qe=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Qe=l;break}Qe=n.return}}function op(e){for(;Qe!==null;){var n=Qe;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{ic(4,n)}catch(re){un(n,l,re)}break;case 1:var m=n.stateNode;if(typeof m.componentDidMount=="function"){var b=n.return;try{m.componentDidMount()}catch(re){un(n,b,re)}}var C=n.return;try{dh(n)}catch(re){un(n,C,re)}break;case 5:var O=n.return;try{dh(n)}catch(re){un(n,O,re)}}}catch(re){un(n,n.return,re)}if(n===e){Qe=null;break}var $=n.sibling;if($!==null){$.return=n.return,Qe=$;break}Qe=n.return}}var K0=Math.ceil,sc=J.ReactCurrentDispatcher,mh=J.ReactCurrentOwner,di=J.ReactCurrentBatchConfig,Dt=0,Rn=null,yn=null,Un=0,Zr=0,Ol=qr(0),Sn=0,yu=null,za=0,oc=0,gh=0,vu=null,Dr=null,_h=0,Nl=1/0,ro=null,ac=!1,yh=null,Wo=null,lc=!1,qo=null,uc=0,xu=0,vh=null,cc=-1,hc=0;function gr(){return(Dt&6)!==0?$t():cc!==-1?cc:cc=$t()}function Vo(e){return(e.mode&1)===0?1:(Dt&2)!==0&&Un!==0?Un&-Un:Ku.transition!==null?(hc===0&&(hc=ll()),hc):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:bt(e.type)),e)}function Wi(e,n,l,m){if(50<xu)throw xu=0,vh=null,Error(h(185));nr(e,l,m),((Dt&2)===0||e!==Rn)&&(e===Rn&&((Dt&2)===0&&(oc|=l),Sn===4&&Go(e,Un)),Ar(e,m),l===1&&Dt===0&&(n.mode&1)===0&&(Nl=$t()+500,Ll&&Mr()))}function Ar(e,n){var l=e.callbackNode;_o(e,n);var m=Wt(e,e===Rn?Un:0);if(m===0)l!==null&&Os(l),e.callbackNode=null,e.callbackPriority=0;else if(n=m&-m,e.callbackPriority!==n){if(l!=null&&Os(l),n===1)e.tag===0?Ai(lp.bind(null,e)):kl(lp.bind(null,e)),Tn(function(){(Dt&6)===0&&Mr()}),l=null;else{switch(os(m)){case 1:l=ma;break;case 4:l=al;break;case 16:l=go;break;case 536870912:l=ns;break;default:l=go}l=gp(l,ap.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function ap(e,n){if(cc=-1,hc=0,(Dt&6)!==0)throw Error(h(327));var l=e.callbackNode;if(Il()&&e.callbackNode!==l)return null;var m=Wt(e,e===Rn?Un:0);if(m===0)return null;if((m&30)!==0||(m&e.expiredLanes)!==0||n)n=dc(e,m);else{n=m;var b=Dt;Dt|=2;var C=cp();(Rn!==e||Un!==n)&&(ro=null,Nl=$t()+500,Ha(e,n));do try{J0();break}catch($){up(e,$)}while(!0);du(),sc.current=C,Dt=b,yn!==null?n=0:(Rn=null,Un=0,n=Sn)}if(n!==0){if(n===2&&(b=Pn(e),b!==0&&(m=b,n=xh(e,b))),n===1)throw l=yu,Ha(e,0),Go(e,m),Ar(e,$t()),l;if(n===6)Go(e,m);else{if(b=e.current.alternate,(m&30)===0&&!$0(b)&&(n=dc(e,m),n===2&&(C=Pn(e),C!==0&&(m=C,n=xh(e,C))),n===1))throw l=yu,Ha(e,0),Go(e,m),Ar(e,$t()),l;switch(e.finishedWork=b,e.finishedLanes=m,n){case 0:case 1:throw Error(h(345));case 2:Wa(e,Dr,ro);break;case 3:if(Go(e,m),(m&130023424)===m&&(n=_h+500-$t(),10<n)){if(Wt(e,0)!==0)break;if(b=e.suspendedLanes,(b&m)!==m){gr(),e.pingedLanes|=e.suspendedLanes&b;break}e.timeoutHandle=on(Wa.bind(null,e,Dr,ro),n);break}Wa(e,Dr,ro);break;case 4:if(Go(e,m),(m&4194240)===m)break;for(n=e.eventTimes,b=-1;0<m;){var O=31-vt(m);C=1<<O,O=n[O],O>b&&(b=O),m&=~C}if(m=b,m=$t()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*K0(m/1960))-m,10<m){e.timeoutHandle=on(Wa.bind(null,e,Dr,ro),m);break}Wa(e,Dr,ro);break;case 5:Wa(e,Dr,ro);break;default:throw Error(h(329))}}}return Ar(e,$t()),e.callbackNode===l?ap.bind(null,e):null}function xh(e,n){var l=vu;return e.current.memoizedState.isDehydrated&&(Ha(e,n).flags|=256),e=dc(e,n),e!==2&&(n=Dr,Dr=l,n!==null&&wh(n)),e}function wh(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function $0(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var b=l[m],C=b.getSnapshot;b=b.value;try{if(!lr(C(),b))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Go(e,n){for(n&=~gh,n&=~oc,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-vt(n),m=1<<l;e[l]=-1,n&=~m}}function lp(e){if((Dt&6)!==0)throw Error(h(327));Il();var n=Wt(e,0);if((n&1)===0)return Ar(e,$t()),null;var l=dc(e,n);if(e.tag!==0&&l===2){var m=Pn(e);m!==0&&(n=m,l=xh(e,m))}if(l===1)throw l=yu,Ha(e,0),Go(e,n),Ar(e,$t()),l;if(l===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Wa(e,Dr,ro),Ar(e,$t()),null}function bh(e,n){var l=Dt;Dt|=1;try{return e(n)}finally{Dt=l,Dt===0&&(Nl=$t()+500,Ll&&Mr())}}function Ua(e){qo!==null&&qo.tag===0&&(Dt&6)===0&&Il();var n=Dt;Dt|=1;var l=di.transition,m=Mt;try{if(di.transition=null,Mt=1,e)return e()}finally{Mt=m,di.transition=l,Dt=n,(Dt&6)===0&&Mr()}}function Ch(){Zr=Ol.current,Ut(Ol)}function Ha(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,tn(l)),yn!==null)for(l=yn.return;l!==null;){var m=l;switch(ou(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Da();break;case 3:E(),Ut(Kn),Ut(Gt),ce();break;case 5:A(m);break;case 4:E();break;case 13:Ut(q);break;case 19:Ut(q);break;case 10:fu(m.type._context);break;case 22:case 23:Ch()}l=l.return}if(Rn=e,yn=e=Zo(e.current,null),Un=Zr=n,Sn=0,yu=null,gh=oc=za=0,Dr=vu=null,ui!==null){for(n=0;n<ui.length;n++)if(l=ui[n],m=l.interleaved,m!==null){l.interleaved=null;var b=m.next,C=l.pending;if(C!==null){var O=C.next;C.next=b,m.next=O}l.pending=m}ui=null}return e}function up(e,n){do{var l=yn;try{if(du(),Pe.current=Qu,Ee){for(var m=Fe.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}Ee=!1}if(qe=0,de=W=Fe=null,Ue=!1,Ne=0,mh.current=null,l===null||l.return===null){Sn=1,yu=n,yn=null;break}e:{var C=e,O=l.return,$=l,re=n;if(n=Un,$.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ke=re,Ie=$,We=Ie.tag;if((Ie.mode&1)===0&&(We===0||We===11||We===15)){var Oe=Ie.alternate;Oe?(Ie.updateQueue=Oe.updateQueue,Ie.memoizedState=Oe.memoizedState,Ie.lanes=Oe.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var Xe=Af(O);if(Xe!==null){Xe.flags&=-257,Rf(Xe,O,$,C,n),Xe.mode&1&&Df(C,ke,n),n=Xe,re=ke;var nt=n.updateQueue;if(nt===null){var at=new Set;at.add(re),n.updateQueue=at}else nt.add(re);break e}else{if((n&1)===0){Df(C,ke,n),Lh();break e}re=Error(h(426))}}else if(Ht&&$.mode&1){var mn=Af(O);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),Rf(mn,O,$,C,n),Io(Al(re,$));break e}}C=re=Al(re,$),Sn!==4&&(Sn=2),vu===null?vu=[C]:vu.push(C),C=O;do{switch(C.tag){case 3:C.flags|=65536,n&=-n,C.lanes|=n;var _e=jf(C,re,n);Yu(C,_e);break e;case 1:$=re;var ue=C.type,we=C.stateNode;if((C.flags&128)===0&&(typeof ue.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Wo===null||!Wo.has(we)))){C.flags|=65536,n&=-n,C.lanes|=n;var Ve=Tf(C,$,n);Yu(C,Ve);break e}}C=C.return}while(C!==null)}dp(l)}catch(ct){n=ct,yn===l&&l!==null&&(yn=l=l.return);continue}break}while(!0)}function cp(){var e=sc.current;return sc.current=Qu,e===null?Qu:e}function Lh(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Rn===null||(za&268435455)===0&&(oc&268435455)===0||Go(Rn,Un)}function dc(e,n){var l=Dt;Dt|=2;var m=cp();(Rn!==e||Un!==n)&&(ro=null,Ha(e,n));do try{X0();break}catch(b){up(e,b)}while(!0);if(du(),Dt=l,sc.current=m,yn!==null)throw Error(h(261));return Rn=null,Un=0,Sn}function X0(){for(;yn!==null;)hp(yn)}function J0(){for(;yn!==null&&!pa();)hp(yn)}function hp(e){var n=mp(e.alternate,e,Zr);e.memoizedProps=e.pendingProps,n===null?dp(e):yn=n,mh.current=null}function dp(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=W0(l,n,Zr),l!==null){yn=l;return}}else{if(l=q0(l,n),l!==null){l.flags&=32767,yn=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sn=6,yn=null;return}}if(n=n.sibling,n!==null){yn=n;return}yn=n=e}while(n!==null);Sn===0&&(Sn=5)}function Wa(e,n,l){var m=Mt,b=di.transition;try{di.transition=null,Mt=1,Y0(e,n,l,m)}finally{di.transition=b,Mt=m}return null}function Y0(e,n,l,m){do Il();while(qo!==null);if((Dt&6)!==0)throw Error(h(327));l=e.finishedWork;var b=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var C=l.lanes|l.childLanes;if(Qt(e,C),e===Rn&&(yn=Rn=null,Un=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||lc||(lc=!0,gp(go,function(){return Il(),null})),C=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||C){C=di.transition,di.transition=null;var O=Mt;Mt=1;var $=Dt;Dt|=4,mh.current=null,G0(e,l),np(l,e),ur(dt),Jr=!!Ke,dt=Ke=null,e.current=l,Z0(l),mo(),Dt=$,Mt=O,di.transition=C}else e.current=l;if(lc&&(lc=!1,qo=e,uc=b),C=e.pendingLanes,C===0&&(Wo=null),Xr(l.stateNode),Ar(e,$t()),n!==null)for(m=e.onRecoverableError,l=0;l<n.length;l++)b=n[l],m(b.value,{componentStack:b.stack,digest:b.digest});if(ac)throw ac=!1,e=yh,yh=null,e;return(uc&1)!==0&&e.tag!==0&&Il(),C=e.pendingLanes,(C&1)!==0?e===vh?xu++:(xu=0,vh=e):xu=0,Mr(),null}function Il(){if(qo!==null){var e=os(uc),n=di.transition,l=Mt;try{if(di.transition=null,Mt=16>e?16:e,qo===null)var m=!1;else{if(e=qo,qo=null,uc=0,(Dt&6)!==0)throw Error(h(331));var b=Dt;for(Dt|=4,Qe=e.current;Qe!==null;){var C=Qe,O=C.child;if((Qe.flags&16)!==0){var $=C.deletions;if($!==null){for(var re=0;re<$.length;re++){var ke=$[re];for(Qe=ke;Qe!==null;){var Ie=Qe;switch(Ie.tag){case 0:case 11:case 15:_u(8,Ie,C)}var We=Ie.child;if(We!==null)We.return=Ie,Qe=We;else for(;Qe!==null;){Ie=Qe;var Oe=Ie.sibling,Xe=Ie.return;if(Jf(Ie),Ie===ke){Qe=null;break}if(Oe!==null){Oe.return=Xe,Qe=Oe;break}Qe=Xe}}}var nt=C.alternate;if(nt!==null){var at=nt.child;if(at!==null){nt.child=null;do{var mn=at.sibling;at.sibling=null,at=mn}while(at!==null)}}Qe=C}}if((C.subtreeFlags&2064)!==0&&O!==null)O.return=C,Qe=O;else e:for(;Qe!==null;){if(C=Qe,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:_u(9,C,C.return)}var _e=C.sibling;if(_e!==null){_e.return=C.return,Qe=_e;break e}Qe=C.return}}var ue=e.current;for(Qe=ue;Qe!==null;){O=Qe;var we=O.child;if((O.subtreeFlags&2064)!==0&&we!==null)we.return=O,Qe=we;else e:for(O=ue;Qe!==null;){if($=Qe,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:ic(9,$)}}catch(ct){un($,$.return,ct)}if($===O){Qe=null;break e}var Ve=$.sibling;if(Ve!==null){Ve.return=$.return,Qe=Ve;break e}Qe=$.return}}if(Dt=b,Mr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Ns,e)}catch{}m=!0}return m}finally{Mt=l,di.transition=n}}return!1}function fp(e,n,l){n=Al(l,n),n=jf(e,n,1),e=hi(e,n,1),n=gr(),e!==null&&(nr(e,1,n),Ar(e,n))}function un(e,n,l){if(e.tag===3)fp(e,e,l);else for(;n!==null;){if(n.tag===3){fp(n,e,l);break}else if(n.tag===1){var m=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Wo===null||!Wo.has(m))){e=Al(l,e),e=Tf(n,e,1),n=hi(n,e,1),e=gr(),n!==null&&(nr(n,1,e),Ar(n,e));break}}n=n.return}}function Q0(e,n,l){var m=e.pingCache;m!==null&&m.delete(n),n=gr(),e.pingedLanes|=e.suspendedLanes&l,Rn===e&&(Un&l)===l&&(Sn===4||Sn===3&&(Un&130023424)===Un&&500>$t()-_h?Ha(e,0):gh|=l),Ar(e,n)}function pp(e,n){n===0&&((e.mode&1)===0?n=1:(n=is,is<<=1,(is&130023424)===0&&(is=4194304)));var l=gr();e=Ii(e,n),e!==null&&(nr(e,n,l),Ar(e,l))}function e_(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),pp(e,l)}function t_(e,n){var l=0;switch(e.tag){case 13:var m=e.stateNode,b=e.memoizedState;b!==null&&(l=b.retryLane);break;case 19:m=e.stateNode;break;default:throw Error(h(314))}m!==null&&m.delete(n),pp(e,l)}var mp;mp=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||Kn.current)Tr=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return Tr=!1,H0(e,n,l);Tr=(e.flags&131072)!==0}else Tr=!1,Ht&&(n.flags&1048576)!==0&&Vu(n,Qs,n.index);switch(n.lanes=0,n.tag){case 2:var m=n.type;nc(e,n),e=n.pendingProps;var b=No(n,Gt.current);eo(n,l),b=G(null,n,m,e,b,l);var C=ne();return n.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,kn(m)?(C=!0,Aa(n)):C=!1,n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ci(n),b.updater=ec,n.stateNode=b,b._reactInternals=n,th(n,m,e,l),n=sh(null,n,m,!0,C,l)):(n.tag=0,Ht&&C&&El(n),mr(null,n,b,l),n=n.child),n;case 16:m=n.elementType;e:{switch(nc(e,n),e=n.pendingProps,b=m._init,m=b(m._payload),n.type=m,b=n.tag=r_(m),e=zi(m,e),b){case 0:n=ih(null,n,m,e,l);break e;case 1:n=Uf(null,n,m,e,l);break e;case 11:n=Of(null,n,m,e,l);break e;case 14:n=Nf(null,n,m,zi(m.type,e),l);break e}throw Error(h(306,m,""))}return n;case 0:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:zi(m,b),ih(e,n,m,b,l);case 1:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:zi(m,b),Uf(e,n,m,b,l);case 3:e:{if(Hf(n),e===null)throw Error(h(387));m=n.pendingProps,C=n.memoizedState,b=C.element,Ju(e,n),Tl(n,m,null,l);var O=n.memoizedState;if(m=O.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},n.updateQueue.baseState=C,n.memoizedState=C,n.flags&256){b=Al(Error(h(423)),n),n=Wf(e,n,m,l,b);break e}else if(m!==b){b=Al(Error(h(424)),n),n=Wf(e,n,m,l,b);break e}else for(fr=Pr(n.stateNode.containerInfo.firstChild),dr=n,Ht=!0,$n=null,l=$u(n,null,m,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ni(),m===b){n=no(e,n,l);break e}mr(e,n,m,l)}n=n.child}return n;case 5:return T(n),e===null&&au(n),m=n.type,b=n.pendingProps,C=e!==null?e.memoizedProps:null,O=b.children,xt(m,b)?O=null:C!==null&&xt(m,C)&&(n.flags|=32),zf(e,n),mr(e,n,O,l),n.child;case 6:return e===null&&au(n),null;case 13:return qf(e,n,l);case 4:return k(n,n.stateNode.containerInfo),m=n.pendingProps,e===null?n.child=Fo(n,null,m,l):mr(e,n,m,l),n.child;case 11:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:zi(m,b),Of(e,n,m,b,l);case 7:return mr(e,n,n.pendingProps,l),n.child;case 8:return mr(e,n,n.pendingProps.children,l),n.child;case 12:return mr(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(m=n.type._context,b=n.pendingProps,C=n.memoizedProps,O=b.value,jt(Ia,m._currentValue),m._currentValue=O,C!==null)if(lr(C.value,O)){if(C.children===b.children&&!Kn.current){n=no(e,n,l);break e}}else for(C=n.child,C!==null&&(C.return=n);C!==null;){var $=C.dependencies;if($!==null){O=C.child;for(var re=$.firstContext;re!==null;){if(re.context===m){if(C.tag===1){re=Fi(-1,l&-l),re.tag=2;var ke=C.updateQueue;if(ke!==null){ke=ke.shared;var Ie=ke.pending;Ie===null?re.next=re:(re.next=Ie.next,Ie.next=re),ke.pending=re}}C.lanes|=l,re=C.alternate,re!==null&&(re.lanes|=l),pu(C.return,l,n),$.lanes|=l;break}re=re.next}}else if(C.tag===10)O=C.type===n.type?null:C.child;else if(C.tag===18){if(O=C.return,O===null)throw Error(h(341));O.lanes|=l,$=O.alternate,$!==null&&($.lanes|=l),pu(O,l,n),O=C.sibling}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===n){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}mr(e,n,b.children,l),n=n.child}return n;case 9:return b=n.type,m=n.pendingProps.children,eo(n,l),b=En(b),m=m(b),n.flags|=1,mr(e,n,m,l),n.child;case 14:return m=n.type,b=zi(m,n.pendingProps),b=zi(m.type,b),Nf(e,n,m,b,l);case 15:return If(e,n,n.type,n.pendingProps,l);case 17:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:zi(m,b),nc(e,n),n.tag=1,kn(m)?(e=!0,Aa(n)):e=!1,eo(n,l),Mf(n,m,b),th(n,m,b,l),sh(null,n,m,!0,e,l);case 19:return Gf(e,n,l);case 22:return Ff(e,n,l)}throw Error(h(156,n.tag))};function gp(e,n){return ol(e,n)}function n_(e,n,l,m){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,n,l,m){return new n_(e,n,l,m)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r_(e){if(typeof e=="function")return kh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lt)return 11;if(e===Bt)return 14}return 2}function Zo(e,n){var l=e.alternate;return l===null?(l=fi(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function fc(e,n,l,m,b,C){var O=2;if(m=e,typeof e=="function")kh(e)&&(O=1);else if(typeof e=="string")O=5;else e:switch(e){case ge:return qa(l.children,b,C,n);case oe:O=8,b|=8;break;case xe:return e=fi(12,l,n,b|2),e.elementType=xe,e.lanes=C,e;case ze:return e=fi(13,l,n,b),e.elementType=ze,e.lanes=C,e;case wt:return e=fi(19,l,n,b),e.elementType=wt,e.lanes=C,e;case rt:return pc(l,b,C,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ae:O=10;break e;case Ge:O=9;break e;case lt:O=11;break e;case Bt:O=14;break e;case Re:O=16,m=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return n=fi(O,l,n,b),n.elementType=e,n.type=m,n.lanes=C,n}function qa(e,n,l,m){return e=fi(7,e,m,n),e.lanes=l,e}function pc(e,n,l,m){return e=fi(22,e,m,n),e.elementType=rt,e.lanes=l,e.stateNode={isHidden:!1},e}function Eh(e,n,l){return e=fi(6,e,null,n),e.lanes=l,e}function Sh(e,n,l){return n=fi(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function i_(e,n,l,m,b){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Ph(e,n,l,m,b,C,O,$,re){return e=new i_(e,n,l,$,re),n===1?(n=1,C===!0&&(n|=8)):n=0,C=fi(3,null,null,n),e.current=C,C.stateNode=e,C.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ci(C),e}function s_(e,n,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:m==null?null:""+m,children:e,containerInfo:n,implementation:l}}function _p(e){if(!e)return bs;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(h(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(kn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(h(171))}if(e.tag===1){var l=e.type;if(kn(l))return qu(e,l,n)}return n}function yp(e,n,l,m,b,C,O,$,re){return e=Ph(l,m,!0,e,b,C,O,$,re),e.context=_p(null),l=e.current,m=gr(),b=Vo(l),C=Fi(m,b),C.callback=n??null,hi(l,C,b),e.current.lanes=b,nr(e,b,m),Ar(e,m),e}function mc(e,n,l,m){var b=n.current,C=gr(),O=Vo(b);return l=_p(l),n.context===null?n.context=l:n.pendingContext=l,n=Fi(C,O),n.payload={element:e},m=m===void 0?null:m,m!==null&&(n.callback=m),e=hi(b,n,O),e!==null&&(Wi(e,b,O,C),jl(e,b,O)),O}function gc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Mh(e,n){vp(e,n),(e=e.alternate)&&vp(e,n)}function o_(){return null}var xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bh(e){this._internalRoot=e}_c.prototype.render=Bh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));mc(e,n,null,null)},_c.prototype.unmount=Bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ua(function(){mc(null,e,null,null)}),n[$e]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=xo();e={blockedOn:null,target:e,priority:n};for(var l=0;l<hn.length&&n!==0&&n<hn[l].priority;l++);hn.splice(l,0,e),l===0&&wo(e)}};function jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wp(){}function a_(e,n,l,m,b){if(b){if(typeof m=="function"){var C=m;m=function(){var ke=gc(O);C.call(ke)}}var O=yp(n,m,e,0,null,!1,!1,"",wp);return e._reactRootContainer=O,e[$e]=O.current,xs(e.nodeType===8?e.parentNode:e),Ua(),O}for(;b=e.lastChild;)e.removeChild(b);if(typeof m=="function"){var $=m;m=function(){var ke=gc(re);$.call(ke)}}var re=Ph(e,0,!1,null,null,!1,!1,"",wp);return e._reactRootContainer=re,e[$e]=re.current,xs(e.nodeType===8?e.parentNode:e),Ua(function(){mc(n,re,l,m)}),re}function vc(e,n,l,m,b){var C=l._reactRootContainer;if(C){var O=C;if(typeof b=="function"){var $=b;b=function(){var re=gc(O);$.call(re)}}mc(n,O,e,b)}else O=a_(l,n,e,b,m);return gc(O)}yo=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=gt(n.pendingLanes);l!==0&&(vr(n,l|1),Ar(n,$t()),(Dt&6)===0&&(Nl=$t()+500,Mr()))}break;case 13:Ua(function(){var m=Ii(e,1);if(m!==null){var b=gr();Wi(m,e,1,b)}}),Mh(e,1)}},wi=function(e){if(e.tag===13){var n=Ii(e,134217728);if(n!==null){var l=gr();Wi(n,e,134217728,l)}Mh(e,134217728)}},vo=function(e){if(e.tag===13){var n=Vo(e),l=Ii(e,n);if(l!==null){var m=gr();Wi(l,e,n,m)}Mh(e,n)}},xo=function(){return Mt},Fs=function(e,n){var l=Mt;try{return Mt=e,n()}finally{Mt=l}},Ds=function(e,n,l){switch(n){case"input":if(Xi(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var m=l[n];if(m!==e&&m.form===e.form){var b=Ln(m);if(!b)throw Error(h(90));Ki(m),Xi(m,b)}}}break;case"textarea":Ya(e,l);break;case"select":n=l.value,n!=null&&Kr(e,!!l.multiple,n,!1)}},la=bh,nl=Ua;var l_={usingClientEntryPoint:!1,Events:[ai,an,Ln,tl,aa,bh]},wu={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u_={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=il(e),e===null?null:e.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Ns=xc.inject(u_),tr=xc}catch{}}return Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_,Rr.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(n))throw Error(h(200));return s_(e,n,null,l)},Rr.createRoot=function(e,n){if(!jh(e))throw Error(h(299));var l=!1,m="",b=xp;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Ph(e,1,!1,null,null,l,!1,m,b),e[$e]=n.current,xs(e.nodeType===8?e.parentNode:e),new Bh(n)},Rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=il(n),e=e===null?null:e.stateNode,e},Rr.flushSync=function(e){return Ua(e)},Rr.hydrate=function(e,n,l){if(!yc(n))throw Error(h(200));return vc(null,e,n,!0,l)},Rr.hydrateRoot=function(e,n,l){if(!jh(e))throw Error(h(405));var m=l!=null&&l.hydratedSources||null,b=!1,C="",O=xp;if(l!=null&&(l.unstable_strictMode===!0&&(b=!0),l.identifierPrefix!==void 0&&(C=l.identifierPrefix),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),n=yp(n,null,e,1,l??null,b,!1,C,O),e[$e]=n.current,xs(e),m)for(e=0;e<m.length;e++)l=m[e],b=l._getVersion,b=b(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,b]:n.mutableSourceEagerHydrationData.push(l,b);return new _c(n)},Rr.render=function(e,n,l){if(!yc(n))throw Error(h(200));return vc(null,e,n,!1,l)},Rr.unmountComponentAtNode=function(e){if(!yc(e))throw Error(h(40));return e._reactRootContainer?(Ua(function(){vc(null,null,e,!1,function(){e._reactRootContainer=null,e[$e]=null})}),!0):!1},Rr.unstable_batchedUpdates=bh,Rr.unstable_renderSubtreeIntoContainer=function(e,n,l,m){if(!yc(l))throw Error(h(200));if(e==null||e._reactInternals===void 0)throw Error(h(38));return vc(e,n,l,!1,m)},Rr.version="18.3.1-next-f1338f8080-20240426",Rr}var Mp;function _g(){if(Mp)return Ah.exports;Mp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(u){console.error(u)}}return o(),Ah.exports=g_(),Ah.exports}var Bp;function __(){if(Bp)return wc;Bp=1;var o=_g();return wc.createRoot=o.createRoot,wc.hydrateRoot=o.hydrateRoot,wc}var y_=__();const v_=Du(y_);var jp="popstate";function x_(o={}){function u(p,_){let{pathname:v,search:y,hash:P}=p.location;return Wd("",{pathname:v,search:y,hash:P},_.state&&_.state.usr||null,_.state&&_.state.key||"default")}function h(p,_){return typeof _=="string"?_:ju(_)}return b_(u,h,null,o)}function rn(o,u){if(o===!1||o===null||typeof o>"u")throw new Error(u)}function pi(o,u){if(!o){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function w_(){return Math.random().toString(36).substring(2,10)}function Tp(o,u){return{usr:o.state,key:o.key,idx:u}}function Wd(o,u,h=null,p){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof u=="string"?Ul(u):u,state:h,key:u&&u.key||p||w_()}}function ju({pathname:o="/",search:u="",hash:h=""}){return u&&u!=="?"&&(o+=u.charAt(0)==="?"?u:"?"+u),h&&h!=="#"&&(o+=h.charAt(0)==="#"?h:"#"+h),o}function Ul(o){let u={};if(o){let h=o.indexOf("#");h>=0&&(u.hash=o.substring(h),o=o.substring(0,h));let p=o.indexOf("?");p>=0&&(u.search=o.substring(p),o=o.substring(0,p)),o&&(u.pathname=o)}return u}function b_(o,u,h,p={}){let{window:_=document.defaultView,v5Compat:v=!1}=p,y=_.history,P="POP",B=null,D=S();D==null&&(D=0,y.replaceState({...y.state,idx:D},""));function S(){return(y.state||{idx:null}).idx}function j(){P="POP";let H=S(),Le=H==null?null:H-D;D=H,B&&B({action:P,location:Z.location,delta:Le})}function F(H,Le){P="PUSH";let I=Wd(Z.location,H,Le);D=S()+1;let te=Tp(I,D),J=Z.createHref(I);try{y.pushState(te,"",J)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;_.location.assign(J)}v&&B&&B({action:P,location:Z.location,delta:1})}function ie(H,Le){P="REPLACE";let I=Wd(Z.location,H,Le);D=S();let te=Tp(I,D),J=Z.createHref(I);y.replaceState(te,"",J),v&&B&&B({action:P,location:Z.location,delta:0})}function K(H){return C_(H)}let Z={get action(){return P},get location(){return o(_,y)},listen(H){if(B)throw new Error("A history only accepts one active listener");return _.addEventListener(jp,j),B=H,()=>{_.removeEventListener(jp,j),B=null}},createHref(H){return u(_,H)},createURL:K,encodeLocation(H){let Le=K(H);return{pathname:Le.pathname,search:Le.search,hash:Le.hash}},push:F,replace:ie,go(H){return y.go(H)}};return Z}function C_(o,u=!1){let h="http://localhost";typeof window<"u"&&(h=window.location.origin!=="null"?window.location.origin:window.location.href),rn(h,"No window.location.(origin|href) available to create URL");let p=typeof o=="string"?o:ju(o);return p=p.replace(/ $/,"%20"),!u&&p.startsWith("//")&&(p=h+p),new URL(p,h)}function yg(o,u,h="/"){return L_(o,u,h,!1)}function L_(o,u,h,p){let _=typeof u=="string"?Ul(u):u,v=so(_.pathname||"/",h);if(v==null)return null;let y=vg(o);k_(y);let P=null;for(let B=0;P==null&&B<y.length;++B){let D=O_(v);P=A_(y[B],D,p)}return P}function vg(o,u=[],h=[],p="",_=!1){let v=(y,P,B=_,D)=>{let S={relativePath:D===void 0?y.path||"":D,caseSensitive:y.caseSensitive===!0,childrenIndex:P,route:y};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(p)&&B)return;rn(S.relativePath.startsWith(p),`Absolute route path "${S.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(p.length)}let j=io([p,S.relativePath]),F=h.concat(S);y.children&&y.children.length>0&&(rn(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),vg(y.children,u,F,j,B)),!(y.path==null&&!y.index)&&u.push({path:j,score:T_(j,y.index),routesMeta:F})};return o.forEach((y,P)=>{if(y.path===""||!y.path?.includes("?"))v(y,P);else for(let B of xg(y.path))v(y,P,!0,B)}),u}function xg(o){let u=o.split("/");if(u.length===0)return[];let[h,...p]=u,_=h.endsWith("?"),v=h.replace(/\?$/,"");if(p.length===0)return _?[v,""]:[v];let y=xg(p.join("/")),P=[];return P.push(...y.map(B=>B===""?v:[v,B].join("/"))),_&&P.push(...y),P.map(B=>o.startsWith("/")&&B===""?"/":B)}function k_(o){o.sort((u,h)=>u.score!==h.score?h.score-u.score:D_(u.routesMeta.map(p=>p.childrenIndex),h.routesMeta.map(p=>p.childrenIndex)))}var E_=/^:[\w-]+$/,S_=3,P_=2,M_=1,B_=10,j_=-2,Dp=o=>o==="*";function T_(o,u){let h=o.split("/"),p=h.length;return h.some(Dp)&&(p+=j_),u&&(p+=P_),h.filter(_=>!Dp(_)).reduce((_,v)=>_+(E_.test(v)?S_:v===""?M_:B_),p)}function D_(o,u){return o.length===u.length&&o.slice(0,-1).every((p,_)=>p===u[_])?o[o.length-1]-u[u.length-1]:0}function A_(o,u,h=!1){let{routesMeta:p}=o,_={},v="/",y=[];for(let P=0;P<p.length;++P){let B=p[P],D=P===p.length-1,S=v==="/"?u:u.slice(v.length)||"/",j=Nc({path:B.relativePath,caseSensitive:B.caseSensitive,end:D},S),F=B.route;if(!j&&D&&h&&!p[p.length-1].route.index&&(j=Nc({path:B.relativePath,caseSensitive:B.caseSensitive,end:!1},S)),!j)return null;Object.assign(_,j.params),y.push({params:_,pathname:io([v,j.pathname]),pathnameBase:U_(io([v,j.pathnameBase])),route:F}),j.pathnameBase!=="/"&&(v=io([v,j.pathnameBase]))}return y}function Nc(o,u){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[h,p]=R_(o.path,o.caseSensitive,o.end),_=u.match(h);if(!_)return null;let v=_[0],y=v.replace(/(.)\/+$/,"$1"),P=_.slice(1);return{params:p.reduce((D,{paramName:S,isOptional:j},F)=>{if(S==="*"){let K=P[F]||"";y=v.slice(0,v.length-K.length).replace(/(.)\/+$/,"$1")}const ie=P[F];return j&&!ie?D[S]=void 0:D[S]=(ie||"").replace(/%2F/g,"/"),D},{}),pathname:v,pathnameBase:y,pattern:o}}function R_(o,u=!1,h=!0){pi(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let p=[],_="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,P,B)=>(p.push({paramName:P,isOptional:B!=null}),B?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(p.push({paramName:"*"}),_+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?_+="\\/*$":o!==""&&o!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,u?void 0:"i"),p]}function O_(o){try{return o.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return pi(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${u}).`),o}}function so(o,u){if(u==="/")return o;if(!o.toLowerCase().startsWith(u.toLowerCase()))return null;let h=u.endsWith("/")?u.length-1:u.length,p=o.charAt(h);return p&&p!=="/"?null:o.slice(h)||"/"}var N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I_=o=>N_.test(o);function F_(o,u="/"){let{pathname:h,search:p="",hash:_=""}=typeof o=="string"?Ul(o):o,v;if(h)if(I_(h))v=h;else{if(h.includes("//")){let y=h;h=h.replace(/\/\/+/g,"/"),pi(!1,`Pathnames cannot have embedded double slashes - normalizing ${y} -> ${h}`)}h.startsWith("/")?v=Ap(h.substring(1),"/"):v=Ap(h,u)}else v=u;return{pathname:v,search:H_(p),hash:W_(_)}}function Ap(o,u){let h=u.replace(/\/+$/,"").split("/");return o.split("/").forEach(_=>{_===".."?h.length>1&&h.pop():_!=="."&&h.push(_)}),h.length>1?h.join("/"):"/"}function Nh(o,u,h,p){return`Cannot include a '${o}' character in a manually specified \`to.${u}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${h}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z_(o){return o.filter((u,h)=>h===0||u.route.path&&u.route.path.length>0)}function Yd(o){let u=z_(o);return u.map((h,p)=>p===u.length-1?h.pathname:h.pathnameBase)}function Qd(o,u,h,p=!1){let _;typeof o=="string"?_=Ul(o):(_={...o},rn(!_.pathname||!_.pathname.includes("?"),Nh("?","pathname","search",_)),rn(!_.pathname||!_.pathname.includes("#"),Nh("#","pathname","hash",_)),rn(!_.search||!_.search.includes("#"),Nh("#","search","hash",_)));let v=o===""||_.pathname==="",y=v?"/":_.pathname,P;if(y==null)P=h;else{let j=u.length-1;if(!p&&y.startsWith("..")){let F=y.split("/");for(;F[0]==="..";)F.shift(),j-=1;_.pathname=F.join("/")}P=j>=0?u[j]:"/"}let B=F_(_,P),D=y&&y!=="/"&&y.endsWith("/"),S=(v||y===".")&&h.endsWith("/");return!B.pathname.endsWith("/")&&(D||S)&&(B.pathname+="/"),B}var io=o=>o.join("/").replace(/\/\/+/g,"/"),U_=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),H_=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,W_=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function q_(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wg=["POST","PUT","PATCH","DELETE"];new Set(wg);var V_=["GET",...wg];new Set(V_);var Hl=U.createContext(null);Hl.displayName="DataRouter";var zc=U.createContext(null);zc.displayName="DataRouterState";U.createContext(!1);var bg=U.createContext({isTransitioning:!1});bg.displayName="ViewTransition";var G_=U.createContext(new Map);G_.displayName="Fetchers";var Z_=U.createContext(null);Z_.displayName="Await";var Vi=U.createContext(null);Vi.displayName="Navigation";var Au=U.createContext(null);Au.displayName="Location";var Ps=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ps.displayName="Route";var ef=U.createContext(null);ef.displayName="RouteError";function K_(o,{relative:u}={}){rn(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:h,navigator:p}=U.useContext(Vi),{hash:_,pathname:v,search:y}=Ru(o,{relative:u}),P=v;return h!=="/"&&(P=v==="/"?h:io([h,v])),p.createHref({pathname:P,search:y,hash:_})}function Wl(){return U.useContext(Au)!=null}function Ms(){return rn(Wl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Au).location}var Cg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lg(o){U.useContext(Vi).static||U.useLayoutEffect(o)}function Uc(){let{isDataRoute:o}=U.useContext(Ps);return o?ay():$_()}function $_(){rn(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let o=U.useContext(Hl),{basename:u,navigator:h}=U.useContext(Vi),{matches:p}=U.useContext(Ps),{pathname:_}=Ms(),v=JSON.stringify(Yd(p)),y=U.useRef(!1);return Lg(()=>{y.current=!0}),U.useCallback((B,D={})=>{if(pi(y.current,Cg),!y.current)return;if(typeof B=="number"){h.go(B);return}let S=Qd(B,JSON.parse(v),_,D.relative==="path");o==null&&u!=="/"&&(S.pathname=S.pathname==="/"?u:io([u,S.pathname])),(D.replace?h.replace:h.push)(S,D.state,D)},[u,h,v,_,o])}U.createContext(null);function Ru(o,{relative:u}={}){let{matches:h}=U.useContext(Ps),{pathname:p}=Ms(),_=JSON.stringify(Yd(h));return U.useMemo(()=>Qd(o,JSON.parse(_),p,u==="path"),[o,_,p,u])}function X_(o,u){return kg(o,u)}function kg(o,u,h,p,_){rn(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:v}=U.useContext(Vi),{matches:y}=U.useContext(Ps),P=y[y.length-1],B=P?P.params:{},D=P?P.pathname:"/",S=P?P.pathnameBase:"/",j=P&&P.route;{let I=j&&j.path||"";Eg(D,!j||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${D}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let F=Ms(),ie;if(u){let I=typeof u=="string"?Ul(u):u;rn(S==="/"||I.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${I.pathname}" was given in the \`location\` prop.`),ie=I}else ie=F;let K=ie.pathname||"/",Z=K;if(S!=="/"){let I=S.replace(/^\//,"").split("/");Z="/"+K.replace(/^\//,"").split("/").slice(I.length).join("/")}let H=yg(o,{pathname:Z});pi(j||H!=null,`No routes matched location "${ie.pathname}${ie.search}${ie.hash}" `),pi(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${ie.pathname}${ie.search}${ie.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Le=ty(H&&H.map(I=>Object.assign({},I,{params:Object.assign({},B,I.params),pathname:io([S,v.encodeLocation?v.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?S:io([S,v.encodeLocation?v.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),y,h,p,_);return u&&Le?U.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ie},navigationType:"POP"}},Le):Le}function J_(){let o=oy(),u=q_(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),h=o instanceof Error?o.stack:null,p="rgba(200,200,200, 0.5)",_={padding:"0.5rem",backgroundColor:p},v={padding:"2px 4px",backgroundColor:p},y=null;return console.error("Error handled by React Router default ErrorBoundary:",o),y=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:v},"ErrorBoundary")," or"," ",U.createElement("code",{style:v},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},u),h?U.createElement("pre",{style:_},h):null,y)}var Y_=U.createElement(J_,null),Q_=class extends U.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,u){return u.location!==o.location||u.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:u.error,location:u.location,revalidation:o.revalidation||u.revalidation}}componentDidCatch(o,u){this.props.onError?this.props.onError(o,u):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?U.createElement(Ps.Provider,{value:this.props.routeContext},U.createElement(ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ey({routeContext:o,match:u,children:h}){let p=U.useContext(Hl);return p&&p.static&&p.staticContext&&(u.route.errorElement||u.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=u.route.id),U.createElement(Ps.Provider,{value:o},h)}function ty(o,u=[],h=null,p=null,_=null){if(o==null){if(!h)return null;if(h.errors)o=h.matches;else if(u.length===0&&!h.initialized&&h.matches.length>0)o=h.matches;else return null}let v=o,y=h?.errors;if(y!=null){let S=v.findIndex(j=>j.route.id&&y?.[j.route.id]!==void 0);rn(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),v=v.slice(0,Math.min(v.length,S+1))}let P=!1,B=-1;if(h)for(let S=0;S<v.length;S++){let j=v[S];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(B=S),j.route.id){let{loaderData:F,errors:ie}=h,K=j.route.loader&&!F.hasOwnProperty(j.route.id)&&(!ie||ie[j.route.id]===void 0);if(j.route.lazy||K){P=!0,B>=0?v=v.slice(0,B+1):v=[v[0]];break}}}let D=h&&p?(S,j)=>{p(S,{location:h.location,params:h.matches?.[0]?.params??{},errorInfo:j})}:void 0;return v.reduceRight((S,j,F)=>{let ie,K=!1,Z=null,H=null;h&&(ie=y&&j.route.id?y[j.route.id]:void 0,Z=j.route.errorElement||Y_,P&&(B<0&&F===0?(Eg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,H=null):B===F&&(K=!0,H=j.route.hydrateFallbackElement||null)));let Le=u.concat(v.slice(0,F+1)),I=()=>{let te;return ie?te=Z:K?te=H:j.route.Component?te=U.createElement(j.route.Component,null):j.route.element?te=j.route.element:te=S,U.createElement(ey,{match:j,routeContext:{outlet:S,matches:Le,isDataRoute:h!=null},children:te})};return h&&(j.route.ErrorBoundary||j.route.errorElement||F===0)?U.createElement(Q_,{location:h.location,revalidation:h.revalidation,component:Z,error:ie,children:I(),routeContext:{outlet:null,matches:Le,isDataRoute:!0},onError:D}):I()},null)}function tf(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ny(o){let u=U.useContext(Hl);return rn(u,tf(o)),u}function ry(o){let u=U.useContext(zc);return rn(u,tf(o)),u}function iy(o){let u=U.useContext(Ps);return rn(u,tf(o)),u}function nf(o){let u=iy(o),h=u.matches[u.matches.length-1];return rn(h.route.id,`${o} can only be used on routes that contain a unique "id"`),h.route.id}function sy(){return nf("useRouteId")}function oy(){let o=U.useContext(ef),u=ry("useRouteError"),h=nf("useRouteError");return o!==void 0?o:u.errors?.[h]}function ay(){let{router:o}=ny("useNavigate"),u=nf("useNavigate"),h=U.useRef(!1);return Lg(()=>{h.current=!0}),U.useCallback(async(_,v={})=>{pi(h.current,Cg),h.current&&(typeof _=="number"?o.navigate(_):await o.navigate(_,{fromRouteId:u,...v}))},[o,u])}var Rp={};function Eg(o,u,h){!u&&!Rp[o]&&(Rp[o]=!0,pi(!1,h))}U.memo(ly);function ly({routes:o,future:u,state:h,unstable_onError:p}){return kg(o,void 0,h,p,u)}function Or({to:o,replace:u,state:h,relative:p}){rn(Wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:_}=U.useContext(Vi);pi(!_,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:v}=U.useContext(Ps),{pathname:y}=Ms(),P=Uc(),B=Qd(o,Yd(v),y,p==="path"),D=JSON.stringify(B);return U.useEffect(()=>{P(JSON.parse(D),{replace:u,state:h,relative:p})},[P,D,p,u,h]),null}function Ot(o){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uy({basename:o="/",children:u=null,location:h,navigationType:p="POP",navigator:_,static:v=!1}){rn(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=o.replace(/^\/*/,"/"),P=U.useMemo(()=>({basename:y,navigator:_,static:v,future:{}}),[y,_,v]);typeof h=="string"&&(h=Ul(h));let{pathname:B="/",search:D="",hash:S="",state:j=null,key:F="default"}=h,ie=U.useMemo(()=>{let K=so(B,y);return K==null?null:{location:{pathname:K,search:D,hash:S,state:j,key:F},navigationType:p}},[y,B,D,S,j,F,p]);return pi(ie!=null,`<Router basename="${y}"> is not able to match the URL "${B}${D}${S}" because it does not start with the basename, so the <Router> won't render anything.`),ie==null?null:U.createElement(Vi.Provider,{value:P},U.createElement(Au.Provider,{children:u,value:ie}))}function Sg({children:o,location:u}){return X_(qd(o),u)}function qd(o,u=[]){let h=[];return U.Children.forEach(o,(p,_)=>{if(!U.isValidElement(p))return;let v=[...u,_];if(p.type===U.Fragment){h.push.apply(h,qd(p.props.children,v));return}rn(p.type===Ot,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!p.props.index||!p.props.children,"An index route cannot have child routes.");let y={id:p.props.id||v.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,middleware:p.props.middleware,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(y.children=qd(p.props.children,v)),h.push(y)}),h}var jc="get",Tc="application/x-www-form-urlencoded";function Hc(o){return o!=null&&typeof o.tagName=="string"}function cy(o){return Hc(o)&&o.tagName.toLowerCase()==="button"}function hy(o){return Hc(o)&&o.tagName.toLowerCase()==="form"}function dy(o){return Hc(o)&&o.tagName.toLowerCase()==="input"}function fy(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function py(o,u){return o.button===0&&(!u||u==="_self")&&!fy(o)}var bc=null;function my(){if(bc===null)try{new FormData(document.createElement("form"),0),bc=!1}catch{bc=!0}return bc}var gy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ih(o){return o!=null&&!gy.has(o)?(pi(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):o}function _y(o,u){let h,p,_,v,y;if(hy(o)){let P=o.getAttribute("action");p=P?so(P,u):null,h=o.getAttribute("method")||jc,_=Ih(o.getAttribute("enctype"))||Tc,v=new FormData(o)}else if(cy(o)||dy(o)&&(o.type==="submit"||o.type==="image")){let P=o.form;if(P==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let B=o.getAttribute("formaction")||P.getAttribute("action");if(p=B?so(B,u):null,h=o.getAttribute("formmethod")||P.getAttribute("method")||jc,_=Ih(o.getAttribute("formenctype"))||Ih(P.getAttribute("enctype"))||Tc,v=new FormData(P,o),!my()){let{name:D,type:S,value:j}=o;if(S==="image"){let F=D?`${D}.`:"";v.append(`${F}x`,"0"),v.append(`${F}y`,"0")}else D&&v.append(D,j)}}else{if(Hc(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');h=jc,p=null,_=Tc,y=o}return v&&_==="text/plain"&&(y=v,v=void 0),{action:p,method:h.toLowerCase(),encType:_,formData:v,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rf(o,u){if(o===!1||o===null||typeof o>"u")throw new Error(u)}function yy(o,u,h){let p=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return p.pathname==="/"?p.pathname=`_root.${h}`:u&&so(p.pathname,u)==="/"?p.pathname=`${u.replace(/\/$/,"")}/_root.${h}`:p.pathname=`${p.pathname.replace(/\/$/,"")}.${h}`,p}async function vy(o,u){if(o.id in u)return u[o.id];try{let h=await import(o.module);return u[o.id]=h,h}catch(h){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(h),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xy(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function wy(o,u,h){let p=await Promise.all(o.map(async _=>{let v=u.routes[_.route.id];if(v){let y=await vy(v,h);return y.links?y.links():[]}return[]}));return ky(p.flat(1).filter(xy).filter(_=>_.rel==="stylesheet"||_.rel==="preload").map(_=>_.rel==="stylesheet"?{..._,rel:"prefetch",as:"style"}:{..._,rel:"prefetch"}))}function Op(o,u,h,p,_,v){let y=(B,D)=>h[D]?B.route.id!==h[D].route.id:!0,P=(B,D)=>h[D].pathname!==B.pathname||h[D].route.path?.endsWith("*")&&h[D].params["*"]!==B.params["*"];return v==="assets"?u.filter((B,D)=>y(B,D)||P(B,D)):v==="data"?u.filter((B,D)=>{let S=p.routes[B.route.id];if(!S||!S.hasLoader)return!1;if(y(B,D)||P(B,D))return!0;if(B.route.shouldRevalidate){let j=B.route.shouldRevalidate({currentUrl:new URL(_.pathname+_.search+_.hash,window.origin),currentParams:h[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:B.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function by(o,u,{includeHydrateFallback:h}={}){return Cy(o.map(p=>{let _=u.routes[p.route.id];if(!_)return[];let v=[_.module];return _.clientActionModule&&(v=v.concat(_.clientActionModule)),_.clientLoaderModule&&(v=v.concat(_.clientLoaderModule)),h&&_.hydrateFallbackModule&&(v=v.concat(_.hydrateFallbackModule)),_.imports&&(v=v.concat(_.imports)),v}).flat(1))}function Cy(o){return[...new Set(o)]}function Ly(o){let u={},h=Object.keys(o).sort();for(let p of h)u[p]=o[p];return u}function ky(o,u){let h=new Set;return new Set(u),o.reduce((p,_)=>{let v=JSON.stringify(Ly(_));return h.has(v)||(h.add(v),p.push({key:v,link:_})),p},[])}function Pg(){let o=U.useContext(Hl);return rf(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function Ey(){let o=U.useContext(zc);return rf(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var sf=U.createContext(void 0);sf.displayName="FrameworkContext";function Mg(){let o=U.useContext(sf);return rf(o,"You must render this element inside a <HydratedRouter> element"),o}function Sy(o,u){let h=U.useContext(sf),[p,_]=U.useState(!1),[v,y]=U.useState(!1),{onFocus:P,onBlur:B,onMouseEnter:D,onMouseLeave:S,onTouchStart:j}=u,F=U.useRef(null);U.useEffect(()=>{if(o==="render"&&y(!0),o==="viewport"){let Z=Le=>{Le.forEach(I=>{y(I.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return F.current&&H.observe(F.current),()=>{H.disconnect()}}},[o]),U.useEffect(()=>{if(p){let Z=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(Z)}}},[p]);let ie=()=>{_(!0)},K=()=>{_(!1),y(!1)};return h?o!=="intent"?[v,F,{}]:[v,F,{onFocus:Cu(P,ie),onBlur:Cu(B,K),onMouseEnter:Cu(D,ie),onMouseLeave:Cu(S,K),onTouchStart:Cu(j,ie)}]:[!1,F,{}]}function Cu(o,u){return h=>{o&&o(h),h.defaultPrevented||u(h)}}function Py({page:o,...u}){let{router:h}=Pg(),p=U.useMemo(()=>yg(h.routes,o,h.basename),[h.routes,o,h.basename]);return p?U.createElement(By,{page:o,matches:p,...u}):null}function My(o){let{manifest:u,routeModules:h}=Mg(),[p,_]=U.useState([]);return U.useEffect(()=>{let v=!1;return wy(o,u,h).then(y=>{v||_(y)}),()=>{v=!0}},[o,u,h]),p}function By({page:o,matches:u,...h}){let p=Ms(),{manifest:_,routeModules:v}=Mg(),{basename:y}=Pg(),{loaderData:P,matches:B}=Ey(),D=U.useMemo(()=>Op(o,u,B,_,p,"data"),[o,u,B,_,p]),S=U.useMemo(()=>Op(o,u,B,_,p,"assets"),[o,u,B,_,p]),j=U.useMemo(()=>{if(o===p.pathname+p.search+p.hash)return[];let K=new Set,Z=!1;if(u.forEach(Le=>{let I=_.routes[Le.route.id];!I||!I.hasLoader||(!D.some(te=>te.route.id===Le.route.id)&&Le.route.id in P&&v[Le.route.id]?.shouldRevalidate||I.hasClientLoader?Z=!0:K.add(Le.route.id))}),K.size===0)return[];let H=yy(o,y,"data");return Z&&K.size>0&&H.searchParams.set("_routes",u.filter(Le=>K.has(Le.route.id)).map(Le=>Le.route.id).join(",")),[H.pathname+H.search]},[y,P,p,_,D,u,o,v]),F=U.useMemo(()=>by(S,_),[S,_]),ie=My(S);return U.createElement(U.Fragment,null,j.map(K=>U.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...h})),F.map(K=>U.createElement("link",{key:K,rel:"modulepreload",href:K,...h})),ie.map(({key:K,link:Z})=>U.createElement("link",{key:K,nonce:h.nonce,...Z})))}function jy(...o){return u=>{o.forEach(h=>{typeof h=="function"?h(u):h!=null&&(h.current=u)})}}var Bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bg&&(window.__reactRouterVersion="7.9.6")}catch{}function Ty({basename:o,children:u,window:h}){let p=U.useRef();p.current==null&&(p.current=x_({window:h,v5Compat:!0}));let _=p.current,[v,y]=U.useState({action:_.action,location:_.location}),P=U.useCallback(B=>{U.startTransition(()=>y(B))},[y]);return U.useLayoutEffect(()=>_.listen(P),[_,P]),U.createElement(uy,{basename:o,children:u,location:v.location,navigationType:v.action,navigator:_})}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tg=U.forwardRef(function({onClick:u,discover:h="render",prefetch:p="none",relative:_,reloadDocument:v,replace:y,state:P,target:B,to:D,preventScrollReset:S,viewTransition:j,...F},ie){let{basename:K}=U.useContext(Vi),Z=typeof D=="string"&&jg.test(D),H,Le=!1;if(typeof D=="string"&&Z&&(H=D,Bg))try{let xe=new URL(window.location.href),Ae=D.startsWith("//")?new URL(xe.protocol+D):new URL(D),Ge=so(Ae.pathname,K);Ae.origin===xe.origin&&Ge!=null?D=Ge+Ae.search+Ae.hash:Le=!0}catch{pi(!1,`<Link to="${D}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=K_(D,{relative:_}),[te,J,Y]=Sy(p,F),he=Ry(D,{replace:y,state:P,target:B,preventScrollReset:S,relative:_,viewTransition:j});function ge(xe){u&&u(xe),xe.defaultPrevented||he(xe)}let oe=U.createElement("a",{...F,...Y,href:H||I,onClick:Le||v?u:ge,ref:jy(ie,J),target:B,"data-discover":!Z&&h==="render"?"true":void 0});return te&&!Z?U.createElement(U.Fragment,null,oe,U.createElement(Py,{page:I})):oe});Tg.displayName="Link";var Qn=U.forwardRef(function({"aria-current":u="page",caseSensitive:h=!1,className:p="",end:_=!1,style:v,to:y,viewTransition:P,children:B,...D},S){let j=Ru(y,{relative:D.relative}),F=Ms(),ie=U.useContext(zc),{navigator:K,basename:Z}=U.useContext(Vi),H=ie!=null&&zy(j)&&P===!0,Le=K.encodeLocation?K.encodeLocation(j).pathname:j.pathname,I=F.pathname,te=ie&&ie.navigation&&ie.navigation.location?ie.navigation.location.pathname:null;h||(I=I.toLowerCase(),te=te?te.toLowerCase():null,Le=Le.toLowerCase()),te&&Z&&(te=so(te,Z)||te);const J=Le!=="/"&&Le.endsWith("/")?Le.length-1:Le.length;let Y=I===Le||!_&&I.startsWith(Le)&&I.charAt(J)==="/",he=te!=null&&(te===Le||!_&&te.startsWith(Le)&&te.charAt(Le.length)==="/"),ge={isActive:Y,isPending:he,isTransitioning:H},oe=Y?u:void 0,xe;typeof p=="function"?xe=p(ge):xe=[p,Y?"active":null,he?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Ae=typeof v=="function"?v(ge):v;return U.createElement(Tg,{...D,"aria-current":oe,className:xe,ref:S,style:Ae,to:y,viewTransition:P},typeof B=="function"?B(ge):B)});Qn.displayName="NavLink";var Dy=U.forwardRef(({discover:o="render",fetcherKey:u,navigate:h,reloadDocument:p,replace:_,state:v,method:y=jc,action:P,onSubmit:B,relative:D,preventScrollReset:S,viewTransition:j,...F},ie)=>{let K=Iy(),Z=Fy(P,{relative:D}),H=y.toLowerCase()==="get"?"get":"post",Le=typeof P=="string"&&jg.test(P),I=te=>{if(B&&B(te),te.defaultPrevented)return;te.preventDefault();let J=te.nativeEvent.submitter,Y=J?.getAttribute("formmethod")||y;K(J||te.currentTarget,{fetcherKey:u,method:Y,navigate:h,replace:_,state:v,relative:D,preventScrollReset:S,viewTransition:j})};return U.createElement("form",{ref:ie,method:H,action:Z,onSubmit:p?B:I,...F,"data-discover":!Le&&o==="render"?"true":void 0})});Dy.displayName="Form";function Ay(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dg(o){let u=U.useContext(Hl);return rn(u,Ay(o)),u}function Ry(o,{target:u,replace:h,state:p,preventScrollReset:_,relative:v,viewTransition:y}={}){let P=Uc(),B=Ms(),D=Ru(o,{relative:v});return U.useCallback(S=>{if(py(S,u)){S.preventDefault();let j=h!==void 0?h:ju(B)===ju(D);P(o,{replace:j,state:p,preventScrollReset:_,relative:v,viewTransition:y})}},[B,P,D,h,p,u,o,_,v,y])}var Oy=0,Ny=()=>`__${String(++Oy)}__`;function Iy(){let{router:o}=Dg("useSubmit"),{basename:u}=U.useContext(Vi),h=sy();return U.useCallback(async(p,_={})=>{let{action:v,method:y,encType:P,formData:B,body:D}=_y(p,u);if(_.navigate===!1){let S=_.fetcherKey||Ny();await o.fetch(S,h,_.action||v,{preventScrollReset:_.preventScrollReset,formData:B,body:D,formMethod:_.method||y,formEncType:_.encType||P,flushSync:_.flushSync})}else await o.navigate(_.action||v,{preventScrollReset:_.preventScrollReset,formData:B,body:D,formMethod:_.method||y,formEncType:_.encType||P,replace:_.replace,state:_.state,fromRouteId:h,flushSync:_.flushSync,viewTransition:_.viewTransition})},[o,u,h])}function Fy(o,{relative:u}={}){let{basename:h}=U.useContext(Vi),p=U.useContext(Ps);rn(p,"useFormAction must be used inside a RouteContext");let[_]=p.matches.slice(-1),v={...Ru(o||".",{relative:u})},y=Ms();if(o==null){v.search=y.search;let P=new URLSearchParams(v.search),B=P.getAll("index");if(B.some(S=>S==="")){P.delete("index"),B.filter(j=>j).forEach(j=>P.append("index",j));let S=P.toString();v.search=S?`?${S}`:""}}return(!o||o===".")&&_.route.index&&(v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index"),h!=="/"&&(v.pathname=v.pathname==="/"?h:io([h,v.pathname])),ju(v)}function zy(o,{relative:u}={}){let h=U.useContext(bg);rn(h!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=Dg("useViewTransitionState"),_=Ru(o,{relative:u});if(!h.isTransitioning)return!1;let v=so(h.currentLocation.pathname,p)||h.currentLocation.pathname,y=so(h.nextLocation.pathname,p)||h.nextLocation.pathname;return Nc(_.pathname,y)!=null||Nc(_.pathname,v)!=null}var Uy=_g();function Ag(o,u){return function(){return o.apply(u,arguments)}}const{toString:Hy}=Object.prototype,{getPrototypeOf:of}=Object,{iterator:Wc,toStringTag:Rg}=Symbol,qc=(o=>u=>{const h=Hy.call(u);return o[h]||(o[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),Gi=o=>(o=o.toLowerCase(),u=>qc(u)===o),Vc=o=>u=>typeof u===o,{isArray:ql}=Array,zl=Vc("undefined");function Ou(o){return o!==null&&!zl(o)&&o.constructor!==null&&!zl(o.constructor)&&Nr(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const Og=Gi("ArrayBuffer");function Wy(o){let u;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?u=ArrayBuffer.isView(o):u=o&&o.buffer&&Og(o.buffer),u}const qy=Vc("string"),Nr=Vc("function"),Ng=Vc("number"),Nu=o=>o!==null&&typeof o=="object",Vy=o=>o===!0||o===!1,Dc=o=>{if(qc(o)!=="object")return!1;const u=of(o);return(u===null||u===Object.prototype||Object.getPrototypeOf(u)===null)&&!(Rg in o)&&!(Wc in o)},Gy=o=>{if(!Nu(o)||Ou(o))return!1;try{return Object.keys(o).length===0&&Object.getPrototypeOf(o)===Object.prototype}catch{return!1}},Zy=Gi("Date"),Ky=Gi("File"),$y=Gi("Blob"),Xy=Gi("FileList"),Jy=o=>Nu(o)&&Nr(o.pipe),Yy=o=>{let u;return o&&(typeof FormData=="function"&&o instanceof FormData||Nr(o.append)&&((u=qc(o))==="formdata"||u==="object"&&Nr(o.toString)&&o.toString()==="[object FormData]"))},Qy=Gi("URLSearchParams"),[ev,tv,nv,rv]=["ReadableStream","Request","Response","Headers"].map(Gi),iv=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Iu(o,u,{allOwnKeys:h=!1}={}){if(o===null||typeof o>"u")return;let p,_;if(typeof o!="object"&&(o=[o]),ql(o))for(p=0,_=o.length;p<_;p++)u.call(null,o[p],p,o);else{if(Ou(o))return;const v=h?Object.getOwnPropertyNames(o):Object.keys(o),y=v.length;let P;for(p=0;p<y;p++)P=v[p],u.call(null,o[P],P,o)}}function Ig(o,u){if(Ou(o))return null;u=u.toLowerCase();const h=Object.keys(o);let p=h.length,_;for(;p-- >0;)if(_=h[p],u===_.toLowerCase())return _;return null}const Ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fg=o=>!zl(o)&&o!==Ga;function Vd(){const{caseless:o,skipUndefined:u}=Fg(this)&&this||{},h={},p=(_,v)=>{const y=o&&Ig(h,v)||v;Dc(h[y])&&Dc(_)?h[y]=Vd(h[y],_):Dc(_)?h[y]=Vd({},_):ql(_)?h[y]=_.slice():(!u||!zl(_))&&(h[y]=_)};for(let _=0,v=arguments.length;_<v;_++)arguments[_]&&Iu(arguments[_],p);return h}const sv=(o,u,h,{allOwnKeys:p}={})=>(Iu(u,(_,v)=>{h&&Nr(_)?o[v]=Ag(_,h):o[v]=_},{allOwnKeys:p}),o),ov=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),av=(o,u,h,p)=>{o.prototype=Object.create(u.prototype,p),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:u.prototype}),h&&Object.assign(o.prototype,h)},lv=(o,u,h,p)=>{let _,v,y;const P={};if(u=u||{},o==null)return u;do{for(_=Object.getOwnPropertyNames(o),v=_.length;v-- >0;)y=_[v],(!p||p(y,o,u))&&!P[y]&&(u[y]=o[y],P[y]=!0);o=h!==!1&&of(o)}while(o&&(!h||h(o,u))&&o!==Object.prototype);return u},uv=(o,u,h)=>{o=String(o),(h===void 0||h>o.length)&&(h=o.length),h-=u.length;const p=o.indexOf(u,h);return p!==-1&&p===h},cv=o=>{if(!o)return null;if(ql(o))return o;let u=o.length;if(!Ng(u))return null;const h=new Array(u);for(;u-- >0;)h[u]=o[u];return h},hv=(o=>u=>o&&u instanceof o)(typeof Uint8Array<"u"&&of(Uint8Array)),dv=(o,u)=>{const p=(o&&o[Wc]).call(o);let _;for(;(_=p.next())&&!_.done;){const v=_.value;u.call(o,v[0],v[1])}},fv=(o,u)=>{let h;const p=[];for(;(h=o.exec(u))!==null;)p.push(h);return p},pv=Gi("HTMLFormElement"),mv=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(h,p,_){return p.toUpperCase()+_}),Np=(({hasOwnProperty:o})=>(u,h)=>o.call(u,h))(Object.prototype),gv=Gi("RegExp"),zg=(o,u)=>{const h=Object.getOwnPropertyDescriptors(o),p={};Iu(h,(_,v)=>{let y;(y=u(_,v,o))!==!1&&(p[v]=y||_)}),Object.defineProperties(o,p)},_v=o=>{zg(o,(u,h)=>{if(Nr(o)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const p=o[h];if(Nr(p)){if(u.enumerable=!1,"writable"in u){u.writable=!1;return}u.set||(u.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},yv=(o,u)=>{const h={},p=_=>{_.forEach(v=>{h[v]=!0})};return ql(o)?p(o):p(String(o).split(u)),h},vv=()=>{},xv=(o,u)=>o!=null&&Number.isFinite(o=+o)?o:u;function wv(o){return!!(o&&Nr(o.append)&&o[Rg]==="FormData"&&o[Wc])}const bv=o=>{const u=new Array(10),h=(p,_)=>{if(Nu(p)){if(u.indexOf(p)>=0)return;if(Ou(p))return p;if(!("toJSON"in p)){u[_]=p;const v=ql(p)?[]:{};return Iu(p,(y,P)=>{const B=h(y,_+1);!zl(B)&&(v[P]=B)}),u[_]=void 0,v}}return p};return h(o,0)},Cv=Gi("AsyncFunction"),Lv=o=>o&&(Nu(o)||Nr(o))&&Nr(o.then)&&Nr(o.catch),Ug=((o,u)=>o?setImmediate:u?((h,p)=>(Ga.addEventListener("message",({source:_,data:v})=>{_===Ga&&v===h&&p.length&&p.shift()()},!1),_=>{p.push(_),Ga.postMessage(h,"*")}))(`axios@${Math.random()}`,[]):h=>setTimeout(h))(typeof setImmediate=="function",Nr(Ga.postMessage)),kv=typeof queueMicrotask<"u"?queueMicrotask.bind(Ga):typeof process<"u"&&process.nextTick||Ug,Ev=o=>o!=null&&Nr(o[Wc]),Se={isArray:ql,isArrayBuffer:Og,isBuffer:Ou,isFormData:Yy,isArrayBufferView:Wy,isString:qy,isNumber:Ng,isBoolean:Vy,isObject:Nu,isPlainObject:Dc,isEmptyObject:Gy,isReadableStream:ev,isRequest:tv,isResponse:nv,isHeaders:rv,isUndefined:zl,isDate:Zy,isFile:Ky,isBlob:$y,isRegExp:gv,isFunction:Nr,isStream:Jy,isURLSearchParams:Qy,isTypedArray:hv,isFileList:Xy,forEach:Iu,merge:Vd,extend:sv,trim:iv,stripBOM:ov,inherits:av,toFlatObject:lv,kindOf:qc,kindOfTest:Gi,endsWith:uv,toArray:cv,forEachEntry:dv,matchAll:fv,isHTMLForm:pv,hasOwnProperty:Np,hasOwnProp:Np,reduceDescriptors:zg,freezeMethods:_v,toObjectSet:yv,toCamelCase:mv,noop:vv,toFiniteNumber:xv,findKey:Ig,global:Ga,isContextDefined:Fg,isSpecCompliantForm:wv,toJSONObject:bv,isAsyncFn:Cv,isThenable:Lv,setImmediate:Ug,asap:kv,isIterable:Ev};function Ct(o,u,h,p,_){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",u&&(this.code=u),h&&(this.config=h),p&&(this.request=p),_&&(this.response=_,this.status=_.status?_.status:null)}Se.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.status}}});const Hg=Ct.prototype,Wg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{Wg[o]={value:o}});Object.defineProperties(Ct,Wg);Object.defineProperty(Hg,"isAxiosError",{value:!0});Ct.from=(o,u,h,p,_,v)=>{const y=Object.create(Hg);Se.toFlatObject(o,y,function(S){return S!==Error.prototype},D=>D!=="isAxiosError");const P=o&&o.message?o.message:"Error",B=u==null&&o?o.code:u;return Ct.call(y,P,B,h,p,_),o&&y.cause==null&&Object.defineProperty(y,"cause",{value:o,configurable:!0}),y.name=o&&o.name||"Error",v&&Object.assign(y,v),y};const Sv=null;function Gd(o){return Se.isPlainObject(o)||Se.isArray(o)}function qg(o){return Se.endsWith(o,"[]")?o.slice(0,-2):o}function Ip(o,u,h){return o?o.concat(u).map(function(_,v){return _=qg(_),!h&&v?"["+_+"]":_}).join(h?".":""):u}function Pv(o){return Se.isArray(o)&&!o.some(Gd)}const Mv=Se.toFlatObject(Se,{},null,function(u){return/^is[A-Z]/.test(u)});function Gc(o,u,h){if(!Se.isObject(o))throw new TypeError("target must be an object");u=u||new FormData,h=Se.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Z,H){return!Se.isUndefined(H[Z])});const p=h.metaTokens,_=h.visitor||S,v=h.dots,y=h.indexes,B=(h.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(u);if(!Se.isFunction(_))throw new TypeError("visitor must be a function");function D(K){if(K===null)return"";if(Se.isDate(K))return K.toISOString();if(Se.isBoolean(K))return K.toString();if(!B&&Se.isBlob(K))throw new Ct("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(K)||Se.isTypedArray(K)?B&&typeof Blob=="function"?new Blob([K]):Buffer.from(K):K}function S(K,Z,H){let Le=K;if(K&&!H&&typeof K=="object"){if(Se.endsWith(Z,"{}"))Z=p?Z:Z.slice(0,-2),K=JSON.stringify(K);else if(Se.isArray(K)&&Pv(K)||(Se.isFileList(K)||Se.endsWith(Z,"[]"))&&(Le=Se.toArray(K)))return Z=qg(Z),Le.forEach(function(te,J){!(Se.isUndefined(te)||te===null)&&u.append(y===!0?Ip([Z],J,v):y===null?Z:Z+"[]",D(te))}),!1}return Gd(K)?!0:(u.append(Ip(H,Z,v),D(K)),!1)}const j=[],F=Object.assign(Mv,{defaultVisitor:S,convertValue:D,isVisitable:Gd});function ie(K,Z){if(!Se.isUndefined(K)){if(j.indexOf(K)!==-1)throw Error("Circular reference detected in "+Z.join("."));j.push(K),Se.forEach(K,function(Le,I){(!(Se.isUndefined(Le)||Le===null)&&_.call(u,Le,Se.isString(I)?I.trim():I,Z,F))===!0&&ie(Le,Z?Z.concat(I):[I])}),j.pop()}}if(!Se.isObject(o))throw new TypeError("data must be an object");return ie(o),u}function Fp(o){const u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(p){return u[p]})}function af(o,u){this._pairs=[],o&&Gc(o,this,u)}const Vg=af.prototype;Vg.append=function(u,h){this._pairs.push([u,h])};Vg.toString=function(u){const h=u?function(p){return u.call(this,p,Fp)}:Fp;return this._pairs.map(function(_){return h(_[0])+"="+h(_[1])},"").join("&")};function Bv(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gg(o,u,h){if(!u)return o;const p=h&&h.encode||Bv;Se.isFunction(h)&&(h={serialize:h});const _=h&&h.serialize;let v;if(_?v=_(u,h):v=Se.isURLSearchParams(u)?u.toString():new af(u,h).toString(p),v){const y=o.indexOf("#");y!==-1&&(o=o.slice(0,y)),o+=(o.indexOf("?")===-1?"?":"&")+v}return o}class zp{constructor(){this.handlers=[]}use(u,h,p){return this.handlers.push({fulfilled:u,rejected:h,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1}eject(u){this.handlers[u]&&(this.handlers[u]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(u){Se.forEach(this.handlers,function(p){p!==null&&u(p)})}}const Zg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jv=typeof URLSearchParams<"u"?URLSearchParams:af,Tv=typeof FormData<"u"?FormData:null,Dv=typeof Blob<"u"?Blob:null,Av={isBrowser:!0,classes:{URLSearchParams:jv,FormData:Tv,Blob:Dv},protocols:["http","https","file","blob","url","data"]},lf=typeof window<"u"&&typeof document<"u",Zd=typeof navigator=="object"&&navigator||void 0,Rv=lf&&(!Zd||["ReactNative","NativeScript","NS"].indexOf(Zd.product)<0),Ov=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Nv=lf&&window.location.href||"http://localhost",Iv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lf,hasStandardBrowserEnv:Rv,hasStandardBrowserWebWorkerEnv:Ov,navigator:Zd,origin:Nv},Symbol.toStringTag,{value:"Module"})),er={...Iv,...Av};function Fv(o,u){return Gc(o,new er.classes.URLSearchParams,{visitor:function(h,p,_,v){return er.isNode&&Se.isBuffer(h)?(this.append(p,h.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)},...u})}function zv(o){return Se.matchAll(/\w+|\[(\w*)]/g,o).map(u=>u[0]==="[]"?"":u[1]||u[0])}function Uv(o){const u={},h=Object.keys(o);let p;const _=h.length;let v;for(p=0;p<_;p++)v=h[p],u[v]=o[v];return u}function Kg(o){function u(h,p,_,v){let y=h[v++];if(y==="__proto__")return!0;const P=Number.isFinite(+y),B=v>=h.length;return y=!y&&Se.isArray(_)?_.length:y,B?(Se.hasOwnProp(_,y)?_[y]=[_[y],p]:_[y]=p,!P):((!_[y]||!Se.isObject(_[y]))&&(_[y]=[]),u(h,p,_[y],v)&&Se.isArray(_[y])&&(_[y]=Uv(_[y])),!P)}if(Se.isFormData(o)&&Se.isFunction(o.entries)){const h={};return Se.forEachEntry(o,(p,_)=>{u(zv(p),_,h,0)}),h}return null}function Hv(o,u,h){if(Se.isString(o))try{return(u||JSON.parse)(o),Se.trim(o)}catch(p){if(p.name!=="SyntaxError")throw p}return(h||JSON.stringify)(o)}const Fu={transitional:Zg,adapter:["xhr","http","fetch"],transformRequest:[function(u,h){const p=h.getContentType()||"",_=p.indexOf("application/json")>-1,v=Se.isObject(u);if(v&&Se.isHTMLForm(u)&&(u=new FormData(u)),Se.isFormData(u))return _?JSON.stringify(Kg(u)):u;if(Se.isArrayBuffer(u)||Se.isBuffer(u)||Se.isStream(u)||Se.isFile(u)||Se.isBlob(u)||Se.isReadableStream(u))return u;if(Se.isArrayBufferView(u))return u.buffer;if(Se.isURLSearchParams(u))return h.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),u.toString();let P;if(v){if(p.indexOf("application/x-www-form-urlencoded")>-1)return Fv(u,this.formSerializer).toString();if((P=Se.isFileList(u))||p.indexOf("multipart/form-data")>-1){const B=this.env&&this.env.FormData;return Gc(P?{"files[]":u}:u,B&&new B,this.formSerializer)}}return v||_?(h.setContentType("application/json",!1),Hv(u)):u}],transformResponse:[function(u){const h=this.transitional||Fu.transitional,p=h&&h.forcedJSONParsing,_=this.responseType==="json";if(Se.isResponse(u)||Se.isReadableStream(u))return u;if(u&&Se.isString(u)&&(p&&!this.responseType||_)){const y=!(h&&h.silentJSONParsing)&&_;try{return JSON.parse(u,this.parseReviver)}catch(P){if(y)throw P.name==="SyntaxError"?Ct.from(P,Ct.ERR_BAD_RESPONSE,this,null,this.response):P}}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],o=>{Fu.headers[o]={}});const Wv=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qv=o=>{const u={};let h,p,_;return o&&o.split(`
`).forEach(function(y){_=y.indexOf(":"),h=y.substring(0,_).trim().toLowerCase(),p=y.substring(_+1).trim(),!(!h||u[h]&&Wv[h])&&(h==="set-cookie"?u[h]?u[h].push(p):u[h]=[p]:u[h]=u[h]?u[h]+", "+p:p)}),u},Up=Symbol("internals");function Lu(o){return o&&String(o).trim().toLowerCase()}function Ac(o){return o===!1||o==null?o:Se.isArray(o)?o.map(Ac):String(o)}function Vv(o){const u=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let p;for(;p=h.exec(o);)u[p[1]]=p[2];return u}const Gv=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function Fh(o,u,h,p,_){if(Se.isFunction(p))return p.call(this,u,h);if(_&&(u=h),!!Se.isString(u)){if(Se.isString(p))return u.indexOf(p)!==-1;if(Se.isRegExp(p))return p.test(u)}}function Zv(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(u,h,p)=>h.toUpperCase()+p)}function Kv(o,u){const h=Se.toCamelCase(" "+u);["get","set","has"].forEach(p=>{Object.defineProperty(o,p+h,{value:function(_,v,y){return this[p].call(this,u,_,v,y)},configurable:!0})})}let Ir=class{constructor(u){u&&this.set(u)}set(u,h,p){const _=this;function v(P,B,D){const S=Lu(B);if(!S)throw new Error("header name must be a non-empty string");const j=Se.findKey(_,S);(!j||_[j]===void 0||D===!0||D===void 0&&_[j]!==!1)&&(_[j||B]=Ac(P))}const y=(P,B)=>Se.forEach(P,(D,S)=>v(D,S,B));if(Se.isPlainObject(u)||u instanceof this.constructor)y(u,h);else if(Se.isString(u)&&(u=u.trim())&&!Gv(u))y(qv(u),h);else if(Se.isObject(u)&&Se.isIterable(u)){let P={},B,D;for(const S of u){if(!Se.isArray(S))throw TypeError("Object iterator must return a key-value pair");P[D=S[0]]=(B=P[D])?Se.isArray(B)?[...B,S[1]]:[B,S[1]]:S[1]}y(P,h)}else u!=null&&v(h,u,p);return this}get(u,h){if(u=Lu(u),u){const p=Se.findKey(this,u);if(p){const _=this[p];if(!h)return _;if(h===!0)return Vv(_);if(Se.isFunction(h))return h.call(this,_,p);if(Se.isRegExp(h))return h.exec(_);throw new TypeError("parser must be boolean|regexp|function")}}}has(u,h){if(u=Lu(u),u){const p=Se.findKey(this,u);return!!(p&&this[p]!==void 0&&(!h||Fh(this,this[p],p,h)))}return!1}delete(u,h){const p=this;let _=!1;function v(y){if(y=Lu(y),y){const P=Se.findKey(p,y);P&&(!h||Fh(p,p[P],P,h))&&(delete p[P],_=!0)}}return Se.isArray(u)?u.forEach(v):v(u),_}clear(u){const h=Object.keys(this);let p=h.length,_=!1;for(;p--;){const v=h[p];(!u||Fh(this,this[v],v,u,!0))&&(delete this[v],_=!0)}return _}normalize(u){const h=this,p={};return Se.forEach(this,(_,v)=>{const y=Se.findKey(p,v);if(y){h[y]=Ac(_),delete h[v];return}const P=u?Zv(v):String(v).trim();P!==v&&delete h[v],h[P]=Ac(_),p[P]=!0}),this}concat(...u){return this.constructor.concat(this,...u)}toJSON(u){const h=Object.create(null);return Se.forEach(this,(p,_)=>{p!=null&&p!==!1&&(h[_]=u&&Se.isArray(p)?p.join(", "):p)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([u,h])=>u+": "+h).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(u){return u instanceof this?u:new this(u)}static concat(u,...h){const p=new this(u);return h.forEach(_=>p.set(_)),p}static accessor(u){const p=(this[Up]=this[Up]={accessors:{}}).accessors,_=this.prototype;function v(y){const P=Lu(y);p[P]||(Kv(_,y),p[P]=!0)}return Se.isArray(u)?u.forEach(v):v(u),this}};Ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Se.reduceDescriptors(Ir.prototype,({value:o},u)=>{let h=u[0].toUpperCase()+u.slice(1);return{get:()=>o,set(p){this[h]=p}}});Se.freezeMethods(Ir);function zh(o,u){const h=this||Fu,p=u||h,_=Ir.from(p.headers);let v=p.data;return Se.forEach(o,function(P){v=P.call(h,v,_.normalize(),u?u.status:void 0)}),_.normalize(),v}function $g(o){return!!(o&&o.__CANCEL__)}function Vl(o,u,h){Ct.call(this,o??"canceled",Ct.ERR_CANCELED,u,h),this.name="CanceledError"}Se.inherits(Vl,Ct,{__CANCEL__:!0});function Xg(o,u,h){const p=h.config.validateStatus;!h.status||!p||p(h.status)?o(h):u(new Ct("Request failed with status code "+h.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}function $v(o){const u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return u&&u[1]||""}function Xv(o,u){o=o||10;const h=new Array(o),p=new Array(o);let _=0,v=0,y;return u=u!==void 0?u:1e3,function(B){const D=Date.now(),S=p[v];y||(y=D),h[_]=B,p[_]=D;let j=v,F=0;for(;j!==_;)F+=h[j++],j=j%o;if(_=(_+1)%o,_===v&&(v=(v+1)%o),D-y<u)return;const ie=S&&D-S;return ie?Math.round(F*1e3/ie):void 0}}function Jv(o,u){let h=0,p=1e3/u,_,v;const y=(D,S=Date.now())=>{h=S,_=null,v&&(clearTimeout(v),v=null),o(...D)};return[(...D)=>{const S=Date.now(),j=S-h;j>=p?y(D,S):(_=D,v||(v=setTimeout(()=>{v=null,y(_)},p-j)))},()=>_&&y(_)]}const Ic=(o,u,h=3)=>{let p=0;const _=Xv(50,250);return Jv(v=>{const y=v.loaded,P=v.lengthComputable?v.total:void 0,B=y-p,D=_(B),S=y<=P;p=y;const j={loaded:y,total:P,progress:P?y/P:void 0,bytes:B,rate:D||void 0,estimated:D&&P&&S?(P-y)/D:void 0,event:v,lengthComputable:P!=null,[u?"download":"upload"]:!0};o(j)},h)},Hp=(o,u)=>{const h=o!=null;return[p=>u[0]({lengthComputable:h,total:o,loaded:p}),u[1]]},Wp=o=>(...u)=>Se.asap(()=>o(...u)),Yv=er.hasStandardBrowserEnv?((o,u)=>h=>(h=new URL(h,er.origin),o.protocol===h.protocol&&o.host===h.host&&(u||o.port===h.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,Qv=er.hasStandardBrowserEnv?{write(o,u,h,p,_,v,y){if(typeof document>"u")return;const P=[`${o}=${encodeURIComponent(u)}`];Se.isNumber(h)&&P.push(`expires=${new Date(h).toUTCString()}`),Se.isString(p)&&P.push(`path=${p}`),Se.isString(_)&&P.push(`domain=${_}`),v===!0&&P.push("secure"),Se.isString(y)&&P.push(`SameSite=${y}`),document.cookie=P.join("; ")},read(o){if(typeof document>"u")return null;const u=document.cookie.match(new RegExp("(?:^|; )"+o+"=([^;]*)"));return u?decodeURIComponent(u[1]):null},remove(o){this.write(o,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ex(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function tx(o,u){return u?o.replace(/\/?\/$/,"")+"/"+u.replace(/^\/+/,""):o}function Jg(o,u,h){let p=!ex(u);return o&&(p||h==!1)?tx(o,u):u}const qp=o=>o instanceof Ir?{...o}:o;function Xa(o,u){u=u||{};const h={};function p(D,S,j,F){return Se.isPlainObject(D)&&Se.isPlainObject(S)?Se.merge.call({caseless:F},D,S):Se.isPlainObject(S)?Se.merge({},S):Se.isArray(S)?S.slice():S}function _(D,S,j,F){if(Se.isUndefined(S)){if(!Se.isUndefined(D))return p(void 0,D,j,F)}else return p(D,S,j,F)}function v(D,S){if(!Se.isUndefined(S))return p(void 0,S)}function y(D,S){if(Se.isUndefined(S)){if(!Se.isUndefined(D))return p(void 0,D)}else return p(void 0,S)}function P(D,S,j){if(j in u)return p(D,S);if(j in o)return p(void 0,D)}const B={url:v,method:v,data:v,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:P,headers:(D,S,j)=>_(qp(D),qp(S),j,!0)};return Se.forEach(Object.keys({...o,...u}),function(S){const j=B[S]||_,F=j(o[S],u[S],S);Se.isUndefined(F)&&j!==P||(h[S]=F)}),h}const Yg=o=>{const u=Xa({},o);let{data:h,withXSRFToken:p,xsrfHeaderName:_,xsrfCookieName:v,headers:y,auth:P}=u;if(u.headers=y=Ir.from(y),u.url=Gg(Jg(u.baseURL,u.url,u.allowAbsoluteUrls),o.params,o.paramsSerializer),P&&y.set("Authorization","Basic "+btoa((P.username||"")+":"+(P.password?unescape(encodeURIComponent(P.password)):""))),Se.isFormData(h)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if(Se.isFunction(h.getHeaders)){const B=h.getHeaders(),D=["content-type","content-length"];Object.entries(B).forEach(([S,j])=>{D.includes(S.toLowerCase())&&y.set(S,j)})}}if(er.hasStandardBrowserEnv&&(p&&Se.isFunction(p)&&(p=p(u)),p||p!==!1&&Yv(u.url))){const B=_&&v&&Qv.read(v);B&&y.set(_,B)}return u},nx=typeof XMLHttpRequest<"u",rx=nx&&function(o){return new Promise(function(h,p){const _=Yg(o);let v=_.data;const y=Ir.from(_.headers).normalize();let{responseType:P,onUploadProgress:B,onDownloadProgress:D}=_,S,j,F,ie,K;function Z(){ie&&ie(),K&&K(),_.cancelToken&&_.cancelToken.unsubscribe(S),_.signal&&_.signal.removeEventListener("abort",S)}let H=new XMLHttpRequest;H.open(_.method.toUpperCase(),_.url,!0),H.timeout=_.timeout;function Le(){if(!H)return;const te=Ir.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),Y={data:!P||P==="text"||P==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:te,config:o,request:H};Xg(function(ge){h(ge),Z()},function(ge){p(ge),Z()},Y),H=null}"onloadend"in H?H.onloadend=Le:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(Le)},H.onabort=function(){H&&(p(new Ct("Request aborted",Ct.ECONNABORTED,o,H)),H=null)},H.onerror=function(J){const Y=J&&J.message?J.message:"Network Error",he=new Ct(Y,Ct.ERR_NETWORK,o,H);he.event=J||null,p(he),H=null},H.ontimeout=function(){let J=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded";const Y=_.transitional||Zg;_.timeoutErrorMessage&&(J=_.timeoutErrorMessage),p(new Ct(J,Y.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,o,H)),H=null},v===void 0&&y.setContentType(null),"setRequestHeader"in H&&Se.forEach(y.toJSON(),function(J,Y){H.setRequestHeader(Y,J)}),Se.isUndefined(_.withCredentials)||(H.withCredentials=!!_.withCredentials),P&&P!=="json"&&(H.responseType=_.responseType),D&&([F,K]=Ic(D,!0),H.addEventListener("progress",F)),B&&H.upload&&([j,ie]=Ic(B),H.upload.addEventListener("progress",j),H.upload.addEventListener("loadend",ie)),(_.cancelToken||_.signal)&&(S=te=>{H&&(p(!te||te.type?new Vl(null,o,H):te),H.abort(),H=null)},_.cancelToken&&_.cancelToken.subscribe(S),_.signal&&(_.signal.aborted?S():_.signal.addEventListener("abort",S)));const I=$v(_.url);if(I&&er.protocols.indexOf(I)===-1){p(new Ct("Unsupported protocol "+I+":",Ct.ERR_BAD_REQUEST,o));return}H.send(v||null)})},ix=(o,u)=>{const{length:h}=o=o?o.filter(Boolean):[];if(u||h){let p=new AbortController,_;const v=function(D){if(!_){_=!0,P();const S=D instanceof Error?D:this.reason;p.abort(S instanceof Ct?S:new Vl(S instanceof Error?S.message:S))}};let y=u&&setTimeout(()=>{y=null,v(new Ct(`timeout ${u} of ms exceeded`,Ct.ETIMEDOUT))},u);const P=()=>{o&&(y&&clearTimeout(y),y=null,o.forEach(D=>{D.unsubscribe?D.unsubscribe(v):D.removeEventListener("abort",v)}),o=null)};o.forEach(D=>D.addEventListener("abort",v));const{signal:B}=p;return B.unsubscribe=()=>Se.asap(P),B}},sx=function*(o,u){let h=o.byteLength;if(h<u){yield o;return}let p=0,_;for(;p<h;)_=p+u,yield o.slice(p,_),p=_},ox=async function*(o,u){for await(const h of ax(o))yield*sx(h,u)},ax=async function*(o){if(o[Symbol.asyncIterator]){yield*o;return}const u=o.getReader();try{for(;;){const{done:h,value:p}=await u.read();if(h)break;yield p}}finally{await u.cancel()}},Vp=(o,u,h,p)=>{const _=ox(o,u);let v=0,y,P=B=>{y||(y=!0,p&&p(B))};return new ReadableStream({async pull(B){try{const{done:D,value:S}=await _.next();if(D){P(),B.close();return}let j=S.byteLength;if(h){let F=v+=j;h(F)}B.enqueue(new Uint8Array(S))}catch(D){throw P(D),D}},cancel(B){return P(B),_.return()}},{highWaterMark:2})},Gp=64*1024,{isFunction:Cc}=Se,lx=(({Request:o,Response:u})=>({Request:o,Response:u}))(Se.global),{ReadableStream:Zp,TextEncoder:Kp}=Se.global,$p=(o,...u)=>{try{return!!o(...u)}catch{return!1}},ux=o=>{o=Se.merge.call({skipUndefined:!0},lx,o);const{fetch:u,Request:h,Response:p}=o,_=u?Cc(u):typeof fetch=="function",v=Cc(h),y=Cc(p);if(!_)return!1;const P=_&&Cc(Zp),B=_&&(typeof Kp=="function"?(K=>Z=>K.encode(Z))(new Kp):async K=>new Uint8Array(await new h(K).arrayBuffer())),D=v&&P&&$p(()=>{let K=!1;const Z=new h(er.origin,{body:new Zp,method:"POST",get duplex(){return K=!0,"half"}}).headers.has("Content-Type");return K&&!Z}),S=y&&P&&$p(()=>Se.isReadableStream(new p("").body)),j={stream:S&&(K=>K.body)};_&&["text","arrayBuffer","blob","formData","stream"].forEach(K=>{!j[K]&&(j[K]=(Z,H)=>{let Le=Z&&Z[K];if(Le)return Le.call(Z);throw new Ct(`Response type '${K}' is not supported`,Ct.ERR_NOT_SUPPORT,H)})});const F=async K=>{if(K==null)return 0;if(Se.isBlob(K))return K.size;if(Se.isSpecCompliantForm(K))return(await new h(er.origin,{method:"POST",body:K}).arrayBuffer()).byteLength;if(Se.isArrayBufferView(K)||Se.isArrayBuffer(K))return K.byteLength;if(Se.isURLSearchParams(K)&&(K=K+""),Se.isString(K))return(await B(K)).byteLength},ie=async(K,Z)=>{const H=Se.toFiniteNumber(K.getContentLength());return H??F(Z)};return async K=>{let{url:Z,method:H,data:Le,signal:I,cancelToken:te,timeout:J,onDownloadProgress:Y,onUploadProgress:he,responseType:ge,headers:oe,withCredentials:xe="same-origin",fetchOptions:Ae}=Yg(K),Ge=u||fetch;ge=ge?(ge+"").toLowerCase():"text";let lt=ix([I,te&&te.toAbortSignal()],J),ze=null;const wt=lt&&lt.unsubscribe&&(()=>{lt.unsubscribe()});let Bt;try{if(he&&D&&H!=="get"&&H!=="head"&&(Bt=await ie(oe,Le))!==0){let le=new h(Z,{method:"POST",body:Le,duplex:"half"}),Me;if(Se.isFormData(Le)&&(Me=le.headers.get("content-type"))&&oe.setContentType(Me),le.body){const[ut,et]=Hp(Bt,Ic(Wp(he)));Le=Vp(le.body,Gp,ut,et)}}Se.isString(xe)||(xe=xe?"include":"omit");const Re=v&&"credentials"in h.prototype,rt={...Ae,signal:lt,method:H.toUpperCase(),headers:oe.normalize().toJSON(),body:Le,duplex:"half",credentials:Re?xe:void 0};ze=v&&new h(Z,rt);let be=await(v?Ge(ze,Ae):Ge(Z,rt));const tt=S&&(ge==="stream"||ge==="response");if(S&&(Y||tt&&wt)){const le={};["status","statusText","headers"].forEach(Ye=>{le[Ye]=be[Ye]});const Me=Se.toFiniteNumber(be.headers.get("content-length")),[ut,et]=Y&&Hp(Me,Ic(Wp(Y),!0))||[];be=new p(Vp(be.body,Gp,ut,()=>{et&&et(),wt&&wt()}),le)}ge=ge||"text";let Be=await j[Se.findKey(j,ge)||"text"](be,K);return!tt&&wt&&wt(),await new Promise((le,Me)=>{Xg(le,Me,{data:Be,headers:Ir.from(be.headers),status:be.status,statusText:be.statusText,config:K,request:ze})})}catch(Re){throw wt&&wt(),Re&&Re.name==="TypeError"&&/Load failed|fetch/i.test(Re.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,K,ze),{cause:Re.cause||Re}):Ct.from(Re,Re&&Re.code,K,ze)}}},cx=new Map,Qg=o=>{let u=o&&o.env||{};const{fetch:h,Request:p,Response:_}=u,v=[p,_,h];let y=v.length,P=y,B,D,S=cx;for(;P--;)B=v[P],D=S.get(B),D===void 0&&S.set(B,D=P?new Map:ux(u)),S=D;return D};Qg();const uf={http:Sv,xhr:rx,fetch:{get:Qg}};Se.forEach(uf,(o,u)=>{if(o){try{Object.defineProperty(o,"name",{value:u})}catch{}Object.defineProperty(o,"adapterName",{value:u})}});const Xp=o=>`- ${o}`,hx=o=>Se.isFunction(o)||o===null||o===!1;function dx(o,u){o=Se.isArray(o)?o:[o];const{length:h}=o;let p,_;const v={};for(let y=0;y<h;y++){p=o[y];let P;if(_=p,!hx(p)&&(_=uf[(P=String(p)).toLowerCase()],_===void 0))throw new Ct(`Unknown adapter '${P}'`);if(_&&(Se.isFunction(_)||(_=_.get(u))))break;v[P||"#"+y]=_}if(!_){const y=Object.entries(v).map(([B,D])=>`adapter ${B} `+(D===!1?"is not supported by the environment":"is not available in the build"));let P=h?y.length>1?`since :
`+y.map(Xp).join(`
`):" "+Xp(y[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+P,"ERR_NOT_SUPPORT")}return _}const e0={getAdapter:dx,adapters:uf};function Uh(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new Vl(null,o)}function Jp(o){return Uh(o),o.headers=Ir.from(o.headers),o.data=zh.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),e0.getAdapter(o.adapter||Fu.adapter,o)(o).then(function(p){return Uh(o),p.data=zh.call(o,o.transformResponse,p),p.headers=Ir.from(p.headers),p},function(p){return $g(p)||(Uh(o),p&&p.response&&(p.response.data=zh.call(o,o.transformResponse,p.response),p.response.headers=Ir.from(p.response.headers))),Promise.reject(p)})}const t0="1.13.2",Zc={};["object","boolean","number","function","string","symbol"].forEach((o,u)=>{Zc[o]=function(p){return typeof p===o||"a"+(u<1?"n ":" ")+o}});const Yp={};Zc.transitional=function(u,h,p){function _(v,y){return"[Axios v"+t0+"] Transitional option '"+v+"'"+y+(p?". "+p:"")}return(v,y,P)=>{if(u===!1)throw new Ct(_(y," has been removed"+(h?" in "+h:"")),Ct.ERR_DEPRECATED);return h&&!Yp[y]&&(Yp[y]=!0,console.warn(_(y," has been deprecated since v"+h+" and will be removed in the near future"))),u?u(v,y,P):!0}};Zc.spelling=function(u){return(h,p)=>(console.warn(`${p} is likely a misspelling of ${u}`),!0)};function fx(o,u,h){if(typeof o!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const p=Object.keys(o);let _=p.length;for(;_-- >0;){const v=p[_],y=u[v];if(y){const P=o[v],B=P===void 0||y(P,v,o);if(B!==!0)throw new Ct("option "+v+" must be "+B,Ct.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new Ct("Unknown option "+v,Ct.ERR_BAD_OPTION)}}const Rc={assertOptions:fx,validators:Zc},Es=Rc.validators;let $a=class{constructor(u){this.defaults=u||{},this.interceptors={request:new zp,response:new zp}}async request(u,h){try{return await this._request(u,h)}catch(p){if(p instanceof Error){let _={};Error.captureStackTrace?Error.captureStackTrace(_):_=new Error;const v=_.stack?_.stack.replace(/^.+\n/,""):"";try{p.stack?v&&!String(p.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(p.stack+=`
`+v):p.stack=v}catch{}}throw p}}_request(u,h){typeof u=="string"?(h=h||{},h.url=u):h=u||{},h=Xa(this.defaults,h);const{transitional:p,paramsSerializer:_,headers:v}=h;p!==void 0&&Rc.assertOptions(p,{silentJSONParsing:Es.transitional(Es.boolean),forcedJSONParsing:Es.transitional(Es.boolean),clarifyTimeoutError:Es.transitional(Es.boolean)},!1),_!=null&&(Se.isFunction(_)?h.paramsSerializer={serialize:_}:Rc.assertOptions(_,{encode:Es.function,serialize:Es.function},!0)),h.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?h.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:h.allowAbsoluteUrls=!0),Rc.assertOptions(h,{baseUrl:Es.spelling("baseURL"),withXsrfToken:Es.spelling("withXSRFToken")},!0),h.method=(h.method||this.defaults.method||"get").toLowerCase();let y=v&&Se.merge(v.common,v[h.method]);v&&Se.forEach(["delete","get","head","post","put","patch","common"],K=>{delete v[K]}),h.headers=Ir.concat(y,v);const P=[];let B=!0;this.interceptors.request.forEach(function(Z){typeof Z.runWhen=="function"&&Z.runWhen(h)===!1||(B=B&&Z.synchronous,P.unshift(Z.fulfilled,Z.rejected))});const D=[];this.interceptors.response.forEach(function(Z){D.push(Z.fulfilled,Z.rejected)});let S,j=0,F;if(!B){const K=[Jp.bind(this),void 0];for(K.unshift(...P),K.push(...D),F=K.length,S=Promise.resolve(h);j<F;)S=S.then(K[j++],K[j++]);return S}F=P.length;let ie=h;for(;j<F;){const K=P[j++],Z=P[j++];try{ie=K(ie)}catch(H){Z.call(this,H);break}}try{S=Jp.call(this,ie)}catch(K){return Promise.reject(K)}for(j=0,F=D.length;j<F;)S=S.then(D[j++],D[j++]);return S}getUri(u){u=Xa(this.defaults,u);const h=Jg(u.baseURL,u.url,u.allowAbsoluteUrls);return Gg(h,u.params,u.paramsSerializer)}};Se.forEach(["delete","get","head","options"],function(u){$a.prototype[u]=function(h,p){return this.request(Xa(p||{},{method:u,url:h,data:(p||{}).data}))}});Se.forEach(["post","put","patch"],function(u){function h(p){return function(v,y,P){return this.request(Xa(P||{},{method:u,headers:p?{"Content-Type":"multipart/form-data"}:{},url:v,data:y}))}}$a.prototype[u]=h(),$a.prototype[u+"Form"]=h(!0)});let px=class n0{constructor(u){if(typeof u!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(v){h=v});const p=this;this.promise.then(_=>{if(!p._listeners)return;let v=p._listeners.length;for(;v-- >0;)p._listeners[v](_);p._listeners=null}),this.promise.then=_=>{let v;const y=new Promise(P=>{p.subscribe(P),v=P}).then(_);return y.cancel=function(){p.unsubscribe(v)},y},u(function(v,y,P){p.reason||(p.reason=new Vl(v,y,P),h(p.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]}unsubscribe(u){if(!this._listeners)return;const h=this._listeners.indexOf(u);h!==-1&&this._listeners.splice(h,1)}toAbortSignal(){const u=new AbortController,h=p=>{u.abort(p)};return this.subscribe(h),u.signal.unsubscribe=()=>this.unsubscribe(h),u.signal}static source(){let u;return{token:new n0(function(_){u=_}),cancel:u}}};function mx(o){return function(h){return o.apply(null,h)}}function gx(o){return Se.isObject(o)&&o.isAxiosError===!0}const Kd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Kd).forEach(([o,u])=>{Kd[u]=o});function r0(o){const u=new $a(o),h=Ag($a.prototype.request,u);return Se.extend(h,$a.prototype,u,{allOwnKeys:!0}),Se.extend(h,u,null,{allOwnKeys:!0}),h.create=function(_){return r0(Xa(o,_))},h}const gn=r0(Fu);gn.Axios=$a;gn.CanceledError=Vl;gn.CancelToken=px;gn.isCancel=$g;gn.VERSION=t0;gn.toFormData=Gc;gn.AxiosError=Ct;gn.Cancel=gn.CanceledError;gn.all=function(u){return Promise.all(u)};gn.spread=mx;gn.isAxiosError=gx;gn.mergeConfig=Xa;gn.AxiosHeaders=Ir;gn.formToJSON=o=>Kg(Se.isHTMLForm(o)?new FormData(o):o);gn.getAdapter=e0.getAdapter;gn.HttpStatusCode=Kd;gn.default=gn;const{Axios:ab,AxiosError:lb,CanceledError:ub,isCancel:cb,CancelToken:hb,VERSION:db,all:fb,Cancel:pb,isAxiosError:mb,spread:gb,toFormData:_b,AxiosHeaders:yb,HttpStatusCode:vb,formToJSON:xb,getAdapter:wb,mergeConfig:bb}=gn,ht=gn.create({baseURL:"/api/v1"});ht.interceptors.request.use(o=>{const u=localStorage.getItem("token");return u&&(o.headers.Authorization=`Bearer ${u}`),o},o=>Promise.reject(o));ht.interceptors.response.use(o=>o,o=>(!window.location.pathname.includes("/driver-register")&&o.response&&(o.response.status===401||o.response.status===403)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",console.error("Auth Error. Logging out.")),Promise.reject(o)));const _x=async(o,u)=>{try{return(await ht.post("/auth/login",{login:o,password:u})).data}catch(h){throw new Error(h.response?.data?.message||" .   .")}},yx=async o=>{try{return(await ht.post("/auth/driver/sms/request",{phoneNumber:o})).data}catch(u){throw new Error(u.response?.data?.message||"   SMS")}},vx=async(o,u)=>{try{return(await ht.post("/auth/driver/sms/verify-code",{phoneNumber:o,code:u})).data}catch(h){throw new Error(h.response?.data?.message||" ")}},xx=async(o,u={})=>{try{const h=new FormData;return h.append("request",JSON.stringify(o)),u.avatar&&h.append("avatar",u.avatar),u.driverLicenseFront&&h.append("driverLicenseFront",u.driverLicenseFront),u.driverLicenseBack&&h.append("driverLicenseBack",u.driverLicenseBack),u.techPassportFront&&h.append("techPassportFront",u.techPassportFront),u.techPassportBack&&h.append("techPassportBack",u.techPassportBack),u.insurance&&h.append("insurance",u.insurance),u.carPhoto&&h.append("carPhoto",u.carPhoto),(await ht.post("/auth/driver/register",h)).data}catch(h){throw console.error("Registration error:",h),new Error(h.response?.data?.message||" ")}},i0=U.createContext(null),wx=({children:o})=>{const[u,h]=U.useState(null),[p,_]=U.useState(null),[v,y]=U.useState(!1),[P,B]=U.useState(!0),D=Uc();U.useEffect(()=>{const ie=localStorage.getItem("token"),K=localStorage.getItem("user");ie&&K&&(_(ie),h(JSON.parse(K)),y(!0)),B(!1)},[]);const F={user:u,token:p,isAuthenticated:v,isLoading:P,login:async(ie,K)=>{try{const Z=await _x(ie,K);_(Z.token),h({id:Z.userId,fullName:Z.fullName,role:Z.role}),y(!0),localStorage.setItem("token",Z.token),localStorage.setItem("user",JSON.stringify({id:Z.userId,fullName:Z.fullName,role:Z.role})),D("/")}catch(Z){throw console.error("Login error:",Z),Z}},logout:()=>{h(null),_(null),y(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),D("/login")}};return c.jsx(i0.Provider,{value:F,children:!P&&o})},Kc=()=>U.useContext(i0),bx=()=>{const[o,u]=U.useState(""),[h,p]=U.useState(""),[_,v]=U.useState(""),[y,P]=U.useState(!1),{login:B,isAuthenticated:D}=Kc();if(D)return c.jsx(Or,{to:"/",replace:!0});const S=async j=>{j.preventDefault(),v(""),P(!0);try{await B(o,h)}catch(F){v(F.message),P(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs("form",{onSubmit:S,className:"login-form",children:[c.jsx("h2",{children:""}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"login",children:""}),c.jsx("input",{type:"text",id:"login",value:o,onChange:j=>u(j.target.value),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:""}),c.jsx("input",{type:"password",id:"password",value:h,onChange:j=>p(j.target.value),required:!0})]}),_&&c.jsx("p",{className:"error-message",children:_}),c.jsx("button",{type:"submit",disabled:y,children:y?"...":""})]})})};function Cx(o,u){o.terminate=function(){const h=()=>{};this.onerror=h,this.onmessage=h,this.onopen=h;const p=new Date,_=Math.random().toString().substring(2,8),v=this.onclose;this.onclose=y=>{const P=new Date().getTime()-p.getTime();u(`Discarded socket (#${_})  closed after ${P}ms, with code/reason: ${y.code}/${y.reason}`)},this.close(),v?.call(o,{code:4001,reason:`Quick discarding socket (#${_}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Su={LF:`
`,NULL:"\0"};class Xo{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(u){const{command:h,headers:p,body:_,binaryBody:v,escapeHeaderValues:y,skipContentLengthHeader:P}=u;this.command=h,this.headers=Object.assign({},p||{}),v?(this._binaryBody=v,this.isBinaryBody=!0):(this._body=_||"",this.isBinaryBody=!1),this.escapeHeaderValues=y||!1,this.skipContentLengthHeader=P||!1}static fromRawFrame(u,h){const p={},_=v=>v.replace(/^\s+|\s+$/g,"");for(const v of u.headers.reverse()){v.indexOf(":");const y=_(v[0]);let P=_(v[1]);h&&u.command!=="CONNECT"&&u.command!=="CONNECTED"&&(P=Xo.hdrValueUnEscape(P)),p[y]=P}return new Xo({command:u.command,headers:p,binaryBody:u.binaryBody,escapeHeaderValues:h})}toString(){return this.serializeCmdAndHeaders()}serialize(){const u=this.serializeCmdAndHeaders();return this.isBinaryBody?Xo.toUnit8Array(u,this._binaryBody).buffer:u+this._body+Su.NULL}serializeCmdAndHeaders(){const u=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const h of Object.keys(this.headers||{})){const p=this.headers[h];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?u.push(`${h}:${Xo.hdrValueEscape(`${p}`)}`):u.push(`${h}:${p}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&u.push(`content-length:${this.bodyLength()}`),u.join(Su.LF)+Su.LF+Su.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const u=this.binaryBody;return u?u.length:0}static sizeOfUTF8(u){return u?new TextEncoder().encode(u).length:0}static toUnit8Array(u,h){const p=new TextEncoder().encode(u),_=new Uint8Array([0]),v=new Uint8Array(p.length+h.length+_.length);return v.set(p),v.set(h,p.length),v.set(_,p.length+h.length),v}static marshall(u){return new Xo(u).serialize()}static hdrValueEscape(u){return u.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(u){return u.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const Qp=0,Lc=10,kc=13,Lx=58;class kx{constructor(u,h){this.onFrame=u,this.onIncomingPing=h,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(u,h=!1){let p;if(typeof u=="string"?p=this._encoder.encode(u):p=new Uint8Array(u),h&&p[p.length-1]!==0){const _=new Uint8Array(p.length+1);_.set(p,0),_[p.length]=0,p=_}for(let _=0;_<p.length;_++){const v=p[_];this._onByte(v)}}_collectFrame(u){if(u!==Qp&&u!==kc){if(u===Lc){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(u)}}_collectCommand(u){if(u!==kc){if(u===Lc){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(u)}}_collectHeaders(u){if(u!==kc){if(u===Lc){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(u)}}_reinjectByte(u){this._onByte(u)}_collectHeaderKey(u){if(u===Lx){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(u)}_collectHeaderValue(u){if(u!==kc){if(u===Lc){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(u)}}_setupCollectBody(){const u=this._results.headers.filter(h=>h[0]==="content-length")[0];u?(this._bodyBytesRemaining=parseInt(u[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(u){if(u===Qp){this._retrievedBody();return}this._consumeByte(u)}_collectBodyFixedSize(u){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(u)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(u){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",u)}this._initState()}_consumeByte(u){this._token.push(u)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const u=new Uint8Array(this._token);return this._token=[],u}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Jo;(function(o){o[o.CONNECTING=0]="CONNECTING",o[o.OPEN=1]="OPEN",o[o.CLOSING=2]="CLOSING",o[o.CLOSED=3]="CLOSED"})(Jo||(Jo={}));var qi;(function(o){o[o.ACTIVE=0]="ACTIVE",o[o.DEACTIVATING=1]="DEACTIVATING",o[o.INACTIVE=2]="INACTIVE"})(qi||(qi={}));var Fc;(function(o){o[o.LINEAR=0]="LINEAR",o[o.EXPONENTIAL=1]="EXPONENTIAL"})(Fc||(Fc={}));var Tu;(function(o){o.Interval="interval",o.Worker="worker"})(Tu||(Tu={}));class Ex{constructor(u,h=Tu.Interval,p){this._interval=u,this._strategy=h,this._debug=p,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(u){this.stop(),this.shouldUseWorker()?this.runWorker(u):this.runInterval(u)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Tu.Worker}runWorker(u){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=h=>u(h.data))}runInterval(u){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const h=Date.now();this._timer=setInterval(()=>{u(Date.now()-h)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class _r{constructor(u){this.versions=u}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(u=>`v${u.replace(".","")}.stomp`)}}_r.V1_0="1.0";_r.V1_1="1.1";_r.V1_2="1.2";_r.default=new _r([_r.V1_2,_r.V1_1,_r.V1_0]);class Sx{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(u,h,p){this._client=u,this._webSocket=h,this._connected=!1,this._serverFrameHandlers={CONNECTED:_=>{this.debug(`connected to server ${_.headers.server}`),this._connected=!0,this._connectedVersion=_.headers.version,this._connectedVersion===_r.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(_.headers),this.onConnect(_)},MESSAGE:_=>{const v=_.headers.subscription,y=this._subscriptions[v]||this.onUnhandledMessage,P=_,B=this,D=this._connectedVersion===_r.V1_2?P.headers.ack:P.headers["message-id"];P.ack=(S={})=>B.ack(D,v,S),P.nack=(S={})=>B.nack(D,v,S),y(P)},RECEIPT:_=>{const v=this._receiptWatchers[_.headers["receipt-id"]];v?(v(_),delete this._receiptWatchers[_.headers["receipt-id"]]):this.onUnhandledReceipt(_)},ERROR:_=>{this.onStompError(_)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=p.debug,this.stompVersions=p.stompVersions,this.connectHeaders=p.connectHeaders,this.disconnectHeaders=p.disconnectHeaders,this.heartbeatIncoming=p.heartbeatIncoming,this.heartbeatToleranceMultiplier=p.heartbeatGracePeriods,this.heartbeatOutgoing=p.heartbeatOutgoing,this.splitLargeFrames=p.splitLargeFrames,this.maxWebSocketChunkSize=p.maxWebSocketChunkSize,this.forceBinaryWSFrames=p.forceBinaryWSFrames,this.logRawCommunication=p.logRawCommunication,this.appendMissingNULLonIncoming=p.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=p.discardWebsocketOnCommFailure,this.onConnect=p.onConnect,this.onDisconnect=p.onDisconnect,this.onStompError=p.onStompError,this.onWebSocketClose=p.onWebSocketClose,this.onWebSocketError=p.onWebSocketError,this.onUnhandledMessage=p.onUnhandledMessage,this.onUnhandledReceipt=p.onUnhandledReceipt,this.onUnhandledFrame=p.onUnhandledFrame,this.onHeartbeatReceived=p.onHeartbeatReceived,this.onHeartbeatLost=p.onHeartbeatLost}start(){const u=new kx(h=>{const p=Xo.fromRawFrame(h,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${p}`),(this._serverFrameHandlers[p.command]||this.onUnhandledFrame)(p)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=h=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const p=h.data instanceof ArrayBuffer?new TextDecoder().decode(h.data):h.data;this.debug(`<<< ${p}`)}u.parseChunk(h.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=h=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(h)},this._webSocket.onerror=h=>{this.onWebSocketError(h)},this._webSocket.onopen=()=>{const h=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),h["accept-version"]=this.stompVersions.supportedVersions(),h["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:h})}}_setupHeartbeat(u){if(u.version!==_r.V1_1&&u.version!==_r.V1_2||!u["heart-beat"])return;const[h,p]=u["heart-beat"].split(",").map(_=>parseInt(_,10));if(this.heartbeatOutgoing!==0&&p!==0){const _=Math.max(this.heartbeatOutgoing,p);this.debug(`send PING every ${_}ms`),this._pinger=new Ex(_,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Jo.OPEN&&(this._webSocket.send(Su.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&h!==0){const _=Math.max(this.heartbeatIncoming,h);this.debug(`check PONG every ${_}ms`),this._ponger=setInterval(()=>{const v=Date.now()-this._lastServerActivityTS;v>_*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${v}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},_)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Jo.CONNECTING||this._webSocket.readyState===Jo.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&Cx(this._webSocket,u=>this.debug(u)),this._webSocket.terminate()}_transmit(u){const{command:h,headers:p,body:_,binaryBody:v,skipContentLengthHeader:y}=u,P=new Xo({command:h,headers:p,body:_,binaryBody:v,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:y});let B=P.serialize();if(this.logRawCommunication?this.debug(`>>> ${B}`):this.debug(`>>> ${P}`),this.forceBinaryWSFrames&&typeof B=="string"&&(B=new TextEncoder().encode(B)),typeof B!="string"||!this.splitLargeFrames)this._webSocket.send(B);else{let D=B;for(;D.length>0;){const S=D.substring(0,this.maxWebSocketChunkSize);D=D.substring(this.maxWebSocketChunkSize),this._webSocket.send(S),this.debug(`chunk sent = ${S.length}, remaining = ${D.length}`)}}}dispose(){if(this.connected)try{const u=Object.assign({},this.disconnectHeaders);u.receipt||(u.receipt=`close-${this._counter++}`),this.watchForReceipt(u.receipt,h=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(h)}),this._transmit({command:"DISCONNECT",headers:u})}catch(u){this.debug(`Ignoring error during disconnect ${u}`)}else(this._webSocket.readyState===Jo.CONNECTING||this._webSocket.readyState===Jo.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(u){const{destination:h,headers:p,body:_,binaryBody:v,skipContentLengthHeader:y}=u,P=Object.assign({destination:h},p);this._transmit({command:"SEND",headers:P,body:_,binaryBody:v,skipContentLengthHeader:y})}watchForReceipt(u,h){this._receiptWatchers[u]=h}subscribe(u,h,p={}){p=Object.assign({},p),p.id||(p.id=`sub-${this._counter++}`),p.destination=u,this._subscriptions[p.id]=h,this._transmit({command:"SUBSCRIBE",headers:p});const _=this;return{id:p.id,unsubscribe(v){return _.unsubscribe(p.id,v)}}}unsubscribe(u,h={}){h=Object.assign({},h),delete this._subscriptions[u],h.id=u,this._transmit({command:"UNSUBSCRIBE",headers:h})}begin(u){const h=u||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:h}});const p=this;return{id:h,commit(){p.commit(h)},abort(){p.abort(h)}}}commit(u){this._transmit({command:"COMMIT",headers:{transaction:u}})}abort(u){this._transmit({command:"ABORT",headers:{transaction:u}})}ack(u,h,p={}){p=Object.assign({},p),this._connectedVersion===_r.V1_2?p.id=u:p["message-id"]=u,p.subscription=h,this._transmit({command:"ACK",headers:p})}nack(u,h,p={}){return p=Object.assign({},p),this._connectedVersion===_r.V1_2?p.id=u:p["message-id"]=u,p.subscription=h,this._transmit({command:"NACK",headers:p})}}class s0{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(u){this._disconnectHeaders=u,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===qi.ACTIVE}_changeState(u){this.state=u,this.onChangeState(u)}constructor(u={}){this.stompVersions=_r.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=Fc.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Tu.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=qi.INACTIVE;const h=()=>{};this.debug=h,this.beforeConnect=h,this.onConnect=h,this.onDisconnect=h,this.onUnhandledMessage=h,this.onUnhandledReceipt=h,this.onUnhandledFrame=h,this.onHeartbeatReceived=h,this.onHeartbeatLost=h,this.onStompError=h,this.onWebSocketClose=h,this.onWebSocketError=h,this.logRawCommunication=!1,this.onChangeState=h,this.connectHeaders={},this._disconnectHeaders={},this.configure(u)}configure(u){Object.assign(this,u),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const u=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(qi.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===qi.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{u()})):u()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const u=this._createWebSocket();this._stompHandler=new Sx(this,u,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:h=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(h)},onDisconnect:h=>{this.onDisconnect(h)},onStompError:h=>{this.onStompError(h)},onWebSocketClose:h=>{this._stompHandler=void 0,this.state===qi.DEACTIVATING&&this._changeState(qi.INACTIVE),this.onWebSocketClose(h),this.active&&this._schedule_reconnect()},onWebSocketError:h=>{this.onWebSocketError(h)},onUnhandledMessage:h=>{this.onUnhandledMessage(h)},onUnhandledReceipt:h=>{this.onUnhandledReceipt(h)},onUnhandledFrame:h=>{this.onUnhandledFrame(h)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let u;if(this.webSocketFactory)u=this.webSocketFactory();else if(this.brokerURL)u=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return u.binaryType="arraybuffer",u}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Fc.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(u={}){const h=u.force||!1,p=this.active;let _;if(this.state===qi.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(qi.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Jo.CLOSED){const v=this._stompHandler.onWebSocketClose;_=new Promise((y,P)=>{this._stompHandler.onWebSocketClose=B=>{v(B),y()}})}else return this._changeState(qi.INACTIVE),Promise.resolve();return h?this._stompHandler?.discardWebsocket():p&&this._disposeStompHandler(),_}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(u){this._checkConnection(),this._stompHandler.publish(u)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(u,h){this._checkConnection(),this._stompHandler.watchForReceipt(u,h)}subscribe(u,h,p={}){return this._checkConnection(),this._stompHandler.subscribe(u,h,p)}unsubscribe(u,h={}){this._checkConnection(),this._stompHandler.unsubscribe(u,h)}begin(u){return this._checkConnection(),this._stompHandler.begin(u)}commit(u){this._checkConnection(),this._stompHandler.commit(u)}abort(u){this._checkConnection(),this._stompHandler.abort(u)}ack(u,h,p={}){this._checkConnection(),this._stompHandler.ack(u,h,p)}nack(u,h,p={}){this._checkConnection(),this._stompHandler.nack(u,h,p)}}var Hh={exports:{}},Ec={},em;function Px(){return em||(em=1,Ze.crypto&&Ze.crypto.getRandomValues?Ec.randomBytes=function(o){var u=new Uint8Array(o);return Ze.crypto.getRandomValues(u),u}:Ec.randomBytes=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=Math.floor(Math.random()*256);return u}),Ec}var Wh,tm;function Gl(){if(tm)return Wh;tm=1;var o=Px(),u="abcdefghijklmnopqrstuvwxyz012345";return Wh={string:function(h){for(var p=u.length,_=o.randomBytes(h),v=[],y=0;y<h;y++)v.push(u.substr(_[y]%p,1));return v.join("")},number:function(h){return Math.floor(Math.random()*h)},numberString:function(h){var p=(""+(h-1)).length,_=new Array(p+1).join("0");return(_+this.number(h)).slice(-p)}},Wh}var nm;function Yo(){return nm||(nm=1,(function(o){var u=Gl(),h={},p=!1,_=Ze.chrome&&Ze.chrome.app&&Ze.chrome.app.runtime;o.exports={attachEvent:function(y,P){typeof Ze.addEventListener<"u"?Ze.addEventListener(y,P,!1):Ze.document&&Ze.attachEvent&&(Ze.document.attachEvent("on"+y,P),Ze.attachEvent("on"+y,P))},detachEvent:function(y,P){typeof Ze.addEventListener<"u"?Ze.removeEventListener(y,P,!1):Ze.document&&Ze.detachEvent&&(Ze.document.detachEvent("on"+y,P),Ze.detachEvent("on"+y,P))},unloadAdd:function(y){if(_)return null;var P=u.string(8);return h[P]=y,p&&setTimeout(this.triggerUnloadCallbacks,0),P},unloadDel:function(y){y in h&&delete h[y]},triggerUnloadCallbacks:function(){for(var y in h)h[y](),delete h[y]}};var v=function(){p||(p=!0,o.exports.triggerUnloadCallbacks())};_||o.exports.attachEvent("unload",v)})(Hh)),Hh.exports}var qh,rm;function Mx(){return rm||(rm=1,qh=function(u,h){if(h=h.split(":")[0],u=+u,!u)return!1;switch(h){case"http":case"ws":return u!==80;case"https":case"wss":return u!==443;case"ftp":return u!==21;case"gopher":return u!==70;case"file":return!1}return u!==0}),qh}var Sc={},im;function Bx(){if(im)return Sc;im=1;var o=Object.prototype.hasOwnProperty,u;function h(y){try{return decodeURIComponent(y.replace(/\+/g," "))}catch{return null}}function p(y){try{return encodeURIComponent(y)}catch{return null}}function _(y){for(var P=/([^=?#&]+)=?([^&]*)/g,B={},D;D=P.exec(y);){var S=h(D[1]),j=h(D[2]);S===null||j===null||S in B||(B[S]=j)}return B}function v(y,P){P=P||"";var B=[],D,S;typeof P!="string"&&(P="?");for(S in y)if(o.call(y,S)){if(D=y[S],!D&&(D===null||D===u||isNaN(D))&&(D=""),S=p(S),D=p(D),S===null||D===null)continue;B.push(S+"="+D)}return B.length?P+B.join("&"):""}return Sc.stringify=v,Sc.parse=_,Sc}var Vh,sm;function o0(){if(sm)return Vh;sm=1;var o=Mx(),u=Bx(),h=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,p=/[\n\r\t]/g,_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,v=/:\d+$/,y=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,P=/^[a-zA-Z]:/;function B(I){return(I||"").toString().replace(h,"")}var D=[["#","hash"],["?","query"],function(te,J){return F(J.protocol)?te.replace(/\\/g,"/"):te},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],S={hash:1,query:1};function j(I){var te;typeof window<"u"?te=window:typeof Ze<"u"?te=Ze:typeof self<"u"?te=self:te={};var J=te.location||{};I=I||J;var Y={},he=typeof I,ge;if(I.protocol==="blob:")Y=new Z(unescape(I.pathname),{});else if(he==="string"){Y=new Z(I,{});for(ge in S)delete Y[ge]}else if(he==="object"){for(ge in I)ge in S||(Y[ge]=I[ge]);Y.slashes===void 0&&(Y.slashes=_.test(I.href))}return Y}function F(I){return I==="file:"||I==="ftp:"||I==="http:"||I==="https:"||I==="ws:"||I==="wss:"}function ie(I,te){I=B(I),I=I.replace(p,""),te=te||{};var J=y.exec(I),Y=J[1]?J[1].toLowerCase():"",he=!!J[2],ge=!!J[3],oe=0,xe;return he?ge?(xe=J[2]+J[3]+J[4],oe=J[2].length+J[3].length):(xe=J[2]+J[4],oe=J[2].length):ge?(xe=J[3]+J[4],oe=J[3].length):xe=J[4],Y==="file:"?oe>=2&&(xe=xe.slice(2)):F(Y)?xe=J[4]:Y?he&&(xe=xe.slice(2)):oe>=2&&F(te.protocol)&&(xe=J[4]),{protocol:Y,slashes:he||F(Y),slashesCount:oe,rest:xe}}function K(I,te){if(I==="")return te;for(var J=(te||"/").split("/").slice(0,-1).concat(I.split("/")),Y=J.length,he=J[Y-1],ge=!1,oe=0;Y--;)J[Y]==="."?J.splice(Y,1):J[Y]===".."?(J.splice(Y,1),oe++):oe&&(Y===0&&(ge=!0),J.splice(Y,1),oe--);return ge&&J.unshift(""),(he==="."||he==="..")&&J.push(""),J.join("/")}function Z(I,te,J){if(I=B(I),I=I.replace(p,""),!(this instanceof Z))return new Z(I,te,J);var Y,he,ge,oe,xe,Ae,Ge=D.slice(),lt=typeof te,ze=this,wt=0;for(lt!=="object"&&lt!=="string"&&(J=te,te=null),J&&typeof J!="function"&&(J=u.parse),te=j(te),he=ie(I||"",te),Y=!he.protocol&&!he.slashes,ze.slashes=he.slashes||Y&&te.slashes,ze.protocol=he.protocol||te.protocol||"",I=he.rest,(he.protocol==="file:"&&(he.slashesCount!==2||P.test(I))||!he.slashes&&(he.protocol||he.slashesCount<2||!F(ze.protocol)))&&(Ge[3]=[/(.*)/,"pathname"]);wt<Ge.length;wt++){if(oe=Ge[wt],typeof oe=="function"){I=oe(I,ze);continue}ge=oe[0],Ae=oe[1],ge!==ge?ze[Ae]=I:typeof ge=="string"?(xe=ge==="@"?I.lastIndexOf(ge):I.indexOf(ge),~xe&&(typeof oe[2]=="number"?(ze[Ae]=I.slice(0,xe),I=I.slice(xe+oe[2])):(ze[Ae]=I.slice(xe),I=I.slice(0,xe)))):(xe=ge.exec(I))&&(ze[Ae]=xe[1],I=I.slice(0,xe.index)),ze[Ae]=ze[Ae]||Y&&oe[3]&&te[Ae]||"",oe[4]&&(ze[Ae]=ze[Ae].toLowerCase())}J&&(ze.query=J(ze.query)),Y&&te.slashes&&ze.pathname.charAt(0)!=="/"&&(ze.pathname!==""||te.pathname!=="")&&(ze.pathname=K(ze.pathname,te.pathname)),ze.pathname.charAt(0)!=="/"&&F(ze.protocol)&&(ze.pathname="/"+ze.pathname),o(ze.port,ze.protocol)||(ze.host=ze.hostname,ze.port=""),ze.username=ze.password="",ze.auth&&(xe=ze.auth.indexOf(":"),~xe?(ze.username=ze.auth.slice(0,xe),ze.username=encodeURIComponent(decodeURIComponent(ze.username)),ze.password=ze.auth.slice(xe+1),ze.password=encodeURIComponent(decodeURIComponent(ze.password))):ze.username=encodeURIComponent(decodeURIComponent(ze.auth)),ze.auth=ze.password?ze.username+":"+ze.password:ze.username),ze.origin=ze.protocol!=="file:"&&F(ze.protocol)&&ze.host?ze.protocol+"//"+ze.host:"null",ze.href=ze.toString()}function H(I,te,J){var Y=this;switch(I){case"query":typeof te=="string"&&te.length&&(te=(J||u.parse)(te)),Y[I]=te;break;case"port":Y[I]=te,o(te,Y.protocol)?te&&(Y.host=Y.hostname+":"+te):(Y.host=Y.hostname,Y[I]="");break;case"hostname":Y[I]=te,Y.port&&(te+=":"+Y.port),Y.host=te;break;case"host":Y[I]=te,v.test(te)?(te=te.split(":"),Y.port=te.pop(),Y.hostname=te.join(":")):(Y.hostname=te,Y.port="");break;case"protocol":Y.protocol=te.toLowerCase(),Y.slashes=!J;break;case"pathname":case"hash":if(te){var he=I==="pathname"?"/":"#";Y[I]=te.charAt(0)!==he?he+te:te}else Y[I]=te;break;case"username":case"password":Y[I]=encodeURIComponent(te);break;case"auth":var ge=te.indexOf(":");~ge?(Y.username=te.slice(0,ge),Y.username=encodeURIComponent(decodeURIComponent(Y.username)),Y.password=te.slice(ge+1),Y.password=encodeURIComponent(decodeURIComponent(Y.password))):Y.username=encodeURIComponent(decodeURIComponent(te))}for(var oe=0;oe<D.length;oe++){var xe=D[oe];xe[4]&&(Y[xe[1]]=Y[xe[1]].toLowerCase())}return Y.auth=Y.password?Y.username+":"+Y.password:Y.username,Y.origin=Y.protocol!=="file:"&&F(Y.protocol)&&Y.host?Y.protocol+"//"+Y.host:"null",Y.href=Y.toString(),Y}function Le(I){(!I||typeof I!="function")&&(I=u.stringify);var te,J=this,Y=J.host,he=J.protocol;he&&he.charAt(he.length-1)!==":"&&(he+=":");var ge=he+(J.protocol&&J.slashes||F(J.protocol)?"//":"");return J.username?(ge+=J.username,J.password&&(ge+=":"+J.password),ge+="@"):J.password?(ge+=":"+J.password,ge+="@"):J.protocol!=="file:"&&F(J.protocol)&&!Y&&J.pathname!=="/"&&(ge+="@"),(Y[Y.length-1]===":"||v.test(J.hostname)&&!J.port)&&(Y+=":"),ge+=Y+J.pathname,te=typeof J.query=="object"?I(J.query):J.query,te&&(ge+=te.charAt(0)!=="?"?"?"+te:te),J.hash&&(ge+=J.hash),ge}return Z.prototype={set:H,toString:Le},Z.extractProtocol=ie,Z.location=j,Z.trimLeft=B,Z.qs=u,Vh=Z,Vh}var Gh,om;function mi(){if(om)return Gh;om=1;var o=o0();return Gh={getOrigin:function(u){if(!u)return null;var h=new o(u);if(h.protocol==="file:")return null;var p=h.port;return p||(p=h.protocol==="https:"?"443":"80"),h.protocol+"//"+h.hostname+":"+p},isOriginEqual:function(u,h){var p=this.getOrigin(u)===this.getOrigin(h);return p},isSchemeEqual:function(u,h){return u.split(":")[0]===h.split(":")[0]},addPath:function(u,h){var p=u.split("?");return p[0]+h+(p[1]?"?"+p[1]:"")},addQuery:function(u,h){return u+(u.indexOf("?")===-1?"?"+h:"&"+h)},isLoopbackAddr:function(u){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(u)||/^\[::1\]$/.test(u)}},Gh}var Pc={exports:{}},am;function Ft(){return am||(am=1,typeof Object.create=="function"?Pc.exports=function(u,h){h&&(u.super_=h,u.prototype=Object.create(h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:Pc.exports=function(u,h){if(h){u.super_=h;var p=function(){};p.prototype=h.prototype,u.prototype=new p,u.prototype.constructor=u}}),Pc.exports}var Zh={},Kh,lm;function a0(){if(lm)return Kh;lm=1;function o(){this._listeners={}}return o.prototype.addEventListener=function(u,h){u in this._listeners||(this._listeners[u]=[]);var p=this._listeners[u];p.indexOf(h)===-1&&(p=p.concat([h])),this._listeners[u]=p},o.prototype.removeEventListener=function(u,h){var p=this._listeners[u];if(p){var _=p.indexOf(h);if(_!==-1){p.length>1?this._listeners[u]=p.slice(0,_).concat(p.slice(_+1)):delete this._listeners[u];return}}},o.prototype.dispatchEvent=function(){var u=arguments[0],h=u.type,p=arguments.length===1?[u]:Array.apply(null,arguments);if(this["on"+h]&&this["on"+h].apply(this,p),h in this._listeners)for(var _=this._listeners[h],v=0;v<_.length;v++)_[v].apply(this,p)},Kh=o,Kh}var um;function yr(){if(um)return Zh;um=1;var o=Ft(),u=a0();function h(){u.call(this)}return o(h,u),h.prototype.removeAllListeners=function(p){p?delete this._listeners[p]:this._listeners={}},h.prototype.once=function(p,_){var v=this,y=!1;function P(){v.removeListener(p,P),y||(y=!0,_.apply(this,arguments))}this.on(p,P)},h.prototype.emit=function(){var p=arguments[0],_=this._listeners[p];if(_){for(var v=arguments.length,y=new Array(v-1),P=1;P<v;P++)y[P-1]=arguments[P];for(var B=0;B<_.length;B++)_[B].apply(this,y)}},h.prototype.on=h.prototype.addListener=u.prototype.addEventListener,h.prototype.removeListener=u.prototype.removeEventListener,Zh.EventEmitter=h,Zh}var Mc={exports:{}},cm;function jx(){if(cm)return Mc.exports;cm=1;var o=Ze.WebSocket||Ze.MozWebSocket;return o?Mc.exports=function(h){return new o(h)}:Mc.exports=void 0,Mc.exports}var $h,hm;function Tx(){if(hm)return $h;hm=1;var o=Yo(),u=mi(),h=Ft(),p=yr().EventEmitter,_=jx(),v=function(){};function y(P,B,D){if(!y.enabled())throw new Error("Transport created when disabled");p.call(this);var S=this,j=u.addPath(P,"/websocket");j.slice(0,5)==="https"?j="wss"+j.slice(5):j="ws"+j.slice(4),this.url=j,this.ws=new _(this.url,[],D),this.ws.onmessage=function(F){v("message event",F.data),S.emit("message",F.data)},this.unloadRef=o.unloadAdd(function(){S.ws.close()}),this.ws.onclose=function(F){v("close event",F.code,F.reason),S.emit("close",F.code,F.reason),S._cleanup()},this.ws.onerror=function(F){S.emit("close",1006,"WebSocket connection broken"),S._cleanup()}}return h(y,p),y.prototype.send=function(P){var B="["+P+"]";this.ws.send(B)},y.prototype.close=function(){var P=this.ws;this._cleanup(),P&&P.close()},y.prototype._cleanup=function(){var P=this.ws;P&&(P.onmessage=P.onclose=P.onerror=null),o.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},y.enabled=function(){return!!_},y.transportName="websocket",y.roundTrips=2,$h=y,$h}var Xh,dm;function Dx(){if(dm)return Xh;dm=1;var o=Ft(),u=yr().EventEmitter,h=function(){};function p(_,v){u.call(this),this.sendBuffer=[],this.sender=v,this.url=_}return o(p,u),p.prototype.send=function(_){this.sendBuffer.push(_),this.sendStop||this.sendSchedule()},p.prototype.sendScheduleWait=function(){var _=this,v;this.sendStop=function(){_.sendStop=null,clearTimeout(v)},v=setTimeout(function(){_.sendStop=null,_.sendSchedule()},25)},p.prototype.sendSchedule=function(){h("sendSchedule",this.sendBuffer.length);var _=this;if(this.sendBuffer.length>0){var v="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,v,function(y){_.sendStop=null,y?(_.emit("close",y.code||1006,"Sending error: "+y),_.close()):_.sendScheduleWait()}),this.sendBuffer=[]}},p.prototype._cleanup=function(){this.removeAllListeners()},p.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Xh=p,Xh}var Jh,fm;function Ax(){if(fm)return Jh;fm=1;var o=Ft(),u=yr().EventEmitter,h=function(){};function p(_,v,y){u.call(this),this.Receiver=_,this.receiveUrl=v,this.AjaxObject=y,this._scheduleReceiver()}return o(p,u),p.prototype._scheduleReceiver=function(){var _=this,v=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);v.on("message",function(y){_.emit("message",y)}),v.once("close",function(y,P){h("close",y,P,_.pollIsClosing),_.poll=v=null,_.pollIsClosing||(P==="network"?_._scheduleReceiver():(_.emit("close",y||1006,P),_.removeAllListeners()))})},p.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Jh=p,Jh}var Yh,pm;function l0(){if(pm)return Yh;pm=1;var o=Ft(),u=mi(),h=Dx(),p=Ax();function _(v,y,P,B,D){var S=u.addPath(v,y),j=this;h.call(this,v,P),this.poll=new p(B,S,D),this.poll.on("message",function(F){j.emit("message",F)}),this.poll.once("close",function(F,ie){j.poll=null,j.emit("close",F,ie),j.close()})}return o(_,h),_.prototype.close=function(){h.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Yh=_,Yh}var Qh,mm;function Zl(){if(mm)return Qh;mm=1;var o=Ft(),u=mi(),h=l0();function p(v){return function(y,P,B){var D={};typeof P=="string"&&(D.headers={"Content-type":"text/plain"});var S=u.addPath(y,"/xhr_send"),j=new v("POST",S,P,D);return j.once("finish",function(F){if(j=null,F!==200&&F!==204)return B(new Error("http status "+F));B()}),function(){j.close(),j=null;var F=new Error("Aborted");F.code=1e3,B(F)}}}function _(v,y,P,B){h.call(this,v,y,p(B),P,B)}return o(_,h),Qh=_,Qh}var ed,gm;function $c(){if(gm)return ed;gm=1;var o=Ft(),u=yr().EventEmitter;function h(p,_){u.call(this);var v=this;this.bufferPosition=0,this.xo=new _("POST",p,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(y,P){v._chunkHandler(y,P),v.xo=null;var B=y===200?"network":"permanent";v.emit("close",null,B),v._cleanup()})}return o(h,u),h.prototype._chunkHandler=function(p,_){if(!(p!==200||!_))for(var v=-1;;this.bufferPosition+=v+1){var y=_.slice(this.bufferPosition);if(v=y.indexOf(`
`),v===-1)break;var P=y.slice(0,v);P&&this.emit("message",P)}},h.prototype._cleanup=function(){this.removeAllListeners()},h.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},ed=h,ed}var td,_m;function u0(){if(_m)return td;_m=1;var o=yr().EventEmitter,u=Ft(),h=Yo(),p=mi(),_=Ze.XMLHttpRequest,v=function(){};function y(D,S,j,F){var ie=this;o.call(this),setTimeout(function(){ie._start(D,S,j,F)},0)}u(y,o),y.prototype._start=function(D,S,j,F){var ie=this;try{this.xhr=new _}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}S=p.addQuery(S,"t="+ +new Date),this.unloadRef=h.unloadAdd(function(){ie._cleanup(!0)});try{this.xhr.open(D,S,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){v("xhr timeout"),ie.emit("finish",0,""),ie._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!F||!F.noCredentials)&&y.supportsCORS&&(this.xhr.withCredentials=!0),F&&F.headers)for(var K in F.headers)this.xhr.setRequestHeader(K,F.headers[K]);this.xhr.onreadystatechange=function(){if(ie.xhr){var Z=ie.xhr,H,Le;switch(v("readyState",Z.readyState),Z.readyState){case 3:try{Le=Z.status,H=Z.responseText}catch{}Le===1223&&(Le=204),Le===200&&H&&H.length>0&&ie.emit("chunk",Le,H);break;case 4:Le=Z.status,Le===1223&&(Le=204),(Le===12005||Le===12029)&&(Le=0),v("finish",Le,Z.responseText),ie.emit("finish",Le,Z.responseText),ie._cleanup(!1);break}}};try{ie.xhr.send(j)}catch{ie.emit("finish",0,""),ie._cleanup(!1)}},y.prototype._cleanup=function(D){if(this.xhr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),D)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},y.prototype.close=function(){this._cleanup(!0)},y.enabled=!!_;var P=["Active"].concat("Object").join("X");!y.enabled&&P in Ze&&(_=function(){try{return new Ze[P]("Microsoft.XMLHTTP")}catch{return null}},y.enabled=!!new _);var B=!1;try{B="withCredentials"in new _}catch{}return y.supportsCORS=B,td=y,td}var nd,ym;function Xc(){if(ym)return nd;ym=1;var o=Ft(),u=u0();function h(p,_,v,y){u.call(this,p,_,v,y)}return o(h,u),h.enabled=u.enabled&&u.supportsCORS,nd=h,nd}var rd,vm;function zu(){if(vm)return rd;vm=1;var o=Ft(),u=u0();function h(p,_,v){u.call(this,p,_,v,{noCredentials:!0})}return o(h,u),h.enabled=u.enabled,rd=h,rd}var id,xm;function Uu(){return xm||(xm=1,id={isOpera:function(){return Ze.navigator&&/opera/i.test(Ze.navigator.userAgent)},isKonqueror:function(){return Ze.navigator&&/konqueror/i.test(Ze.navigator.userAgent)},hasDomain:function(){if(!Ze.document)return!0;try{return!!Ze.document.domain}catch{return!1}}}),id}var sd,wm;function Rx(){if(wm)return sd;wm=1;var o=Ft(),u=Zl(),h=$c(),p=Xc(),_=zu(),v=Uu();function y(P){if(!_.enabled&&!p.enabled)throw new Error("Transport created when disabled");u.call(this,P,"/xhr_streaming",h,p)}return o(y,u),y.enabled=function(P){return P.nullOrigin||v.isOpera()?!1:p.enabled},y.transportName="xhr-streaming",y.roundTrips=2,y.needBody=!!Ze.document,sd=y,sd}var od,bm;function cf(){if(bm)return od;bm=1;var o=yr().EventEmitter,u=Ft(),h=Yo(),p=Uu(),_=mi(),v=function(){};function y(P,B,D){var S=this;o.call(this),setTimeout(function(){S._start(P,B,D)},0)}return u(y,o),y.prototype._start=function(P,B,D){var S=this,j=new Ze.XDomainRequest;B=_.addQuery(B,"t="+ +new Date),j.onerror=function(){S._error()},j.ontimeout=function(){S._error()},j.onprogress=function(){v("progress",j.responseText),S.emit("chunk",200,j.responseText)},j.onload=function(){S.emit("finish",200,j.responseText),S._cleanup(!1)},this.xdr=j,this.unloadRef=h.unloadAdd(function(){S._cleanup(!0)});try{this.xdr.open(P,B),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(D)}catch{this._error()}},y.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},y.prototype._cleanup=function(P){if(this.xdr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,P)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},y.prototype.close=function(){this._cleanup(!0)},y.enabled=!!(Ze.XDomainRequest&&p.hasDomain()),od=y,od}var ad,Cm;function c0(){if(Cm)return ad;Cm=1;var o=Ft(),u=Zl(),h=$c(),p=cf();function _(v){if(!p.enabled)throw new Error("Transport created when disabled");u.call(this,v,"/xhr_streaming",h,p)}return o(_,u),_.enabled=function(v){return v.cookie_needed||v.nullOrigin?!1:p.enabled&&v.sameScheme},_.transportName="xdr-streaming",_.roundTrips=2,ad=_,ad}var ld,Lm;function h0(){return Lm||(Lm=1,ld=Ze.EventSource),ld}var ud,km;function Ox(){if(km)return ud;km=1;var o=Ft(),u=yr().EventEmitter,h=h0(),p=function(){};function _(v){u.call(this);var y=this,P=this.es=new h(v);P.onmessage=function(B){p("message",B.data),y.emit("message",decodeURI(B.data))},P.onerror=function(B){p("error",P.readyState);var D=P.readyState!==2?"network":"permanent";y._cleanup(),y._close(D)}}return o(_,u),_.prototype.abort=function(){this._cleanup(),this._close("user")},_.prototype._cleanup=function(){var v=this.es;v&&(v.onmessage=v.onerror=null,v.close(),this.es=null)},_.prototype._close=function(v){var y=this;setTimeout(function(){y.emit("close",null,v),y.removeAllListeners()},200)},ud=_,ud}var cd,Em;function Sm(){if(Em)return cd;Em=1;var o=Ft(),u=Zl(),h=Ox(),p=Xc(),_=h0();function v(y){if(!v.enabled())throw new Error("Transport created when disabled");u.call(this,y,"/eventsource",h,p)}return o(v,u),v.enabled=function(){return!!_},v.transportName="eventsource",v.roundTrips=2,cd=v,cd}var hd,Pm;function d0(){return Pm||(Pm=1,hd="1.6.1"),hd}var dd={exports:{}},Mm;function Hu(){return Mm||(Mm=1,(function(o){var u=Yo(),h=Uu();o.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){o.exports.WPrefix in Ze||(Ze[o.exports.WPrefix]={})},postMessage:function(p,_){Ze.parent!==Ze&&Ze.parent.postMessage(JSON.stringify({windowId:o.exports.currentWindowId,type:p,data:_||""}),"*")},createIframe:function(p,_){var v=Ze.document.createElement("iframe"),y,P,B=function(){clearTimeout(y);try{v.onload=null}catch{}v.onerror=null},D=function(){v&&(B(),setTimeout(function(){v&&v.parentNode.removeChild(v),v=null},0),u.unloadDel(P))},S=function(F){v&&(D(),_(F))},j=function(F,ie){setTimeout(function(){try{v&&v.contentWindow&&v.contentWindow.postMessage(F,ie)}catch{}},0)};return v.src=p,v.style.display="none",v.style.position="absolute",v.onerror=function(){S("onerror")},v.onload=function(){clearTimeout(y),y=setTimeout(function(){S("onload timeout")},2e3)},Ze.document.body.appendChild(v),y=setTimeout(function(){S("timeout")},15e3),P=u.unloadAdd(D),{post:j,cleanup:D,loaded:B}},createHtmlfile:function(p,_){var v=["Active"].concat("Object").join("X"),y=new Ze[v]("htmlfile"),P,B,D,S=function(){clearTimeout(P),D.onerror=null},j=function(){y&&(S(),u.unloadDel(B),D.parentNode.removeChild(D),D=y=null,CollectGarbage())},F=function(Z){y&&(j(),_(Z))},ie=function(Z,H){try{setTimeout(function(){D&&D.contentWindow&&D.contentWindow.postMessage(Z,H)},0)}catch{}};y.open(),y.write('<html><script>document.domain="'+Ze.document.domain+'";<\/script></html>'),y.close(),y.parentWindow[o.exports.WPrefix]=Ze[o.exports.WPrefix];var K=y.createElement("div");return y.body.appendChild(K),D=y.createElement("iframe"),K.appendChild(D),D.src=p,D.onerror=function(){F("onerror")},P=setTimeout(function(){F("timeout")},15e3),B=u.unloadAdd(j),{post:ie,cleanup:j,loaded:S}}},o.exports.iframeEnabled=!1,Ze.document&&(o.exports.iframeEnabled=(typeof Ze.postMessage=="function"||typeof Ze.postMessage=="object")&&!h.isKonqueror())})(dd)),dd.exports}var fd,Bm;function f0(){if(Bm)return fd;Bm=1;var o=Ft(),u=yr().EventEmitter,h=d0(),p=mi(),_=Hu(),v=Yo(),y=Gl(),P=function(){};function B(D,S,j){if(!B.enabled())throw new Error("Transport created when disabled");u.call(this);var F=this;this.origin=p.getOrigin(j),this.baseUrl=j,this.transUrl=S,this.transport=D,this.windowId=y.string(8);var ie=p.addPath(j,"/iframe.html")+"#"+this.windowId;this.iframeObj=_.createIframe(ie,function(K){F.emit("close",1006,"Unable to load an iframe ("+K+")"),F.close()}),this.onmessageCallback=this._message.bind(this),v.attachEvent("message",this.onmessageCallback)}return o(B,u),B.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){v.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},B.prototype._message=function(D){if(P("message",D.data),!p.isOriginEqual(D.origin,this.origin)){P("not same origin",D.origin,this.origin);return}var S;try{S=JSON.parse(D.data)}catch{P("bad json",D.data);return}if(S.windowId!==this.windowId){P("mismatched window id",S.windowId,this.windowId);return}switch(S.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([h,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",S.data);break;case"c":var j;try{j=JSON.parse(S.data)}catch{P("bad json",S.data);return}this.emit("close",j[0],j[1]),this.close();break}},B.prototype.postMessage=function(D,S){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:D,data:S||""}),this.origin)},B.prototype.send=function(D){this.postMessage("m",D)},B.enabled=function(){return _.iframeEnabled},B.transportName="iframe",B.roundTrips=2,fd=B,fd}var pd,jm;function hf(){return jm||(jm=1,pd={isObject:function(o){var u=typeof o;return u==="function"||u==="object"&&!!o},extend:function(o){if(!this.isObject(o))return o;for(var u,h,p=1,_=arguments.length;p<_;p++){u=arguments[p];for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])}return o}}),pd}var md,Tm;function gd(){if(Tm)return md;Tm=1;var o=Ft(),u=f0(),h=hf();return md=function(p){function _(v,y){u.call(this,p.transportName,v,y)}return o(_,u),_.enabled=function(v,y){if(!Ze.document)return!1;var P=h.extend({},y);return P.sameOrigin=!0,p.enabled(P)&&u.enabled()},_.transportName="iframe-"+p.transportName,_.needBody=!0,_.roundTrips=u.roundTrips+p.roundTrips-1,_.facadeTransport=p,_},md}var _d,Dm;function Nx(){if(Dm)return _d;Dm=1;var o=Ft(),u=Hu(),h=mi(),p=yr().EventEmitter,_=Gl(),v=function(){};function y(B){p.call(this);var D=this;u.polluteGlobalNamespace(),this.id="a"+_.string(6),B=h.addQuery(B,"c="+decodeURIComponent(u.WPrefix+"."+this.id)),v("using htmlfile",y.htmlfileEnabled);var S=y.htmlfileEnabled?u.createHtmlfile:u.createIframe;Ze[u.WPrefix][this.id]={start:function(){D.iframeObj.loaded()},message:function(j){D.emit("message",j)},stop:function(){D._cleanup(),D._close("network")}},this.iframeObj=S(B,function(){D._cleanup(),D._close("permanent")})}o(y,p),y.prototype.abort=function(){this._cleanup(),this._close("user")},y.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete Ze[u.WPrefix][this.id]},y.prototype._close=function(B){this.emit("close",null,B),this.removeAllListeners()},y.htmlfileEnabled=!1;var P=["Active"].concat("Object").join("X");if(P in Ze)try{y.htmlfileEnabled=!!new Ze[P]("htmlfile")}catch{}return y.enabled=y.htmlfileEnabled||u.iframeEnabled,_d=y,_d}var yd,Am;function Rm(){if(Am)return yd;Am=1;var o=Ft(),u=Nx(),h=zu(),p=Zl();function _(v){if(!u.enabled)throw new Error("Transport created when disabled");p.call(this,v,"/htmlfile",u,h)}return o(_,p),_.enabled=function(v){return u.enabled&&v.sameOrigin},_.transportName="htmlfile",_.roundTrips=2,yd=_,yd}var vd,Om;function Nm(){if(Om)return vd;Om=1;var o=Ft(),u=Zl(),h=$c(),p=Xc(),_=zu();function v(y){if(!_.enabled&&!p.enabled)throw new Error("Transport created when disabled");u.call(this,y,"/xhr",h,p)}return o(v,u),v.enabled=function(y){return y.nullOrigin?!1:_.enabled&&y.sameOrigin?!0:p.enabled},v.transportName="xhr-polling",v.roundTrips=2,vd=v,vd}var xd,Im;function Ix(){if(Im)return xd;Im=1;var o=Ft(),u=Zl(),h=c0(),p=$c(),_=cf();function v(y){if(!_.enabled)throw new Error("Transport created when disabled");u.call(this,y,"/xhr",p,_)}return o(v,u),v.enabled=h.enabled,v.transportName="xdr-polling",v.roundTrips=2,xd=v,xd}var wd,Fm;function Fx(){if(Fm)return wd;Fm=1;var o=Hu(),u=Gl(),h=Uu(),p=mi(),_=Ft(),v=yr().EventEmitter,y=function(){};function P(B){var D=this;v.call(this),o.polluteGlobalNamespace(),this.id="a"+u.string(6);var S=p.addQuery(B,"c="+encodeURIComponent(o.WPrefix+"."+this.id));Ze[o.WPrefix][this.id]=this._callback.bind(this),this._createScript(S),this.timeoutId=setTimeout(function(){D._abort(new Error("JSONP script loaded abnormally (timeout)"))},P.timeout)}return _(P,v),P.prototype.abort=function(){if(Ze[o.WPrefix][this.id]){var B=new Error("JSONP user aborted read");B.code=1e3,this._abort(B)}},P.timeout=35e3,P.scriptErrorTimeout=1e3,P.prototype._callback=function(B){this._cleanup(),!this.aborting&&(B&&this.emit("message",B),this.emit("close",null,"network"),this.removeAllListeners())},P.prototype._abort=function(B){this._cleanup(),this.aborting=!0,this.emit("close",B.code,B.message),this.removeAllListeners()},P.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var B=this.script;B.parentNode.removeChild(B),B.onreadystatechange=B.onerror=B.onload=B.onclick=null,this.script=null}delete Ze[o.WPrefix][this.id]},P.prototype._scriptError=function(){var B=this;this.errorTimer||(this.errorTimer=setTimeout(function(){B.loadedOkay||B._abort(new Error("JSONP script loaded abnormally (onerror)"))},P.scriptErrorTimeout))},P.prototype._createScript=function(B){var D=this,S=this.script=Ze.document.createElement("script"),j;if(S.id="a"+u.string(8),S.src=B,S.type="text/javascript",S.charset="UTF-8",S.onerror=this._scriptError.bind(this),S.onload=function(){D._abort(new Error("JSONP script loaded abnormally (onload)"))},S.onreadystatechange=function(){if(y("onreadystatechange",S.readyState),/loaded|closed/.test(S.readyState)){if(S&&S.htmlFor&&S.onclick){D.loadedOkay=!0;try{S.onclick()}catch{}}S&&D._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof S.async>"u"&&Ze.document.attachEvent)if(h.isOpera())j=this.script2=Ze.document.createElement("script"),j.text="try{var a = document.getElementById('"+S.id+"'); if(a)a.onerror();}catch(x){};",S.async=j.async=!1;else{try{S.htmlFor=S.id,S.event="onclick"}catch{}S.async=!0}typeof S.async<"u"&&(S.async=!0);var F=Ze.document.getElementsByTagName("head")[0];F.insertBefore(S,F.firstChild),j&&F.insertBefore(j,F.firstChild)},wd=P,wd}var bd,zm;function zx(){if(zm)return bd;zm=1;var o=Gl(),u=mi(),h=function(){},p,_;function v(P){try{return Ze.document.createElement('<iframe name="'+P+'">')}catch{var B=Ze.document.createElement("iframe");return B.name=P,B}}function y(){p=Ze.document.createElement("form"),p.style.display="none",p.style.position="absolute",p.method="POST",p.enctype="application/x-www-form-urlencoded",p.acceptCharset="UTF-8",_=Ze.document.createElement("textarea"),_.name="d",p.appendChild(_),Ze.document.body.appendChild(p)}return bd=function(P,B,D){p||y();var S="a"+o.string(8);p.target=S,p.action=u.addQuery(u.addPath(P,"/jsonp_send"),"i="+S);var j=v(S);j.id=S,j.style.display="none",p.appendChild(j);try{_.value=B}catch{}p.submit();var F=function(ie){j.onerror&&(j.onreadystatechange=j.onerror=j.onload=null,setTimeout(function(){j.parentNode.removeChild(j),j=null},500),_.value="",D(ie))};return j.onerror=function(){F()},j.onload=function(){F()},j.onreadystatechange=function(ie){h("onreadystatechange",S,j.readyState),j.readyState==="complete"&&F()},function(){F(new Error("Aborted"))}},bd}var Cd,Um;function Ux(){if(Um)return Cd;Um=1;var o=Ft(),u=l0(),h=Fx(),p=zx();function _(v){if(!_.enabled())throw new Error("Transport created when disabled");u.call(this,v,"/jsonp",p,h)}return o(_,u),_.enabled=function(){return!!Ze.document},_.transportName="jsonp-polling",_.roundTrips=1,_.needBody=!0,Cd=_,Cd}var Ld,Hm;function Hx(){return Hm||(Hm=1,Ld=[Tx(),Rx(),c0(),Sm(),gd()(Sm()),Rm(),gd()(Rm()),Nm(),Ix(),gd()(Nm()),Ux()]),Ld}var Wm={},qm;function Wx(){if(qm)return Wm;qm=1;var o=Array.prototype,u=Object.prototype,h=Function.prototype,p=String.prototype,_=o.slice,v=u.toString,y=function(ge){return u.toString.call(ge)==="[object Function]"},P=function(oe){return v.call(oe)==="[object Array]"},B=function(oe){return v.call(oe)==="[object String]"},D=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),S;D?S=function(ge,oe,xe,Ae){!Ae&&oe in ge||Object.defineProperty(ge,oe,{configurable:!0,enumerable:!1,writable:!0,value:xe})}:S=function(ge,oe,xe,Ae){!Ae&&oe in ge||(ge[oe]=xe)};var j=function(ge,oe,xe){for(var Ae in oe)u.hasOwnProperty.call(oe,Ae)&&S(ge,Ae,oe[Ae],xe)},F=function(ge){if(ge==null)throw new TypeError("can't convert "+ge+" to object");return Object(ge)};function ie(ge){var oe=+ge;return oe!==oe?oe=0:oe!==0&&oe!==1/0&&oe!==-1/0&&(oe=(oe>0||-1)*Math.floor(Math.abs(oe))),oe}function K(ge){return ge>>>0}function Z(){}j(h,{bind:function(oe){var xe=this;if(!y(xe))throw new TypeError("Function.prototype.bind called on incompatible "+xe);for(var Ae=_.call(arguments,1),Ge=function(){if(this instanceof Bt){var Re=xe.apply(this,Ae.concat(_.call(arguments)));return Object(Re)===Re?Re:this}else return xe.apply(oe,Ae.concat(_.call(arguments)))},lt=Math.max(0,xe.length-Ae.length),ze=[],wt=0;wt<lt;wt++)ze.push("$"+wt);var Bt=Function("binder","return function ("+ze.join(",")+"){ return binder.apply(this, arguments); }")(Ge);return xe.prototype&&(Z.prototype=xe.prototype,Bt.prototype=new Z,Z.prototype=null),Bt}}),j(Array,{isArray:P});var H=Object("a"),Le=H[0]!=="a"||!(0 in H),I=function(oe){var xe=!0,Ae=!0;return oe&&(oe.call("foo",function(Ge,lt,ze){typeof ze!="object"&&(xe=!1)}),oe.call([1],function(){Ae=typeof this=="string"},"x")),!!oe&&xe&&Ae};j(o,{forEach:function(oe){var xe=F(this),Ae=Le&&B(this)?this.split(""):xe,Ge=arguments[1],lt=-1,ze=Ae.length>>>0;if(!y(oe))throw new TypeError;for(;++lt<ze;)lt in Ae&&oe.call(Ge,Ae[lt],lt,xe)}},!I(o.forEach));var te=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;j(o,{indexOf:function(oe){var xe=Le&&B(this)?this.split(""):F(this),Ae=xe.length>>>0;if(!Ae)return-1;var Ge=0;for(arguments.length>1&&(Ge=ie(arguments[1])),Ge=Ge>=0?Ge:Math.max(0,Ae+Ge);Ge<Ae;Ge++)if(Ge in xe&&xe[Ge]===oe)return Ge;return-1}},te);var J=p.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var ge=/()??/.exec("")[1]===void 0;p.split=function(oe,xe){var Ae=this;if(oe===void 0&&xe===0)return[];if(v.call(oe)!=="[object RegExp]")return J.call(this,oe,xe);var Ge=[],lt=(oe.ignoreCase?"i":"")+(oe.multiline?"m":"")+(oe.extended?"x":"")+(oe.sticky?"y":""),ze=0,wt,Bt,Re,rt;for(oe=new RegExp(oe.source,lt+"g"),Ae+="",ge||(wt=new RegExp("^"+oe.source+"$(?!\\s)",lt)),xe=xe===void 0?-1>>>0:K(xe);(Bt=oe.exec(Ae))&&(Re=Bt.index+Bt[0].length,!(Re>ze&&(Ge.push(Ae.slice(ze,Bt.index)),!ge&&Bt.length>1&&Bt[0].replace(wt,function(){for(var be=1;be<arguments.length-2;be++)arguments[be]===void 0&&(Bt[be]=void 0)}),Bt.length>1&&Bt.index<Ae.length&&o.push.apply(Ge,Bt.slice(1)),rt=Bt[0].length,ze=Re,Ge.length>=xe)));)oe.lastIndex===Bt.index&&oe.lastIndex++;return ze===Ae.length?(rt||!oe.test(""))&&Ge.push(""):Ge.push(Ae.slice(ze)),Ge.length>xe?Ge.slice(0,xe):Ge}})():"0".split(void 0,0).length&&(p.split=function(oe,xe){return oe===void 0&&xe===0?[]:J.call(this,oe,xe)});var Y=p.substr,he="".substr&&"0b".substr(-1)!=="b";return j(p,{substr:function(oe,xe){return Y.call(this,oe<0&&(oe=this.length+oe)<0?0:oe,xe)}},he),Wm}var kd,Vm;function qx(){if(Vm)return kd;Vm=1;var o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,u,h=function(p){var _,v={},y=[];for(_=0;_<65536;_++)y.push(String.fromCharCode(_));return p.lastIndex=0,y.join("").replace(p,function(P){return v[P]="\\u"+("0000"+P.charCodeAt(0).toString(16)).slice(-4),""}),p.lastIndex=0,v};return kd={quote:function(p){var _=JSON.stringify(p);return o.lastIndex=0,o.test(_)?(u||(u=h(o)),_.replace(o,function(v){return u[v]})):_}},kd}var Ed,Gm;function Vx(){if(Gm)return Ed;Gm=1;var o=function(){};return Ed=function(u){return{filterToEnabled:function(h,p){var _={main:[],facade:[]};return h?typeof h=="string"&&(h=[h]):h=[],u.forEach(function(v){if(v&&!(v.transportName==="websocket"&&p.websocket===!1)){if(h.length&&h.indexOf(v.transportName)===-1){o("not in whitelist",v.transportName);return}v.enabled(p)?(o("enabled",v.transportName),_.main.push(v),v.facadeTransport&&_.facade.push(v.facadeTransport)):o("disabled",v.transportName)}}),_}}},Ed}var Sd,Zm;function Gx(){if(Zm)return Sd;Zm=1;var o={};return["log","debug","warn"].forEach(function(u){var h;try{h=Ze.console&&Ze.console[u]&&Ze.console[u].apply}catch{}o[u]=h?function(){return Ze.console[u].apply(Ze.console,arguments)}:u==="log"?function(){}:o.log}),Sd=o,Sd}var Pd,Km;function df(){if(Km)return Pd;Km=1;function o(u){this.type=u}return o.prototype.initEvent=function(u,h,p){return this.type=u,this.bubbles=h,this.cancelable=p,this.timeStamp=+new Date,this},o.prototype.stopPropagation=function(){},o.prototype.preventDefault=function(){},o.CAPTURING_PHASE=1,o.AT_TARGET=2,o.BUBBLING_PHASE=3,Pd=o,Pd}var Md,$m;function p0(){return $m||($m=1,Md=Ze.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),Md}var Bd,Xm;function Zx(){if(Xm)return Bd;Xm=1;var o=Ft(),u=df();function h(){u.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return o(h,u),Bd=h,Bd}var jd,Jm;function Kx(){if(Jm)return jd;Jm=1;var o=Ft(),u=df();function h(p){u.call(this),this.initEvent("message",!1,!1),this.data=p}return o(h,u),jd=h,jd}var Td,Ym;function $x(){if(Ym)return Td;Ym=1;var o=yr().EventEmitter,u=Ft();function h(){var p=this;o.call(this),this.to=setTimeout(function(){p.emit("finish",200,"{}")},h.timeout)}return u(h,o),h.prototype.close=function(){clearTimeout(this.to)},h.timeout=2e3,Td=h,Td}var Dd,Qm;function m0(){if(Qm)return Dd;Qm=1;var o=yr().EventEmitter,u=Ft(),h=hf();function p(_,v){o.call(this);var y=this,P=+new Date;this.xo=new v("GET",_),this.xo.once("finish",function(B,D){var S,j;if(B===200){if(j=+new Date-P,D)try{S=JSON.parse(D)}catch{}h.isObject(S)||(S={})}y.emit("finish",S,j),y.removeAllListeners()})}return u(p,o),p.prototype.close=function(){this.removeAllListeners(),this.xo.close()},Dd=p,Dd}var Ad,eg;function g0(){if(eg)return Ad;eg=1;var o=Ft(),u=yr().EventEmitter,h=zu(),p=m0();function _(v){var y=this;u.call(this),this.ir=new p(v,h),this.ir.once("finish",function(P,B){y.ir=null,y.emit("message",JSON.stringify([P,B]))})}return o(_,u),_.transportName="iframe-info-receiver",_.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Ad=_,Ad}var Rd,tg;function Xx(){if(tg)return Rd;tg=1;var o=yr().EventEmitter,u=Ft(),h=Yo(),p=f0(),_=g0();function v(y,P){var B=this;o.call(this);var D=function(){var S=B.ifr=new p(_.transportName,P,y);S.once("message",function(j){if(j){var F;try{F=JSON.parse(j)}catch{B.emit("finish"),B.close();return}var ie=F[0],K=F[1];B.emit("finish",ie,K)}B.close()}),S.once("close",function(){B.emit("finish"),B.close()})};Ze.document.body?D():h.attachEvent("load",D)}return u(v,o),v.enabled=function(){return p.enabled()},v.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},Rd=v,Rd}var Od,ng;function Jx(){if(ng)return Od;ng=1;var o=yr().EventEmitter,u=Ft(),h=mi(),p=cf(),_=Xc(),v=zu(),y=$x(),P=Xx(),B=m0();function D(S,j){var F=this;o.call(this),setTimeout(function(){F.doXhr(S,j)},0)}return u(D,o),D._getReceiver=function(S,j,F){return F.sameOrigin?new B(j,v):_.enabled?new B(j,_):p.enabled&&F.sameScheme?new B(j,p):P.enabled()?new P(S,j):new B(j,y)},D.prototype.doXhr=function(S,j){var F=this,ie=h.addPath(S,"/info");this.xo=D._getReceiver(S,ie,j),this.timeoutRef=setTimeout(function(){F._cleanup(!1),F.emit("finish")},D.timeout),this.xo.once("finish",function(K,Z){F._cleanup(!0),F.emit("finish",K,Z)})},D.prototype._cleanup=function(S){clearTimeout(this.timeoutRef),this.timeoutRef=null,!S&&this.xo&&this.xo.close(),this.xo=null},D.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},D.timeout=8e3,Od=D,Od}var Nd,rg;function Yx(){if(rg)return Nd;rg=1;var o=Hu();function u(h){this._transport=h,h.on("message",this._transportMessage.bind(this)),h.on("close",this._transportClose.bind(this))}return u.prototype._transportClose=function(h,p){o.postMessage("c",JSON.stringify([h,p]))},u.prototype._transportMessage=function(h){o.postMessage("t",h)},u.prototype._send=function(h){this._transport.send(h)},u.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Nd=u,Nd}var Id,ig;function Qx(){if(ig)return Id;ig=1;var o=mi(),u=Yo(),h=Yx(),p=g0(),_=Hu(),v=p0(),y=function(){};return Id=function(P,B){var D={};B.forEach(function(j){j.facadeTransport&&(D[j.facadeTransport.transportName]=j.facadeTransport)}),D[p.transportName]=p;var S;P.bootstrap_iframe=function(){var j;_.currentWindowId=v.hash.slice(1);var F=function(ie){if(ie.source===parent&&(typeof S>"u"&&(S=ie.origin),ie.origin===S)){var K;try{K=JSON.parse(ie.data)}catch{y("bad json",ie.data);return}if(K.windowId===_.currentWindowId)switch(K.type){case"s":var Z;try{Z=JSON.parse(K.data)}catch{y("bad json",K.data);break}var H=Z[0],Le=Z[1],I=Z[2],te=Z[3];if(H!==P.version)throw new Error('Incompatible SockJS! Main site uses: "'+H+'", the iframe: "'+P.version+'".');if(!o.isOriginEqual(I,v.href)||!o.isOriginEqual(te,v.href))throw new Error("Can't connect to different domain from within an iframe. ("+v.href+", "+I+", "+te+")");j=new h(new D[Le](I,te));break;case"m":j._send(K.data);break;case"c":j&&j._close(),j=null;break}}};u.attachEvent("message",F),_.postMessage("s")}},Id}var Fd,sg;function e4(){if(sg)return Fd;sg=1,Wx();var o=o0(),u=Ft(),h=Gl(),p=qx(),_=mi(),v=Yo(),y=Vx(),P=hf(),B=Uu(),D=Gx(),S=df(),j=a0(),F=p0(),ie=Zx(),K=Kx(),Z=Jx(),H=function(){},Le;function I(J,Y,he){if(!(this instanceof I))return new I(J,Y,he);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");j.call(this),this.readyState=I.CONNECTING,this.extensions="",this.protocol="",he=he||{},he.protocols_whitelist&&D.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=he.transports,this._transportOptions=he.transportOptions||{},this._timeout=he.timeout||0;var ge=he.sessionId||8;if(typeof ge=="function")this._generateSessionId=ge;else if(typeof ge=="number")this._generateSessionId=function(){return h.string(ge)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=he.server||h.numberString(1e3);var oe=new o(J);if(!oe.host||!oe.protocol)throw new SyntaxError("The URL '"+J+"' is invalid");if(oe.hash)throw new SyntaxError("The URL must not contain a fragment");if(oe.protocol!=="http:"&&oe.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+oe.protocol+"' is not allowed.");var xe=oe.protocol==="https:";if(F.protocol==="https:"&&!xe&&!_.isLoopbackAddr(oe.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");Y?Array.isArray(Y)||(Y=[Y]):Y=[];var Ae=Y.sort();Ae.forEach(function(lt,ze){if(!lt)throw new SyntaxError("The protocols entry '"+lt+"' is invalid.");if(ze<Ae.length-1&&lt===Ae[ze+1])throw new SyntaxError("The protocols entry '"+lt+"' is duplicated.")});var Ge=_.getOrigin(F.href);this._origin=Ge?Ge.toLowerCase():null,oe.set("pathname",oe.pathname.replace(/\/+$/,"")),this.url=oe.href,H("using url",this.url),this._urlInfo={nullOrigin:!B.hasDomain(),sameOrigin:_.isOriginEqual(this.url,F.href),sameScheme:_.isSchemeEqual(this.url,F.href)},this._ir=new Z(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}u(I,j);function te(J){return J===1e3||J>=3e3&&J<=4999}return I.prototype.close=function(J,Y){if(J&&!te(J))throw new Error("InvalidAccessError: Invalid code");if(Y&&Y.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===I.CLOSING||this.readyState===I.CLOSED)){var he=!0;this._close(J||1e3,Y||"Normal closure",he)}},I.prototype.send=function(J){if(typeof J!="string"&&(J=""+J),this.readyState===I.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===I.OPEN&&this._transport.send(p.quote(J))},I.version=d0(),I.CONNECTING=0,I.OPEN=1,I.CLOSING=2,I.CLOSED=3,I.prototype._receiveInfo=function(J,Y){if(this._ir=null,!J){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(Y),this._transUrl=J.base_url?J.base_url:this.url,J=P.extend(J,this._urlInfo);var he=Le.filterToEnabled(this._transportsWhitelist,J);this._transports=he.main,H(this._transports.length+" enabled transports"),this._connect()},I.prototype._connect=function(){for(var J=this._transports.shift();J;J=this._transports.shift()){if(H("attempt",J.transportName),J.needBody&&(!Ze.document.body||typeof Ze.document.readyState<"u"&&Ze.document.readyState!=="complete"&&Ze.document.readyState!=="interactive")){this._transports.unshift(J),v.attachEvent("load",this._connect.bind(this));return}var Y=Math.max(this._timeout,this._rto*J.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),Y);var he=_.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),ge=this._transportOptions[J.transportName],oe=new J(he,this._transUrl,ge);oe.on("message",this._transportMessage.bind(this)),oe.once("close",this._transportClose.bind(this)),oe.transportName=J.transportName,this._transport=oe;return}this._close(2e3,"All transports failed",!1)},I.prototype._transportTimeout=function(){this.readyState===I.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},I.prototype._transportMessage=function(J){var Y=this,he=J.slice(0,1),ge=J.slice(1),oe;switch(he){case"o":this._open();return;case"h":this.dispatchEvent(new S("heartbeat")),H("heartbeat",this.transport);return}if(ge)try{oe=JSON.parse(ge)}catch{}if(!(typeof oe>"u"))switch(he){case"a":Array.isArray(oe)&&oe.forEach(function(xe){H("message",Y.transport),Y.dispatchEvent(new K(xe))});break;case"m":H("message",this.transport),this.dispatchEvent(new K(oe));break;case"c":Array.isArray(oe)&&oe.length===2&&this._close(oe[0],oe[1],!0);break}},I.prototype._transportClose=function(J,Y){if(H("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!te(J)&&J!==2e3&&this.readyState===I.CONNECTING){this._connect();return}this._close(J,Y)},I.prototype._open=function(){H("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===I.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=I.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new S("open")),H("connected",this.transport)):this._close(1006,"Server lost session")},I.prototype._close=function(J,Y,he){H("_close",this.transport,J,Y,he,this.readyState);var ge=!1;if(this._ir&&(ge=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===I.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=I.CLOSING,setTimeout((function(){this.readyState=I.CLOSED,ge&&this.dispatchEvent(new S("error"));var oe=new ie("close");oe.wasClean=he||!1,oe.code=J||1e3,oe.reason=Y,this.dispatchEvent(oe),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},I.prototype.countRTO=function(J){return J>100?4*J:300+J},Fd=function(J){return Le=y(J),Qx()(I,J),I},Fd}var zd,og;function t4(){if(og)return zd;og=1;var o=Hx();return zd=e4()(o),"_sockjs_onload"in Ze&&setTimeout(Ze._sockjs_onload,1),zd}var n4=t4();const _0=Du(n4),r4=async()=>{try{return(await ht.get("/admin/orders/active")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},i4=async()=>{try{return(await ht.get("/admin/orders/archive")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},s4=async o=>{try{return(await ht.get("/admin/orders/archive/search",{params:{phone:o}})).data}catch(u){throw new Error(u.response?.data?.message||"   ")}},o4=async o=>{try{return(await ht.post(`/admin/orders/${o}/cancel`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},a4=async(o,u)=>{try{return(await ht.post(`/admin/orders/${o}/assign`,null,{params:{driverId:u}})).data}catch(h){throw new Error(h.response?.data?.message||"  ")}},l4=async()=>{try{return(await ht.get("/admin/drivers")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},u4=async()=>{try{return(await ht.get(`/admin/drivers/location-map?t=${new Date().getTime()}`)).data}catch(o){return console.error("    :",o),[]}},c4=async(o,u,h)=>{try{const p=new FormData;return p.append("request",JSON.stringify(o)),u&&p.append("file",u),h&&Object.keys(h).forEach(v=>{const y=h[v];y&&(v==="carFile"?p.append("carPhoto",y):p.append(v,y))}),(await ht.post("/admin/drivers",p,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(p){throw new Error(p.response?.data?.message||"   ")}},h4=async(o,u,h,p)=>{try{const _=new FormData;return _.append("request",JSON.stringify(u)),h&&_.append("file",h),p&&Object.keys(p).forEach(y=>{const P=p[y];P&&(y==="carFile"?_.append("carPhoto",P):_.append(y,P))}),(await ht.put(`/admin/drivers/${o}`,_,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(_){throw new Error(_.response?.data?.message||"   ")}},d4=async o=>{try{return(await ht.delete(`/admin/drivers/${o}`)).data}catch(u){throw new Error(u.response?.data?.message||"   ")}},f4=async o=>{try{return(await ht.patch(`/admin/drivers/${o}/block`)).data}catch(u){throw new Error(u.response?.data?.message||" ")}},p4=async(o,u)=>{try{return(await ht.post(`/admin/drivers/${o}/temp-block`,{durationHours:u})).data}catch(h){throw new Error(h.response?.data?.message||"  ")}},m4=async o=>{try{return(await ht.patch(`/admin/drivers/${o}/unblock`)).data}catch(u){throw new Error(u.response?.data?.message||" ")}},g4=async(o,u,h)=>{try{return(await ht.post(`/admin/drivers/${o}/activity`,{points:u,reason:h})).data}catch(p){throw new Error(p.response?.data?.message||"  ")}},_4=async()=>{try{return(await ht.get("/admin/drivers/cars/pending")).data}catch(o){throw new Error(o.response?.data?.message||"   ")}},y4=async o=>{try{return(await ht.post(`/admin/drivers/cars/${o}/approve`)).data}catch(u){throw new Error(u.response?.data?.message||"   ")}},v4=async(o,u)=>{try{return(await ht.post(`/admin/drivers/cars/${o}/reject`,u,{headers:{"Content-Type":"text/plain"}})).data}catch(h){throw new Error(h.response?.data?.message||"   ")}},ag=async(o,u)=>(await ht.put(`/admin/drivers/cars/${o}`,u)).data,x4=async()=>{try{return(await ht.get("/admin/drivers/pending-registration")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},w4=async o=>{try{return(await ht.post(`/admin/drivers/${o}/approve-registration`)).data}catch(u){throw new Error(u.response?.data?.message||"   ")}},b4=async(o,u)=>{try{return(await ht.post(`/admin/drivers/${o}/reject-registration`,u,{headers:{"Content-Type":"text/plain"}})).data}catch(h){throw new Error(h.response?.data?.message||"   ")}},y0=async()=>(await ht.get("/admin/settings")).data,C4=async(o,u)=>{const h=new FormData;return h.append("key",o),h.append("file",u),(await ht.post("/admin/settings/upload",h)).data.url},L4=async o=>{await ht.post("/admin/settings/save",o)};function k4(o,u){const h=U.useRef();U.useEffect(()=>{h.current=o},[o]),U.useEffect(()=>{function p(){h.current()}{let _=setInterval(p,u);return()=>clearInterval(_)}},[u])}function v0(o,u){const h=U.useRef(u);U.useEffect(function(){u!==h.current&&o.attributionControl!=null&&(h.current!=null&&o.attributionControl.removeAttribution(h.current),u!=null&&o.attributionControl.addAttribution(u)),h.current=u},[o,u])}const E4=1;function S4(o){return Object.freeze({__version:E4,map:o})}function ff(o,u){return Object.freeze({...o,...u})}const x0=U.createContext(null),w0=x0.Provider;function Jc(){const o=U.useContext(x0);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function b0(o){function u(h,p){const{instance:_,context:v}=o(h).current;return U.useImperativeHandle(p,()=>_),h.children==null?null:Bu.createElement(w0,{value:v},h.children)}return U.forwardRef(u)}function P4(o){function u(h,p){const[_,v]=U.useState(!1),{instance:y}=o(h,v).current;U.useImperativeHandle(p,()=>y),U.useEffect(function(){_&&y.update()},[y,_,h.children]);const P=y._contentNode;return P?Uy.createPortal(h.children,P):null}return U.forwardRef(u)}function M4(o){function u(h,p){const{instance:_}=o(h).current;return U.useImperativeHandle(p,()=>_),null}return U.forwardRef(u)}function pf(o,u){const h=U.useRef();U.useEffect(function(){return u!=null&&o.instance.on(u),h.current=u,function(){h.current!=null&&o.instance.off(h.current),h.current=null}},[o,u])}function Yc(o,u){const h=o.pane??u.pane;return h?{...o,pane:h}:o}function B4(o,u){return function(p,_){const v=Jc(),y=o(Yc(p,v),v);return v0(v.map,p.attribution),pf(y.current,p.eventHandlers),u(y.current,v,p,_),y}}var Pu={exports:{}};var j4=Pu.exports,lg;function T4(){return lg||(lg=1,(function(o,u){(function(h,p){p(u)})(j4,(function(h){var p="1.9.4";function _(t){var s,f,w,M;for(f=1,w=arguments.length;f<w;f++){M=arguments[f];for(s in M)t[s]=M[s]}return t}var v=Object.create||(function(){function t(){}return function(s){return t.prototype=s,new t}})();function y(t,s){var f=Array.prototype.slice;if(t.bind)return t.bind.apply(t,f.call(arguments,1));var w=f.call(arguments,2);return function(){return t.apply(s,w.length?w.concat(f.call(arguments)):arguments)}}var P=0;function B(t){return"_leaflet_id"in t||(t._leaflet_id=++P),t._leaflet_id}function D(t,s,f){var w,M,N,ee;return ee=function(){w=!1,M&&(N.apply(f,M),M=!1)},N=function(){w?M=arguments:(t.apply(f,arguments),setTimeout(ee,s),w=!0)},N}function S(t,s,f){var w=s[1],M=s[0],N=w-M;return t===w&&f?t:((t-M)%N+N)%N+M}function j(){return!1}function F(t,s){if(s===!1)return t;var f=Math.pow(10,s===void 0?6:s);return Math.round(t*f)/f}function ie(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function K(t){return ie(t).split(/\s+/)}function Z(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?v(t.options):{});for(var f in s)t.options[f]=s[f];return t.options}function H(t,s,f){var w=[];for(var M in t)w.push(encodeURIComponent(f?M.toUpperCase():M)+"="+encodeURIComponent(t[M]));return(!s||s.indexOf("?")===-1?"?":"&")+w.join("&")}var Le=/\{ *([\w_ -]+) *\}/g;function I(t,s){return t.replace(Le,function(f,w){var M=s[w];if(M===void 0)throw new Error("No value provided for variable "+f);return typeof M=="function"&&(M=M(s)),M})}var te=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function J(t,s){for(var f=0;f<t.length;f++)if(t[f]===s)return f;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function he(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ge=0;function oe(t){var s=+new Date,f=Math.max(0,16-(s-ge));return ge=s+f,window.setTimeout(t,f)}var xe=window.requestAnimationFrame||he("RequestAnimationFrame")||oe,Ae=window.cancelAnimationFrame||he("CancelAnimationFrame")||he("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Ge(t,s,f){if(f&&xe===oe)t.call(s);else return xe.call(window,y(t,s))}function lt(t){t&&Ae.call(window,t)}var ze={__proto__:null,extend:_,create:v,bind:y,get lastId(){return P},stamp:B,throttle:D,wrapNum:S,falseFn:j,formatNum:F,trim:ie,splitWords:K,setOptions:Z,getParamString:H,template:I,isArray:te,indexOf:J,emptyImageUrl:Y,requestFn:xe,cancelFn:Ae,requestAnimFrame:Ge,cancelAnimFrame:lt};function wt(){}wt.extend=function(t){var s=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,w=v(f);w.constructor=s,s.prototype=w;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(s[M]=this[M]);return t.statics&&_(s,t.statics),t.includes&&(Bt(t.includes),_.apply(null,[w].concat(t.includes))),_(w,t),delete w.statics,delete w.includes,w.options&&(w.options=f.options?v(f.options):{},_(w.options,t.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,ee=w._initHooks.length;N<ee;N++)w._initHooks[N].call(this)}},s},wt.include=function(t){var s=this.prototype.options;return _(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},wt.mergeOptions=function(t){return _(this.prototype.options,t),this},wt.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),f=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Bt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=te(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(t,s,f){if(typeof t=="object")for(var w in t)this._on(w,t[w],s);else{t=K(t);for(var M=0,N=t.length;M<N;M++)this._on(t[M],s,f)}return this},off:function(t,s,f){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var w in t)this._off(w,t[w],s);else{t=K(t);for(var M=arguments.length===1,N=0,ee=t.length;N<ee;N++)M?this._off(t[N]):this._off(t[N],s,f)}return this},_on:function(t,s,f,w){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,f)===!1){f===this&&(f=void 0);var M={fn:s,ctx:f};w&&(M.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(M)}},_off:function(t,s,f){var w,M,N;if(this._events&&(w=this._events[t],!!w)){if(arguments.length===1){if(this._firingCount)for(M=0,N=w.length;M<N;M++)w[M].fn=j;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var ee=this._listens(t,s,f);if(ee!==!1){var me=w[ee];this._firingCount&&(me.fn=j,this._events[t]=w=w.slice()),w.splice(ee,1)}}},fire:function(t,s,f){if(!this.listens(t,f))return this;var w=_({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var M=this._events[t];if(M){this._firingCount=this._firingCount+1||1;for(var N=0,ee=M.length;N<ee;N++){var me=M[N],Ce=me.fn;me.once&&this.off(t,Ce,me.ctx),Ce.call(me.ctx||this,w)}this._firingCount--}}return f&&this._propagateEvent(w),this},listens:function(t,s,f,w){typeof t!="string"&&console.warn('"string" type argument expected');var M=s;typeof s!="function"&&(w=!!s,M=void 0,f=void 0);var N=this._events&&this._events[t];if(N&&N.length&&this._listens(t,M,f)!==!1)return!0;if(w){for(var ee in this._eventParents)if(this._eventParents[ee].listens(t,s,f,w))return!0}return!1},_listens:function(t,s,f){if(!this._events)return!1;var w=this._events[t]||[];if(!s)return!!w.length;f===this&&(f=void 0);for(var M=0,N=w.length;M<N;M++)if(w[M].fn===s&&w[M].ctx===f)return M;return!1},once:function(t,s,f){if(typeof t=="object")for(var w in t)this._on(w,t[w],s,!0);else{t=K(t);for(var M=0,N=t.length;M<N;M++)this._on(t[M],s,f,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[B(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[B(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,_({layer:t.target,propagatedFrom:t.target},t),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var rt=wt.extend(Re);function be(t,s,f){this.x=f?Math.round(t):t,this.y=f?Math.round(s):s}var tt=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};be.prototype={clone:function(){return new be(this.x,this.y)},add:function(t){return this.clone()._add(Be(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Be(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new be(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new be(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=tt(this.x),this.y=tt(this.y),this},distanceTo:function(t){t=Be(t);var s=t.x-this.x,f=t.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(t){return t=Be(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Be(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+F(this.x)+", "+F(this.y)+")"}};function Be(t,s,f){return t instanceof be?t:te(t)?new be(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new be(t.x,t.y):new be(t,s,f)}function le(t,s){if(t)for(var f=s?[t,s]:t,w=0,M=f.length;w<M;w++)this.extend(f[w])}le.prototype={extend:function(t){var s,f;if(!t)return this;if(t instanceof be||typeof t[0]=="number"||"x"in t)s=f=Be(t);else if(t=Me(t),s=t.min,f=t.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(t){return Be((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Be(this.min.x,this.max.y)},getTopRight:function(){return Be(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,f;return typeof t[0]=="number"||t instanceof be?t=Be(t):t=Me(t),t instanceof le?(s=t.min,f=t.max):s=f=t,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(t){t=Me(t);var s=this.min,f=this.max,w=t.min,M=t.max,N=M.x>=s.x&&w.x<=f.x,ee=M.y>=s.y&&w.y<=f.y;return N&&ee},overlaps:function(t){t=Me(t);var s=this.min,f=this.max,w=t.min,M=t.max,N=M.x>s.x&&w.x<f.x,ee=M.y>s.y&&w.y<f.y;return N&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,f=this.max,w=Math.abs(s.x-f.x)*t,M=Math.abs(s.y-f.y)*t;return Me(Be(s.x-w,s.y-M),Be(f.x+w,f.y+M))},equals:function(t){return t?(t=Me(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Me(t,s){return!t||t instanceof le?t:new le(t,s)}function ut(t,s){if(t)for(var f=s?[t,s]:t,w=0,M=f.length;w<M;w++)this.extend(f[w])}ut.prototype={extend:function(t){var s=this._southWest,f=this._northEast,w,M;if(t instanceof Ye)w=t,M=t;else if(t instanceof ut){if(w=t._southWest,M=t._northEast,!w||!M)return this}else return t?this.extend(Je(t)||et(t)):this;return!s&&!f?(this._southWest=new Ye(w.lat,w.lng),this._northEast=new Ye(M.lat,M.lng)):(s.lat=Math.min(w.lat,s.lat),s.lng=Math.min(w.lng,s.lng),f.lat=Math.max(M.lat,f.lat),f.lng=Math.max(M.lng,f.lng)),this},pad:function(t){var s=this._southWest,f=this._northEast,w=Math.abs(s.lat-f.lat)*t,M=Math.abs(s.lng-f.lng)*t;return new ut(new Ye(s.lat-w,s.lng-M),new Ye(f.lat+w,f.lng+M))},getCenter:function(){return new Ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Ye||"lat"in t?t=Je(t):t=et(t);var s=this._southWest,f=this._northEast,w,M;return t instanceof ut?(w=t.getSouthWest(),M=t.getNorthEast()):w=M=t,w.lat>=s.lat&&M.lat<=f.lat&&w.lng>=s.lng&&M.lng<=f.lng},intersects:function(t){t=et(t);var s=this._southWest,f=this._northEast,w=t.getSouthWest(),M=t.getNorthEast(),N=M.lat>=s.lat&&w.lat<=f.lat,ee=M.lng>=s.lng&&w.lng<=f.lng;return N&&ee},overlaps:function(t){t=et(t);var s=this._southWest,f=this._northEast,w=t.getSouthWest(),M=t.getNorthEast(),N=M.lat>s.lat&&w.lat<f.lat,ee=M.lng>s.lng&&w.lng<f.lng;return N&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=et(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(t,s){return t instanceof ut?t:new ut(t,s)}function Ye(t,s,f){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,f!==void 0&&(this.alt=+f)}Ye.prototype={equals:function(t,s){if(!t)return!1;t=Je(t);var f=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return f<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+F(this.lat,t)+", "+F(this.lng,t)+")"},distanceTo:function(t){return Lt.distance(this,Je(t))},wrap:function(){return Lt.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,f=s/Math.cos(Math.PI/180*this.lat);return et([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new Ye(this.lat,this.lng,this.alt)}};function Je(t,s,f){return t instanceof Ye?t:te(t)&&typeof t[0]!="object"?t.length===3?new Ye(t[0],t[1],t[2]):t.length===2?new Ye(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Ye(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new Ye(t,s,f)}var St={latLngToPoint:function(t,s){var f=this.projection.project(t),w=this.scale(s);return this.transformation._transform(f,w)},pointToLatLng:function(t,s){var f=this.scale(s),w=this.transformation.untransform(t,f);return this.projection.unproject(w)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(t),w=this.transformation.transform(s.min,f),M=this.transformation.transform(s.max,f);return new le(w,M)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,f=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,w=t.alt;return new Ye(f,s,w)},wrapLatLngBounds:function(t){var s=t.getCenter(),f=this.wrapLatLng(s),w=s.lat-f.lat,M=s.lng-f.lng;if(w===0&&M===0)return t;var N=t.getSouthWest(),ee=t.getNorthEast(),me=new Ye(N.lat-w,N.lng-M),Ce=new Ye(ee.lat-w,ee.lng-M);return new ut(me,Ce)}},Lt=_({},St,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var f=Math.PI/180,w=t.lat*f,M=s.lat*f,N=Math.sin((s.lat-t.lat)*f/2),ee=Math.sin((s.lng-t.lng)*f/2),me=N*N+Math.cos(w)*Math.cos(M)*ee*ee,Ce=2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me));return this.R*Ce}}),At=6378137,vn={R:At,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,f=this.MAX_LATITUDE,w=Math.max(Math.min(f,t.lat),-f),M=Math.sin(w*s);return new be(this.R*t.lng*s,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(t){var s=180/Math.PI;return new Ye((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:(function(){var t=At*Math.PI;return new le([-t,-t],[t,t])})()};function Zi(t,s,f,w){if(te(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=f,this._d=w}Zi.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new be((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function Ki(t,s,f,w){return new Zi(t,s,f,w)}var $i=_({},Lt,{code:"EPSG:3857",projection:vn,transformation:(function(){var t=.5/(Math.PI*vn.R);return Ki(t,.5,-t,.5)})()}),oo=_({},$i,{code:"EPSG:900913"});function ea(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ta(t,s){var f="",w,M,N,ee,me,Ce;for(w=0,N=t.length;w<N;w++){for(me=t[w],M=0,ee=me.length;M<ee;M++)Ce=me[M],f+=(M?"L":"M")+Ce.x+" "+Ce.y;f+=s?it.svg?"z":"x":""}return f||"M0 0"}var Xi=document.documentElement.style,gi="ActiveXObject"in window,ao=gi&&!document.addEventListener,Ji="msLaunchUri"in navigator&&!("documentMode"in document),Kr=xn("webkit"),lo=xn("android"),na=xn("android 2")||xn("android 3"),Ya=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qa=lo&&xn("Google")&&Ya<537&&!("AudioNode"in window),uo=!!window.opera,co=!Ji&&xn("chrome"),js=xn("gecko")&&!Kr&&!uo&&!gi,ra=!co&&xn("safari"),_i=xn("phantom"),Yi="OTransition"in Xi,Qi=navigator.platform.indexOf("Win")===0,ia=gi&&"transition"in Xi,Ts="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!na,es="MozPerspective"in Xi,ho=!window.L_DISABLE_3D&&(ia||Ts||es)&&!Yi&&!_i,Fr=typeof orientation<"u"||xn("mobile"),sa=Fr&&Kr,oa=Fr&&Ts,Ds=!window.PointerEvent&&window.MSPointerEvent,yi=!!(window.PointerEvent||Ds),vi="ontouchstart"in window||!!window.TouchEvent,el=!window.L_NO_TOUCH&&(vi||yi),tl=Fr&&uo,aa=Fr&&js,la=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nl=(function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",j,s),window.removeEventListener("testPassiveEventSupport",j,s)}catch{}return t})(),ua=(function(){return!!document.createElement("canvas").getContext})(),fo=!!(document.createElementNS&&ea("svg").createSVGRect),ts=!!fo&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ca=!fo&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),As=navigator.platform.indexOf("Mac")===0,$l=navigator.platform.indexOf("Linux")===0;function xn(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var it={ie:gi,ielt9:ao,edge:Ji,webkit:Kr,android:lo,android23:na,androidStock:Qa,opera:uo,chrome:co,gecko:js,safari:ra,phantom:_i,opera12:Yi,win:Qi,ie3d:ia,webkit3d:Ts,gecko3d:es,any3d:ho,mobile:Fr,mobileWebkit:sa,mobileWebkit3d:oa,msPointer:Ds,pointer:yi,touch:el,touchNative:vi,mobileOpera:tl,mobileGecko:aa,retina:la,passiveEvents:nl,canvas:ua,svg:fo,vml:ca,inlineSvg:ts,mac:As,linux:$l},Rs=it.msPointer?"MSPointerDown":"pointerdown",po=it.msPointer?"MSPointerMove":"pointermove",ha=it.msPointer?"MSPointerUp":"pointerup",rl=it.msPointer?"MSPointerCancel":"pointercancel",da={touchstart:Rs,touchmove:po,touchend:ha,touchcancel:rl},$r={touchstart:$t,touchmove:mo,touchend:mo,touchcancel:mo},xi={},fa=!1;function Xl(t,s,f){return s==="touchstart"&&pa(),$r[s]?(f=$r[s].bind(this,f),t.addEventListener(da[s],f,!1),f):(console.warn("wrong event specified:",s),j)}function il(t,s,f){if(!da[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(da[s],f,!1)}function sl(t){xi[t.pointerId]=t}function ol(t){xi[t.pointerId]&&(xi[t.pointerId]=t)}function Os(t){delete xi[t.pointerId]}function pa(){fa||(document.addEventListener(Rs,sl,!0),document.addEventListener(po,ol,!0),document.addEventListener(ha,Os,!0),document.addEventListener(rl,Os,!0),fa=!0)}function mo(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in xi)s.touches.push(xi[f]);s.changedTouches=[s],t(s)}}function $t(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Xt(s),mo(t,s)}function Jl(t){var s={},f,w;for(w in t)f=t[w],s[w]=f&&f.bind?f.bind(t):f;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var ma=200;function al(t,s){t.addEventListener("dblclick",s);var f=0,w;function M(N){if(N.detail!==1){w=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var ee=Ci(N);if(!(ee.some(function(Ce){return Ce instanceof HTMLLabelElement&&Ce.attributes.for})&&!ee.some(function(Ce){return Ce instanceof HTMLInputElement||Ce instanceof HTMLSelectElement}))){var me=Date.now();me-f<=ma?(w++,w===2&&s(Jl(N))):w=1,f=me}}}return t.addEventListener("click",M),{dblclick:s,simDblclick:M}}function go(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var ga=ss(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ns=ss(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ns=ns==="webkitTransition"||ns==="OTransition"?ns+"End":"transitionend";function tr(t){return typeof t=="string"?document.getElementById(t):t}function Xr(t,s){var f=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(t,null);f=w?w[s]:null}return f==="auto"?null:f}function vt(t,s,f){var w=document.createElement(t);return w.className=s||"",f&&f.appendChild(w),w}function Vt(t){var s=t.parentNode;s&&s.removeChild(t)}function Is(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function rs(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function zr(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function is(t,s){if(t.classList!==void 0)return t.classList.contains(s);var f=_o(t);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function gt(t,s){if(t.classList!==void 0)for(var f=K(s),w=0,M=f.length;w<M;w++)t.classList.add(f[w]);else if(!is(t,s)){var N=_o(t);_a(t,(N?N+" ":"")+s)}}function Wt(t,s){t.classList!==void 0?t.classList.remove(s):_a(t,ie((" "+_o(t)+" ").replace(" "+s+" "," ")))}function _a(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function _o(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Pn(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&ll(t,s)}function ll(t,s){var f=!1,w="DXImageTransform.Microsoft.Alpha";try{f=t.filters.item(w)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):t.style.filter+=" progid:"+w+"(opacity="+s+")"}function ss(t){for(var s=document.documentElement.style,f=0;f<t.length;f++)if(t[f]in s)return t[f];return!1}function nr(t,s,f){var w=s||new be(0,0);t.style[ga]=(it.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(f?" scale("+f+")":"")}function Qt(t,s){t._leaflet_pos=s,it.any3d?nr(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function vr(t){return t._leaflet_pos||new be(0,0)}var Mt,os,yo;if("onselectstart"in document)Mt=function(){mt(window,"selectstart",Xt)},os=function(){Tt(window,"selectstart",Xt)};else{var wi=ss(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mt=function(){if(wi){var t=document.documentElement.style;yo=t[wi],t[wi]="none"}},os=function(){wi&&(document.documentElement.style[wi]=yo,yo=void 0)}}function vo(){mt(window,"dragstart",Xt)}function xo(){Tt(window,"dragstart",Xt)}var Fs,zs;function as(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(rr(),Fs=t,zs=t.style.outlineStyle,t.style.outlineStyle="none",mt(window,"keydown",rr))}function rr(){Fs&&(Fs.style.outlineStyle=zs,Fs=void 0,zs=void 0,Tt(window,"keydown",rr))}function Ur(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function xr(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var Us={__proto__:null,TRANSFORM:ga,TRANSITION:ns,TRANSITION_END:Ns,get:tr,getStyle:Xr,create:vt,remove:Vt,empty:Is,toFront:rs,toBack:zr,hasClass:is,addClass:gt,removeClass:Wt,setClass:_a,getClass:_o,setOpacity:Pn,testProp:ss,setTransform:nr,setPosition:Qt,getPosition:vr,get disableTextSelection(){return Mt},get enableTextSelection(){return os},disableImageDrag:vo,enableImageDrag:xo,preventOutline:as,restoreOutline:rr,getSizedParentNode:Ur,getScale:xr};function mt(t,s,f,w){if(s&&typeof s=="object")for(var M in s)va(t,M,s[M],f);else{s=K(s);for(var N=0,ee=s.length;N<ee;N++)va(t,s[N],f,w)}return this}var hn="_leaflet_events";function Tt(t,s,f,w){if(arguments.length===1)ya(t),delete t[hn];else if(s&&typeof s=="object")for(var M in s)wo(t,M,s[M],f);else if(s=K(s),arguments.length===2)ya(t,function(me){return J(s,me)!==-1});else for(var N=0,ee=s.length;N<ee;N++)wo(t,s[N],f,w);return this}function ya(t,s){for(var f in t[hn]){var w=f.split(/\d/)[0];(!s||s(w))&&wo(t,w,null,null,f)}}var bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function va(t,s,f,w){var M=s+B(f)+(w?"_"+B(w):"");if(t[hn]&&t[hn][M])return this;var N=function(me){return f.call(w||t,me||window.event)},ee=N;!it.touchNative&&it.pointer&&s.indexOf("touch")===0?N=Xl(t,s,N):it.touch&&s==="dblclick"?N=al(t,N):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(bi[s]||s,N,it.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(N=function(me){me=me||window.event,ls(t,me)&&ee(me)},t.addEventListener(bi[s],N,!1)):t.addEventListener(s,ee,!1):t.attachEvent("on"+s,N),t[hn]=t[hn]||{},t[hn][M]=N}function wo(t,s,f,w,M){M=M||s+B(f)+(w?"_"+B(w):"");var N=t[hn]&&t[hn][M];if(!N)return this;!it.touchNative&&it.pointer&&s.indexOf("touch")===0?il(t,s,N):it.touch&&s==="dblclick"?go(t,N):"removeEventListener"in t?t.removeEventListener(bi[s]||s,N,!1):t.detachEvent("on"+s,N),t[hn][M]=null}function wr(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function bo(t){return va(t,"wheel",wr),this}function Hs(t){return mt(t,"mousedown touchstart dblclick contextmenu",wr),t._leaflet_disable_click=!0,this}function Xt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ir(t){return Xt(t),wr(t),this}function Ci(t){if(t.composedPath)return t.composedPath();for(var s=[],f=t.target;f;)s.push(f),f=f.parentNode;return s}function Jr(t,s){if(!s)return new be(t.clientX,t.clientY);var f=xr(s),w=f.boundingClientRect;return new be((t.clientX-w.left)/f.x-s.clientLeft,(t.clientY-w.top)/f.y-s.clientTop)}var Yl=it.linux&&it.chrome?window.devicePixelRatio:it.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ul(t){return it.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Yl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ls(t,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==t;)f=f.parentNode}catch{return!1}return f!==t}var kt={__proto__:null,on:mt,off:Tt,stopPropagation:wr,disableScrollPropagation:bo,disableClickPropagation:Hs,preventDefault:Xt,stop:ir,getPropagationPath:Ci,getMousePosition:Jr,getWheelDelta:ul,isExternalTarget:ls,addListener:mt,removeListener:Tt},us=rt.extend({run:function(t,s,f,w){this.stop(),this._el=t,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=vr(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ge(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var f=this._startPos.add(this._offset.multiplyBy(t));s&&f._round(),Qt(this._el,f),this.fire("step")},_complete:function(){lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),bt=rt.extend({options:{crs:$i,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=Z(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(Je(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ns&&it.any3d&&!it.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,Ns,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(Je(t),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=_({animate:f.animate},f.zoom),f.pan=_({animate:f.animate,duration:f.duration},f.pan));var w=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,f.zoom):this._tryAnimatedPan(t,f.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,f){var w=this.getZoomScale(s),M=this.getSize().divideBy(2),N=t instanceof be?t:this.latLngToContainerPoint(t),ee=N.subtract(M).multiplyBy(1-1/w),me=this.containerPointToLatLng(M.add(ee));return this.setView(me,s,{zoom:f})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():et(t);var f=Be(s.paddingTopLeft||s.padding||[0,0]),w=Be(s.paddingBottomRight||s.padding||[0,0]),M=this.getBoundsZoom(t,!1,f.add(w));if(M=typeof s.maxZoom=="number"?Math.min(s.maxZoom,M):M,M===1/0)return{center:t.getCenter(),zoom:M};var N=w.subtract(f).divideBy(2),ee=this.project(t.getSouthWest(),M),me=this.project(t.getNorthEast(),M),Ce=this.unproject(ee.add(me).divideBy(2).add(N),M);return{center:Ce,zoom:M}},fitBounds:function(t,s){if(t=et(t),!t.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(t,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=Be(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){gt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,f){if(f=f||{},f.animate===!1||!it.any3d)return this.setView(t,s,f);this._stop();var w=this.project(this.getCenter()),M=this.project(t),N=this.getSize(),ee=this._zoom;t=Je(t),s=s===void 0?ee:s;var me=Math.max(N.x,N.y),Ce=me*this.getZoomScale(ee,s),je=M.distanceTo(w)||1,Ke=1.42,dt=Ke*Ke;function xt($e){var si=$e?-1:1,Ta=$e?Ce:me,oi=Ce*Ce-me*me+si*dt*dt*je*je,qt=2*Ta*dt*je,ai=oi/qt,an=Math.sqrt(ai*ai+1)-ai,Ln=an<1e-9?-18:Math.log(an);return Ln}function on($e){return(Math.exp($e)-Math.exp(-$e))/2}function tn($e){return(Math.exp($e)+Math.exp(-$e))/2}function In($e){return on($e)/tn($e)}var Tn=xt(0);function ws($e){return me*(tn(Tn)/tn(Tn+Ke*$e))}function ja($e){return me*(tn(Tn)*In(Tn+Ke*$e)-on(Tn))/dt}function Pr($e){return 1-Math.pow(1-$e,1.5)}var Fn=Date.now(),nn=(xt(1)-Tn)/Ke,hr=f.duration?1e3*f.duration:1e3*nn*.8;function _n(){var $e=(Date.now()-Fn)/hr,si=Pr($e)*nn;$e<=1?(this._flyToFrame=Ge(_n,this),this._move(this.unproject(w.add(M.subtract(w).multiplyBy(ja(si)/je)),ee),this.getScaleZoom(me/ws(si),ee),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),_n.call(this),this},flyToBounds:function(t,s){var f=this._getBoundsCenterZoom(t,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(t){return t=et(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var f=this.getCenter(),w=this._limitCenter(f,this._zoom,et(t));return f.equals(w)||this.panTo(w,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var f=Be(s.paddingTopLeft||s.padding||[0,0]),w=Be(s.paddingBottomRight||s.padding||[0,0]),M=this.project(this.getCenter()),N=this.project(t),ee=this.getPixelBounds(),me=Me([ee.min.add(f),ee.max.subtract(w)]),Ce=me.getSize();if(!me.contains(N)){this._enforcingBounds=!0;var je=N.subtract(me.getCenter()),Ke=me.extend(N).getSize().subtract(Ce);M.x+=je.x<0?-Ke.x:Ke.x,M.y+=je.y<0?-Ke.y:Ke.y,this.panTo(this.unproject(M),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=_({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),w=s.divideBy(2).round(),M=f.divideBy(2).round(),N=w.subtract(M);return!N.x&&!N.y?this:(t.animate&&t.pan?this.panBy(N):(t.pan&&this._rawPanBy(N),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=_({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=y(this._handleGeolocationResponse,this),f=y(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,t):navigator.geolocation.getCurrentPosition(s,f,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,f=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,f=t.coords.longitude,w=new Ye(s,f),M=w.toBounds(t.coords.accuracy*2),N=this._locateOptions;if(N.setView){var ee=this.getBoundsZoom(M);this.setView(w,N.maxZoom?Math.min(ee,N.maxZoom):ee)}var me={latlng:w,bounds:M,timestamp:t.timestamp};for(var Ce in t.coords)typeof t.coords[Ce]=="number"&&(me[Ce]=t.coords[Ce]);this.fire("locationfound",me)}},addHandler:function(t,s){if(!s)return this;var f=this[t]=new s(this);return this._handlers.push(f),this.options[t]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Vt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var f="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),w=vt("div",f,s||this._mapPane);return t&&(this._panes[t]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),f=this.unproject(t.getTopRight());return new ut(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,f){t=et(t),f=Be(f||[0,0]);var w=this.getZoom()||0,M=this.getMinZoom(),N=this.getMaxZoom(),ee=t.getNorthWest(),me=t.getSouthEast(),Ce=this.getSize().subtract(f),je=Me(this.project(me,w),this.project(ee,w)).getSize(),Ke=it.any3d?this.options.zoomSnap:1,dt=Ce.x/je.x,xt=Ce.y/je.y,on=s?Math.max(dt,xt):Math.min(dt,xt);return w=this.getScaleZoom(on,w),Ke&&(w=Math.round(w/(Ke/100))*(Ke/100),w=s?Math.ceil(w/Ke)*Ke:Math.floor(w/Ke)*Ke),Math.max(M,Math.min(N,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new be(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var f=this._getTopLeftPoint(t,s);return new le(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(t)/f.scale(s)},getScaleZoom:function(t,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var w=f.zoom(t*f.scale(s));return isNaN(w)?1/0:w},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(Je(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Be(t),s)},layerPointToLatLng:function(t){var s=Be(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(Je(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Je(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(et(t))},distance:function(t,s){return this.options.crs.distance(Je(t),Je(s))},containerPointToLayerPoint:function(t){return Be(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Be(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(Be(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Je(t)))},mouseEventToContainerPoint:function(t){return Jr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=tr(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(s,"scroll",this._onScroll,this),this._containerId=B(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&it.any3d,gt(t,"leaflet-container"+(it.touch?" leaflet-touch":"")+(it.retina?" leaflet-retina":"")+(it.ielt9?" leaflet-oldie":"")+(it.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Xr(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qt(this._mapPane,new be(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gt(t.markerPane,"leaflet-zoom-hide"),gt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,f){Qt(this._mapPane,new be(0,0));var w=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var M=this._zoom!==s;this._moveStart(M,f)._move(t,s)._moveEnd(M),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,f,w){s===void 0&&(s=this._zoom);var M=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),w?f&&f.pinch&&this.fire("zoom",f):((M||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Qt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[B(this._container)]=this;var s=t?Tt:mt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),it.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){lt(this._resizeRequest),this._resizeRequest=Ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var f=[],w,M=s==="mouseout"||s==="mouseover",N=t.target||t.srcElement,ee=!1;N;){if(w=this._targets[B(N)],w&&(s==="click"||s==="preclick")&&this._draggableMoved(w)){ee=!0;break}if(w&&w.listens(s,!0)&&(M&&!ls(N,t)||(f.push(w),M))||N===this._container)break;N=N.parentNode}return!f.length&&!ee&&!M&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var f=t.type;f==="mousedown"&&as(s),this._fireDOMEvent(t,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,f){if(t.type==="click"){var w=_({},t);w.type="preclick",this._fireDOMEvent(w,w.type,f)}var M=this._findEventTargets(t,s);if(f){for(var N=[],ee=0;ee<f.length;ee++)f[ee].listens(s,!0)&&N.push(f[ee]);M=N.concat(M)}if(M.length){s==="contextmenu"&&Xt(t);var me=M[0],Ce={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var je=me.getLatLng&&(!me._radius||me._radius<=10);Ce.containerPoint=je?this.latLngToContainerPoint(me.getLatLng()):this.mouseEventToContainerPoint(t),Ce.layerPoint=this.containerPointToLayerPoint(Ce.containerPoint),Ce.latlng=je?me.getLatLng():this.layerPointToLatLng(Ce.layerPoint)}for(ee=0;ee<M.length;ee++)if(M[ee].fire(s,Ce,!0),Ce.originalEvent._stopped||M[ee].options.bubblingMouseEvents===!1&&J(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return vr(this._mapPane)||new be(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var f=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var f=this.getSize()._divideBy(2);return this.project(t,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,f){var w=this._getNewPixelOrigin(f,s);return this.project(t,s)._subtract(w)},_latLngBoundsToNewLayerBounds:function(t,s,f){var w=this._getNewPixelOrigin(f,s);return Me([this.project(t.getSouthWest(),s)._subtract(w),this.project(t.getNorthWest(),s)._subtract(w),this.project(t.getSouthEast(),s)._subtract(w),this.project(t.getNorthEast(),s)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,f){if(!f)return t;var w=this.project(t,s),M=this.getSize().divideBy(2),N=new le(w.subtract(M),w.add(M)),ee=this._getBoundsOffset(N,f,s);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?t:this.unproject(w.add(ee),s)},_limitOffset:function(t,s){if(!s)return t;var f=this.getPixelBounds(),w=new le(f.min.add(t),f.max.add(t));return t.add(this._getBoundsOffset(w,s))},_getBoundsOffset:function(t,s,f){var w=Me(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),M=w.min.subtract(t.min),N=w.max.subtract(t.max),ee=this._rebound(M.x,-N.x),me=this._rebound(M.y,-N.y);return new be(ee,me)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),f=this.getMaxZoom(),w=it.any3d?this.options.zoomSnap:1;return w&&(t=Math.round(t/w)*w),Math.max(s,Math.min(f,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var f=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var t=this._proxy=vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var f=ga,w=this._proxy.style[f];nr(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),w===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();nr(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(s),M=this._getCenterOffset(t)._divideBy(1-1/w);return f.animate!==!0&&!this.getSize().contains(M)?!1:(Ge(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,f,w){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yr(t,s){return new bt(t,s)}var Mn=wt.extend({options:{position:"topright"},initialize:function(t){Z(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),f=this.getPosition(),w=t._controlCorners[f];return gt(s,"leaflet-control"),f.indexOf("bottom")!==-1?w.insertBefore(s,w.firstChild):w.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Qr=function(t){return new Mn(t)};bt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",f=this._controlContainer=vt("div",s+"control-container",this._container);function w(M,N){var ee=s+M+" "+s+N;t[M+N]=vt("div",ee,f)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Vt(this._controlCorners[t]);Vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ws=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,f,w){return f<w?-1:w<f?1:0}},initialize:function(t,s,f){Z(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in t)this._addLayer(t[w],w);for(w in s)this._addLayer(s[w],w,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Mn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(B(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=vt("div",t),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Hs(s),bo(s);var w=this._section=vt("section",t+"-list");f&&(this._map.on("click",this.collapse,this),mt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=vt("a",t+"-toggle",s);M.href="#",M.title="Layers",M.setAttribute("role","button"),mt(M,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Xt(N),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=vt("div",t+"-base",w),this._separator=vt("div",t+"-separator",w),this._overlaysList=vt("div",t+"-overlays",w),s.appendChild(w)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&B(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,f){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(y(function(w,M){return this.options.sortFunction(w.layer,M.layer,w.name,M.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Is(this._baseLayersList),Is(this._overlaysList),this._layerControlInputs=[];var t,s,f,w,M=0;for(f=0;f<this._layers.length;f++)w=this._layers[f],this._addItem(w),s=s||w.overlay,t=t||!w.overlay,M+=w.overlay?0:1;return this.options.hideSingleBase&&(t=t&&M>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(B(t.target)),f=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(t,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=f,w.firstChild},_addItem:function(t){var s=document.createElement("label"),f=this._map.hasLayer(t.layer),w;t.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=f):w=this._createRadioElement("leaflet-base-layers_"+B(this),f),this._layerControlInputs.push(w),w.layerId=B(t.layer),mt(w,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+t.name;var N=document.createElement("span");s.appendChild(N),N.appendChild(w),N.appendChild(M);var ee=t.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,f,w=[],M=[];this._handlingClick=!0;for(var N=t.length-1;N>=0;N--)s=t[N],f=this._getLayer(s.layerId).layer,s.checked?w.push(f):s.checked||M.push(f);for(N=0;N<M.length;N++)this._map.hasLayer(M[N])&&this._map.removeLayer(M[N]);for(N=0;N<w.length;N++)this._map.hasLayer(w[N])||this._map.addLayer(w[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,f,w=this._map.getZoom(),M=t.length-1;M>=0;M--)s=t[M],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&w<f.options.minZoom||f.options.maxZoom!==void 0&&w>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,mt(t,"click",Xt),this.expand();var s=this;setTimeout(function(){Tt(t,"click",Xt),s._preventClick=!1})}}),Li=function(t,s,f){return new Ws(t,s,f)},cs=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",f=vt("div",s+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,f,w,M){var N=vt("a",f,w);return N.innerHTML=t,N.href="#",N.title=s,N.setAttribute("role","button"),N.setAttribute("aria-label",s),Hs(N),mt(N,"click",ir),mt(N,"click",M,this),mt(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";Wt(this._zoomInButton,s),Wt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(gt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(gt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cs,this.addControl(this.zoomControl))});var Hr=function(t){return new cs(t)},wn=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",f=vt("div",s),w=this.options;return this._addScales(w,s+"-line",f),t.on(w.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),f},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,f){t.metric&&(this._mScale=vt("div",s,f)),t.imperial&&(this._iScale=vt("div",s,f))},_update:function(){var t=this._map,s=t.getSize().y/2,f=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/t)},_updateImperial:function(t){var s=t*3.2808399,f,w,M;s>5280?(f=s/5280,w=this._getRoundNum(f),this._updateScale(this._iScale,w+" mi",w/f)):(M=this._getRoundNum(s),this._updateScale(this._iScale,M+" ft",M/s))},_updateScale:function(t,s,f){t.style.width=Math.round(this.options.maxWidth*f)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),f=t/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),sr=function(t){return new wn(t)},xa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ki=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(it.inlineSvg?xa+" ":"")+"Leaflet</a>"},initialize:function(t){Z(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=vt("div","leaflet-control-attribution"),Hs(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),t.length&&f.push(t.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new ki().addTo(this)});var Ql=function(t){return new ki(t)};Mn.Layers=Ws,Mn.Zoom=cs,Mn.Scale=wn,Mn.Attribution=ki,Qr.layers=Li,Qr.zoom=Hr,Qr.scale=sr,Qr.attribution=Ql;var Hn=wt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(t,s){return t.addHandler(s,this),this};var wa={Events:Re},hs=it.touch?"touchstart mousedown":"mousedown",or=rt.extend({options:{clickTolerance:3},initialize:function(t,s,f,w){Z(this,w),this._element=t,this._dragStartTarget=s||t,this._preventOutline=f},enable:function(){this._enabled||(mt(this._dragStartTarget,hs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(or._dragging===this&&this.finishDrag(!0),Tt(this._dragStartTarget,hs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!is(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){or._dragging===this&&this.finishDrag();return}if(!(or._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(or._dragging=this,this._preventOutline&&as(this._element),vo(),Mt(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,f=Ur(this._element);this._startPoint=new be(s.clientX,s.clientY),this._startPos=vr(this._element),this._parentScale=xr(f);var w=t.type==="mousedown";mt(document,w?"mousemove":"touchmove",this._onMove,this),mt(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,f=new be(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Xt(t),this._moved||(this.fire("dragstart"),this._moved=!0,gt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Qt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Tt(document,"mousemove touchmove",this._onMove,this),Tt(document,"mouseup touchend touchcancel",this._onUp,this),xo(),os();var s=this._moved&&this._moving;this._moving=!1,or._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ba(t,s,f){var w,M=[1,4,2,8],N,ee,me,Ce,je,Ke,dt,xt;for(N=0,Ke=t.length;N<Ke;N++)t[N]._code=qn(t[N],s);for(me=0;me<4;me++){for(dt=M[me],w=[],N=0,Ke=t.length,ee=Ke-1;N<Ke;ee=N++)Ce=t[N],je=t[ee],Ce._code&dt?je._code&dt||(xt=qs(je,Ce,dt,s,f),xt._code=qn(xt,s),w.push(xt)):(je._code&dt&&(xt=qs(je,Ce,dt,s,f),xt._code=qn(xt,s),w.push(xt)),w.push(Ce));t=w}return t}function cl(t,s){var f,w,M,N,ee,me,Ce,je,Ke;if(!t||t.length===0)throw new Error("latlngs not passed");Vn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var dt=Je([0,0]),xt=et(t),on=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());on<1700&&(dt=Co(t));var tn=t.length,In=[];for(f=0;f<tn;f++){var Tn=Je(t[f]);In.push(s.project(Je([Tn.lat-dt.lat,Tn.lng-dt.lng])))}for(me=Ce=je=0,f=0,w=tn-1;f<tn;w=f++)M=In[f],N=In[w],ee=M.y*N.x-N.y*M.x,Ce+=(M.x+N.x)*ee,je+=(M.y+N.y)*ee,me+=ee*3;me===0?Ke=In[0]:Ke=[Ce/me,je/me];var ws=s.unproject(Be(Ke));return Je([ws.lat+dt.lat,ws.lng+dt.lng])}function Co(t){for(var s=0,f=0,w=0,M=0;M<t.length;M++){var N=Je(t[M]);s+=N.lat,f+=N.lng,w++}return Je([s/w,f/w])}var eu={__proto__:null,clipPolygon:ba,polygonCenter:cl,centroid:Co};function en(t,s){if(!s||!t.length)return t.slice();var f=s*s;return t=Ca(t,f),t=ds(t,f),t}function Bn(t,s,f){return Math.sqrt(Ei(t,s,f,!0))}function tu(t,s,f){return Ei(t,s,f)}function ds(t,s){var f=t.length,w=typeof Uint8Array<"u"?Uint8Array:Array,M=new w(f);M[0]=M[f-1]=1,ei(t,M,s,0,f-1);var N,ee=[];for(N=0;N<f;N++)M[N]&&ee.push(t[N]);return ee}function ei(t,s,f,w,M){var N=0,ee,me,Ce;for(me=w+1;me<=M-1;me++)Ce=Ei(t[me],t[w],t[M],!0),Ce>N&&(ee=me,N=Ce);N>f&&(s[ee]=1,ei(t,s,f,w,ee),ei(t,s,f,ee,M))}function Ca(t,s){for(var f=[t[0]],w=1,M=0,N=t.length;w<N;w++)dl(t[w],t[M])>s&&(f.push(t[w]),M=w);return M<N-1&&f.push(t[N-1]),f}var Wn;function hl(t,s,f,w,M){var N=w?Wn:qn(t,f),ee=qn(s,f),me,Ce,je;for(Wn=ee;;){if(!(N|ee))return[t,s];if(N&ee)return!1;me=N||ee,Ce=qs(t,s,me,f,M),je=qn(Ce,f),me===N?(t=Ce,N=je):(s=Ce,ee=je)}}function qs(t,s,f,w,M){var N=s.x-t.x,ee=s.y-t.y,me=w.min,Ce=w.max,je,Ke;return f&8?(je=t.x+N*(Ce.y-t.y)/ee,Ke=Ce.y):f&4?(je=t.x+N*(me.y-t.y)/ee,Ke=me.y):f&2?(je=Ce.x,Ke=t.y+ee*(Ce.x-t.x)/N):f&1&&(je=me.x,Ke=t.y+ee*(me.x-t.x)/N),new be(je,Ke,M)}function qn(t,s){var f=0;return t.x<s.min.x?f|=1:t.x>s.max.x&&(f|=2),t.y<s.min.y?f|=4:t.y>s.max.y&&(f|=8),f}function dl(t,s){var f=s.x-t.x,w=s.y-t.y;return f*f+w*w}function Ei(t,s,f,w){var M=s.x,N=s.y,ee=f.x-M,me=f.y-N,Ce=ee*ee+me*me,je;return Ce>0&&(je=((t.x-M)*ee+(t.y-N)*me)/Ce,je>1?(M=f.x,N=f.y):je>0&&(M+=ee*je,N+=me*je)),ee=t.x-M,me=t.y-N,w?ee*ee+me*me:new be(M,N)}function Vn(t){return!te(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function fl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(t)}function Vs(t,s){var f,w,M,N,ee,me,Ce,je;if(!t||t.length===0)throw new Error("latlngs not passed");Vn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ke=Je([0,0]),dt=et(t),xt=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());xt<1700&&(Ke=Co(t));var on=t.length,tn=[];for(f=0;f<on;f++){var In=Je(t[f]);tn.push(s.project(Je([In.lat-Ke.lat,In.lng-Ke.lng])))}for(f=0,w=0;f<on-1;f++)w+=tn[f].distanceTo(tn[f+1])/2;if(w===0)je=tn[0];else for(f=0,N=0;f<on-1;f++)if(ee=tn[f],me=tn[f+1],M=ee.distanceTo(me),N+=M,N>w){Ce=(N-w)/M,je=[me.x-Ce*(me.x-ee.x),me.y-Ce*(me.y-ee.y)];break}var Tn=s.unproject(Be(je));return Je([Tn.lat+Ke.lat,Tn.lng+Ke.lng])}var La={__proto__:null,simplify:en,pointToSegmentDistance:Bn,closestPointOnSegment:tu,clipSegment:hl,_getEdgeIntersection:qs,_getBitCode:qn,_sqClosestPointOnSegment:Ei,isFlat:Vn,_flat:fl,polylineCenter:Vs},ka={project:function(t){return new be(t.lng,t.lat)},unproject:function(t){return new Ye(t.y,t.x)},bounds:new le([-180,-90],[180,90])},Lo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,f=this.R,w=t.lat*s,M=this.R_MINOR/f,N=Math.sqrt(1-M*M),ee=N*Math.sin(w),me=Math.tan(Math.PI/4-w/2)/Math.pow((1-ee)/(1+ee),N/2);return w=-f*Math.log(Math.max(me,1e-10)),new be(t.lng*s*f,w)},unproject:function(t){for(var s=180/Math.PI,f=this.R,w=this.R_MINOR/f,M=Math.sqrt(1-w*w),N=Math.exp(-t.y/f),ee=Math.PI/2-2*Math.atan(N),me=0,Ce=.1,je;me<15&&Math.abs(Ce)>1e-7;me++)je=M*Math.sin(ee),je=Math.pow((1-je)/(1+je),M/2),Ce=Math.PI/2-2*Math.atan(N*je)-ee,ee+=Ce;return new Ye(ee*s,t.x*s/f)}},nu={__proto__:null,LonLat:ka,Mercator:Lo,SphericalMercator:vn},pl=_({},Lt,{code:"EPSG:3395",projection:Lo,transformation:(function(){var t=.5/(Math.PI*Lo.R);return Ki(t,.5,-t,.5)})()}),ml=_({},Lt,{code:"EPSG:4326",projection:ka,transformation:Ki(1/180,1,-1/180,.5)}),ko=_({},St,{projection:ka,transformation:Ki(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var f=s.lng-t.lng,w=s.lat-t.lat;return Math.sqrt(f*f+w*w)},infinite:!0});St.Earth=Lt,St.EPSG3395=pl,St.EPSG3857=$i,St.EPSG900913=oo,St.EPSG4326=ml,St.Simple=ko;var jn=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[B(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[B(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=B(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=B(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return B(t)in this._layers},eachLayer:function(t,s){for(var f in this._layers)t.call(s,this._layers[f]);return this},_addLayers:function(t){t=t?te(t)?t:[t]:[];for(var s=0,f=t.length;s<f;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[B(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=B(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,f=this._getZoomSpan();for(var w in this._zoomBoundLayers){var M=this._zoomBoundLayers[w].options;t=M.minZoom===void 0?t:Math.min(t,M.minZoom),s=M.maxZoom===void 0?s:Math.max(s,M.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ar=jn.extend({initialize:function(t,s){Z(this,s),this._layers={};var f,w;if(t)for(f=0,w=t.length;f<w;f++)this.addLayer(t[f])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),f,w;for(f in this._layers)w=this._layers[f],w[t]&&w[t].apply(w,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var f in this._layers)t.call(s,this._layers[f]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return B(t)}}),fs=function(t,s){return new ar(t,s)},Wr=ar.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ar.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ar.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ut;for(var s in this._layers){var f=this._layers[s];t.extend(f.getBounds?f.getBounds():f.getLatLng())}return t}}),gl=function(t,s){return new Wr(t,s)},Si=wt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){Z(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var f=this._getIconUrl(t);if(!f){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(w,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(t,s){var f=this.options,w=f[s+"Size"];typeof w=="number"&&(w=[w,w]);var M=Be(w),N=Be(s==="shadow"&&f.shadowAnchor||f.iconAnchor||M&&M.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(f.className||""),N&&(t.style.marginLeft=-N.x+"px",t.style.marginTop=-N.y+"px"),M&&(t.style.width=M.x+"px",t.style.height=M.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return it.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function _l(t){return new Si(t)}var ps=Si.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ps.imagePath!="string"&&(ps.imagePath=this._detectIconPath()),(this.options.imagePath||ps.imagePath)+Si.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(f,w,M){var N=w.exec(f);return N&&N[M]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=vt("div","leaflet-default-icon-path",document.body),s=Xr(t,"background-image")||Xr(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ea=Hn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new or(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,f=s._map,w=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,N=vr(s._icon),ee=f.getPixelBounds(),me=f.getPixelOrigin(),Ce=Me(ee.min._subtract(me).add(M),ee.max._subtract(me).subtract(M));if(!Ce.contains(N)){var je=Be((Math.max(Ce.max.x,N.x)-Ce.max.x)/(ee.max.x-Ce.max.x)-(Math.min(Ce.min.x,N.x)-Ce.min.x)/(ee.min.x-Ce.min.x),(Math.max(Ce.max.y,N.y)-Ce.max.y)/(ee.max.y-Ce.max.y)-(Math.min(Ce.min.y,N.y)-Ce.min.y)/(ee.min.y-Ce.min.y)).multiplyBy(w);f.panBy(je,{animate:!1}),this._draggable._newPos._add(je),this._draggable._startPos._add(je),Qt(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Ge(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(lt(this._panRequest),this._panRequest=Ge(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,f=s._shadow,w=vr(s._icon),M=s._map.layerPointToLatLng(w);f&&Qt(f,w),s._latlng=M,t.latlng=M,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),br=jn.extend({options:{icon:new ps,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){Z(this,s),this._latlng=Je(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=Je(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=t.icon.createIcon(this._icon),w=!1;f!==this._icon&&(this._icon&&this._removeIcon(),w=!0,t.title&&(f.title=t.title),f.tagName==="IMG"&&(f.alt=t.alt||"")),gt(f,s),t.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(f,"focus",this._panOnFocus,this);var M=t.icon.createShadow(this._shadow),N=!1;M!==this._shadow&&(this._removeShadow(),N=!0),M&&(gt(M,s),M.alt=""),this._shadow=M,t.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&N&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Tt(this._icon,"focus",this._panOnFocus,this),Vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Qt(this._icon,t),this._shadow&&Qt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ea)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ea(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Pn(this._icon,t),this._shadow&&Pn(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,f=s.iconSize?Be(s.iconSize):Be(0,0),w=s.iconAnchor?Be(s.iconAnchor):Be(0,0);t.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:f.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gs(t,s){return new br(t,s)}var dn=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return Z(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ms=dn.extend({options:{fill:!0,radius:10},initialize:function(t,s){Z(this,s),this._latlng=Je(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=Je(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return dn.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,f=this._clickTolerance(),w=[t+f,s+f];this._pxBounds=new le(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zs(t,s){return new ms(t,s)}var Eo=ms.extend({initialize:function(t,s,f){if(typeof s=="number"&&(s=_({},f,{radius:s})),Z(this,s),this._latlng=Je(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ut(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:dn.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,f=this._map,w=f.options.crs;if(w.distance===Lt.distance){var M=Math.PI/180,N=this._mRadius/Lt.R/M,ee=f.project([s+N,t]),me=f.project([s-N,t]),Ce=ee.add(me).divideBy(2),je=f.unproject(Ce).lat,Ke=Math.acos((Math.cos(N*M)-Math.sin(s*M)*Math.sin(je*M))/(Math.cos(s*M)*Math.cos(je*M)))/M;(isNaN(Ke)||Ke===0)&&(Ke=N/Math.cos(Math.PI/180*s)),this._point=Ce.subtract(f.getPixelOrigin()),this._radius=isNaN(Ke)?0:Ce.x-f.project([je,t-Ke]).x,this._radiusY=Ce.y-ee.y}else{var dt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(dt).x}this._updateBounds()}});function Ks(t,s,f){return new Eo(t,s,f)}var bn=dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){Z(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,f=null,w=Ei,M,N,ee=0,me=this._parts.length;ee<me;ee++)for(var Ce=this._parts[ee],je=1,Ke=Ce.length;je<Ke;je++){M=Ce[je-1],N=Ce[je];var dt=w(t,M,N,!0);dt<s&&(s=dt,f=w(t,M,N))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=Je(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ut,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],f=Vn(t),w=0,M=t.length;w<M;w++)f?(s[w]=Je(t[w]),this._bounds.extend(s[w])):s[w]=this._convertLatLngs(t[w]);return s},_project:function(){var t=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new be(t,t);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,f){var w=t[0]instanceof Ye,M=t.length,N,ee;if(w){for(ee=[],N=0;N<M;N++)ee[N]=this._map.latLngToLayerPoint(t[N]),f.extend(ee[N]);s.push(ee)}else for(N=0;N<M;N++)this._projectLatlngs(t[N],s,f)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,w,M,N,ee,me,Ce;for(f=0,M=0,N=this._rings.length;f<N;f++)for(Ce=this._rings[f],w=0,ee=Ce.length;w<ee-1;w++)me=hl(Ce[w],Ce[w+1],t,w,!0),me&&(s[M]=s[M]||[],s[M].push(me[0]),(me[1]!==Ce[w+1]||w===ee-2)&&(s[M].push(me[1]),M++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,f=0,w=t.length;f<w;f++)t[f]=en(t[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var f,w,M,N,ee,me,Ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,N=this._parts.length;f<N;f++)for(me=this._parts[f],w=0,ee=me.length,M=ee-1;w<ee;M=w++)if(!(!s&&w===0)&&Bn(t,me[M],me[w])<=Ce)return!0;return!1}});function Cr(t,s){return new bn(t,s)}bn._flat=fl;var Lr=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=bn.prototype._convertLatLngs.call(this,t),f=s.length;return f>=2&&s[0]instanceof Ye&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(t){bn.prototype._setLatLngs.call(this,t),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,f=new be(s,s);if(t=new le(t.min.subtract(f),t.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,M=this._rings.length,N;w<M;w++)N=ba(this._rings[w],t,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,f,w,M,N,ee,me,Ce,je;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(N=0,Ce=this._parts.length;N<Ce;N++)for(f=this._parts[N],ee=0,je=f.length,me=je-1;ee<je;me=ee++)w=f[ee],M=f[me],w.y>t.y!=M.y>t.y&&t.x<(M.x-w.x)*(t.y-w.y)/(M.y-w.y)+w.x&&(s=!s);return s||bn.prototype._containsPoint.call(this,t,!0)}});function ru(t,s){return new Lr(t,s)}var kr=Wr.extend({initialize:function(t,s){Z(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=te(t)?t:t.features,f,w,M;if(s){for(f=0,w=s.length;f<w;f++)M=s[f],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var N=this.options;if(N.filter&&!N.filter(t))return this;var ee=Cn(t,N);return ee?(ee.feature=Mo(t),ee.defaultOptions=ee.options,this.resetStyle(ee),N.onEachFeature&&N.onEachFeature(t,ee),this.addLayer(ee)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=_({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function Cn(t,s){var f=t.type==="Feature"?t.geometry:t,w=f?f.coordinates:null,M=[],N=s&&s.pointToLayer,ee=s&&s.coordsToLatLng||Pi,me,Ce,je,Ke;if(!w&&!f)return null;switch(f.type){case"Point":return me=ee(w),Er(N,t,me,s);case"MultiPoint":for(je=0,Ke=w.length;je<Ke;je++)me=ee(w[je]),M.push(Er(N,t,me,s));return new Wr(M);case"LineString":case"MultiLineString":return Ce=gs(w,f.type==="LineString"?0:1,ee),new bn(Ce,s);case"Polygon":case"MultiPolygon":return Ce=gs(w,f.type==="Polygon"?1:2,ee),new Lr(Ce,s);case"GeometryCollection":for(je=0,Ke=f.geometries.length;je<Ke;je++){var dt=Cn({geometry:f.geometries[je],type:"Feature",properties:t.properties},s);dt&&M.push(dt)}return new Wr(M);case"FeatureCollection":for(je=0,Ke=f.features.length;je<Ke;je++){var xt=Cn(f.features[je],s);xt&&M.push(xt)}return new Wr(M);default:throw new Error("Invalid GeoJSON object.")}}function Er(t,s,f,w){return t?t(s,f):new br(f,w&&w.markersInheritOptions&&w)}function Pi(t){return new Ye(t[1],t[0],t[2])}function gs(t,s,f){for(var w=[],M=0,N=t.length,ee;M<N;M++)ee=s?gs(t[M],s-1,f):(f||Pi)(t[M]),w.push(ee);return w}function So(t,s){return t=Je(t),t.alt!==void 0?[F(t.lng,s),F(t.lat,s),F(t.alt,s)]:[F(t.lng,s),F(t.lat,s)]}function Po(t,s,f,w){for(var M=[],N=0,ee=t.length;N<ee;N++)M.push(s?Po(t[N],Vn(t[N])?0:s-1,f,w):So(t[N],w));return!s&&f&&M.length>0&&M.push(M[0].slice()),M}function _s(t,s){return t.feature?_({},t.feature,{geometry:s}):Mo(s)}function Mo(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var $s={toGeoJSON:function(t){return _s(this,{type:"Point",coordinates:So(this.getLatLng(),t)})}};br.include($s),Eo.include($s),ms.include($s),bn.include({toGeoJSON:function(t){var s=!Vn(this._latlngs),f=Po(this._latlngs,s?1:0,!1,t);return _s(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),Lr.include({toGeoJSON:function(t){var s=!Vn(this._latlngs),f=s&&!Vn(this._latlngs[0]),w=Po(this._latlngs,f?2:s?1:0,!0,t);return s||(w=[w]),_s(this,{type:(f?"Multi":"")+"Polygon",coordinates:w})}}),ar.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(t).geometry.coordinates)}),_s(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var f=s==="GeometryCollection",w=[];return this.eachLayer(function(M){if(M.toGeoJSON){var N=M.toGeoJSON(t);if(f)w.push(N.geometry);else{var ee=Mo(N);ee.type==="FeatureCollection"?w.push.apply(w,ee.features):w.push(ee)}}}),f?_s(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function yl(t,s){return new kr(t,s)}var lr=yl,ti=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,f){this._url=t,this._bounds=et(s),Z(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&rs(this._image),this},bringToBack:function(){return this._map&&zr(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=et(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:vt("img");if(gt(s,"leaflet-image-layer"),this._zoomAnimated&&gt(s,"leaflet-zoom-animated"),this.options.className&&gt(s,this.options.className),s.onselectstart=j,s.onmousemove=j,s.onload=y(this.fire,this,"load"),s.onerror=y(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;nr(this._image,f,s)},_reset:function(){var t=this._image,s=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();Qt(t,s.min),t.style.width=f.x+"px",t.style.height=f.y+"px"},_updateOpacity:function(){Pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Sa=function(t,s,f){return new ti(t,s,f)},Pa=ti.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:vt("video");if(gt(s,"leaflet-image-layer"),this._zoomAnimated&&gt(s,"leaflet-zoom-animated"),this.options.className&&gt(s,this.options.className),s.onselectstart=j,s.onmousemove=j,s.onloadeddata=y(this.fire,this,"load"),t){for(var f=s.getElementsByTagName("source"),w=[],M=0;M<f.length;M++)w.push(f[M].src);this._url=f.length>0?w:[s.src];return}te(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var ee=vt("source");ee.src=this._url[N],s.appendChild(ee)}}});function vl(t,s,f){return new Pa(t,s,f)}var Bo=ti.extend({_initImage:function(){var t=this._image=this._url;gt(t,"leaflet-image-layer"),this._zoomAnimated&&gt(t,"leaflet-zoom-animated"),this.options.className&&gt(t,this.options.className),t.onselectstart=j,t.onmousemove=j}});function jo(t,s,f){return new Bo(t,s,f)}var ur=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof Ye||te(t))?(this._latlng=Je(t),Z(this,s)):(Z(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Pn(this._container,1),this.bringToFront(),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Pn(this._container,0),this._removeTimeout=setTimeout(y(Vt,void 0,this._container),200)):Vt(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Je(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rs(this._container),this},bringToBack:function(){return this._map&&zr(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof Wr){s=null;var f=this._source._layers;for(var w in f)if(f[w]._map){s=f[w];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=Be(this.options.offset),f=this._getAnchor();this._zoomAnimated?Qt(this._container,t.add(f)):s=s.add(t).add(f);var w=this._containerBottom=-s.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=w+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(t,s,f,w){var M=s;return M instanceof t||(M=new t(w).setContent(s)),f&&M.setLatLng(f),M}}),jn.include({_initOverlay:function(t,s,f,w){var M=f;return M instanceof t?(Z(M,w),M._source=this):(M=s&&!w?s:new t(w,this),M.setContent(f)),M}});var To=ur.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ur.prototype.openOn.call(this,t)},onAdd:function(t){ur.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dn||this._source.on("preclick",wr))},onRemove:function(t){ur.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dn||this._source.off("preclick",wr))},getEvents:function(){var t=ur.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=vt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=vt("div",t+"-content-wrapper",s);if(this._contentNode=vt("div",t+"-content",f),Hs(s),bo(this._contentNode),mt(s,"contextmenu",wr),this._tipContainer=vt("div",t+"-tip-container",s),this._tip=vt("div",t+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=vt("a",t+"-close-button",s);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',mt(w,"click",function(M){Xt(M),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var f=t.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var w=t.offsetHeight,M=this.options.maxHeight,N="leaflet-popup-scrolled";M&&w>M?(s.height=M+"px",gt(t,N)):Wt(t,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),f=this._getAnchor();Qt(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(Xr(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,w=this._containerWidth,M=new be(this._containerLeft,-f-this._containerBottom);M._add(vr(this._container));var N=t.layerPointToContainerPoint(M),ee=Be(this.options.autoPanPadding),me=Be(this.options.autoPanPaddingTopLeft||ee),Ce=Be(this.options.autoPanPaddingBottomRight||ee),je=t.getSize(),Ke=0,dt=0;N.x+w+Ce.x>je.x&&(Ke=N.x+w-je.x+Ce.x),N.x-Ke-me.x<0&&(Ke=N.x-me.x),N.y+f+Ce.y>je.y&&(dt=N.y+f-je.y+Ce.y),N.y-dt-me.y<0&&(dt=N.y-me.y),(Ke||dt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Ke,dt]))}},_getAnchor:function(){return Be(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gn=function(t,s){return new To(t,s)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(t,s,f){return this._initOverlay(To,t,s,f).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),jn.include({bindPopup:function(t,s){return this._popup=this._initOverlay(To,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Wr||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ir(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Sr=ur.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ur.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ur.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ur.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=vt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+B(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,f,w=this._map,M=this._container,N=w.latLngToContainerPoint(w.getCenter()),ee=w.layerPointToContainerPoint(t),me=this.options.direction,Ce=M.offsetWidth,je=M.offsetHeight,Ke=Be(this.options.offset),dt=this._getAnchor();me==="top"?(s=Ce/2,f=je):me==="bottom"?(s=Ce/2,f=0):me==="center"?(s=Ce/2,f=je/2):me==="right"?(s=0,f=je/2):me==="left"?(s=Ce,f=je/2):ee.x<N.x?(me="right",s=0,f=je/2):(me="left",s=Ce+(Ke.x+dt.x)*2,f=je/2),t=t.subtract(Be(s,f,!0)).add(Ke).add(dt),Wt(M,"leaflet-tooltip-right"),Wt(M,"leaflet-tooltip-left"),Wt(M,"leaflet-tooltip-top"),Wt(M,"leaflet-tooltip-bottom"),gt(M,"leaflet-tooltip-"+me),Qt(M,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Pn(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return Be(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xs=function(t,s){return new Sr(t,s)};bt.include({openTooltip:function(t,s,f){return this._initOverlay(Sr,t,s,f).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),jn.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sr,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Wr||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(mt(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),mt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,f,w;this._tooltip.options.sticky&&t.originalEvent&&(f=this._map.mouseEventToContainerPoint(t.originalEvent),w=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(s)}});var Js=Si.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Is(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var w=Be(f.bgPos);s.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Do(t){return new Js(t)}Si.Default=ps;var ni=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:it.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){Z(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Vt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=D(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof be?t:new be(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,f=-t(-1/0,1/0),w=0,M=s.length,N;w<M;w++)N=s[w].style.zIndex,s[w]!==this._container&&N&&(f=t(f,+N));isFinite(f)&&(this.options.zIndex=f+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!it.ielt9){Pn(this._container,this.options.opacity);var t=+new Date,s=!1,f=!1;for(var w in this._tiles){var M=this._tiles[w];if(!(!M.current||!M.loaded)){var N=Math.min(1,(t-M.loaded)/200);Pn(M.el,N),N<1?s=!0:(M.active?f=!0:this._onOpaqueTile(M),M.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(lt(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===t?(this._levels[f].el.style.zIndex=s-Math.abs(t-f),this._onUpdateLevel(f)):(Vt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var w=this._levels[t],M=this._map;return w||(w=this._levels[t]={},w.el=vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=s,w.origin=M.project(M.unproject(M.getPixelOrigin()),t).round(),w.zoom=t,this._setZoomTransform(w,M.getCenter(),M.getZoom()),j(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var t,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var w=s.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Vt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,f,w){var M=Math.floor(t/2),N=Math.floor(s/2),ee=f-1,me=new be(+M,+N);me.z=+ee;var Ce=this._tileCoordsToKey(me),je=this._tiles[Ce];return je&&je.active?(je.retain=!0,!0):(je&&je.loaded&&(je.retain=!0),ee>w?this._retainParent(M,N,ee,w):!1)},_retainChildren:function(t,s,f,w){for(var M=2*t;M<2*t+2;M++)for(var N=2*s;N<2*s+2;N++){var ee=new be(M,N);ee.z=f+1;var me=this._tileCoordsToKey(ee),Ce=this._tiles[me];if(Ce&&Ce.active){Ce.retain=!0;continue}else Ce&&Ce.loaded&&(Ce.retain=!0);f+1<w&&this._retainChildren(M,N,f+1,w)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,f,w){var M=Math.round(s);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var N=this.options.updateWhenZooming&&M!==this._tileZoom;(!w||N)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(t),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],t,s)},_setZoomTransform:function(t,s,f){var w=this._map.getZoomScale(f,t.zoom),M=t.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(s,f)).round();it.any3d?nr(t.el,M,w):Qt(t.el,M)},_resetGrid:function(){var t=this._map,s=t.options.crs,f=this._tileSize=this.getTileSize(),w=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],w).x/f.x),Math.ceil(t.project([0,s.wrapLng[1]],w).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],w).y/f.x),Math.ceil(t.project([s.wrapLat[1],0],w).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),w=s.getZoomScale(f,this._tileZoom),M=s.project(t,this._tileZoom).floor(),N=s.getSize().divideBy(w*2);return new le(M.subtract(N),M.add(N))},_update:function(t){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(t),M=this._pxBoundsToTileRange(w),N=M.getCenter(),ee=[],me=this.options.keepBuffer,Ce=new le(M.getBottomLeft().subtract([me,-me]),M.getTopRight().add([me,-me]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var je in this._tiles){var Ke=this._tiles[je].coords;(Ke.z!==this._tileZoom||!Ce.contains(new be(Ke.x,Ke.y)))&&(this._tiles[je].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(t,f);return}for(var dt=M.min.y;dt<=M.max.y;dt++)for(var xt=M.min.x;xt<=M.max.x;xt++){var on=new be(xt,dt);if(on.z=this._tileZoom,!!this._isValidTile(on)){var tn=this._tiles[this._tileCoordsToKey(on)];tn?tn.current=!0:ee.push(on)}}if(ee.sort(function(Tn,ws){return Tn.distanceTo(N)-ws.distanceTo(N)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var In=document.createDocumentFragment();for(xt=0;xt<ee.length;xt++)this._addTile(ee[xt],In);this._level.el.appendChild(In)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(t.x<f.min.x||t.x>f.max.x)||!s.wrapLat&&(t.y<f.min.y||t.y>f.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(t);return et(this.options.bounds).overlaps(w)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,f=this.getTileSize(),w=t.scaleBy(f),M=w.add(f),N=s.unproject(w,t.z),ee=s.unproject(M,t.z);return[N,ee]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),f=new ut(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),f=new be(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(t){var s=this._tiles[t];s&&(Vt(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){gt(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=j,t.onmousemove=j,it.ielt9&&this.options.opacity<1&&Pn(t,this.options.opacity)},_addTile:function(t,s){var f=this._getTilePos(t),w=this._tileCoordsToKey(t),M=this.createTile(this._wrapCoords(t),y(this._tileReady,this,t));this._initTile(M),this.createTile.length<2&&Ge(y(this._tileReady,this,t,null,M)),Qt(M,f),this._tiles[w]={el:M,coords:t,current:!0},s.appendChild(M),this.fire("tileloadstart",{tile:M,coords:t})},_tileReady:function(t,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:t});var w=this._tileCoordsToKey(t);f=this._tiles[w],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Pn(f.el,0),lt(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(gt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),it.ielt9||!this._map._fadeAnimated?Ge(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new be(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new le(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ys(t){return new ni(t)}var ri=ni.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=Z(this,s),s.detectRetina&&it.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var f=document.createElement("img");return mt(f,"load",y(this._tileOnLoad,this,s,f)),mt(f,"error",y(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(t),f},getTileUrl:function(t){var s={r:it.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=f),s["-y"]=f}return I(this._url,_(s,this.options))},_tileOnLoad:function(t,s){it.ielt9?setTimeout(y(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,f){var w=this.options.errorTileUrl;w&&s.getAttribute("src")!==w&&(s.src=w),t(f,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,w=this.options.zoomOffset;return f&&(t=s-t),t+w},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=j,s.onerror=j,!s.complete)){s.src=Y;var f=this._tiles[t].coords;Vt(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",Y),ni.prototype._removeTile.call(this,t)},_tileReady:function(t,s,f){if(!(!this._map||f&&f.getAttribute("src")===Y))return ni.prototype._tileReady.call(this,t,s,f)}});function Ao(t,s){return new ri(t,s)}var Mi=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var f=_({},this.defaultWmsParams);for(var w in s)w in this.options||(f[w]=s[w]);s=Z(this,s);var M=s.detectRetina&&it.retina?2:1,N=this.getTileSize();f.width=N.x*M,f.height=N.y*M,this.wmsParams=f},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ri.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),f=this._crs,w=Me(f.project(s[0]),f.project(s[1])),M=w.min,N=w.max,ee=(this._wmsVersion>=1.3&&this._crs===ml?[M.y,M.x,N.y,N.x]:[M.x,M.y,N.x,N.y]).join(","),me=ri.prototype.getTileUrl.call(this,t);return me+H(this.wmsParams,me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(t,s){return _(this.wmsParams,t),s||this.redraw(),this}});function Ma(t,s){return new Mi(t,s)}ri.WMS=Mi,Ao.wms=Ma;var Zn=jn.extend({options:{padding:.1},initialize:function(t){Z(this,t),B(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var f=this._map.getZoomScale(s,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,s),N=w.multiplyBy(-f).add(M).subtract(this._map._getNewPixelOrigin(t,s));it.any3d?nr(this._container,N,f):Qt(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new le(f,f.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ba=Zn.extend({options:{tolerance:0},getEvents:function(){var t=Zn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");mt(t,"mousemove",this._onMouseMove,this),mt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){lt(this._redrawRequest),delete this._ctx,Vt(this._container),Tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var t=this._bounds,s=this._container,f=t.getSize(),w=it.retina?2:1;Qt(s,t.min),s.width=w*f.x,s.height=w*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",it.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[B(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,f=s.next,w=s.prev;f?f.prev=w:this._drawLast=w,w?w.next=f:this._drawFirst=f,delete t._order,delete this._layers[B(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),f=[],w,M;for(M=0;M<s.length;M++){if(w=Number(s[M]),isNaN(w))return;f.push(w)}t.options._dashArray=f}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Ge(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)t=w.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var f,w,M,N,ee=t._parts,me=ee.length,Ce=this._ctx;if(me){for(Ce.beginPath(),f=0;f<me;f++){for(w=0,M=ee[f].length;w<M;w++)N=ee[f][w],Ce[w?"lineTo":"moveTo"](N.x,N.y);s&&Ce.closePath()}this._fillStroke(Ce,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,f=this._ctx,w=Math.max(Math.round(t._radius),1),M=(Math.max(Math.round(t._radiusY),1)||w)/w;M!==1&&(f.save(),f.scale(1,M)),f.beginPath(),f.arc(s.x,s.y/M,w,0,Math.PI*2,!1),M!==1&&f.restore(),this._fillStroke(f,t)}},_fillStroke:function(t,s){var f=s.options;f.fill&&(t.globalAlpha=f.fillOpacity,t.fillStyle=f.fillColor||f.color,t.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=f.opacity,t.lineWidth=f.weight,t.strokeStyle=f.color,t.lineCap=f.lineCap,t.lineJoin=f.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),f,w,M=this._drawFirst;M;M=M.next)f=M.layer,f.options.interactive&&f._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(f))&&(w=f);this._fireEvent(w?[w]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var f,w,M=this._drawFirst;M;M=M.next)f=M.layer,f.options.interactive&&f._containsPoint(s)&&(w=f);w!==this._hoveredLayer&&(this._handleMouseOut(t),w&&(gt(this._container,"leaflet-interactive"),this._fireEvent([w],t,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,f){this._map._fireDOMEvent(s,f||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var f=s.next,w=s.prev;if(f)f.prev=w;else return;w?w.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var f=s.next,w=s.prev;if(w)w.next=f;else return;f?f.prev=w:w&&(this._drawLast=w),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function cr(t){return it.canvas?new Ba(t):null}var Jt=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),xl={_initContainer:function(){this._container=vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=Jt("shape");gt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=Jt("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[B(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;Vt(s),t.removeInteractiveTarget(s),delete this._layers[B(t)]},_updateStyle:function(t){var s=t._stroke,f=t._fill,w=t.options,M=t._container;M.stroked=!!w.stroke,M.filled=!!w.fill,w.stroke?(s||(s=t._stroke=Jt("stroke")),M.appendChild(s),s.weight=w.weight+"px",s.color=w.color,s.opacity=w.opacity,w.dashArray?s.dashStyle=te(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=w.lineCap.replace("butt","flat"),s.joinstyle=w.lineJoin):s&&(M.removeChild(s),t._stroke=null),w.fill?(f||(f=t._fill=Jt("fill")),M.appendChild(f),f.color=w.fillColor||w.color,f.opacity=w.fillOpacity):f&&(M.removeChild(f),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),f=Math.round(t._radius),w=Math.round(t._radiusY||f);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+w+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){rs(t._container)},_bringToBack:function(t){zr(t._container)}},Nn=it.vml?Jt:ea,Bi=Zn.extend({_initContainer:function(){this._container=Nn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vt(this._container),Tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var t=this._bounds,s=t.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),Qt(f,t.min),f.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=Nn("path");t.options.className&&gt(s,t.options.className),t.options.interactive&&gt(s,"leaflet-interactive"),this._updateStyle(t),this._layers[B(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Vt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[B(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,f=t.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,ta(t._parts,s))},_updateCircle:function(t){var s=t._point,f=Math.max(Math.round(t._radius),1),w=Math.max(Math.round(t._radiusY),1)||f,M="a"+f+","+w+" 0 1,0 ",N=t._empty()?"M0 0":"M"+(s.x-f)+","+s.y+M+f*2+",0 "+M+-f*2+",0 ";this._setPath(t,N)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){rs(t._path)},_bringToBack:function(t){zr(t._path)}});it.vml&&Bi.include(xl);function ii(t){return it.svg||it.vml?new Bi(t):null}bt.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&cr(t)||ii(t)}});var wl=Lr.extend({initialize:function(t,s){Lr.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=et(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function iu(t,s){return new wl(t,s)}Bi.create=Nn,Bi.pointsToPath=ta,kr.geometryToLayer=Cn,kr.coordsToLatLng=Pi,kr.coordsToLatLngs=gs,kr.latLngToCoords=So,kr.latLngsToCoords=Po,kr.getFeature=_s,kr.asFeature=Mo,bt.mergeOptions({boxZoom:!0});var vs=Hn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mt(),vo(),this._startPoint=this._map.mouseEventToContainerPoint(t),mt(document,{contextmenu:ir,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=vt("div","leaflet-zoom-box",this._container),gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new le(this._point,this._startPoint),f=s.getSize();Qt(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Vt(this._box),Wt(this._container,"leaflet-crosshair")),os(),xo(),Tt(document,{contextmenu:ir,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0);var s=new ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",vs),bt.mergeOptions({doubleClickZoom:!0});var ji=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,f=s.getZoom(),w=s.options.zoomDelta,M=t.originalEvent.shiftKey?f-w:f+w;s.options.doubleClickZoom==="center"?s.setZoom(M):s.setZoomAround(t.containerPoint,M)}});bt.addInitHook("addHandler","doubleClickZoom",ji),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ro=Hn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new or(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=et(this._map.options.maxBounds);this._offsetLimit=Me(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),f=this._initialWorldOffset,w=this._draggable._newPos.x,M=(w-s+f)%t+s-f,N=(w+s+f)%t-s-f,ee=Math.abs(M+f)<Math.abs(N+f)?M:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(t){var s=this._map,f=s.options,w=!f.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),w)s.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,ee=f.easeLinearity,me=M.multiplyBy(ee/N),Ce=me.distanceTo([0,0]),je=Math.min(f.inertiaMaxSpeed,Ce),Ke=me.multiplyBy(je/Ce),dt=je/(f.inertiaDeceleration*ee),xt=Ke.multiplyBy(-dt/2).round();!xt.x&&!xt.y?s.fire("moveend"):(xt=s._limitOffset(xt,s.options.maxBounds),Ge(function(){s.panBy(xt,{duration:dt,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",Ro),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Oo=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),mt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,f=t.scrollTop||s.scrollTop,w=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(w,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},f=this.keyCodes,w,M;for(w=0,M=f.left.length;w<M;w++)s[f.left[w]]=[-1*t,0];for(w=0,M=f.right.length;w<M;w++)s[f.right[w]]=[t,0];for(w=0,M=f.down.length;w<M;w++)s[f.down[w]]=[0,t];for(w=0,M=f.up.length;w<M;w++)s[f.up[w]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},f=this.keyCodes,w,M;for(w=0,M=f.zoomIn.length;w<M;w++)s[f.zoomIn[w]]=t;for(w=0,M=f.zoomOut.length;w<M;w++)s[f.zoomOut[w]]=-t},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,f=this._map,w;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(w=this._panKeys[s],t.shiftKey&&(w=Be(w).multiplyBy(3)),f.options.maxBounds&&(w=f._limitOffset(Be(w),f.options.maxBounds)),f.options.worldCopyJump){var M=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(w)));f.panTo(M)}else f.panBy(w)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ir(t)}}});bt.addInitHook("addHandler","keyboard",Oo),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Nt=Hn.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=ul(t),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var w=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),w),ir(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),f=this._map.options.zoomSnap||0;t._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,N=f?Math.ceil(M/f)*f:M,ee=t._limitZoom(s+(this._delta>0?N:-N))-s;this._delta=0,this._startTime=null,ee&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+ee):t.setZoomAround(this._lastMousePos,s+ee))}});bt.addInitHook("addHandler","scrollWheelZoom",Nt);var fn=600;bt.mergeOptions({tapHold:it.touchNative&&it.safari&&it.mobile,tapTolerance:15});var Ys=Hn.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new be(s.clientX,s.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",Xt),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),fn),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Tt(document,"touchend",Xt),Tt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Tt(document,"touchend touchcancel contextmenu",this._cancel,this),Tt(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new be(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var f=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});bt.addInitHook("addHandler","tapHold",Ys),bt.mergeOptions({touchZoom:it.touch,bounceAtZoomLimits:!0});var xs=Hn.extend({addHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(t.touches[0]),w=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(w)._divideBy(2))),this._startDist=f.distanceTo(w),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),Xt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(t.touches[0]),w=s.mouseEventToContainerPoint(t.touches[1]),M=f.distanceTo(w)/this._startDist;if(this._zoom=s.getScaleZoom(M,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&M<1||this._zoom>s.getMaxZoom()&&M>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var N=f._add(w)._divideBy(2)._subtract(this._centerPoint);if(M===1&&N.x===0&&N.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),lt(this._animRequest);var ee=y(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ge(ee,this,!0),Xt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,lt(this._animRequest),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",xs),bt.BoxZoom=vs,bt.DoubleClickZoom=ji,bt.Drag=Ro,bt.Keyboard=Oo,bt.ScrollWheelZoom=Nt,bt.TapHold=Ys,bt.TouchZoom=xs,h.Bounds=le,h.Browser=it,h.CRS=St,h.Canvas=Ba,h.Circle=Eo,h.CircleMarker=ms,h.Class=wt,h.Control=Mn,h.DivIcon=Js,h.DivOverlay=ur,h.DomEvent=kt,h.DomUtil=Us,h.Draggable=or,h.Evented=rt,h.FeatureGroup=Wr,h.GeoJSON=kr,h.GridLayer=ni,h.Handler=Hn,h.Icon=Si,h.ImageOverlay=ti,h.LatLng=Ye,h.LatLngBounds=ut,h.Layer=jn,h.LayerGroup=ar,h.LineUtil=La,h.Map=bt,h.Marker=br,h.Mixin=wa,h.Path=dn,h.Point=be,h.PolyUtil=eu,h.Polygon=Lr,h.Polyline=bn,h.Popup=To,h.PosAnimation=us,h.Projection=nu,h.Rectangle=wl,h.Renderer=Zn,h.SVG=Bi,h.SVGOverlay=Bo,h.TileLayer=ri,h.Tooltip=Sr,h.Transformation=Zi,h.Util=ze,h.VideoOverlay=Pa,h.bind=y,h.bounds=Me,h.canvas=cr,h.circle=Ks,h.circleMarker=Zs,h.control=Qr,h.divIcon=Do,h.extend=_,h.featureGroup=gl,h.geoJSON=yl,h.geoJson=lr,h.gridLayer=ys,h.icon=_l,h.imageOverlay=Sa,h.latLng=Je,h.latLngBounds=et,h.layerGroup=fs,h.map=Yr,h.marker=Gs,h.point=Be,h.polygon=ru,h.polyline=Cr,h.popup=Gn,h.rectangle=iu,h.setOptions=Z,h.stamp=B,h.svg=ii,h.svgOverlay=jo,h.tileLayer=Ao,h.tooltip=Xs,h.transformation=Ki,h.version=p,h.videoOverlay=vl;var bl=window.L;h.noConflict=function(){return window.L=bl,this},window.L=h}))})(Pu,Pu.exports)),Pu.exports}var Qo=T4();const Bs=Du(Qo);function Kl(o,u,h){return Object.freeze({instance:o,context:u,container:h})}function Qc(o,u){return u==null?function(p,_){const v=U.useRef();return v.current||(v.current=o(p,_)),v}:function(p,_){const v=U.useRef();v.current||(v.current=o(p,_));const y=U.useRef(p),{instance:P}=v.current;return U.useEffect(function(){y.current!==p&&(u(P,p,y.current),y.current=p)},[P,p,_]),v}}function C0(o,u){U.useEffect(function(){return(u.layerContainer??u.map).addLayer(o.instance),function(){u.layerContainer?.removeLayer(o.instance),u.map.removeLayer(o.instance)}},[u,o])}function L0(o){return function(h){const p=Jc(),_=o(Yc(h,p),p);return v0(p.map,h.attribution),pf(_.current,h.eventHandlers),C0(_.current,p),_}}function D4(o,u){const h=U.useRef();U.useEffect(function(){if(u.pathOptions!==h.current){const _=u.pathOptions??{};o.instance.setStyle(_),h.current=_}},[o,u])}function A4(o){return function(h){const p=Jc(),_=o(Yc(h,p),p);return pf(_.current,h.eventHandlers),C0(_.current,p),D4(_.current,h),_}}function R4(o,u){const h=Qc(o,u),p=L0(h);return b0(p)}function k0(o,u){const h=Qc(o),p=B4(h,u);return P4(p)}function E0(o,u){const h=Qc(o,u),p=A4(h);return b0(p)}function O4(o,u){const h=Qc(o,u),p=L0(h);return M4(p)}function N4(o,u,h){const{opacity:p,zIndex:_}=u;p!=null&&p!==h.opacity&&o.setOpacity(p),_!=null&&_!==h.zIndex&&o.setZIndex(_)}function mf(){return Jc().map}function $d(){return $d=Object.assign||function(o){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(o[p]=h[p])}return o},$d.apply(this,arguments)}function I4({bounds:o,boundsOptions:u,center:h,children:p,className:_,id:v,placeholder:y,style:P,whenReady:B,zoom:D,...S},j){const[F]=U.useState({className:_,id:v,style:P}),[ie,K]=U.useState(null);U.useImperativeHandle(j,()=>ie?.map??null,[ie]);const Z=U.useCallback(Le=>{if(Le!==null&&ie===null){const I=new Qo.Map(Le,S);h!=null&&D!=null?I.setView(h,D):o!=null&&I.fitBounds(o,u),B!=null&&I.whenReady(B),K(S4(I))}},[]);U.useEffect(()=>()=>{ie?.map.remove()},[ie]);const H=ie?Bu.createElement(w0,{value:ie},p):y??null;return Bu.createElement("div",$d({},F,{ref:Z}),H)}const gf=U.forwardRef(I4),Za=R4(function({position:u,...h},p){const _=new Qo.Marker(u,h);return Kl(_,ff(p,{overlayContainer:_}))},function(u,h,p){h.position!==p.position&&u.setLatLng(h.position),h.icon!=null&&h.icon!==p.icon&&u.setIcon(h.icon),h.zIndexOffset!=null&&h.zIndexOffset!==p.zIndexOffset&&u.setZIndexOffset(h.zIndexOffset),h.opacity!=null&&h.opacity!==p.opacity&&u.setOpacity(h.opacity),u.dragging!=null&&h.draggable!==p.draggable&&(h.draggable===!0?u.dragging.enable():u.dragging.disable())}),ug=E0(function({positions:u,...h},p){const _=new Qo.Polygon(u,h);return Kl(_,ff(p,{overlayContainer:_}))},function(u,h,p){h.positions!==p.positions&&u.setLatLngs(h.positions)}),S0=E0(function({positions:u,...h},p){const _=new Qo.Polyline(u,h);return Kl(_,ff(p,{overlayContainer:_}))},function(u,h,p){h.positions!==p.positions&&u.setLatLngs(h.positions)}),Ka=k0(function(u,h){const p=new Qo.Popup(u,h.overlayContainer);return Kl(p,h)},function(u,h,{position:p},_){U.useEffect(function(){const{instance:y}=u;function P(D){D.popup===y&&(y.update(),_(!0))}function B(D){D.popup===y&&_(!1)}return h.map.on({popupopen:P,popupclose:B}),h.overlayContainer==null?(p!=null&&y.setLatLng(p),y.openOn(h.map)):h.overlayContainer.bindPopup(y),function(){h.map.off({popupopen:P,popupclose:B}),h.overlayContainer?.unbindPopup(),h.map.removeLayer(y)}},[u,h,_,p])}),_f=O4(function({url:u,...h},p){const _=new Qo.TileLayer(u,Yc(h,p));return Kl(_,p)},function(u,h,p){N4(u,h,p);const{url:_}=h;_!=null&&_!==p.url&&u.setUrl(_)}),cg=k0(function(u,h){const p=new Qo.Tooltip(u,h.overlayContainer);return Kl(p,h)},function(u,h,{position:p},_){U.useEffect(function(){const y=h.overlayContainer;if(y==null)return;const{instance:P}=u,B=S=>{S.tooltip===P&&(p!=null&&P.setLatLng(p),P.update(),_(!0))},D=S=>{S.tooltip===P&&_(!1)};return y.on({tooltipopen:B,tooltipclose:D}),y.bindTooltip(P),function(){y.off({tooltipopen:B,tooltipclose:D}),y._map!=null&&y.unbindTooltip()}},[u,h,_,p])});var Ud={exports:{}},hg;function F4(){return hg||(hg=1,(function(o){var u={};function h(v){return Math.floor(Math.abs(v)+.5)*(v>=0?1:-1)}function p(v,y,P){v=h(v*P),y=h(y*P);var B=(v-y)*2;B<0&&(B=-B-1);for(var D="";B>=32;)D+=String.fromCharCode((32|B&31)+63),B/=32;return D+=String.fromCharCode((B|0)+63),D}u.decode=function(v,y){for(var P=0,B=0,D=0,S=[],j=0,F=0,ie=null,K,Z,H=Math.pow(10,Number.isInteger(y)?y:5);P<v.length;){ie=null,j=1,F=0;do ie=v.charCodeAt(P++)-63,F+=(ie&31)*j,j*=32;while(ie>=32);K=F&1?(-F-1)/2:F/2,j=1,F=0;do ie=v.charCodeAt(P++)-63,F+=(ie&31)*j,j*=32;while(ie>=32);Z=F&1?(-F-1)/2:F/2,B+=K,D+=Z,S.push([B/H,D/H])}return S},u.encode=function(v,y){if(!v.length)return"";for(var P=Math.pow(10,Number.isInteger(y)?y:5),B=p(v[0][0],0,P)+p(v[0][1],0,P),D=1;D<v.length;D++){var S=v[D],j=v[D-1];B+=p(S[0],j[0],P),B+=p(S[1],j[1],P)}return B};function _(v){for(var y=[],P=0;P<v.length;P++){var B=v[P].slice();y.push([B[1],B[0]])}return y}u.fromGeoJSON=function(v,y){if(v&&v.type==="Feature"&&(v=v.geometry),!v||v.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return u.encode(_(v.coordinates),y)},u.toGeoJSON=function(v,y){var P=u.decode(v,y);return{type:"LineString",coordinates:_(P)}},o.exports&&(o.exports=u)})(Ud)),Ud.exports}var z4=F4();const P0=Du(z4),U4=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),H4=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),W4=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),q4=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),V4=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-gold.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),M0=o=>{const u=o.latitude??o.lat??o.currentLatitude??null,h=o.longitude??o.lng??o.currentLongitude??null;return{lat:u,lng:h}},G4=o=>{switch(o){case"SCHEDULED":return"";case"REQUESTED":return" ";case"OFFERING":return"";case"ACCEPTED":return" ";case"DRIVER_ARRIVED":return" ";case"IN_PROGRESS":return" ";case"COMPLETED":return"";case"CANCELLED":return"";default:return o}},Z4=o=>o?new Date(o).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"",K4=o=>o?new Date(o).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"",$4=({selectedOrder:o,drivers:u})=>{const h=mf(),p=U.useRef(!1);return U.useEffect(()=>{const _=[];if(o&&o.originLat&&o.destLat?(_.push([o.originLat,o.originLng]),_.push([o.destLat,o.destLng]),o.stops&&o.stops.forEach(v=>{v.lat&&_.push([v.lat,v.lng])})):!p.current&&u&&u.length>0&&(u.forEach(v=>{const{lat:y,lng:P}=M0(v);y&&P&&y!==0&&_.push([y,P])}),_.length>0&&(p.current=!0)),_.length>0)try{h.fitBounds(_,{padding:[80,80],maxZoom:15})}catch{}},[o,u,h]),null},X4=({drivers:o,selectedOrder:u,customOnlineIcon:h})=>{const p=[50.45,30.52];let _=null;if(u)if(u.googleRoutePolyline)try{_=P0.decode(u.googleRoutePolyline)}catch{}else u.originLat&&u.destLat&&(_=[[u.originLat,u.originLng]],u.stops&&u.stops.forEach(y=>_.push([y.lat,y.lng])),_.push([u.destLat,u.destLng]));const v=Array.isArray(o)?o:[];return c.jsxs(gf,{center:p,zoom:11,style:{height:"100%",width:"100%"},children:[c.jsx(_f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),!u&&v.map(y=>{const{lat:P,lng:B}=M0(y);if(P===null||B===null||P===0)return null;let D;if(y.isOnline){if(D=U4,h){const[S,j]=h.options.iconSize;S>0&&j>0&&(D=h)}}else D=H4;return c.jsx(Za,{position:[P,B],icon:D,children:c.jsxs(Ka,{children:[c.jsx("strong",{children:y.fullName}),c.jsx("br",{}),"ID: ",y.id,c.jsx("br",{}),y.isOnline?"  ":"  (  )"]})},`driver-${y.id}-${P}-${B}`)}),u&&c.jsxs(c.Fragment,{children:[c.jsx(Za,{position:[u.originLat,u.originLng],icon:W4,children:c.jsxs(Ka,{children:[": ",u.fromAddress]})}),u.stops?.map((y,P)=>c.jsx(Za,{position:[y.lat,y.lng],icon:V4,children:c.jsx(Ka,{children:y.address})},P)),c.jsx(Za,{position:[u.destLat,u.destLng],icon:q4,children:c.jsxs(Ka,{children:[": ",u.toAddress]})}),_&&c.jsx(S0,{positions:_,color:"blue"})]}),c.jsx($4,{selectedOrder:u,drivers:v})]})},J4=({orders:o,onCancel:u,onAssign:h,onSelectOrder:p,selectedOrderId:_})=>c.jsxs("div",{className:"orders-list",children:[o.length===0&&c.jsx("p",{style:{padding:"1.5rem",textAlign:"center",color:"#888"},children:" ."}),o.map(v=>c.jsxs("div",{className:`order-card ${_===v.id?"selected":""}`,onClick:()=>p(v),children:[c.jsxs("div",{className:"order-card-header",children:[c.jsxs("h4",{children:["#",v.id," (",v.tariffName,")"]}),c.jsx("span",{className:`status status-${v.status}`,children:G4(v.status)})]}),v.status==="SCHEDULED"&&v.scheduledAt&&c.jsxs("div",{className:"scheduled-time-badge",children:[" ",Z4(v.scheduledAt)]}),c.jsxs("div",{className:"order-card-body",children:[v.status==="SCHEDULED"&&c.jsxs("div",{style:{marginBottom:"8px",color:"#d9480f",fontWeight:"bold",background:"#fff4e6",padding:"4px",borderRadius:"4px",display:"inline-block"},children:["  : ",K4(v.scheduledAt)]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",v.client.fullName," (",v.client.userPhone,")"]}),c.jsxs("div",{className:"route-details",style:{marginTop:"5px"},children:[c.jsxs("div",{children:[" ",v.fromAddress]}),c.jsxs("div",{children:[" ",v.toAddress]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",Math.round(v.price),"  ",v.paymentMethod==="CARD"?"":""]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",v.driver?v.driver.fullName:v.status==="SCHEDULED"?" ":"..."]})]}),c.jsxs("div",{className:"order-card-actions",children:[v.status==="REQUESTED"&&c.jsx("button",{className:"btn-primary",onClick:y=>{y.stopPropagation(),h(v.id)},children:""}),c.jsx("button",{className:"btn-danger",onClick:y=>{y.stopPropagation(),u(v.id)},children:""})]})]},v.id))]}),Y4=()=>{const[o,u]=U.useState([]),[h,p]=U.useState([]),[_,v]=U.useState(null),[y,P]=U.useState(""),[B,D]=U.useState("ACTIVE"),[S,j]=U.useState("ALL"),[F,ie]=U.useState(null),K=U.useRef(null);U.useEffect(()=>{(async()=>{try{const xe=await y0();if(xe&&xe.driver_map_icon){let Ae=parseInt(xe.driver_map_icon_width),Ge=parseInt(xe.driver_map_icon_height);Ae||(Ae=40),Ge||(Ge=40);const lt=`${xe.driver_map_icon}?t=${new Date().getTime()}`,ze=new Bs.Icon({iconUrl:lt,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[Ae,Ge],iconAnchor:[Ae/2,Ge/2],popupAnchor:[0,-(Ge/2)],shadowSize:[Ae+5,Ge+5]});ie(ze)}}catch(xe){console.error("   :",xe)}})()},[]);const Z=async()=>{try{const oe=await r4();u(oe.sort((xe,Ae)=>Ae.id-xe.id))}catch{}},H=async()=>{try{const oe=await u4();p(oe||[])}catch(oe){console.error(oe)}};U.useEffect(()=>{Z(),H();const oe=new _0("http://localhost:8080/ws-taxi"),xe=new s0({webSocketFactory:()=>oe,reconnectDelay:5e3,onConnect:()=>{console.log("Connected to Dispatcher WebSocket"),xe.subscribe("/topic/admin/orders",Ae=>{const Ge=JSON.parse(Ae.body);Le(Ge)})},onStompError:Ae=>{console.error("WS Error:",Ae)}});return xe.activate(),K.current=xe,()=>{K.current&&K.current.deactivate()}},[]);const Le=oe=>{oe.action==="ADD"?u(xe=>{const Ae=xe.findIndex(Ge=>Ge.id===oe.orderId);if(Ae!==-1){const Ge=[...xe];return Ge[Ae]=oe.order,Ge}return[oe.order,...xe]}):oe.action==="REMOVE"&&u(xe=>xe.filter(Ae=>Ae.id!==oe.orderId))};k4(H,5e3);const I=async oe=>{if(window.confirm(` #${oe}?`))try{await o4(oe),_?.id===oe&&v(null)}catch(xe){alert(xe.message)}},te=async oe=>{const xe=prompt("ID :");if(xe)try{await a4(oe,parseInt(xe))}catch(Ae){alert(Ae.message)}},J=o.filter(oe=>{const xe=oe.client.phoneNumber.includes(y)||oe.id.toString().includes(y);if(B==="SCHEDULED")return xe&&oe.status==="SCHEDULED";{if(oe.status==="SCHEDULED")return!1;let Ae=!0;return S==="REQUESTED"?Ae=oe.status==="REQUESTED":S==="ACTIVE"&&(Ae=["ACCEPTED","DRIVER_ARRIVED","IN_PROGRESS","OFFERING"].includes(oe.status)),xe&&Ae}}),Y=h.length,he=h.filter(oe=>oe.isOnline).length,ge=Y-he;return c.jsxs("div",{className:"active-orders-layout",children:[c.jsxs("div",{className:"orders-list-container",children:[c.jsxs("div",{className:"tabs-container",children:[c.jsx("button",{className:`tab-button ${B==="ACTIVE"?"active":""}`,onClick:()=>D("ACTIVE"),children:""}),c.jsx("button",{className:`tab-button ${B==="SCHEDULED"?"active":""}`,onClick:()=>D("SCHEDULED"),children:""})]}),c.jsxs("div",{className:"orders-list-header",style:{flexDirection:"column",gap:"10px"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:c.jsxs("h3",{children:[B==="SCHEDULED"?"":" "," (",J.length,")"]})}),c.jsxs("div",{style:{display:"flex",gap:"5px",width:"100%"},children:[c.jsx("input",{type:"text",placeholder:" (, ID)...",value:y,onChange:oe=>P(oe.target.value),style:{flex:1}}),B==="ACTIVE"&&c.jsxs("select",{value:S,onChange:oe=>j(oe.target.value),children:[c.jsx("option",{value:"ALL",children:""}),c.jsx("option",{value:"REQUESTED",children:""}),c.jsx("option",{value:"ACTIVE",children:" "})]})]})]}),c.jsx(J4,{orders:J,onCancel:I,onAssign:te,onSelectOrder:v,selectedOrderId:_?.id})]}),c.jsxs("div",{className:"map-container",children:[c.jsxs("div",{className:"orders-list-header",children:[_?c.jsxs("h3",{children:[" #",_.id]}):c.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[c.jsx("h3",{style:{margin:0},children:":"}),c.jsxs("span",{style:{color:"green",fontWeight:"bold"},children:[" ",he]}),c.jsxs("span",{style:{color:"gray",fontWeight:"bold"},children:[" ",ge]})]}),_&&c.jsx("button",{onClick:()=>v(null),children:""})]}),c.jsx(X4,{drivers:h,selectedOrder:_,customOnlineIcon:F})]})]})},Q4=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),ew=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),tw=new Bs.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-gold.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),nw=({order:o})=>{const u=mf();return U.useEffect(()=>{if(o&&o.originLat&&o.destLat){const h=[[o.originLat,o.originLng],[o.destLat,o.destLng]];o.stops&&o.stops.length>0&&o.stops.forEach(p=>{p.lat&&p.lng&&h.push([p.lat,p.lng])});try{u.fitBounds(h,{padding:[50,50]})}catch{}}},[o,u]),null},Bc=o=>o?new Date(o).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}):"",dg=()=>new Date().toISOString().split("T")[0],rw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState([]),[_,v]=U.useState(!0),[y,P]=U.useState(""),[B,D]=U.useState(""),[S,j]=U.useState(null),[F,ie]=U.useState(dg()),[K,Z]=U.useState(dg()),[H,Le]=U.useState({completed:0,cancelled:0,total:0,sum:0}),I=async()=>{try{v(!0),P("");const he=(await i4()).sort((ge,oe)=>oe.id-ge.id);u(he)}catch(Y){P(Y.message)}finally{v(!1)}};U.useEffect(()=>{I()},[]),U.useEffect(()=>{if(!o.length){p([]),Le({completed:0,cancelled:0,total:0,sum:0});return}let Y=o;if(B&&(Y=Y.filter(xe=>xe.client.phoneNumber.includes(B))),F&&K){const xe=new Date(F);xe.setHours(0,0,0,0);const Ae=new Date(K);Ae.setHours(23,59,59,999),Y=Y.filter(Ge=>{const lt=new Date(Ge.createdAt);return lt>=xe&&lt<=Ae})}p(Y);let he=0,ge=0,oe=0;Y.forEach(xe=>{xe.status==="COMPLETED"?(he++,oe+=xe.price):xe.status==="CANCELLED"&&ge++}),Le({completed:he,cancelled:ge,total:Y.length,sum:oe})},[o,B,F,K]);const te=async Y=>{if(Y.preventDefault(),!B){I();return}try{v(!0),P("");const he=await s4(B);u(he)}catch(he){P(he.message)}finally{v(!1)}},J=Y=>{if(Y===-1){ie(""),Z("");return}const he=new Date,ge=new Date;Y===0||(Y===1?(ge.setDate(ge.getDate()-1),he.setDate(he.getDate()-1)):ge.setDate(ge.getDate()-Y)),ie(ge.toISOString().split("T")[0]),Z(he.toISOString().split("T")[0])};if(S){let Y=null;if(S.googleRoutePolyline)try{Y=P0.decode(S.googleRoutePolyline)}catch{}const he=S.status==="CANCELLED";let ge=0,oe=0;return S.distanceMeters&&S.distanceMeters>0&&(ge=S.distanceMeters/1e3,oe=S.price/ge),c.jsxs("div",{className:"detail-view-container",style:{padding:"20px",height:"calc(100vh - 80px)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[c.jsxs("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[c.jsx("button",{onClick:()=>j(null),className:"btn-secondary",style:{padding:"8px 20px",fontSize:"16px",cursor:"pointer"},children:" "}),c.jsxs("h2",{children:[" #",S.id]}),c.jsx("span",{style:{backgroundColor:he?"#d32f2f":"#388e3c",color:"#fff",padding:"8px 16px",borderRadius:"6px",fontWeight:"bold",fontSize:"1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:he?"":""})]}),c.jsxs("div",{style:{display:"flex",gap:"20px",flex:1,minHeight:0},children:[c.jsx("div",{style:{flex:"0 0 400px",overflowY:"auto",paddingRight:"5px"},children:c.jsxs("div",{className:"order-card",style:{cursor:"default",backgroundColor:"#fff",border:"1px solid #ddd",height:"auto"},children:[c.jsxs("div",{className:"info-group",style:{marginBottom:"15px"},children:[c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.client.fullName]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.client.phoneNumber]}),c.jsx("hr",{style:{margin:"10px 0",border:"0",borderTop:"1px solid #eee"}}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.driver?`${S.driver.fullName} (${S.driver.carPlateNumber})`:""]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.tariffName]})]}),c.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"10px",borderRadius:"5px",marginBottom:"15px"},children:[c.jsxs("p",{children:[" ",c.jsx("strong",{children:":"})," ",Bc(S.createdAt)]}),c.jsxs("p",{children:[" ",c.jsx("strong",{children:":"})," ",Bc(S.completedAt)]})]}),c.jsxs("div",{className:"route-details",style:{marginBottom:"15px"},children:[c.jsxs("div",{children:[" ",c.jsx("b",{children:":"})," ",S.fromAddress]}),S.stops&&S.stops.map((xe,Ae)=>c.jsxs("div",{style:{marginLeft:"15px",color:"#666"},children:[" ",c.jsx("i",{children:xe.address})]},Ae)),c.jsxs("div",{style:{marginTop:"5px"},children:[" ",c.jsx("b",{children:":"})," ",S.toAddress]})]}),c.jsxs("div",{style:{fontSize:"1.1em",marginBottom:"15px"},children:[c.jsxs("p",{children:[" ",c.jsx("strong",{children:":"})," ",Math.round(S.price)," "]}),ge>0&&c.jsxs("p",{style:{fontSize:"0.85em",color:"#666",marginTop:"4px"},children:[" ",ge.toFixed(1),"   ",c.jsxs("strong",{children:[oe.toFixed(2)," /"]})]}),S.addedValue>0&&c.jsxs("p",{style:{color:"#d32f2f"},children:[" : +",Math.round(S.addedValue)," "]}),c.jsxs("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"5px"},children:[": ",S.paymentMethod==="CARD"?" ":" "]})]}),S.services&&S.services.length>0&&c.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px"},children:[c.jsx("strong",{children:" :"}),c.jsx("ul",{style:{margin:"5px 0 0 20px",padding:0},children:S.services.map(xe=>c.jsxs("li",{children:[xe.name," (",Math.round(xe.price)," )"]},xe.id))})]}),S.comment&&c.jsxs("div",{style:{padding:"10px",backgroundColor:"#fff3cd",borderRadius:"5px",border:"1px solid #ffeeba"},children:[c.jsx("strong",{children:" :"}),c.jsx("br",{}),S.comment]})]})}),c.jsx("div",{style:{flex:1,borderRadius:"10px",overflow:"hidden",border:"1px solid #ccc",position:"relative"},children:c.jsxs(gf,{center:[50.45,30.52],zoom:11,style:{height:"100%",width:"100%"},children:[c.jsx(_f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),S.originLat&&c.jsx(Za,{position:[S.originLat,S.originLng],icon:Q4,children:c.jsxs(Ka,{children:[": ",S.fromAddress]})}),S.destLat&&c.jsx(Za,{position:[S.destLat,S.destLng],icon:ew,children:c.jsxs(Ka,{children:[": ",S.toAddress]})}),S.stops&&S.stops.map((xe,Ae)=>c.jsx(Za,{position:[xe.lat,xe.lng],icon:tw,children:c.jsx(Ka,{children:xe.address})},Ae)),Y&&c.jsx(S0,{positions:Y,color:"blue",weight:4}),c.jsx(nw,{order:S})]})})]})]})}return _&&o.length===0?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[c.jsx("h2",{style:{margin:0},children:" "}),c.jsx("div",{style:{fontSize:"0.9em",color:"#666"},children:"      "})]}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ddd"},children:[c.jsxs("div",{style:{flex:2,minWidth:"300px"},children:[c.jsx("h4",{style:{marginTop:0,marginBottom:"10px"},children:"   "}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[c.jsx("input",{type:"date",value:F,onChange:Y=>ie(Y.target.value),style:{padding:"6px",borderRadius:"4px",border:"1px solid #ccc"}}),c.jsx("span",{style:{alignSelf:"center"},children:""}),c.jsx("input",{type:"date",value:K,onChange:Y=>Z(Y.target.value),style:{padding:"6px",borderRadius:"4px",border:"1px solid #ccc"}})]}),c.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"15px",flexWrap:"wrap"},children:[c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>J(0),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>J(1),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>J(7),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>J(30),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>J(90),children:"3 ."}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px",backgroundColor:"#6c757d",color:"white"},onClick:()=>J(-1),children:"  "})]}),c.jsxs("form",{onSubmit:te,style:{display:"flex",gap:"10px"},children:[c.jsx("input",{type:"text",placeholder:"   ...",className:"search-input",value:B,onChange:Y=>D(Y.target.value),style:{flex:1}}),c.jsx("button",{type:"submit",className:"btn-primary",children:""})]})]}),c.jsxs("div",{style:{flex:1,minWidth:"200px",backgroundColor:"#fff",padding:"15px",borderRadius:"8px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[c.jsx("h4",{style:{marginTop:0,marginBottom:"10px",color:"#333"},children:"   "}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"0.95rem"},children:[c.jsxs("div",{children:[" : ",c.jsx("strong",{children:H.total})]}),c.jsxs("div",{style:{color:"#388e3c"},children:[" : ",c.jsx("strong",{children:H.completed})]}),c.jsxs("div",{style:{color:"#d32f2f"},children:[" : ",c.jsx("strong",{children:H.cancelled})]}),c.jsx("hr",{style:{width:"100%",border:"0",borderTop:"1px solid #eee",margin:"5px 0"}}),c.jsxs("div",{style:{fontSize:"1.1rem"},children:[" : ",c.jsxs("strong",{children:[Math.round(H.sum)," "]})]})]})]})]}),y&&c.jsx("div",{className:"error-message",children:y}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:". "}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:h.length>0?h.map(Y=>c.jsxs("tr",{onDoubleClick:()=>j(Y),style:{cursor:"pointer"},title:"   ",className:"archive-row",children:[c.jsx("td",{children:Y.id}),c.jsx("td",{children:c.jsx("span",{style:{color:Y.status==="CANCELLED"?"red":"green",fontWeight:"bold",fontSize:"0.9em"},children:Y.status==="CANCELLED"?"":""})}),c.jsx("td",{style:{fontSize:"0.85em"},children:Bc(Y.createdAt)}),c.jsx("td",{style:{fontSize:"0.85em"},children:Bc(Y.completedAt)}),c.jsx("td",{children:Y.client.phoneNumber}),c.jsx("td",{children:Y.driver?Y.driver.fullName:""}),c.jsx("td",{children:Y.fromAddress}),c.jsx("td",{style:{fontSize:"0.85em",color:"#555",fontStyle:"italic",maxWidth:"150px"},children:Y.formattedWaypoints?Y.formattedWaypoints:""}),c.jsx("td",{children:Y.toAddress}),c.jsx("td",{children:c.jsxs("strong",{children:[Math.round(Y.price)," "]})})]},Y.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"10",style:{textAlign:"center",padding:"20px"},children:"     ."})})})]})})]})},iw=()=>{const[o,u]=U.useState("active"),{user:h}=Kc();return h?h.role==="DISPATCHER"||h.role==="ADMINISTRATOR"?c.jsxs("div",{className:"orders-page-container",children:[c.jsxs("div",{className:"view-switcher",children:[c.jsx("button",{className:o==="active"?"active":"",onClick:()=>u("active"),children:" "}),c.jsx("button",{className:o==="archive"?"active":"",onClick:()=>u("archive"),children:" "})]}),c.jsx("div",{className:"orders-content",children:o==="active"?c.jsx(Y4,{}):c.jsx(rw,{})})]}):c.jsx("h2",{style:{padding:"20px",color:"red"},children:" :   "}):c.jsx("div",{style:{padding:"20px"},children:"  ..."})},yf=async()=>{try{return(await ht.get("/admin/tariffs")).data}catch(o){throw new Error(o.response?.data?.message||"Failed to load tariffs")}},sw=async(o,u)=>{const h=new FormData;h.append("request",JSON.stringify(o)),u&&h.append("file",u);try{return(await ht.post("/admin/tariffs",h)).data}catch(p){throw new Error(p.response?.data?.message||"Error creating tariff")}},ow=async(o,u,h)=>{const p=new FormData;p.append("request",JSON.stringify(u)),h&&p.append("file",h);try{return(await ht.put(`/admin/tariffs/${o}`,p)).data}catch(_){throw new Error(_.response?.data?.message||"Error updating tariff")}},aw=async o=>{try{return(await ht.delete(`/admin/tariffs/${o}`)).data}catch(u){throw new Error(u.response?.data?.message||"Error deleting tariff")}},Ja=({isOpen:o,onClose:u,title:h,children:p})=>(U.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[o]),o?c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:h}),c.jsx("button",{className:"modal-close-btn",onClick:u,children:""})]}),c.jsx("div",{className:"modal-body",children:p})]})}):null),lw=({initialData:o,availableTariffs:u,onSubmit:h,onCancel:p,isLoading:_})=>{const[v,y]=U.useState({fullName:"",phoneNumber:"",password:"",email:"",rnokpp:"",driverLicense:"",make:"",model:"",color:"",plateNumber:"",vin:"",year:new Date().getFullYear(),carType:"",tariffIds:[]}),[P,B]=U.useState(null),[D,S]=U.useState(null),[j,F]=U.useState({techPassportFront:null,techPassportBack:null,insurancePhoto:null,photoFront:null,photoBack:null,photoLeft:null,photoRight:null,photoSeatsFront:null,photoSeatsBack:null}),ie=!!o;U.useEffect(()=>{ie&&y({fullName:o.fullName||"",phoneNumber:o.phoneNumber||"",password:"",email:o.email||"",rnokpp:o.rnokpp||"",driverLicense:o.driverLicense||"",make:o.car?.make||"",model:o.car?.model||"",color:o.car?.color||"",plateNumber:o.car?.plateNumber||"",vin:o.car?.vin||"",year:o.car?.year||new Date().getFullYear(),carType:o.car?.carType||"",tariffIds:o.allowedTariffs?o.allowedTariffs.map(Y=>Y.id):[]})},[o,ie]);const K=Y=>{const{name:he,value:ge}=Y.target;y(oe=>({...oe,[he]:ge}))},Z=Y=>{const he=parseInt(Y.target.value);y(ge=>Y.target.checked?{...ge,tariffIds:[...ge.tariffIds,he]}:{...ge,tariffIds:ge.tariffIds.filter(oe=>oe!==he)})},H=Y=>{Y.target.files&&Y.target.files[0]&&B(Y.target.files[0])},Le=Y=>{Y.target.files&&Y.target.files[0]&&S(Y.target.files[0])},I=Y=>{const{name:he,files:ge}=Y.target;ge&&ge[0]&&F(oe=>({...oe,[he]:ge[0]}))},te=Y=>{Y.preventDefault();const he={...v,year:parseInt(v.year)};ie&&(delete he.password,delete he.phoneNumber);const ge={carFile:D,...j};h(he,P,ge)},J=(Y,he,ge=" ")=>{let oe=null;return Y?oe=URL.createObjectURL(Y):ie&&he&&(oe=he),c.jsx("div",{className:"image-preview-box",children:oe?c.jsx("img",{src:oe,alt:"Preview"}):c.jsx("span",{children:ge})})};return c.jsxs("form",{className:"app-form",onSubmit:te,autoComplete:"off",children:[c.jsx("input",{type:"text",style:{display:"none"}}),c.jsx("input",{type:"password",style:{display:"none"}}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"photo-column",children:[c.jsx("label",{children:" "}),J(P,o?.photoUrl," "),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",onChange:H,accept:"image/*",style:{display:"none"}})," "]})]}),c.jsxs("div",{className:"fields-column",children:[c.jsx("h3",{className:"full-width",children:" "}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"fullName",value:v.fullName,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"phoneNumber",value:v.phoneNumber,onChange:K,required:!0,disabled:ie})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email *"}),c.jsx("input",{type:"email",name:"email",value:v.email,onChange:K,required:!0})]}),!ie&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{type:"password",name:"password",value:v.password,onChange:K,required:!0,minLength:6})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"rnokpp",value:v.rnokpp,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  *"}),c.jsx("input",{name:"driverLicense",value:v.driverLicense,onChange:K,required:!0})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"photo-column",children:[c.jsx("label",{children:"  ()"}),J(D,o?.car?.photoUrl," "),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",onChange:Le,accept:"image/*",style:{display:"none"}})," "]})]}),c.jsxs("div",{className:"fields-column",children:[c.jsx("h3",{className:"full-width",children:" "}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"make",value:v.make,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"model",value:v.model,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:".  *"}),c.jsx("input",{name:"plateNumber",value:v.plateNumber,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  *"}),c.jsxs("select",{name:"carType",value:v.carType,onChange:K,required:!0,children:[c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"color",value:v.color,onChange:K,required:!0,placeholder:"#FFFFFF  "})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  *"}),c.jsx("input",{type:"number",name:"year",value:v.year,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"VIN  *"}),c.jsx("input",{name:"vin",value:v.vin,onChange:K,required:!0})]})]})]}),c.jsxs("div",{className:"form-section",style:{flexDirection:"column"},children:[c.jsx("h3",{children:"  "}),c.jsxs("div",{className:"docs-grid",children:[c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:".  ()"}),J(j.techPassportFront,o?.car?.techPassportFront),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"techPassportFront",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:".  ()"}),J(j.techPassportBack,o?.car?.techPassportBack),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"techPassportBack",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" ()"}),J(j.insurancePhoto,o?.car?.insurancePhoto),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"insurancePhoto",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),J(j.photoFront,o?.car?.photoFront),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoFront",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),J(j.photoBack,o?.car?.photoBack),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoBack",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),J(j.photoLeft,o?.car?.photoLeft),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoLeft",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),J(j.photoRight,o?.car?.photoRight),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoRight",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" ()"}),J(j.photoSeatsFront,o?.car?.photoSeatsFront),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoSeatsFront",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" ()"}),J(j.photoSeatsBack,o?.car?.photoSeatsBack),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoSeatsBack",onChange:I,accept:"image/*",style:{display:"none"}}),""]})]})]})]}),c.jsxs("div",{className:"form-section",style:{flexDirection:"column"},children:[c.jsx("h3",{children:" "}),c.jsx("div",{className:"checkbox-group",children:u.length>0?u.map(Y=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",value:Y.id,checked:v.tariffIds.includes(Y.id),onChange:Z}),Y.name]},Y.id)):c.jsx("p",{children:"  "})})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:p,disabled:_,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:_,children:_?"...":ie?"":""})]})]})},uw=o=>{const u=o??1e3;return u>=701?{color:"#2e7d32",bg:"#e8f5e9",label:" ()",barColor:"#4CAF50"}:u>=401?{color:"#f9a825",bg:"#fffde7",label:" ()",barColor:"#FFC107"}:u>=1?{color:"#c62828",bg:"#ffebee",label:" ()",barColor:"#F44336"}:{color:"#fff",bg:"#333",label:"",barColor:"#000"}},cw=({driverId:o,currentScore:u,onUpdate:h})=>{const[p,_]=U.useState(""),[v,y]=U.useState(""),[P,B]=U.useState(!1),D=async S=>{if(S.preventDefault(),!p||!v)return alert("   ");B(!0);try{const j=await g4(o,parseInt(p),v);h(j),_(""),y(""),alert("  !")}catch(j){alert(j.message||" ")}finally{B(!1)}};return c.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#fafafa",borderRadius:"8px",border:"1px solid #eee"},children:[c.jsx("h4",{style:{marginTop:0,marginBottom:"10px",fontSize:"16px"},children:"   "}),c.jsxs("form",{onSubmit:D,style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:" (+/-)"}),c.jsx("input",{type:"number",placeholder:"-50  10",value:p,onChange:S=>_(S.target.value),required:!0,style:{width:"100px",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:1},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:" "}),c.jsx("input",{type:"text",placeholder:":      ",value:v,onChange:S=>y(S.target.value),required:!0,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsx("div",{style:{display:"flex",alignItems:"end"},children:c.jsx("button",{type:"submit",disabled:P,className:"btn-primary",style:{height:"35px",marginTop:"auto"},children:P?"...":""})})]})]})},hw=({driver:o,isOpen:u,onClose:h,onDriverUpdated:p})=>{const[_,v]=U.useState(!0);if(!u||!o)return null;const y=uw(o.activityScore),P=I=>{const te=Math.round(I);return"".repeat(te)+"".repeat(5-te)},B={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#f4f4f9",zIndex:2e3,overflowY:"auto",display:"flex",flexDirection:"column"},D={backgroundColor:"#1E1E1E",color:"#fff",padding:"15px 30px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},S={padding:"40px",maxWidth:"1000px",margin:"0 auto",width:"100%",boxSizing:"border-box"},j={backgroundColor:"#fff",borderRadius:"8px",padding:"25px",marginBottom:"30px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},F={borderBottom:"2px solid #eee",paddingBottom:"10px",marginBottom:"20px",color:"#333",marginTop:0,fontSize:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},ie={display:"flex",marginBottom:"12px",borderBottom:"1px dashed #eee",paddingBottom:"8px"},K={fontWeight:"bold",width:"200px",color:"#555"},Z={color:"#000",fontWeight:"500"},H=({label:I,url:te})=>c.jsxs("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"12px",color:"#555",marginBottom:"8px",fontWeight:"bold"},children:I}),te?c.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:te,alt:I,style:{width:"160px",height:"110px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd",cursor:"zoom-in"}})}):c.jsx("div",{style:{width:"160px",height:"110px",background:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"12px",borderRadius:"8px",border:"1px dashed #ccc"},children:""})]}),Le=o.cars||(o.car?[o.car]:[]);return c.jsxs("div",{style:B,children:[c.jsxs("div",{style:D,children:[c.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold"},children:["  : ",c.jsx("span",{style:{color:"#4CAF50"},children:o.fullName})]}),c.jsx("button",{style:{background:"#e74c3c",color:"#fff",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},onClick:h,children:" "})]}),c.jsxs("div",{style:S,children:[c.jsxs("div",{style:j,children:[c.jsx("h3",{style:F,children:" "}),c.jsxs("div",{style:{display:"flex",gap:"40px",alignItems:"flex-start"},children:[c.jsxs("div",{style:{flexShrink:0,textAlign:"center"},children:[o.photoUrl?c.jsx("img",{src:o.photoUrl,alt:"Avatar",style:{width:"150px",height:"150px",borderRadius:"50%",objectFit:"cover",border:"4px solid #fff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}}):c.jsx("div",{style:{width:"150px",height:"150px",background:"#ddd",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:" "}),c.jsx("div",{style:{marginTop:"15px"},children:c.jsx("span",{style:{padding:"5px 10px",borderRadius:"15px",background:o.isOnline?"#e8f5e9":"#ffebee",color:o.isOnline?"#2e7d32":"#c62828",fontWeight:"bold"},children:o.isOnline?" ONLINE":" OFFLINE"})})]}),c.jsxs("div",{style:{flexGrow:1},children:[c.jsxs("div",{style:ie,children:[c.jsx("span",{style:K,children:"ID  :"})," ",c.jsx("span",{style:Z,children:o.id})]}),c.jsxs("div",{style:ie,children:[c.jsx("span",{style:K,children:" :"})," ",c.jsx("span",{style:Z,children:o.phoneNumber})]}),c.jsxs("div",{style:ie,children:[c.jsx("span",{style:K,children:"Email:"})," ",c.jsx("span",{style:Z,children:o.email||"-"})]}),c.jsxs("div",{style:ie,children:[c.jsx("span",{style:K,children:":"})," ",c.jsx("span",{style:Z,children:o.rnokpp||"-"})]}),c.jsxs("div",{style:ie,children:[c.jsx("span",{style:K,children:":"})," ",c.jsx("span",{style:Z,children:o.driverLicense||"-"})]}),c.jsxs("div",{style:ie,children:[c.jsx("span",{style:K,children:" :"}),o.isBlocked?c.jsx("span",{style:{color:"red",fontWeight:"bold"},children:""}):o.tempBlockExpiresAt?c.jsxs("span",{style:{color:"orange",fontWeight:"bold"},children:["  ",new Date(o.tempBlockExpiresAt).toLocaleString()]}):c.jsx("span",{style:{color:"green"},children:""})]})]})]})]}),c.jsxs("div",{style:j,children:[c.jsx("h3",{style:F,children:"   "}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[c.jsx("div",{style:{fontSize:"48px",fontWeight:"bold",color:"#FFD700",textShadow:"1px 1px 2px rgba(0,0,0,0.1)"},children:o.rating?o.rating.toFixed(2):"5.00"}),c.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[c.jsx("div",{style:{fontSize:"24px",color:"#FFD700",letterSpacing:"2px"},children:P(o.rating||5)}),c.jsxs("div",{style:{color:"#666",fontSize:"14px",marginTop:"4px"},children:["  ",o.ratingCount||0," "]})]})]})]}),c.jsxs("div",{style:j,children:[c.jsx("h3",{style:F,children:"  "}),c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:y.color},children:[o.activityScore!==void 0?o.activityScore:1e3,c.jsx("span",{style:{fontSize:"16px",color:"#666",fontWeight:"normal"},children:" / 1000"})]}),c.jsx("div",{style:{display:"inline-block",marginTop:"5px",padding:"4px 12px",borderRadius:"12px",backgroundColor:y.bg,color:y.color,fontWeight:"bold",border:`1px solid ${y.color}`},children:y.label})]}),c.jsx("div",{style:{width:"60%",background:"#eee",height:"20px",borderRadius:"10px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${Math.max(0,Math.min((o.activityScore||1e3)/10,100))}%`,height:"100%",background:y.barColor,transition:"width 0.5s ease-in-out"}})})]}),c.jsx(cw,{driverId:o.id,currentScore:o.activityScore,onUpdate:p})]}),c.jsxs("div",{style:j,children:[c.jsxs("div",{style:{...F,cursor:"pointer",marginBottom:_?"20px":"0",borderBottom:_?"2px solid #eee":"none"},onClick:()=>v(!_),children:[c.jsxs("span",{children:["   (",Le.length,")"]}),c.jsx("span",{style:{fontSize:"18px",color:"#666"},children:_?"":""})]}),_&&c.jsx("div",{children:Le.length>0?Le.map((I,te)=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",marginBottom:"20px",backgroundColor:I.status==="ACTIVE"?"#f0fdf4":"#fafafa",borderLeft:I.status==="ACTIVE"?"5px solid #4CAF50":"1px solid #ddd"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:[c.jsxs("div",{children:[c.jsxs("h3",{style:{margin:"0 0 5px 0",fontSize:"18px"},children:[I.make," ",I.model,I.status==="ACTIVE"&&c.jsx("span",{style:{color:"green",marginLeft:"10px",fontSize:"14px",fontWeight:"normal"},children:"()"})]}),c.jsxs("div",{style:{fontSize:"12px",color:"#777"},children:["ID: ",I.id]})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("div",{style:{background:"#333",color:"#fff",padding:"4px 12px",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",letterSpacing:"1px"},children:I.plateNumber}),c.jsx("div",{style:{marginTop:"5px",fontSize:"12px",fontWeight:"bold",color:I.status==="REJECTED"?"red":I.status==="PENDING"?"orange":"green"},children:I.status})]})]}),I.status==="REJECTED"&&I.rejectionReason&&c.jsxs("div",{style:{background:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:[c.jsx("strong",{children:"  :"})," ",I.rejectionReason]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"10px",marginBottom:"20px",fontSize:"14px"},children:[c.jsxs("div",{children:[": ",c.jsx("b",{children:I.color})]}),c.jsxs("div",{children:[" : ",c.jsx("b",{children:I.year})]}),c.jsxs("div",{children:[" : ",c.jsx("b",{children:I.carType})]}),c.jsxs("div",{children:["VIN-: ",c.jsx("b",{children:I.vin||" "})]})]}),c.jsxs("div",{style:{background:"#fff",padding:"15px",borderRadius:"8px",border:"1px solid #eee"},children:[c.jsx("h5",{style:{marginTop:0,marginBottom:"10px",color:"#1976D2",borderBottom:"1px solid #e3f2fd",paddingBottom:"5px"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(H,{label:".  ()",url:I.techPassportFront}),c.jsx(H,{label:".  ()",url:I.techPassportBack}),c.jsx(H,{label:"",url:I.insurancePhoto})]}),c.jsx("h5",{style:{marginTop:"15px",marginBottom:"10px",color:"#388E3C",borderBottom:"1px solid #e8f5e9",paddingBottom:"5px"},children:" ' ( )"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(H,{label:"",url:I.photoFront}),c.jsx(H,{label:"",url:I.photoBack}),c.jsx(H,{label:"",url:I.photoLeft}),c.jsx(H,{label:"",url:I.photoRight})]}),c.jsx("h5",{style:{marginTop:"15px",marginBottom:"10px",color:"#F57C00",borderBottom:"1px solid #fff3e0",paddingBottom:"5px"},children:" ' ()"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(H,{label:" ()",url:I.photoSeatsFront}),c.jsx(H,{label:" ()",url:I.photoSeatsBack})]})]})]},I.id||te)):c.jsx("p",{style:{color:"#999",textAlign:"center",padding:"20px"},children:"  "})})]}),c.jsxs("div",{style:j,children:[c.jsx("h3",{style:F,children:" "}),c.jsx("div",{children:o.allowedTariffs&&o.allowedTariffs.length>0?o.allowedTariffs.map(I=>c.jsx("span",{style:{display:"inline-block",background:"#e3f2fd",color:"#1565c0",padding:"8px 16px",borderRadius:"20px",marginRight:"10px",marginBottom:"10px",fontSize:"14px",fontWeight:"bold",border:"1px solid #90caf9"},children:I.name},I.id)):"  "})]})]})]})},dw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(""),[y,P]=U.useState(""),[B,D]=U.useState([]),[S,j]=U.useState(!1),[F,ie]=U.useState(null),[K,Z]=U.useState(!1),[H,Le]=U.useState(null),I=async()=>{try{p(!0),v("");const[Re,rt]=await Promise.all([l4(),yf()]);u(Re),D(rt)}catch(Re){v(Re.message)}finally{p(!1)}};U.useEffect(()=>{I()},[]);const te=U.useMemo(()=>y?o.filter(Re=>Re.phoneNumber.includes(y)||Re.fullName.toLowerCase().includes(y.toLowerCase())):o,[o,y]),J=()=>{ie(null),j(!0)},Y=(Re,rt)=>{rt.stopPropagation(),ie(Re),j(!0)},he=()=>{j(!1),ie(null)},ge=Re=>{Le(Re)},oe=()=>{Le(null)},xe=Re=>{lt(Re),Le(Re)},Ae=async(Re,rt,be)=>{Z(!0),v("");try{F?await h4(F.id,Re,rt,be):await c4(Re,rt,be),he(),I()}catch(tt){v(tt.message)}finally{Z(!1)}},Ge=async(Re,rt)=>{if(rt.stopPropagation(),window.confirm(" ,    ?"))try{await d4(Re),I()}catch(be){v(be.message)}},lt=Re=>{u(rt=>rt.map(be=>be.id===Re.id?Re:be))},ze=async(Re,rt)=>{rt.stopPropagation();const be=prompt("   ?","24");if(be&&!isNaN(be))try{const tt=await p4(Re,parseInt(be));lt(tt)}catch(tt){v(tt.message)}},wt=async(Re,rt)=>{if(rt.stopPropagation(),window.confirm("  ?"))try{const be=await f4(Re);lt(be)}catch(be){v(be.message)}},Bt=async(Re,rt)=>{if(rt.stopPropagation(),window.confirm(" ?"))try{const be=await m4(Re);lt(be)}catch(be){v(be.message)}};return h?c.jsx("div",{children:"..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["  (",te.length,")"]}),c.jsxs("div",{className:"controls",children:[c.jsx("input",{type:"text",placeholder:" (  )...",className:"search-input",value:y,onChange:Re=>P(Re.target.value)}),c.jsx("button",{className:"btn-primary",onClick:J,children:"+  "})]})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:""}),c.jsx("th",{children:" "}),c.jsx("th",{children:" ()"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:"./."}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:te.length>0?te.map(Re=>c.jsxs("tr",{onDoubleClick:()=>ge(Re),style:{cursor:"pointer"},title:"   ",className:"table-row-hover",children:[c.jsx("td",{children:Re.id}),c.jsx("td",{children:Re.photoUrl?c.jsx("img",{src:Re.photoUrl,alt:"Foto",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"#ccc"}})}),c.jsx("td",{children:Re.fullName}),c.jsx("td",{children:Re.phoneNumber}),c.jsx("td",{children:Re.email||"-"}),c.jsx("td",{children:c.jsx("span",{className:Re.isOnline?"status-online":"status-offline",children:Re.isOnline?"ON":"OFF"})}),c.jsx("td",{children:Re.isBlocked?c.jsx("strong",{style:{color:"red"},children:"BLOCK"}):Re.tempBlockExpiresAt?c.jsxs("small",{style:{color:"orange"},children:[" ",new Date(Re.tempBlockExpiresAt).toLocaleTimeString()]}):c.jsx("span",{style:{color:"green"},children:""})}),c.jsx("td",{children:Re.car?.photoUrl?c.jsx("img",{src:Re.car.photoUrl,alt:"Car",style:{width:"60px",height:"40px",borderRadius:"4px",objectFit:"cover"}}):c.jsx("span",{style:{color:"#ccc"},children:""})}),c.jsx("td",{children:Re.car?.carType||""}),c.jsx("td",{children:Re.car?`${Re.car.make} ${Re.car.model}`:""}),c.jsx("td",{children:Re.car?.plateNumber||""}),c.jsxs("td",{children:[c.jsx("button",{className:"btn-secondary",onClick:rt=>Y(Re,rt),style:{marginRight:"5px"},children:"Edit"}),c.jsx("button",{className:"btn-danger",onClick:rt=>Ge(Re.id,rt),children:"Del"})]}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",gap:"2px"},children:[c.jsx("button",{className:"btn-secondary",onClick:rt=>ze(Re.id,rt),title:"",children:"T"}),c.jsx("button",{className:"btn-danger",onClick:rt=>wt(Re.id,rt),title:"",children:"P"}),c.jsx("button",{className:"btn-primary",onClick:rt=>Bt(Re.id,rt),title:"",children:"U"})]})})]},Re.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"13",children:"  ."})})})]})}),c.jsx(Ja,{isOpen:S,onClose:he,title:F?" ":"  ",children:c.jsx(lw,{initialData:F,availableTariffs:B,onSubmit:Ae,onCancel:he,isLoading:K})}),c.jsx(hw,{driver:H,isOpen:!!H,onClose:oe,onDriverUpdated:xe})]})},fw=async()=>{try{return(await ht.get("/admin/clients")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},B0=async o=>{try{return(await ht.patch(`/admin/clients/${o}/block`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},j0=async o=>{try{return(await ht.patch(`/admin/clients/${o}/unblock`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},pw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(""),[y,P]=U.useState(""),B=async()=>{try{p(!0),v("");const F=await fw();u(F)}catch(F){v(F.message)}finally{p(!1)}};U.useEffect(()=>{B()},[]);const D=U.useMemo(()=>y?o.filter(F=>F.phoneNumber.includes(y)):o,[o,y]),S=F=>{u(ie=>ie.map(K=>K.id===F.id?F:K))},j=async F=>{const ie=F.isBlocked?j0:B0,K=F.isBlocked?"":"";if(window.confirm(` ,   ${K}  ${F.fullName}?`))try{v("");const Z=await ie(F.id);S(Z)}catch(Z){v(Z.message)}};return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["  (",D.length,")"]}),c.jsx("div",{className:"controls",children:c.jsx("input",{type:"text",placeholder:"  ...",className:"search-input",value:y,onChange:F=>P(F.target.value)})})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:D.length>0?D.map(F=>c.jsxs("tr",{children:[c.jsx("td",{children:F.id}),c.jsx("td",{children:F.fullName}),c.jsx("td",{children:F.phoneNumber}),c.jsx("td",{children:F.isBlocked?c.jsx("strong",{style:{color:"red"},children:""}):c.jsx("span",{style:{color:"green"},children:""})}),c.jsx("td",{children:c.jsx("button",{className:F.isBlocked?"btn-primary":"btn-danger",onClick:()=>j(F),children:F.isBlocked?"":""})})]},F.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"5",children:"  ."})})})]})})]})},mw=({initialData:o,onSubmit:u,onCancel:h,isLoading:p})=>{const[_,v]=U.useState({name:"",basePrice:0,pricePerKm:0,pricePerKmOutCity:0,freeWaitingMinutes:3,pricePerWaitingMinute:0,isActive:!0}),[y,P]=U.useState(null),[B,D]=U.useState(null),S=o!==null;U.useEffect(()=>{S?(v({name:o.name,basePrice:o.basePrice,pricePerKm:o.pricePerKm,pricePerKmOutCity:o.pricePerKmOutCity||0,freeWaitingMinutes:o.freeWaitingMinutes,pricePerWaitingMinute:o.pricePerWaitingMinute,isActive:o.isActive}),D(o.imageUrl)):(v({name:"",basePrice:0,pricePerKm:0,pricePerKmOutCity:0,freeWaitingMinutes:3,pricePerWaitingMinute:0,isActive:!0}),D(null)),P(null)},[o,S]);const j=K=>{const{name:Z,value:H,type:Le,checked:I}=K.target;v(te=>({...te,[Z]:Le==="checkbox"?I:H}))},F=K=>{K.target.files&&K.target.files[0]&&P(K.target.files[0])},ie=K=>{K.preventDefault();const Z={..._,basePrice:parseFloat(_.basePrice),pricePerKm:parseFloat(_.pricePerKm),pricePerKmOutCity:parseFloat(_.pricePerKmOutCity),freeWaitingMinutes:parseInt(_.freeWaitingMinutes),pricePerWaitingMinute:parseFloat(_.pricePerWaitingMinute)};u(Z,y)};return c.jsxs("form",{onSubmit:ie,className:"entity-form",children:[c.jsxs("fieldset",{className:"full-width",children:[c.jsx("legend",{children:"Tariff Details"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tariff Name"}),c.jsx("input",{type:"text",name:"name",value:_.name,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Base Price"}),c.jsx("input",{type:"number",step:"0.01",name:"basePrice",value:_.basePrice,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Price per 1 km (City)"}),c.jsx("input",{type:"number",step:"0.01",name:"pricePerKm",value:_.pricePerKm,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Price per 1 km (Out of City)"}),c.jsx("input",{type:"number",step:"0.01",name:"pricePerKmOutCity",value:_.pricePerKmOutCity,onChange:j,required:!0,style:{borderColor:"#ff9800"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Free waiting (min)"}),c.jsx("input",{type:"number",name:"freeWaitingMinutes",value:_.freeWaitingMinutes,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Price per waiting min"}),c.jsx("input",{type:"number",step:"0.01",name:"pricePerWaitingMinute",value:_.pricePerWaitingMinute,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group checkbox-label",style:{alignItems:"center"},children:[c.jsx("input",{type:"checkbox",name:"isActive",checked:_.isActive,onChange:j}),c.jsx("label",{children:"Tariff Active"})]})]})]}),c.jsxs("fieldset",{className:"full-width",children:[c.jsx("legend",{children:"Tariff Icon (PNG)"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Upload new icon (optional)"}),c.jsx("input",{type:"file",name:"file",onChange:F,accept:"image/png, image/jpeg"}),S&&B&&!y&&c.jsxs("div",{style:{marginTop:"10px"},children:[c.jsx("p",{children:"Current Icon:"}),c.jsx("img",{src:B,alt:_.name,style:{width:"50px",height:"50px",objectFit:"cover"}})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:h,disabled:p,children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":"Save"})]})]})},gw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(""),[y,P]=U.useState(!1),[B,D]=U.useState(null),[S,j]=U.useState(!1),F=async()=>{try{p(!0),v("");const I=await yf();u(I)}catch(I){v(I.message)}finally{p(!1)}};U.useEffect(()=>{F()},[]);const ie=()=>{D(null),P(!0)},K=I=>{D(I),P(!0)},Z=()=>{P(!1),D(null)},H=async(I,te)=>{j(!0),v("");try{B?await ow(B.id,I,te):await sw(I,te),Z(),F()}catch(J){v(J.message)}finally{j(!1)}},Le=async I=>{if(window.confirm("Are you sure? This will delete the tariff and its image."))try{await aw(I),F()}catch(te){v(te.message)}};return h?c.jsx("div",{children:"Loading tariffs..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["Tariff Settings (",o.length,")"]}),c.jsx("div",{className:"controls",children:c.jsx("button",{className:"btn-primary",onClick:ie,children:"+ Create Tariff"})})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Icon"})," ",c.jsx("th",{children:"ID"}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Base Price"}),c.jsx("th",{children:"Price/km"}),c.jsx("th",{children:"Out City $/km"}),c.jsx("th",{children:"Free Wait (min)"}),c.jsx("th",{children:"Wait Price/min"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:o.length>0?o.map(I=>c.jsxs("tr",{children:[c.jsx("td",{children:I.imageUrl?c.jsx("img",{src:I.imageUrl,alt:I.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"}}):"N/A"}),c.jsx("td",{children:I.id}),c.jsx("td",{children:c.jsx("strong",{children:I.name})}),c.jsx("td",{children:c.jsx("span",{className:I.isActive?"status-online":"status-offline",children:I.isActive?"ACTIVE":"OFF"})}),c.jsx("td",{children:I.basePrice.toFixed(2)}),c.jsx("td",{children:I.pricePerKm.toFixed(2)}),c.jsx("td",{style:{color:"#e65100",fontWeight:"bold"},children:I.pricePerKmOutCity?I.pricePerKmOutCity.toFixed(2):"-"}),c.jsxs("td",{children:[I.freeWaitingMinutes," min"]}),c.jsx("td",{children:I.pricePerWaitingMinute.toFixed(2)}),c.jsxs("td",{children:[c.jsx("button",{className:"btn-secondary",onClick:()=>K(I),children:"Edit"}),c.jsx("button",{className:"btn-danger",onClick:()=>Le(I.id),children:"Delete"})]})]},I.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"9",children:"No tariffs found. Create the first one."})})})]})}),c.jsx(Ja,{isOpen:y,onClose:Z,title:B?"Edit Tariff":"Create New Tariff",children:c.jsx(mw,{initialData:B,onSubmit:H,onCancel:Z,isLoading:S})})]})},_w=async()=>{try{return(await ht.get("/admin/dispatchers")).data}catch(o){throw new Error(o.response?.data?.message||"   ")}},yw=async o=>{try{return(await ht.post("/admin/dispatchers",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},vw=async(o,u)=>{try{return(await ht.put(`/admin/dispatchers/${o}`,u)).data}catch(h){throw new Error(h.response?.data?.message||"  ")}},xw=async o=>{try{return(await ht.delete(`/admin/dispatchers/${o}`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},ww=({initialData:o,onSubmit:u,onCancel:h,isLoading:p})=>{const[_,v]=U.useState({userLogin:"",fullName:"",password:""}),y=o!==null;U.useEffect(()=>{v(y?{userLogin:o.userLogin,fullName:o.fullName,password:""}:{userLogin:"",fullName:"",password:""})},[o,y]);const P=D=>{const{name:S,value:j}=D.target;v(F=>({...F,[S]:j}))},B=D=>{D.preventDefault();const S={..._};if(!y&&!S.password){alert("    ");return}y&&S.password===""&&(S.password=null),u(S)};return c.jsxs("form",{onSubmit:B,className:"entity-form",children:[c.jsxs("fieldset",{className:"full-width",children:[c.jsx("legend",{children:" "}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsx("input",{type:"text",name:"userLogin",value:_.userLogin,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  ()"}),c.jsx("input",{type:"text",name:"fullName",value:_.fullName,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsx("input",{type:"password",name:"password",value:_.password,onChange:P,placeholder:y?"( ,   )":" 6 ",minLength:y?0:6})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:h,disabled:p,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"...":""})]})]})},bw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(""),[y,P]=U.useState(!1),[B,D]=U.useState(null),[S,j]=U.useState(!1),F=async()=>{try{p(!0),v("");const J=await _w();u(J)}catch(J){v(J.message)}finally{p(!1)}};U.useEffect(()=>{F()},[]);const ie=()=>{D(null),P(!0)},K=J=>{D(J),P(!0)},Z=()=>{P(!1),D(null)},H=async J=>{j(!0),v("");try{B?await vw(B.id,J):await yw(J),Z(),F()}catch(Y){v(Y.message)}finally{j(!1)}},Le=async J=>{if(window.confirm(" ,     ?"))try{await xw(J),F()}catch(Y){v(Y.message)}},I=J=>{u(Y=>Y.map(he=>he.id===J.id?{...he,isBlocked:J.isBlocked}:he))},te=async J=>{const Y=J.isBlocked?j0:B0,he=J.isBlocked?"":"";if(window.confirm(` ,   ${he}  ${J.fullName}?`))try{v("");const ge=await Y(J.id);I(ge)}catch(ge){v(ge.message)}};return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["  (",o.length,")"]}),c.jsx("div",{className:"controls",children:c.jsx("button",{className:"btn-primary",onClick:ie,children:"+  "})})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:"  ()"}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:o.length>0?o.map(J=>c.jsxs("tr",{children:[c.jsx("td",{children:J.id}),c.jsx("td",{children:J.userLogin}),c.jsx("td",{children:J.fullName}),c.jsx("td",{children:J.isBlocked?c.jsx("strong",{style:{color:"red"},children:""}):c.jsx("span",{style:{color:"green"},children:""})}),c.jsxs("td",{children:[c.jsx("button",{className:"btn-secondary",onClick:()=>K(J),children:"."}),c.jsx("button",{className:J.isBlocked?"btn-primary":"btn-danger",onClick:()=>te(J),children:J.isBlocked?".":"."}),c.jsx("button",{className:"btn-danger",onClick:()=>Le(J.id),children:""})]})]},J.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"5",children:"  ."})})})]})}),c.jsx(Ja,{isOpen:y,onClose:Z,title:B?" ":" ",children:c.jsx(ww,{initialData:B,onSubmit:H,onCancel:Z,isLoading:S})})]})},Cw=async()=>{try{return(await ht.get("/admin/promos")).data}catch(o){throw new Error(o.response?.data?.message||"   ")}},Lw=async o=>{try{return(await ht.post("/admin/promos",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},kw=async o=>{try{await ht.delete(`/admin/promos/${o}`)}catch(u){throw new Error(u.response?.data?.message||"  ")}},Ew=async()=>{try{return(await ht.get("/admin/promocodes")).data}catch(o){return console.warn("GET /admin/promocodes error:",o),[]}},Sw=async o=>{try{return(await ht.post("/admin/promocodes",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},Pw=async o=>{try{await ht.delete(`/admin/promocodes/${o}`)}catch(u){throw new Error(u.response?.data?.message||"  ")}},Mw=({onSubmit:o,onCancel:u,isLoading:h})=>{const[p,_]=U.useState([]),[v,y]=U.useState({title:"",description:"",requiredRides:1,requiredDistanceKm:0,discountPercent:10,requiredTariffId:"",isOneTime:!0,maxDiscountAmount:"",activeDaysDuration:""});U.useEffect(()=>{yf().then(_).catch(console.error)},[]);const P=D=>{const{name:S,value:j,type:F,checked:ie}=D.target,K=F==="checkbox"?ie:j;y(Z=>({...Z,[S]:K}))},B=D=>{D.preventDefault();const S={title:v.title,description:v.description,requiredRides:parseInt(v.requiredRides),requiredDistanceKm:parseFloat(v.requiredDistanceKm)||0,discountPercent:parseFloat(v.discountPercent),requiredTariffId:v.requiredTariffId?parseInt(v.requiredTariffId):null,isOneTime:v.isOneTime,maxDiscountAmount:v.maxDiscountAmount?parseFloat(v.maxDiscountAmount):null,activeDaysDuration:v.activeDaysDuration?parseInt(v.activeDaysDuration):null};o(S)};return c.jsxs("form",{onSubmit:B,className:"entity-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",name:"title",placeholder:":  ",value:v.title,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",name:"description",placeholder:":  5 ",value:v.description,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group-row",style:{display:"flex",gap:"10px"},children:[c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{children:" ()"}),c.jsx("input",{type:"number",name:"requiredRides",min:"0",placeholder:"0 =  ",value:v.requiredRides,onChange:P})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{children:"  ()"}),c.jsx("input",{type:"number",name:"requiredDistanceKm",min:"0",step:"0.1",placeholder:"0 =  ",value:v.requiredDistanceKm,onChange:P})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  (%)"}),c.jsx("input",{type:"number",name:"discountPercent",min:"1",max:"100",value:v.discountPercent,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:".   ()"}),c.jsx("input",{type:"number",name:"maxDiscountAmount",min:"0",placeholder:" =  ",value:v.maxDiscountAmount,onChange:P}),c.jsx("small",{style:{color:"#666",fontSize:"0.8rem"},children:" ,   "})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  ()"}),c.jsxs("select",{name:"requiredTariffId",value:v.requiredTariffId,onChange:P,style:{padding:"0.6rem",borderRadius:"4px",border:"1px solid #ccc"},children:[c.jsx("option",{value:"",children:" - () "}),p.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))]})]}),c.jsxs("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("input",{type:"checkbox",name:"isOneTime",id:"isOneTime",checked:v.isOneTime,onChange:P,style:{width:"20px",height:"20px"}}),c.jsx("label",{htmlFor:"isOneTime",style:{marginBottom:0,cursor:"pointer"},children:"  ?"})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:u,disabled:h,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"...":""})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"   ()"}),c.jsx("input",{type:"number",name:"activeDaysDuration",min:"1",placeholder:" = ",value:v.activeDaysDuration,onChange:P}),c.jsx("small",{style:{color:"#666"},children:"    ,     ."})]})]})},Bw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(!1),[y,P]=U.useState(!1),B=async()=>{try{p(!0);const j=await Cw();u(j)}catch(j){alert(j.message)}finally{p(!1)}};U.useEffect(()=>{B()},[]);const D=async j=>{try{P(!0),await Lw(j),v(!1),B()}catch(F){alert(F.message)}finally{P(!1)}},S=async j=>{if(window.confirm("  ?     ."))try{await kw(j),B()}catch(F){alert(F.message)}};return c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("h2",{children:" "}),c.jsx("button",{className:"btn-primary",onClick:()=>v(!0),children:"+  "})]}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:" "}),c.jsx("th",{children:". "}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:o.length>0?o.map(j=>c.jsxs("tr",{children:[c.jsx("td",{children:j.id}),c.jsx("td",{children:c.jsx("strong",{children:j.title})}),c.jsx("td",{children:j.description}),c.jsx("td",{children:j.requiredDistanceMeters>0?c.jsxs("span",{style:{color:"#2196F3",fontWeight:"bold"},children:[(j.requiredDistanceMeters/1e3).toFixed(1)," "]}):c.jsxs("span",{children:[j.requiredRides," "]})}),c.jsx("td",{children:j.requiredTariff?c.jsx("span",{className:"status-online",children:j.requiredTariff.name}):" - "}),c.jsxs("td",{children:[j.discountPercent,"%"]}),c.jsx("td",{style:{textAlign:"center"},children:j.activeDaysDuration&&j.activeDaysDuration>0?c.jsxs("span",{className:"badge badge-warning",style:{background:"#fff3cd",color:"#856404",padding:"4px 8px",borderRadius:"4px",fontSize:"0.9em"},children:[j.activeDaysDuration," ."]}):c.jsx("span",{style:{color:"#aaa"},children:""})}),c.jsx("td",{children:j.maxDiscountAmount?c.jsxs("span",{children:[" ",j.maxDiscountAmount," "]}):c.jsx("span",{style:{color:"#aaa"},children:""})}),c.jsx("td",{children:c.jsx("button",{className:"btn-danger",onClick:()=>S(j.id),children:""})})]},j.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"9",children:" .  !"})})})]})}),c.jsx(Ja,{isOpen:_,onClose:()=>v(!1),title:" ",children:c.jsx(Mw,{onSubmit:D,onCancel:()=>v(!1),isLoading:y})})]})},jw=({isOpen:o,onClose:u,onSuccess:h})=>{const[p,_]=U.useState({code:"",discountPercent:"",maxDiscountAmount:"",usageLimit:"",activeDays:"",durationHours:""}),[v,y]=U.useState(!1);if(!o)return null;const P=D=>{_({...p,[D.target.name]:D.target.value})},B=async D=>{D.preventDefault(),y(!0);try{const S={code:p.code,discountPercent:parseFloat(p.discountPercent),maxDiscountAmount:p.maxDiscountAmount?parseFloat(p.maxDiscountAmount):null,usageLimit:p.usageLimit?parseInt(p.usageLimit):null,activeDays:p.activeDays?parseInt(p.activeDays):null,durationHours:p.durationHours?parseInt(p.durationHours):null};await Sw(S),h(),u(),_({code:"",discountPercent:"",maxDiscountAmount:"",usageLimit:"",activeDays:""})}catch(S){alert(S.message)}finally{y(!1)}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsx("button",{className:"close-btn",onClick:u,children:""})]}),c.jsxs("form",{onSubmit:B,className:"modal-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" (. SUMMER25)"}),c.jsx("input",{name:"code",value:p.code,onChange:P,required:!0,style:{textTransform:"uppercase",fontWeight:"bold"},placeholder:" ..."})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" (%)"}),c.jsx("input",{type:"number",name:"discountPercent",value:p.discountPercent,onChange:P,required:!0,min:"1",max:"100"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:".  ()"}),c.jsx("input",{type:"number",name:"maxDiscountAmount",value:p.maxDiscountAmount,onChange:P,placeholder:""})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  ()"}),c.jsx("input",{type:"number",name:"activeDays",value:p.activeDays,onChange:P,placeholder:""})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"   ()"}),c.jsx("input",{type:"number",name:"durationHours",value:p.durationHours,onChange:P,placeholder:". 24 (  )"}),c.jsx("small",{style:{color:"#666"},children:"    ,      ."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"number",name:"usageLimit",value:p.usageLimit,onChange:P,placeholder:""})]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",onClick:u,className:"cancel-btn",children:""}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:v,children:v?"...":""})]})]})]})})},Tw=()=>{const[o,u]=U.useState(!1),[h,p]=U.useState([]),_=async()=>{const y=await Ew();p(Array.isArray(y)?y:[])};U.useEffect(()=>{_()},[]);const v=async y=>{if(window.confirm(" ,     ?     ,    ."))try{await Pw(y),_()}catch(P){alert(P.message)}};return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"page-header",children:[c.jsx("h1",{children:""}),c.jsx("button",{className:"add-btn",onClick:()=>u(!0),children:"+  "})]}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:". "}),c.jsx("th",{children:"  "}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})," "]})}),c.jsx("tbody",{children:h.length>0?h.map(y=>c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold",color:"#2563eb"},children:y.code}),c.jsxs("td",{children:[y.discountPercent,"%"]}),c.jsx("td",{children:y.maxDiscountAmount?`${y.maxDiscountAmount} `:""}),c.jsx("td",{children:y.activationDurationHours?`${y.activationDurationHours} .`:""}),c.jsx("td",{children:y.usageLimit?y.usageLimit:""}),c.jsx("td",{children:y.usedCount}),c.jsx("td",{children:c.jsx("button",{className:"delete-btn",onClick:()=>v(y.id),style:{backgroundColor:"#ffebee",color:"#d32f2f",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:""})})]},y.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"20px"},children:"   ..."})})})]})}),c.jsx(jw,{isOpen:o,onClose:()=>u(!1),onSuccess:_})]})},Dw=async()=>{try{return(await ht.get("/admin/news")).data}catch(o){throw new Error(o.response?.data?.message||"  ")}},Aw=async o=>{try{return(await ht.post("/admin/news",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},Rw=async o=>{try{await ht.delete(`/admin/news/${o}`)}catch(u){throw new Error(u.response?.data?.message||"  ")}},Ow=({onSubmit:o,onCancel:u,isLoading:h})=>{const[p,_]=U.useState({title:"",content:""}),v=P=>{const{name:B,value:D}=P.target;_(S=>({...S,[B]:D}))},y=P=>{if(P.preventDefault(),!p.title||!p.content){alert(" ,   ");return}o(p)};return c.jsxs("form",{onSubmit:y,className:"promo-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",name:"title",value:p.title,onChange:v,placeholder:".  ",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("textarea",{name:"content",value:p.content,onChange:v,placeholder:"    ...",rows:"5",required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:u,disabled:h,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"...":""})]})]})},Nw=({sosList:o,setSosList:u})=>{const[h,p]=U.useState([]),[_,v]=U.useState(!0),[y,P]=U.useState(!1),[B,D]=U.useState(!1),S=async()=>{try{v(!0);const Z=await Dw();p(Z)}catch(Z){console.error(Z)}finally{v(!1)}};U.useEffect(()=>{S()},[]);const j=async Z=>{try{D(!0),await Aw(Z),P(!1),S()}catch(H){alert(H.message)}finally{D(!1)}},F=async Z=>{if(window.confirm("  ?"))try{await Rw(Z),S()}catch(H){alert(H.message)}},ie=()=>{window.confirm("  ?")&&u&&u([])},K=o||[];return c.jsxs("div",{className:"table-page-container",style:{display:"flex",gap:"20px",height:"100%",alignItems:"stretch"},children:[c.jsxs("div",{style:{flex:65,display:"flex",flexDirection:"column"},children:[c.jsxs("div",{className:"table-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{className:"btn-primary",onClick:()=>P(!0),children:"+ "})]}),c.jsx("div",{className:"table-container",style:{flex:1},children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{style:{width:"100px"},children:""}),c.jsx("th",{style:{width:"180px"},children:""}),c.jsx("th",{children:""}),c.jsx("th",{style:{width:"80px"},children:""})]})}),c.jsx("tbody",{children:_?c.jsx("tr",{children:c.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"..."})}):h.length>0?h.map(Z=>c.jsxs("tr",{children:[c.jsx("td",{style:{color:"#666",fontSize:"0.85em"},children:Z.date}),c.jsx("td",{style:{fontWeight:"bold",color:"#2196F3"},children:Z.title}),c.jsx("td",{style:{whiteSpace:"pre-wrap",fontSize:"0.9em"},children:Z.content}),c.jsx("td",{children:c.jsx("button",{className:"delete-btn",onClick:()=>F(Z.id),children:"X"})})]},Z.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:" "})})})]})})]}),c.jsxs("div",{style:{flex:35,display:"flex",flexDirection:"column",backgroundColor:"#ffebee",border:"2px solid #ef5350",borderRadius:"8px",padding:"10px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[c.jsx("h2",{style:{color:"#d32f2f",margin:0,fontSize:"1.2em"},children:" SOS "}),K.length>0&&c.jsx("button",{onClick:ie,style:{background:"#d32f2f",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer"},children:""})]}),c.jsx("div",{style:{overflowY:"auto",flex:1},children:K.length===0?c.jsxs("div",{style:{textAlign:"center",color:"#b71c1c",marginTop:"20px",opacity:.6},children:[c.jsx("h3",{children:""}),c.jsx("p",{children:"  "})]}):K.map((Z,H)=>c.jsxs("div",{style:{backgroundColor:"white",padding:"12px",marginBottom:"8px",borderRadius:"6px",boxShadow:"0 2px 4px rgba(0,0,0,0.15)",borderLeft:"5px solid #d32f2f"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[c.jsx("strong",{style:{fontSize:"1.1em"},children:Z.driverName}),c.jsx("span",{style:{color:"#d32f2f",fontWeight:"bold"},children:Z.timestamp})]}),c.jsxs("div",{style:{fontSize:"0.9em",color:"#333"},children:[" ",Z.carNumber," ",c.jsx("br",{})," ",c.jsx("a",{href:`tel:${Z.phone}`,children:Z.phone})]}),c.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${Z.lat},${Z.lng}`,target:"_blank",rel:"noreferrer",style:{display:"block",textAlign:"center",background:"#d32f2f",color:"white",textDecoration:"none",padding:"6px",borderRadius:"4px",marginTop:"8px",fontSize:"0.9em"},children:"   "})]},H))})]}),c.jsx(Ja,{isOpen:y,onClose:()=>P(!1),title:" ",children:c.jsx(Ow,{onSubmit:j,onCancel:()=>P(!1),isLoading:B})})]})},vf="http://localhost:8080/api/v1/admin/services",xf=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}),Iw=async()=>{const o=await fetch(vf,{headers:xf()});if(!o.ok){const u=await o.text();throw console.error("Error fetching services:",o.status,u),new Error("  ")}return await o.json()},Fw=async o=>{const u=await fetch(vf,{method:"POST",headers:xf(),body:JSON.stringify(o)});if(!u.ok){const h=await u.text();throw console.error("Error creating service:",u.status,h),new Error("  ")}return await u.json()},zw=async o=>{const u=await fetch(`${vf}/${o}`,{method:"DELETE",headers:xf()});if(!u.ok){const h=await u.text();throw console.error("Error deleting service:",u.status,h),new Error("  ")}},Uw=({onSubmit:o,onCancel:u,isLoading:h})=>{const[p,_]=U.useState(""),[v,y]=U.useState(""),P=B=>{B.preventDefault();let D=parseFloat(v);(v==="-"||isNaN(D)||v==="")&&(D=0),o({name:p,price:D})};return c.jsxs("form",{onSubmit:P,children:[c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:" "}),c.jsx("input",{type:"text",value:p,onChange:B=>_(B.target.value),placeholder:": ",required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:" ()"}),c.jsx("input",{type:"text",value:v,onChange:B=>y(B.target.value),placeholder:"   '-'  ",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),c.jsx("small",{style:{color:"#666"},children:'  "-" = '})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[c.jsx("button",{type:"button",onClick:u,disabled:h,style:{padding:"8px 16px",backgroundColor:"#e0e0e0",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),c.jsx("button",{type:"submit",disabled:h,style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:h?"not-allowed":"pointer",opacity:h?.7:1},children:h?"...":""})]})]})},Hw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(!1),[y,P]=U.useState(!1),B=async()=>{try{p(!0);const j=await Iw();u(j)}catch(j){console.error(j),alert("   ")}finally{p(!1)}};U.useEffect(()=>{B()},[]);const D=async j=>{try{P(!0),await Fw(j),v(!1),B()}catch(F){alert(F.message)}finally{P(!1)}},S=async j=>{if(window.confirm("  ?"))try{await zw(j),B()}catch(F){alert(F.message)}};return c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("h2",{children:" "}),c.jsx("button",{className:"btn-primary",onClick:()=>v(!0),children:"+  "})]}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:" "}),c.jsx("th",{style:{width:"150px"},children:""}),c.jsx("th",{style:{width:"100px"},children:""})]})}),c.jsx("tbody",{children:h?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",style:{textAlign:"center"},children:"..."})}):o.length>0?o.map(j=>c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"500"},children:j.name}),c.jsx("td",{children:j.price===0?c.jsx("span",{style:{backgroundColor:"#e8f5e9",color:"#2e7d32",padding:"4px 8px",borderRadius:"12px",fontSize:"0.85em",fontWeight:"bold"},children:""}):c.jsxs("span",{style:{fontWeight:"bold"},children:[j.price," "]})}),c.jsx("td",{children:c.jsx("button",{className:"delete-btn",onClick:()=>S(j.id),style:{backgroundColor:"#ffebee",color:"#d32f2f",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},children:""})})]},j.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"3",style:{textAlign:"center",padding:"20px"},children:"  "})})})]})}),c.jsx(Ja,{isOpen:_,onClose:()=>v(!1),title:" ",children:c.jsx(Uw,{onSubmit:D,onCancel:()=>v(!1),isLoading:y})})]})},Ww=()=>{const[o,u]=U.useState({}),[h,p]=U.useState(!1);U.useEffect(()=>{_()},[]);const _=async()=>{try{const y=await y0();u(y)}catch(y){console.error(" :",y)}},v=async(y,P,B,D)=>{p(!0);try{const S={};if(P){const j=await C4(y,P);S[y]=j}S[`${y}_width`]=B.toString(),S[`${y}_height`]=D.toString(),await L4(S),u(j=>({...j,...S})),alert(" !")}catch(S){alert(": "+S.message)}finally{p(!1)}};return c.jsxs("div",{className:"page-container",children:[c.jsx("div",{className:"page-header",children:c.jsx("h2",{children:"  "})}),c.jsxs("div",{className:"settings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:[c.jsx(fg,{title:"   ()",description:"   .",settingKey:"driver_map_icon",settingsData:o,onSave:v,loading:h}),c.jsx(fg,{title:"   ()",description:"   .",settingKey:"client_car_icon",settingsData:o,onSave:v,loading:h})]})]})},fg=({title:o,description:u,settingKey:h,settingsData:p,onSave:_,loading:v})=>{const[y,P]=U.useState(null),[B,D]=U.useState(null),[S,j]=U.useState(p[`${h}_width`]||40),[F,ie]=U.useState(p[`${h}_height`]||40);U.useEffect(()=>{p[`${h}_width`]&&j(p[`${h}_width`]),p[`${h}_height`]&&ie(p[`${h}_height`])},[p,h]);const K=H=>{const Le=H.target.files[0];Le&&(D(Le),P(URL.createObjectURL(Le)))},Z=p[h];return c.jsxs("div",{className:"card",style:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[c.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"5px"},children:o}),c.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginBottom:"15px"},children:u}),c.jsx("input",{type:"file",accept:"image/*",onChange:K,style:{marginBottom:"15px"}}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:" (px):"}),c.jsx("input",{type:"number",value:S,onChange:H=>j(H.target.value),style:{width:"100%",padding:"5px",marginTop:"5px"}})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:" (px):"}),c.jsx("input",{type:"number",value:F,onChange:H=>ie(H.target.value),style:{width:"100%",padding:"5px",marginTop:"5px"}})]})]}),c.jsx("div",{style:{height:"150px",border:"2px dashed #ccc",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",background:"#f9f9f9",overflow:"hidden"},children:y||Z?c.jsx("img",{src:y||Z,alt:"Preview",style:{width:`${S}px`,height:`${F}px`,objectFit:"contain",border:"1px solid red"}}):c.jsx("span",{style:{color:"#999",fontSize:"0.8rem"},children:" "})}),c.jsx("button",{className:"btn-primary",style:{marginTop:"15px",width:"100%"},onClick:()=>_(h,B,S,F),disabled:v,children:v?"...":""})]})};var pg={},mg;function qw(){return mg||(mg=1,(()=>{var o=Object.create,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,_=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,y=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports),P=(r,i,a,d)=>{if(i&&typeof i=="object"||typeof i=="function")for(let g of p(i))!v.call(r,g)&&g!==a&&u(r,g,{get:()=>i[g],enumerable:!(d=h(i,g))||d.enumerable});return r},B=(r,i,a)=>(a=r!=null?o(_(r)):{},P(i||!r||!r.__esModule?u(a,"default",{value:r,enumerable:!0}):a,r)),D=y((r,i)=>{function a(){this.__data__=[],this.size=0}i.exports=a}),S=y((r,i)=>{function a(d,g){return d===g||d!==d&&g!==g}i.exports=a}),j=y((r,i)=>{var a=S();function d(g,x){for(var k=g.length;k--;)if(a(g[k][0],x))return k;return-1}i.exports=d}),F=y((r,i)=>{var a=j(),d=Array.prototype,g=d.splice;function x(k){var E=this.__data__,T=a(E,k);if(T<0)return!1;var A=E.length-1;return T==A?E.pop():g.call(E,T,1),--this.size,!0}i.exports=x}),ie=y((r,i)=>{var a=j();function d(g){var x=this.__data__,k=a(x,g);return k<0?void 0:x[k][1]}i.exports=d}),K=y((r,i)=>{var a=j();function d(g){return a(this.__data__,g)>-1}i.exports=d}),Z=y((r,i)=>{var a=j();function d(g,x){var k=this.__data__,E=a(k,g);return E<0?(++this.size,k.push([g,x])):k[E][1]=x,this}i.exports=d}),H=y((r,i)=>{var a=D(),d=F(),g=ie(),x=K(),k=Z();function E(T){var A=-1,q=T==null?0:T.length;for(this.clear();++A<q;){var V=T[A];this.set(V[0],V[1])}}E.prototype.clear=a,E.prototype.delete=d,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,i.exports=E}),Le=y((r,i)=>{var a=H();function d(){this.__data__=new a,this.size=0}i.exports=d}),I=y((r,i)=>{function a(d){var g=this.__data__,x=g.delete(d);return this.size=g.size,x}i.exports=a}),te=y((r,i)=>{function a(d){return this.__data__.get(d)}i.exports=a}),J=y((r,i)=>{function a(d){return this.__data__.has(d)}i.exports=a}),Y=y((r,i)=>{var a=typeof Ze=="object"&&Ze&&Ze.Object===Object&&Ze;i.exports=a}),he=y((r,i)=>{var a=Y(),d=typeof self=="object"&&self&&self.Object===Object&&self,g=a||d||Function("return this")();i.exports=g}),ge=y((r,i)=>{var a=he(),d=a.Symbol;i.exports=d}),oe=y((r,i)=>{var a=ge(),d=Object.prototype,g=d.hasOwnProperty,x=d.toString,k=a?a.toStringTag:void 0;function E(T){var A=g.call(T,k),q=T[k];try{T[k]=void 0;var V=!0}catch{}var ae=x.call(T);return V&&(A?T[k]=q:delete T[k]),ae}i.exports=E}),xe=y((r,i)=>{var a=Object.prototype,d=a.toString;function g(x){return d.call(x)}i.exports=g}),Ae=y((r,i)=>{var a=ge(),d=oe(),g=xe(),x="[object Null]",k="[object Undefined]",E=a?a.toStringTag:void 0;function T(A){return A==null?A===void 0?k:x:E&&E in Object(A)?d(A):g(A)}i.exports=T}),Ge=y((r,i)=>{function a(d){var g=typeof d;return d!=null&&(g=="object"||g=="function")}i.exports=a}),lt=y((r,i)=>{var a=Ae(),d=Ge(),g="[object AsyncFunction]",x="[object Function]",k="[object GeneratorFunction]",E="[object Proxy]";function T(A){if(!d(A))return!1;var q=a(A);return q==x||q==k||q==g||q==E}i.exports=T}),ze=y((r,i)=>{var a=he(),d=a["__core-js_shared__"];i.exports=d}),wt=y((r,i)=>{var a=ze(),d=(function(){var x=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""})();function g(x){return!!d&&d in x}i.exports=g}),Bt=y((r,i)=>{var a=Function.prototype,d=a.toString;function g(x){if(x!=null){try{return d.call(x)}catch{}try{return x+""}catch{}}return""}i.exports=g}),Re=y((r,i)=>{var a=lt(),d=wt(),g=Ge(),x=Bt(),k=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,T=Function.prototype,A=Object.prototype,q=T.toString,V=A.hasOwnProperty,ae=RegExp("^"+q.call(V).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ce(Pe){if(!g(Pe)||d(Pe))return!1;var De=a(Pe)?ae:E;return De.test(x(Pe))}i.exports=ce}),rt=y((r,i)=>{function a(d,g){return d?.[g]}i.exports=a}),be=y((r,i)=>{var a=Re(),d=rt();function g(x,k){var E=d(x,k);return a(E)?E:void 0}i.exports=g}),tt=y((r,i)=>{var a=be(),d=he(),g=a(d,"Map");i.exports=g}),Be=y((r,i)=>{var a=be(),d=a(Object,"create");i.exports=d}),le=y((r,i)=>{var a=Be();function d(){this.__data__=a?a(null):{},this.size=0}i.exports=d}),Me=y((r,i)=>{function a(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g}i.exports=a}),ut=y((r,i)=>{var a=Be(),d="__lodash_hash_undefined__",g=Object.prototype,x=g.hasOwnProperty;function k(E){var T=this.__data__;if(a){var A=T[E];return A===d?void 0:A}return x.call(T,E)?T[E]:void 0}i.exports=k}),et=y((r,i)=>{var a=Be(),d=Object.prototype,g=d.hasOwnProperty;function x(k){var E=this.__data__;return a?E[k]!==void 0:g.call(E,k)}i.exports=x}),Ye=y((r,i)=>{var a=Be(),d="__lodash_hash_undefined__";function g(x,k){var E=this.__data__;return this.size+=this.has(x)?0:1,E[x]=a&&k===void 0?d:k,this}i.exports=g}),Je=y((r,i)=>{var a=le(),d=Me(),g=ut(),x=et(),k=Ye();function E(T){var A=-1,q=T==null?0:T.length;for(this.clear();++A<q;){var V=T[A];this.set(V[0],V[1])}}E.prototype.clear=a,E.prototype.delete=d,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,i.exports=E}),St=y((r,i)=>{var a=Je(),d=H(),g=tt();function x(){this.size=0,this.__data__={hash:new a,map:new(g||d),string:new a}}i.exports=x}),Lt=y((r,i)=>{function a(d){var g=typeof d;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?d!=="__proto__":d===null}i.exports=a}),At=y((r,i)=>{var a=Lt();function d(g,x){var k=g.__data__;return a(x)?k[typeof x=="string"?"string":"hash"]:k.map}i.exports=d}),vn=y((r,i)=>{var a=At();function d(g){var x=a(this,g).delete(g);return this.size-=x?1:0,x}i.exports=d}),Zi=y((r,i)=>{var a=At();function d(g){return a(this,g).get(g)}i.exports=d}),Ki=y((r,i)=>{var a=At();function d(g){return a(this,g).has(g)}i.exports=d}),$i=y((r,i)=>{var a=At();function d(g,x){var k=a(this,g),E=k.size;return k.set(g,x),this.size+=k.size==E?0:1,this}i.exports=d}),oo=y((r,i)=>{var a=St(),d=vn(),g=Zi(),x=Ki(),k=$i();function E(T){var A=-1,q=T==null?0:T.length;for(this.clear();++A<q;){var V=T[A];this.set(V[0],V[1])}}E.prototype.clear=a,E.prototype.delete=d,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,i.exports=E}),ea=y((r,i)=>{var a=H(),d=tt(),g=oo(),x=200;function k(E,T){var A=this.__data__;if(A instanceof a){var q=A.__data__;if(!d||q.length<x-1)return q.push([E,T]),this.size=++A.size,this;A=this.__data__=new g(q)}return A.set(E,T),this.size=A.size,this}i.exports=k}),ta=y((r,i)=>{var a=H(),d=Le(),g=I(),x=te(),k=J(),E=ea();function T(A){var q=this.__data__=new a(A);this.size=q.size}T.prototype.clear=d,T.prototype.delete=g,T.prototype.get=x,T.prototype.has=k,T.prototype.set=E,i.exports=T}),Xi=y((r,i)=>{var a=be(),d=(function(){try{var g=a(Object,"defineProperty");return g({},"",{}),g}catch{}})();i.exports=d}),gi=y((r,i)=>{var a=Xi();function d(g,x,k){x=="__proto__"&&a?a(g,x,{configurable:!0,enumerable:!0,value:k,writable:!0}):g[x]=k}i.exports=d}),ao=y((r,i)=>{var a=gi(),d=S();function g(x,k,E){(E!==void 0&&!d(x[k],E)||E===void 0&&!(k in x))&&a(x,k,E)}i.exports=g}),Ji=y((r,i)=>{function a(d){return function(g,x,k){for(var E=-1,T=Object(g),A=k(g),q=A.length;q--;){var V=A[d?q:++E];if(x(T[V],V,T)===!1)break}return g}}i.exports=a}),Kr=y((r,i)=>{var a=Ji(),d=a();i.exports=d}),lo=y((r,i)=>{var a=he(),d=typeof r=="object"&&r&&!r.nodeType&&r,g=d&&typeof i=="object"&&i&&!i.nodeType&&i,x=g&&g.exports===d,k=x?a.Buffer:void 0,E=k?k.allocUnsafe:void 0;function T(A,q){if(q)return A.slice();var V=A.length,ae=E?E(V):new A.constructor(V);return A.copy(ae),ae}i.exports=T}),na=y((r,i)=>{var a=he(),d=a.Uint8Array;i.exports=d}),Ya=y((r,i)=>{var a=na();function d(g){var x=new g.constructor(g.byteLength);return new a(x).set(new a(g)),x}i.exports=d}),Qa=y((r,i)=>{var a=Ya();function d(g,x){var k=x?a(g.buffer):g.buffer;return new g.constructor(k,g.byteOffset,g.length)}i.exports=d}),uo=y((r,i)=>{function a(d,g){var x=-1,k=d.length;for(g||(g=Array(k));++x<k;)g[x]=d[x];return g}i.exports=a}),co=y((r,i)=>{var a=Ge(),d=Object.create,g=(function(){function x(){}return function(k){if(!a(k))return{};if(d)return d(k);x.prototype=k;var E=new x;return x.prototype=void 0,E}})();i.exports=g}),js=y((r,i)=>{function a(d,g){return function(x){return d(g(x))}}i.exports=a}),ra=y((r,i)=>{var a=js(),d=a(Object.getPrototypeOf,Object);i.exports=d}),_i=y((r,i)=>{var a=Object.prototype;function d(g){var x=g&&g.constructor,k=typeof x=="function"&&x.prototype||a;return g===k}i.exports=d}),Yi=y((r,i)=>{var a=co(),d=ra(),g=_i();function x(k){return typeof k.constructor=="function"&&!g(k)?a(d(k)):{}}i.exports=x}),Qi=y((r,i)=>{function a(d){return d!=null&&typeof d=="object"}i.exports=a}),ia=y((r,i)=>{var a=Ae(),d=Qi(),g="[object Arguments]";function x(k){return d(k)&&a(k)==g}i.exports=x}),Ts=y((r,i)=>{var a=ia(),d=Qi(),g=Object.prototype,x=g.hasOwnProperty,k=g.propertyIsEnumerable,E=a((function(){return arguments})())?a:function(T){return d(T)&&x.call(T,"callee")&&!k.call(T,"callee")};i.exports=E}),es=y((r,i)=>{var a=Array.isArray;i.exports=a}),ho=y((r,i)=>{var a=9007199254740991;function d(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=a}i.exports=d}),Fr=y((r,i)=>{var a=lt(),d=ho();function g(x){return x!=null&&d(x.length)&&!a(x)}i.exports=g}),sa=y((r,i)=>{var a=Fr(),d=Qi();function g(x){return d(x)&&a(x)}i.exports=g}),oa=y((r,i)=>{function a(){return!1}i.exports=a}),Ds=y((r,i)=>{var a=he(),d=oa(),g=typeof r=="object"&&r&&!r.nodeType&&r,x=g&&typeof i=="object"&&i&&!i.nodeType&&i,k=x&&x.exports===g,E=k?a.Buffer:void 0,T=E?E.isBuffer:void 0,A=T||d;i.exports=A}),yi=y((r,i)=>{var a=Ae(),d=ra(),g=Qi(),x="[object Object]",k=Function.prototype,E=Object.prototype,T=k.toString,A=E.hasOwnProperty,q=T.call(Object);function V(ae){if(!g(ae)||a(ae)!=x)return!1;var ce=d(ae);if(ce===null)return!0;var Pe=A.call(ce,"constructor")&&ce.constructor;return typeof Pe=="function"&&Pe instanceof Pe&&T.call(Pe)==q}i.exports=V}),vi=y((r,i)=>{var a=Ae(),d=ho(),g=Qi(),x="[object Arguments]",k="[object Array]",E="[object Boolean]",T="[object Date]",A="[object Error]",q="[object Function]",V="[object Map]",ae="[object Number]",ce="[object Object]",Pe="[object RegExp]",De="[object Set]",qe="[object String]",Fe="[object WeakMap]",W="[object ArrayBuffer]",de="[object DataView]",Ee="[object Float32Array]",Ue="[object Float64Array]",Ne="[object Int8Array]",He="[object Int16Array]",R="[object Int32Array]",z="[object Uint8Array]",G="[object Uint8ClampedArray]",ne="[object Uint16Array]",Q="[object Uint32Array]",X={};X[Ee]=X[Ue]=X[Ne]=X[He]=X[R]=X[z]=X[G]=X[ne]=X[Q]=!0,X[x]=X[k]=X[W]=X[E]=X[de]=X[T]=X[A]=X[q]=X[V]=X[ae]=X[ce]=X[Pe]=X[De]=X[qe]=X[Fe]=!1;function pe(se){return g(se)&&d(se.length)&&!!X[a(se)]}i.exports=pe}),el=y((r,i)=>{function a(d){return function(g){return d(g)}}i.exports=a}),tl=y((r,i)=>{var a=Y(),d=typeof r=="object"&&r&&!r.nodeType&&r,g=d&&typeof i=="object"&&i&&!i.nodeType&&i,x=g&&g.exports===d,k=x&&a.process,E=(function(){try{var T=g&&g.require&&g.require("util").types;return T||k&&k.binding&&k.binding("util")}catch{}})();i.exports=E}),aa=y((r,i)=>{var a=vi(),d=el(),g=tl(),x=g&&g.isTypedArray,k=x?d(x):a;i.exports=k}),la=y((r,i)=>{function a(d,g){if(!(g==="constructor"&&typeof d[g]=="function")&&g!="__proto__")return d[g]}i.exports=a}),nl=y((r,i)=>{var a=gi(),d=S(),g=Object.prototype,x=g.hasOwnProperty;function k(E,T,A){var q=E[T];(!(x.call(E,T)&&d(q,A))||A===void 0&&!(T in E))&&a(E,T,A)}i.exports=k}),ua=y((r,i)=>{var a=nl(),d=gi();function g(x,k,E,T){var A=!E;E||(E={});for(var q=-1,V=k.length;++q<V;){var ae=k[q],ce=T?T(E[ae],x[ae],ae,E,x):void 0;ce===void 0&&(ce=x[ae]),A?d(E,ae,ce):a(E,ae,ce)}return E}i.exports=g}),fo=y((r,i)=>{function a(d,g){for(var x=-1,k=Array(d);++x<d;)k[x]=g(x);return k}i.exports=a}),ts=y((r,i)=>{var a=9007199254740991,d=/^(?:0|[1-9]\d*)$/;function g(x,k){var E=typeof x;return k=k??a,!!k&&(E=="number"||E!="symbol"&&d.test(x))&&x>-1&&x%1==0&&x<k}i.exports=g}),ca=y((r,i)=>{var a=fo(),d=Ts(),g=es(),x=Ds(),k=ts(),E=aa(),T=Object.prototype,A=T.hasOwnProperty;function q(V,ae){var ce=g(V),Pe=!ce&&d(V),De=!ce&&!Pe&&x(V),qe=!ce&&!Pe&&!De&&E(V),Fe=ce||Pe||De||qe,W=Fe?a(V.length,String):[],de=W.length;for(var Ee in V)(ae||A.call(V,Ee))&&!(Fe&&(Ee=="length"||De&&(Ee=="offset"||Ee=="parent")||qe&&(Ee=="buffer"||Ee=="byteLength"||Ee=="byteOffset")||k(Ee,de)))&&W.push(Ee);return W}i.exports=q}),As=y((r,i)=>{function a(d){var g=[];if(d!=null)for(var x in Object(d))g.push(x);return g}i.exports=a}),$l=y((r,i)=>{var a=Ge(),d=_i(),g=As(),x=Object.prototype,k=x.hasOwnProperty;function E(T){if(!a(T))return g(T);var A=d(T),q=[];for(var V in T)V=="constructor"&&(A||!k.call(T,V))||q.push(V);return q}i.exports=E}),xn=y((r,i)=>{var a=ca(),d=$l(),g=Fr();function x(k){return g(k)?a(k,!0):d(k)}i.exports=x}),it=y((r,i)=>{var a=ua(),d=xn();function g(x){return a(x,d(x))}i.exports=g}),Rs=y((r,i)=>{var a=ao(),d=lo(),g=Qa(),x=uo(),k=Yi(),E=Ts(),T=es(),A=sa(),q=Ds(),V=lt(),ae=Ge(),ce=yi(),Pe=aa(),De=la(),qe=it();function Fe(W,de,Ee,Ue,Ne,He,R){var z=De(W,Ee),G=De(de,Ee),ne=R.get(G);if(ne){a(W,Ee,ne);return}var Q=He?He(z,G,Ee+"",W,de,R):void 0,X=Q===void 0;if(X){var pe=T(G),se=!pe&&q(G),fe=!pe&&!se&&Pe(G);Q=G,pe||se||fe?T(z)?Q=z:A(z)?Q=x(z):se?(X=!1,Q=d(G,!0)):fe?(X=!1,Q=g(G,!0)):Q=[]:ce(G)||E(G)?(Q=z,E(z)?Q=qe(z):(!ae(z)||V(z))&&(Q=k(G))):X=!1}X&&(R.set(G,Q),Ne(Q,G,Ue,He,R),R.delete(G)),a(W,Ee,Q)}i.exports=Fe}),po=y((r,i)=>{var a=ta(),d=ao(),g=Kr(),x=Rs(),k=Ge(),E=xn(),T=la();function A(q,V,ae,ce,Pe){q!==V&&g(V,function(De,qe){if(Pe||(Pe=new a),k(De))x(q,V,qe,ae,A,ce,Pe);else{var Fe=ce?ce(T(q,qe),De,qe+"",q,V,Pe):void 0;Fe===void 0&&(Fe=De),d(q,qe,Fe)}},E)}i.exports=A}),ha=y((r,i)=>{function a(d){return d}i.exports=a}),rl=y((r,i)=>{function a(d,g,x){switch(x.length){case 0:return d.call(g);case 1:return d.call(g,x[0]);case 2:return d.call(g,x[0],x[1]);case 3:return d.call(g,x[0],x[1],x[2])}return d.apply(g,x)}i.exports=a}),da=y((r,i)=>{var a=rl(),d=Math.max;function g(x,k,E){return k=d(k===void 0?x.length-1:k,0),function(){for(var T=arguments,A=-1,q=d(T.length-k,0),V=Array(q);++A<q;)V[A]=T[k+A];A=-1;for(var ae=Array(k+1);++A<k;)ae[A]=T[A];return ae[k]=E(V),a(x,this,ae)}}i.exports=g}),$r=y((r,i)=>{function a(d){return function(){return d}}i.exports=a}),xi=y((r,i)=>{var a=$r(),d=Xi(),g=ha(),x=d?function(k,E){return d(k,"toString",{configurable:!0,enumerable:!1,value:a(E),writable:!0})}:g;i.exports=x}),fa=y((r,i)=>{var a=800,d=16,g=Date.now;function x(k){var E=0,T=0;return function(){var A=g(),q=d-(A-T);if(T=A,q>0){if(++E>=a)return arguments[0]}else E=0;return k.apply(void 0,arguments)}}i.exports=x}),Xl=y((r,i)=>{var a=xi(),d=fa(),g=d(a);i.exports=g}),il=y((r,i)=>{var a=ha(),d=da(),g=Xl();function x(k,E){return g(d(k,E,a),k+"")}i.exports=x}),sl=y((r,i)=>{var a=S(),d=Fr(),g=ts(),x=Ge();function k(E,T,A){if(!x(A))return!1;var q=typeof T;return(q=="number"?d(A)&&g(T,A.length):q=="string"&&T in A)?a(A[T],E):!1}i.exports=k}),ol=y((r,i)=>{var a=il(),d=sl();function g(x){return a(function(k,E){var T=-1,A=E.length,q=A>1?E[A-1]:void 0,V=A>2?E[2]:void 0;for(q=x.length>3&&typeof q=="function"?(A--,q):void 0,V&&d(E[0],E[1],V)&&(q=A<3?void 0:q,A=1),k=Object(k);++T<A;){var ae=E[T];ae&&x(k,ae,T,q)}return k})}i.exports=g}),Os=y((r,i)=>{var a=po(),d=ol(),g=d(function(x,k,E){a(x,k,E)});i.exports=g}),pa=y((r,i)=>{var a=Ae(),d=Qi(),g="[object Symbol]";function x(k){return typeof k=="symbol"||d(k)&&a(k)==g}i.exports=x}),mo=y((r,i)=>{var a=es(),d=pa(),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/;function k(E,T){if(a(E))return!1;var A=typeof E;return A=="number"||A=="symbol"||A=="boolean"||E==null||d(E)?!0:x.test(E)||!g.test(E)||T!=null&&E in Object(T)}i.exports=k}),$t=y((r,i)=>{var a=oo(),d="Expected a function";function g(x,k){if(typeof x!="function"||k!=null&&typeof k!="function")throw new TypeError(d);var E=function(){var T=arguments,A=k?k.apply(this,T):T[0],q=E.cache;if(q.has(A))return q.get(A);var V=x.apply(this,T);return E.cache=q.set(A,V)||q,V};return E.cache=new(g.Cache||a),E}g.Cache=a,i.exports=g}),Jl=y((r,i)=>{var a=$t(),d=500;function g(x){var k=a(x,function(T){return E.size===d&&E.clear(),T}),E=k.cache;return k}i.exports=g}),ma=y((r,i)=>{var a=Jl(),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,x=a(function(k){var E=[];return k.charCodeAt(0)===46&&E.push(""),k.replace(d,function(T,A,q,V){E.push(q?V.replace(g,"$1"):A||T)}),E});i.exports=x}),al=y((r,i)=>{function a(d,g){for(var x=-1,k=d==null?0:d.length,E=Array(k);++x<k;)E[x]=g(d[x],x,d);return E}i.exports=a}),go=y((r,i)=>{var a=ge(),d=al(),g=es(),x=pa(),k=a?a.prototype:void 0,E=k?k.toString:void 0;function T(A){if(typeof A=="string")return A;if(g(A))return d(A,T)+"";if(x(A))return E?E.call(A):"";var q=A+"";return q=="0"&&1/A==-1/0?"-0":q}i.exports=T}),ga=y((r,i)=>{var a=go();function d(g){return g==null?"":a(g)}i.exports=d}),ns=y((r,i)=>{var a=es(),d=mo(),g=ma(),x=ga();function k(E,T){return a(E)?E:d(E,T)?[E]:g(x(E))}i.exports=k}),Ns=y((r,i)=>{var a=pa();function d(g){if(typeof g=="string"||a(g))return g;var x=g+"";return x=="0"&&1/g==-1/0?"-0":x}i.exports=d}),tr=y((r,i)=>{var a=ns(),d=Ns();function g(x,k){k=a(k,x);for(var E=0,T=k.length;x!=null&&E<T;)x=x[d(k[E++])];return E&&E==T?x:void 0}i.exports=g}),Xr=y((r,i)=>{var a=tr();function d(g,x,k){var E=g==null?void 0:a(g,x);return E===void 0?k:E}i.exports=d}),vt=y((r,i)=>{(function(a,d){typeof r=="object"&&typeof i<"u"?i.exports=d():(a=a||self).RBush=d()})(r,function(){function a(W,de,Ee,Ue,Ne){(function He(R,z,G,ne,Q){for(;ne>G;){if(ne-G>600){var X=ne-G+1,pe=z-G+1,se=Math.log(X),fe=.5*Math.exp(2*se/3),ve=.5*Math.sqrt(se*fe*(X-fe)/X)*(pe-X/2<0?-1:1),ye=Math.max(G,Math.floor(z-pe*fe/X+ve)),Te=Math.min(ne,Math.floor(z+(X-pe)*fe/X+ve));He(R,z,ye,Te,Q)}var st=R[z],ot=G,_t=ne;for(d(R,G,z),Q(R[ne],st)>0&&d(R,G,ne);ot<_t;){for(d(R,ot,_t),ot++,_t--;Q(R[ot],st)<0;)ot++;for(;Q(R[_t],st)>0;)_t--}Q(R[G],st)===0?d(R,G,_t):d(R,++_t,ne),_t<=z&&(G=_t+1),z<=_t&&(ne=_t-1)}})(W,de,Ee||0,Ue||W.length-1,Ne||g)}function d(W,de,Ee){var Ue=W[de];W[de]=W[Ee],W[Ee]=Ue}function g(W,de){return W<de?-1:W>de?1:0}var x=function(W){W===void 0&&(W=9),this._maxEntries=Math.max(4,W),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function k(W,de,Ee){if(!Ee)return de.indexOf(W);for(var Ue=0;Ue<de.length;Ue++)if(Ee(W,de[Ue]))return Ue;return-1}function E(W,de){T(W,0,W.children.length,de,W)}function T(W,de,Ee,Ue,Ne){Ne||(Ne=qe(null)),Ne.minX=1/0,Ne.minY=1/0,Ne.maxX=-1/0,Ne.maxY=-1/0;for(var He=de;He<Ee;He++){var R=W.children[He];A(Ne,W.leaf?Ue(R):R)}return Ne}function A(W,de){return W.minX=Math.min(W.minX,de.minX),W.minY=Math.min(W.minY,de.minY),W.maxX=Math.max(W.maxX,de.maxX),W.maxY=Math.max(W.maxY,de.maxY),W}function q(W,de){return W.minX-de.minX}function V(W,de){return W.minY-de.minY}function ae(W){return(W.maxX-W.minX)*(W.maxY-W.minY)}function ce(W){return W.maxX-W.minX+(W.maxY-W.minY)}function Pe(W,de){return W.minX<=de.minX&&W.minY<=de.minY&&de.maxX<=W.maxX&&de.maxY<=W.maxY}function De(W,de){return de.minX<=W.maxX&&de.minY<=W.maxY&&de.maxX>=W.minX&&de.maxY>=W.minY}function qe(W){return{children:W,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Fe(W,de,Ee,Ue,Ne){for(var He=[de,Ee];He.length;)if(!((Ee=He.pop())-(de=He.pop())<=Ue)){var R=de+Math.ceil((Ee-de)/Ue/2)*Ue;a(W,R,de,Ee,Ne),He.push(de,R,R,Ee)}}return x.prototype.all=function(){return this._all(this.data,[])},x.prototype.search=function(W){var de=this.data,Ee=[];if(!De(W,de))return Ee;for(var Ue=this.toBBox,Ne=[];de;){for(var He=0;He<de.children.length;He++){var R=de.children[He],z=de.leaf?Ue(R):R;De(W,z)&&(de.leaf?Ee.push(R):Pe(W,z)?this._all(R,Ee):Ne.push(R))}de=Ne.pop()}return Ee},x.prototype.collides=function(W){var de=this.data;if(!De(W,de))return!1;for(var Ee=[];de;){for(var Ue=0;Ue<de.children.length;Ue++){var Ne=de.children[Ue],He=de.leaf?this.toBBox(Ne):Ne;if(De(W,He)){if(de.leaf||Pe(W,He))return!0;Ee.push(Ne)}}de=Ee.pop()}return!1},x.prototype.load=function(W){if(!W||!W.length)return this;if(W.length<this._minEntries){for(var de=0;de<W.length;de++)this.insert(W[de]);return this}var Ee=this._build(W.slice(),0,W.length-1,0);if(this.data.children.length)if(this.data.height===Ee.height)this._splitRoot(this.data,Ee);else{if(this.data.height<Ee.height){var Ue=this.data;this.data=Ee,Ee=Ue}this._insert(Ee,this.data.height-Ee.height-1,!0)}else this.data=Ee;return this},x.prototype.insert=function(W){return W&&this._insert(W,this.data.height-1),this},x.prototype.clear=function(){return this.data=qe([]),this},x.prototype.remove=function(W,de){if(!W)return this;for(var Ee,Ue,Ne,He=this.data,R=this.toBBox(W),z=[],G=[];He||z.length;){if(He||(He=z.pop(),Ue=z[z.length-1],Ee=G.pop(),Ne=!0),He.leaf){var ne=k(W,He.children,de);if(ne!==-1)return He.children.splice(ne,1),z.push(He),this._condense(z),this}Ne||He.leaf||!Pe(He,R)?Ue?(Ee++,He=Ue.children[Ee],Ne=!1):He=null:(z.push(He),G.push(Ee),Ee=0,Ue=He,He=He.children[0])}return this},x.prototype.toBBox=function(W){return W},x.prototype.compareMinX=function(W,de){return W.minX-de.minX},x.prototype.compareMinY=function(W,de){return W.minY-de.minY},x.prototype.toJSON=function(){return this.data},x.prototype.fromJSON=function(W){return this.data=W,this},x.prototype._all=function(W,de){for(var Ee=[];W;)W.leaf?de.push.apply(de,W.children):Ee.push.apply(Ee,W.children),W=Ee.pop();return de},x.prototype._build=function(W,de,Ee,Ue){var Ne,He=Ee-de+1,R=this._maxEntries;if(He<=R)return E(Ne=qe(W.slice(de,Ee+1)),this.toBBox),Ne;Ue||(Ue=Math.ceil(Math.log(He)/Math.log(R)),R=Math.ceil(He/Math.pow(R,Ue-1))),(Ne=qe([])).leaf=!1,Ne.height=Ue;var z=Math.ceil(He/R),G=z*Math.ceil(Math.sqrt(R));Fe(W,de,Ee,G,this.compareMinX);for(var ne=de;ne<=Ee;ne+=G){var Q=Math.min(ne+G-1,Ee);Fe(W,ne,Q,z,this.compareMinY);for(var X=ne;X<=Q;X+=z){var pe=Math.min(X+z-1,Q);Ne.children.push(this._build(W,X,pe,Ue-1))}}return E(Ne,this.toBBox),Ne},x.prototype._chooseSubtree=function(W,de,Ee,Ue){for(;Ue.push(de),!de.leaf&&Ue.length-1!==Ee;){for(var Ne=1/0,He=1/0,R=void 0,z=0;z<de.children.length;z++){var G=de.children[z],ne=ae(G),Q=(X=W,pe=G,(Math.max(pe.maxX,X.maxX)-Math.min(pe.minX,X.minX))*(Math.max(pe.maxY,X.maxY)-Math.min(pe.minY,X.minY))-ne);Q<He?(He=Q,Ne=ne<Ne?ne:Ne,R=G):Q===He&&ne<Ne&&(Ne=ne,R=G)}de=R||de.children[0]}var X,pe;return de},x.prototype._insert=function(W,de,Ee){var Ue=Ee?W:this.toBBox(W),Ne=[],He=this._chooseSubtree(Ue,this.data,de,Ne);for(He.children.push(W),A(He,Ue);de>=0&&Ne[de].children.length>this._maxEntries;)this._split(Ne,de),de--;this._adjustParentBBoxes(Ue,Ne,de)},x.prototype._split=function(W,de){var Ee=W[de],Ue=Ee.children.length,Ne=this._minEntries;this._chooseSplitAxis(Ee,Ne,Ue);var He=this._chooseSplitIndex(Ee,Ne,Ue),R=qe(Ee.children.splice(He,Ee.children.length-He));R.height=Ee.height,R.leaf=Ee.leaf,E(Ee,this.toBBox),E(R,this.toBBox),de?W[de-1].children.push(R):this._splitRoot(Ee,R)},x.prototype._splitRoot=function(W,de){this.data=qe([W,de]),this.data.height=W.height+1,this.data.leaf=!1,E(this.data,this.toBBox)},x.prototype._chooseSplitIndex=function(W,de,Ee){for(var Ue,Ne,He,R,z,G,ne,Q=1/0,X=1/0,pe=de;pe<=Ee-de;pe++){var se=T(W,0,pe,this.toBBox),fe=T(W,pe,Ee,this.toBBox),ve=(Ne=se,He=fe,R=void 0,z=void 0,G=void 0,ne=void 0,R=Math.max(Ne.minX,He.minX),z=Math.max(Ne.minY,He.minY),G=Math.min(Ne.maxX,He.maxX),ne=Math.min(Ne.maxY,He.maxY),Math.max(0,G-R)*Math.max(0,ne-z)),ye=ae(se)+ae(fe);ve<Q?(Q=ve,Ue=pe,X=ye<X?ye:X):ve===Q&&ye<X&&(X=ye,Ue=pe)}return Ue||Ee-de},x.prototype._chooseSplitAxis=function(W,de,Ee){var Ue=W.leaf?this.compareMinX:q,Ne=W.leaf?this.compareMinY:V;this._allDistMargin(W,de,Ee,Ue)<this._allDistMargin(W,de,Ee,Ne)&&W.children.sort(Ue)},x.prototype._allDistMargin=function(W,de,Ee,Ue){W.children.sort(Ue);for(var Ne=this.toBBox,He=T(W,0,de,Ne),R=T(W,Ee-de,Ee,Ne),z=ce(He)+ce(R),G=de;G<Ee-de;G++){var ne=W.children[G];A(He,W.leaf?Ne(ne):ne),z+=ce(He)}for(var Q=Ee-de-1;Q>=de;Q--){var X=W.children[Q];A(R,W.leaf?Ne(X):X),z+=ce(R)}return z},x.prototype._adjustParentBBoxes=function(W,de,Ee){for(var Ue=Ee;Ue>=0;Ue--)A(de[Ue],W)},x.prototype._condense=function(W){for(var de=W.length-1,Ee=void 0;de>=0;de--)W[de].children.length===0?de>0?(Ee=W[de-1].children).splice(Ee.indexOf(W[de]),1):this.clear():E(W[de],this.toBBox)},x})});Array.prototype.findIndex=Array.prototype.findIndex||function(r){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var i=Object(this),a=i.length>>>0,d=arguments[1],g=0;g<a;g++)if(r.call(d,i[g],g,i))return g;return-1},Array.prototype.find=Array.prototype.find||function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var i=Object(this),a=i.length>>>0,d=arguments[1],g=0;g<a;g++){var x=i[g];if(r.call(d,x,g,i))return x}},typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");r=Object(r);for(var i=1;i<arguments.length;i++){var a=arguments[i];if(a!=null)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(r[d]=a[d])}return r}),(function(r){r.forEach(function(i){i.hasOwnProperty("remove")||Object.defineProperty(i,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,i){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),d=a.length>>>0;if(d===0)return!1;var g=i|0,x=Math.max(g>=0?g:d-Math.abs(g),0);function k(E,T){return E===T||typeof E=="number"&&typeof T=="number"&&isNaN(E)&&isNaN(T)}for(;x<d;){if(k(a[x],r))return!0;x++}return!1}});var Vt={version:"2.19.0"},Is=B(Os()),rs={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},zr={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},is={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},gt={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Wt={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},_a={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},_o={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Pn={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},ll={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},ss={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},nr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Qt={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},vr={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Mt={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},os={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},yo={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},wi={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},vo={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},xo={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Fs={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},zs={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},as={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},rr={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Ur={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},xr={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},Us={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},mt={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},hn=vr,Tt={en:rs,de:zr,it:is,id:gt,ro:Wt,ru:_a,es:_o,nl:Pn,fr:ll,pt:hn,pt_br:Qt,pt_pt:vr,zh:ss,zh_tw:nr,pl:Mt,sv:os,el:yo,hu:wi,da:vo,no:xo,fa:Fs,ua:zs,tr:as,cz:rr,ja:Ur,fi:xr,ko:Us,ky:mt},ya={_globalEditModeEnabled:!1,enableGlobalEditMode(r){let i={...r};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(a=>{this._isRelevantForEdit(a)&&a.pm.enable(i)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(r=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode(){let r=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let i in r){let a=r[i];this._isRelevantForEdit(a)&&a.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:r}){this._addedLayersEdit[L.stamp(r)]=r},_isRelevantForEdit(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},bi=ya,va={_globalDragModeEnabled:!1,enableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(i=>{this._isRelevantForDrag(i)&&i.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(i=>{i.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let r=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let i in r){let a=r[i];this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}},_layerAddedDrag({layer:r}){this._addedLayersDrag[L.stamp(r)]=r},_isRelevantForDrag(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},wo=va,wr={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(r=>{this._isRelevantForRemoval(r)&&(r.pm.enabled()&&r.pm.disable(),r.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(r=>{r.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(r){let i=r.target;this._isRelevantForRemoval(i)&&!i.pm.dragging()&&(i.removeFrom(this.map.pm._getContainingLayer()),i.remove(),i instanceof L.LayerGroup?(this._fireRemoveLayerGroup(i),this._fireRemoveLayerGroup(this.map,i)):(i.pm._fireRemove(i),i.pm._fireRemove(this.map,i)))},_isRelevantForRemoval(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let r=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let i in r){let a=r[i];this._isRelevantForRemoval(a)&&(a.pm.enabled()&&a.pm.disable(),a.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:r}){this._addedLayersRemoval[L.stamp(r)]=r}},bo=wr,Hs={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{this._isRelevantForRotate(r)&&r.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{r.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(r){return r.pm&&r instanceof L.Polyline&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let r=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let i in r){let a=r[i];this._isRelevantForRemoval(a)&&a.pm.enableRotate()}},_layerAddedRotate({layer:r}){this._addedLayersRotate[L.stamp(r)]=r}},Xt=Hs,ir=B(Os()),Ci={_fireDrawStart(r="Draw",i={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,i)},_fireDrawEnd(r="Draw",i={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},r,i)},_fireCreate(r,i="Draw",a={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},i,a)},_fireCenterPlaced(r="Draw",i={}){let a=r==="Draw"?this._layer:void 0,d=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:d,latlng:this._layer.getLatLng()},r,i)},_fireCut(r,i,a,d="Draw",g={}){this.__fire(r,"pm:cut",{shape:this._shape,layer:i,originalLayer:a},d,g)},_fireEdit(r=this._layer,i="Edit",a={}){this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},i,a)},_fireEnable(r="Edit",i={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,i)},_fireDisable(r="Edit",i={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,i)},_fireUpdate(r="Edit",i={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,i)},_fireMarkerDragStart(r,i=void 0,a="Edit",d={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:i},a,d)},_fireMarkerDrag(r,i=void 0,a="Edit",d={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:i},a,d)},_fireMarkerDragEnd(r,i=void 0,a=void 0,d="Edit",g={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:i,intersectionReset:a},d,g)},_fireDragStart(r="Edit",i={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,i)},_fireDrag(r,i="Edit",a={}){this.__fire(this._layer,"pm:drag",{...r,shape:this.getShape()},i,a)},_fireDragEnd(r="Edit",i={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,i)},_fireDragEnable(r="Edit",i={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,i)},_fireDragDisable(r="Edit",i={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,i)},_fireRemove(r,i=r,a="Edit",d={}){this.__fire(r,"pm:remove",{layer:i,shape:this.getShape()},a,d)},_fireVertexAdded(r,i,a,d="Edit",g={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:i,latlng:a,shape:this.getShape()},d,g)},_fireVertexRemoved(r,i,a="Edit",d={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:i,shape:this.getShape()},a,d)},_fireVertexClick(r,i,a="Edit",d={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:i,shape:this.getShape()},a,d)},_fireIntersect(r,i=this._layer,a="Edit",d={}){this.__fire(i,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},a,d)},_fireLayerReset(r,i,a="Edit",d={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:i,shape:this.getShape()},a,d)},_fireChange(r,i="Edit",a={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},i,a)},_fireTextChange(r,i="Edit",a={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},i,a)},_fireTextFocus(r="Edit",i={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,i)},_fireTextBlur(r="Edit",i={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,i)},_fireSnapDrag(r,i,a="Snapping",d={}){this.__fire(r,"pm:snapdrag",i,a,d)},_fireSnap(r,i,a="Snapping",d={}){this.__fire(r,"pm:snap",i,a,d)},_fireUnsnap(r,i,a="Snapping",d={}){this.__fire(r,"pm:unsnap",i,a,d)},_fireRotationEnable(r,i,a="Rotation",d={}){this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,d)},_fireRotationDisable(r,i="Rotation",a={}){this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},i,a)},_fireRotationStart(r,i,a="Rotation",d={}){this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:i},a,d)},_fireRotation(r,i,a,d=this._rotationLayer,g="Rotation",x={}){this.__fire(r,"pm:rotate",{layer:d,helpLayer:this._layer,startAngle:this._startAngle,angle:d.pm.getAngle(),angleDiff:i,oldLatLngs:a,newLatLngs:d.getLatLngs()},g,x)},_fireRotationEnd(r,i,a,d="Rotation",g={}){this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:i,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},d,g)},_fireActionClick(r,i,a,d="Toolbar",g={}){this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:i,button:a},d,g)},_fireButtonClick(r,i,a="Toolbar",d={}){this.__fire(this._map,"pm:buttonclick",{btnName:r,button:i},a,d)},_fireLangChange(r,i,a,d,g="Global",x={}){this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:i,fallback:a,translations:d},g,x)},_fireGlobalDragModeToggled(r,i="Global",a={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},i,a)},_fireGlobalEditModeToggled(r,i="Global",a={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},i,a)},_fireGlobalRemovalModeToggled(r,i="Global",a={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},i,a)},_fireGlobalCutModeToggled(r="Global",i={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,i)},_fireGlobalDrawModeToggled(r="Global",i={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,i)},_fireGlobalRotateModeToggled(r="Global",i={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,i)},_fireRemoveLayerGroup(r,i=r,a="Edit",d={}){this.__fire(r,"pm:remove",{layer:i,shape:void 0},a,d)},_fireKeyeventEvent(r,i,a,d="Global",g={}){this.__fire(this.map,"pm:keyevent",{event:r,eventType:i,focusOn:a},d,g)},__fire(r,i,a,d,g={}){a=(0,ir.default)(a,g,{source:d}),L.PM.Utils._fireEvent(r,i,a)}},Jr=Ci,Yl=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),r.once("unload",this._unbindKeyListenerEvents,this)},_handleEscapeKey(r){let i=this.map.pm;return!i.getGlobalOptions().exitModeOnEscape||!(i.globalDrawModeEnabled()||i.globalEditModeEnabled()||i.globalDragModeEnabled()||i.globalRemovalModeEnabled()||i.globalRotateModeEnabled()||i.globalCutModeEnabled())?!1:(r.preventDefault(),i.globalDrawModeEnabled()&&i.disableDraw(),i.globalEditModeEnabled()&&i.disableGlobalEditMode(),i.globalDragModeEnabled()&&i.disableGlobalDragMode(),i.globalRemovalModeEnabled()&&i.disableGlobalRemovalMode(),i.globalRotateModeEnabled()&&i.disableGlobalRotateMode(),i.globalCutModeEnabled()&&i.disableGlobalCutMode(),!0)},_handleEnterKey(r){let i=this.map.pm;if(!i.getGlobalOptions().finishOnEnter)return!1;let a=i.Draw.getActiveShape();if(!a)return!1;let d=i.Draw[a];return!d||!d._finishShape||!this._canFinishShape(d,a)?!1:(r.preventDefault(),d._finishShape(),!0)},_canFinishShape(r,i){if(["Marker","CircleMarker","Text"].includes(i))return!1;if(i==="Rectangle")return r._startMarker!==void 0;if(i==="Circle")return r._centerMarker&&r._layerGroup?.hasLayer(r._centerMarker);if(r._layer&&r._layer.getLatLngs){let a=r._layer.getLatLngs();if(i==="Line")return(a.flat?a.flat():a).length>=2;if(i==="Polygon"||i==="Cut")return a.length>=3}return!1},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(r){let i="document";this.map.getContainer().contains(r.target)&&(i="map");let a={event:r,eventType:r.type,focusOn:i};this._lastEvents[r.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(r,r.type,i),r.type==="keydown"&&(r.key==="Escape"&&this._handleEscapeKey(r),r.key==="Enter"&&this._handleEnterKey(r))},_onBlur(r){r.altKey=!1;let i={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=i,this._lastEvents.current=i},getLastKeyEvent(r="current"){return this._lastEvents[r]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),ul=Yl,ls=B(Xr());function kt(r){let i=L.PM.activeLang;return(0,ls.default)(Tt[i],r)||(0,ls.default)(Tt.en,r)||r}function us(r){for(let i=0;i<r.length;i+=1){let a=r[i];if(Array.isArray(a)){if(us(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function bt(r){return r.reduce((i,a)=>{if(a.length!==0){let d=Array.isArray(a)?bt(a):a;Array.isArray(d)?d.length!==0&&i.push(d):i.push(d)}return i},[])}function Yr(r,i,a){let d={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:g,b:x,f:k}=d,E=r.lng,T=r.lat,A=a,q=Math.PI,V=i*q/180,ae=Math.sin(V),ce=Math.cos(V),Pe=(1-k)*Math.tan(T*q/180),De=1/Math.sqrt(1+Pe*Pe),qe=Pe*De,Fe=Math.atan2(Pe,ce),W=De*ae,de=1-W*W,Ee=de*(g*g-x*x)/(x*x),Ue=1+Ee/16384*(4096+Ee*(-768+Ee*(320-175*Ee))),Ne=Ee/1024*(256+Ee*(-128+Ee*(74-47*Ee))),He=A/(x*Ue),R=2*Math.PI,z,G,ne;for(;Math.abs(He-R)>1e-12;){z=Math.cos(2*Fe+He),G=Math.sin(He),ne=Math.cos(He);let Te=Ne*G*(z+Ne/4*(ne*(-1+2*z*z)-Ne/6*z*(-3+4*G*G)*(-3+4*z*z)));R=He,He=A/(x*Ue)+Te}let Q=qe*G-De*ne*ce,X=Math.atan2(qe*ne+De*G*ce,(1-k)*Math.sqrt(W*W+Q*Q)),pe=Math.atan2(G*ae,De*ne-qe*G*ce),se=k/16*de*(4+k*(4-3*de)),fe=pe-(1-se)*k*W*(He+se*G*(z+se*ne*(-1+2*z*z))),ve=E+fe*180/q,ye=X*180/q;return L.latLng(ve,ye)}function Mn(r,i,a,d,g=!0){let x,k,E,T=[];for(let A=0;A<a;A+=1){if(g)x=A*360/a+d,k=Yr(r,x,i),E=L.latLng(k.lng,k.lat);else{let q=r.lat+Math.cos(2*A*Math.PI/a)*i,V=r.lng+Math.sin(2*A*Math.PI/a)*i;E=L.latLng(q,V)}T.push(E)}return T}function Qr(r,i,a){i=(i+360)%360;let d=Math.PI/180,g=180/Math.PI,{R:x}=L.CRS.Earth,k=r.lng*d,E=r.lat*d,T=i*d,A=Math.sin(E),q=Math.cos(E),V=Math.cos(a/x),ae=Math.sin(a/x),ce=Math.asin(A*V+q*ae*Math.cos(T)),Pe=k+Math.atan2(Math.sin(T)*ae*q,V-A*Math.sin(ce));Pe*=g;let De=Pe-360,qe=Pe<-180?Pe+360:Pe;return Pe=Pe>180?De:qe,L.latLng([ce*g,Pe])}function Ws(r,i,a){let d=r.latLngToContainerPoint(i),g=r.latLngToContainerPoint(a),x=Math.atan2(g.y-d.y,g.x-d.x)*180/Math.PI+90;return x+=x<0?360:0,x}function Li(r,i,a,d){let g=Ws(r,i,a);return Qr(i,g,d)}function cs(r,i,a="asc"){if(!i||Object.keys(i).length===0)return(T,A)=>T-A;let d=Object.keys(i),g,x=d.length-1,k={};for(;x>=0;)g=d[x],k[g.toLowerCase()]=i[g],x-=1;function E(T){if(T instanceof L.Marker)return"Marker";if(T instanceof L.Circle)return"Circle";if(T instanceof L.CircleMarker)return"CircleMarker";if(T instanceof L.Rectangle)return"Rectangle";if(T instanceof L.Polygon)return"Polygon";if(T instanceof L.Polyline)return"Line"}return(T,A)=>{let q,V;if(q=E(T.layer).toLowerCase(),V=E(A.layer).toLowerCase(),!q||!V)return 0;let ae=q in k?k[q]:Number.MAX_SAFE_INTEGER,ce=V in k?k[V]:Number.MAX_SAFE_INTEGER,Pe=0;return ae<ce?Pe=-1:ae>ce&&(Pe=1),a==="desc"?Pe*-1:Pe}}function Hr(r,i=r.getLatLngs()){return r instanceof L.Polygon?L.polygon(i).getLatLngs():L.polyline(i).getLatLngs()}function wn(r,i){if(i.options.crs?.projection?.MAX_LATITUDE){let a=i.options.crs?.projection?.MAX_LATITUDE;r.lat=Math.max(Math.min(a,r.lat),-a)}return r}function sr(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}function xa(r,i){if(r=r.trim().toLowerCase(),i[r])return r;let a=r.replace(/[-_\s]/g,"_").match(/^([a-z]{2,3})(?:_([a-z]{2,3}))?$/);if(a){let d=[];a[2]&&d.push(`${a[1]}_${a[2]}`),d.push(a[1]);for(let g of d)if(i[g])return g}return r}var ki=L.Class.extend({includes:[bi,wo,bo,Xt,Jr],initialize(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=ul(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0,exitModeOnEscape:!1,finishOnEnter:!1},this.Keyboard._initKeyListener(r)},setLang(r="en",i,a="en"){r=xa(r,Tt);let d=L.PM.activeLang;i&&(Tt[r]=(0,Is.default)(Tt[a],i)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(d,r,a,Tt[r])},addControls(r){this.Toolbar.addControls(r)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(r="Polygon",i){r==="Poly"&&(r="Polygon"),this.Draw.enable(r,i)},disableDraw(r="Polygon"){r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions(r,i={}){let a=i.ignoreShapes||[],d=i.merge||!1;this.map.pm.Draw.shapes.forEach(g=>{a.indexOf(g)===-1&&this.map.pm.Draw[g].setPathOptions(r,d)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(r){let i=(0,Is.default)(this.globalOptions,r);i.editable&&(i.resizeableCircleMarker=i.editable,delete i.editable);let a=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!i.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),a=!0);let d=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!i.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),d=!0),this.map.pm.Draw.shapes.forEach(g=>{this.map.pm.Draw[g].setOptions(i)}),a&&this.map.pm.Draw.CircleMarker.enable(),d&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(g=>{g.pm.setOptions(i)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=i,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(r=!1){let i=L.PM.Utils.findLayers(this.map);if(!r)return i;let a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(d=>{a.addLayer(d)}),a},getGeomanDrawLayers(r=!1){let i=L.PM.Utils.findLayers(this.map).filter(d=>d._drawnByGeoman===!0);if(!r)return i;let a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(d=>{a.addLayer(d)}),a},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(r){sr(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick(r){let i="";r.type==="touchstart"||r.type==="pointerdown"?i="mousedown":(r.type==="touchend"||r.type==="pointerup"||r.type==="touchcancel"||r.type==="pointercancel")&&(i="mouseup"),i&&sr(this.map)._onClick(this._createMouseEvent(i,r))},_createMouseEvent(r,i){let a,d=i.touches[0]||i.changedTouches[0];try{a=new MouseEvent(r,{bubbles:i.bubbles,cancelable:i.cancelable,view:i.view,detail:d.detail,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey,button:i.button,relatedTarget:i.relatedTarget})}catch{a=document.createEvent("MouseEvents"),a.initMouseEvent(r,i.bubbles,i.cancelable,i.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}return a}}),Ql=ki,Hn=L.Control.extend({includes:[Jr],options:{position:"topleft",disableByOtherButtons:!0},initialize(r){this._button=L.Util.extend({},this.options,r)},onAdd(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let r=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),r?r.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(r){return typeof r=="boolean"?this._button.toggleStatus=r:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(r){r&&r.preventDefault(),!this._button.disabled&&(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton(r){let i=this.options.position.indexOf("right")>-1?"pos-right":"",a=L.DomUtil.create("div",`button-container  ${i}`,this._container);r.title&&a.setAttribute("title",r.title);let d=L.DomUtil.create("a","leaflet-buttons-control-button",a);d.setAttribute("role","button"),d.setAttribute("tabindex","0"),d.href="#";let g=L.DomUtil.create("div",`leaflet-pm-actions-container ${i}`,a),x=r.actions,k={cancel:{text:kt("actions.cancel"),title:kt("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:kt("actions.finish"),title:kt("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:kt("actions.removeLastVertex"),title:kt("actions.removeLastVertex"),onClick(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:kt("actions.finish"),title:kt("actions.finish"),onClick(T){this._map.pm.Draw[r.jsClass]._finishShape(T)}}};r._preparedActions=x.map(T=>{let A=typeof T=="string"?T:T.name,q;if(k[A])q=k[A];else if(T.text)q=T;else return q;let V=L.DomUtil.create("a",`leaflet-pm-action ${i} action-${A}`,g);if(V.setAttribute("role","button"),V.setAttribute("tabindex","0"),V.href="#",q.title&&(V.title=q.title),V.innerHTML=q.text,L.DomEvent.disableClickPropagation(V),L.DomEvent.on(V,"click",L.DomEvent.stop),q._node=V,!r.disabled&&q.onClick){let ae=ce=>{ce.preventDefault();let Pe="",{buttons:De}=this._map.pm.Toolbar;for(let qe in De)if(De[qe]._button===r){Pe=qe;break}this._fireActionClick(q,Pe,r)};L.DomEvent.addListener(V,"click",ae,this),L.DomEvent.addListener(V,"click",q.onClick,this),L.DomEvent.addListener(V,"click",()=>this._updateActiveAction(r))}return q}),this._updateActiveAction(r),r.toggleStatus&&L.DomUtil.addClass(a,"active");let E=L.DomUtil.create("div","control-icon",d);return r.iconUrl&&E.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(E,r.className),L.DomEvent.disableClickPropagation(d),L.DomEvent.on(d,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(d,"click",this._onBtnClick,this),L.DomEvent.addListener(d,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(d,"pm-disabled"),d.setAttribute("aria-disabled","true")),a},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let r="",{buttons:i}=this._map.pm.Toolbar;for(let a in i)if(i[a]._button===this._button){r=a;break}this._fireButtonClick(r,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let r="pm-disabled",i=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(i,r),i.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(i,r),i.setAttribute("aria-disabled","false"))},_updateActiveAction(r){r._preparedActions?.forEach(i=>{i?._node&&(i.isActive&&i.isActive.call(this)?L.DomUtil.addClass(i._node,"active-action"):L.DomUtil.removeClass(i._node,"active-action"))})}}),wa=Hn;L.Control.PMButton=wa;var hs=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(r){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(r)},reinit(){let r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(r){let i=`${r}Container`;return this[i]||(this[i]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${r} leaflet-bar leaflet-control`)),this[i]},getButtons(){return this.buttons},addControls(r=this.options){typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let r=this.getButtons(),i={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let a in r){let d=r[a];L.Util.setOptions(d,{className:i.geomanIcons[a]})}},removeControls(){let r=this.getButtons();for(let i in r)r[i].remove();this.isVisible=!1},deleteControl(r){let i=this._btnNameMapping(r);this.buttons[i]&&(this.buttons[i].remove(),delete this.buttons[i])},toggleControls(r=this.options){this.isVisible?this.removeControls():this.addControls(r)},_addButton(r,i){return this.buttons[r]=i,this.options[r]=!!this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons(r){for(let i in this.buttons){let a=this.buttons[i];a._button.disableByOtherButtons&&a!==r&&a.toggled()&&a._triggerClick()}},toggleButton(r,i,a=!0){r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode");let d=r;return a&&this.triggerClickOnToggledButtons(this.buttons[d]),this.buttons[d]?this.buttons[d].toggle(i):!1},_defineButtons(){let r={className:"control-icon leaflet-pm-icon-marker",title:kt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},i={title:kt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={className:"control-icon leaflet-pm-icon-polyline",title:kt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},d={title:kt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},g={title:kt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},x={title:kt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:kt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},E={title:kt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},T={title:kt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},A={title:kt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},q={title:kt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},V={className:"control-icon leaflet-pm-icon-text",title:kt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ae,ce)=>{this.map.pm.Draw[ce.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(r)),this._addButton("drawPolyline",new L.Control.PMButton(a)),this._addButton("drawRectangle",new L.Control.PMButton(x)),this._addButton("drawPolygon",new L.Control.PMButton(i)),this._addButton("drawCircle",new L.Control.PMButton(d)),this._addButton("drawCircleMarker",new L.Control.PMButton(g)),this._addButton("drawText",new L.Control.PMButton(V)),this._addButton("editMode",new L.Control.PMButton(k)),this._addButton("dragMode",new L.Control.PMButton(E)),this._addButton("cutPolygon",new L.Control.PMButton(T)),this._addButton("removalMode",new L.Control.PMButton(A)),this._addButton("rotateMode",new L.Control.PMButton(q))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let r=this.getButtons(),i=[];this.options.drawControls===!1&&(i=i.concat(Object.keys(r).filter(a=>!r[a]._button.tool))),this.options.editControls===!1&&(i=i.concat(Object.keys(r).filter(a=>r[a]._button.tool==="edit"))),this.options.optionsControls===!1&&(i=i.concat(Object.keys(r).filter(a=>r[a]._button.tool==="options"))),this.options.customControls===!1&&(i=i.concat(Object.keys(r).filter(a=>r[a]._button.tool==="custom")));for(let a in r)if(this.options[a]&&i.indexOf(a)===-1){let d=r[a]._button.tool;d||(d="draw"),r[a].setPosition(this._getBtnPosition(d)),r[a].addTo(this.map)}},_getBtnPosition(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition(r,i){this.options.positions[r]=i,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(r,i){if(i)typeof i!="object"&&(i={name:i});else throw new TypeError("Button has no name");let a=this._btnNameMapping(r);if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");let d=this.map.pm.Draw.createNewDrawInstance(i.name,a);i={...this.buttons[a]._button,...i};let g=this.createCustomControl(i);return{drawInstance:d,control:g}},createCustomControl(r){if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=()=>{}),r.afterClick||(r.afterClick=()=>{}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),(!r.block||r.block==="draw")&&(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className=`control-icon ${r.className}`):r.className="control-icon";let i={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:r.disableOtherButtons??!0,disableByOtherButtons:r.disableByOtherButtons??!0,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);let a=this._addButton(r.name,new L.Control.PMButton(i));return this.changeControlOrder(),a},controlExists(r){return!!this.getButton(r)},getButton(r){return this.getButtons()[r]},getButtonsInBlock(r){let i={};if(r)for(let a in this.getButtons()){let d=this.getButtons()[a];(d._button.tool===r||r==="draw"&&!d._button.tool)&&(i[a]=d)}return i},changeControlOrder(r=[]){let i=this._shapeMapping(),a=[];r.forEach(x=>{i[x]?a.push(i[x]):a.push(x)});let d=this.getButtons(),g={};a.forEach(x=>{d[x]&&(g[x]=d[x])}),Object.keys(d).filter(x=>!d[x]._button.tool||d[x]._button.tool==="draw").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).filter(x=>d[x]._button.tool==="edit").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).filter(x=>d[x]._button.tool==="options").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).filter(x=>d[x]._button.tool==="custom").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),this.map.pm.Toolbar.buttons=g,this._showHideButtons()},getControlOrder(){let r=this.getButtons(),i=[];for(let a in r)i.push(a);return i},changeActionsOfControl(r,i){let a=this._btnNameMapping(r);if(!a)throw new TypeError("No name passed");if(!i)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=i,this.changeControlOrder()},setButtonDisabled(r,i){let a=this._btnNameMapping(r);i?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(r){let i=this._shapeMapping();return i[r]?i[r]:r}}),or=hs,ba=B(Os()),cl={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(r){r.forEach(i=>{if(Array.isArray(i)){this._assignEvents(i);return}i.off("drag",this._handleSnapping,this),i.on("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(r){if(r){let i=r.target;i._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(i=>{i.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(r){let i=r.target;if(i._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),r?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let a=this._calcClosestLayer(i.getLatLng(),this._snapList);if(Object.keys(a).length===0)return!1;let d=a.layer instanceof L.Marker||a.layer instanceof L.CircleMarker||!this.options.snapSegment,g;d?g=a.latlng:g=this._checkPrioritiySnapping(a);let x=this.options.snapDistance,k={marker:i,shape:this._shape,snapLatLng:g,segment:a.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:a.layer,distance:a.distance};if(this._fireSnapDrag(k.marker,k),this._fireSnapDrag(this._layer,k),a.distance<x){i._orgLatLng=i.getLatLng(),i.setLatLng(g),i._snapped=!0,i._snapInfo=k;let E=()=>{this._snapLatLng=g,this._fireSnap(i,k),this._fireSnap(this._layer,k)},T=this._snapLatLng||{},A=g||{};(T.lat!==A.lat||T.lng!==A.lng)&&E()}else this._snapLatLng&&(this._unsnap(k),i._snapped=!1,i._snapInfo=void 0,this._fireUnsnap(k.marker,k),this._fireUnsnap(this._layer,k));return!0},_createSnapList(){let r=[],i=[],a=this._map;a.off("layerremove",this._handleSnapLayerRemoval,this),a.on("layerremove",this._handleSnapLayerRemoval,this),a.eachLayer(d=>{if((d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&d.options.snapIgnore!==!0){if(d.options.snapIgnore===void 0&&(!L.PM.optIn&&d.options.pmIgnore===!0||L.PM.optIn&&d.options.pmIgnore!==!1))return;(d instanceof L.Circle||d instanceof L.CircleMarker)&&d.pm&&d.pm._hiddenPolyCircle?r.push(d.pm._hiddenPolyCircle):d instanceof L.ImageOverlay&&(d=L.rectangle(d.getBounds())),r.push(d);let g=L.polyline([],{color:"red",pmIgnore:!0});g._pmTempLayer=!0,i.push(g),(d instanceof L.Circle||d instanceof L.CircleMarker)&&i.push(g)}}),r=r.filter(d=>this._layer!==d),r=r.filter(d=>d._latlng||d._latlngs&&us(d._latlngs)),r=r.filter(d=>!d._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let d=L.polyline([],{color:"red",pmIgnore:!0});d._pmTempLayer=!0,i.push(d)}),this._snapList=r.concat(this._otherSnapLayers)):this._snapList=r,this.debugIndicatorLines=i},_handleSnapLayerRemoval({layer:r}){if(!r._leaflet_id)return;let i=this._snapList.findIndex(a=>a._leaflet_id===r._leaflet_id);i>-1&&this._snapList.splice(i,1)},_calcClosestLayer(r,i){return this._calcClosestLayers(r,i,1)[0]},_calcClosestLayers(r,i,a=1){let d=[],g={};i.forEach((k,E)=>{if(k._parentCopy&&k._parentCopy===this._layer||k.getLatLngs?.().flat(5).length<2)return;let T=this._calcLayerDistances(r,k);if(T.distance=Math.floor(T.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[E]){let A=L.polyline([],{color:"red",pmIgnore:!0});A._pmTempLayer=!0,this.debugIndicatorLines[E]=A}this.debugIndicatorLines[E].setLatLngs([r,T.latlng])}a===1&&(g.distance===void 0||T.distance-5<=g.distance)?(T.distance+5<g.distance&&(d=[]),g=T,g.layer=k,d.push(g)):a!==1&&(g={},g=T,g.layer=k,d.push(g))}),a!==1&&(d=d.sort((k,E)=>k.distance-E.distance)),a===-1&&(a=d.length);let x=this._getClosestLayerByPriority(d,a);return L.Util.isArray(x)?x:[x]},_calcLayerDistances(r,i){let a=this._map,d=i instanceof L.Marker||i instanceof L.CircleMarker,g=i instanceof L.Polygon,x=r;if(d){let k=i.getLatLng();return{latlng:{...k},distance:this._getDistance(a,k,x)}}return this._calcLatLngDistances(x,i.getLatLngs(),a,g)},_calcLatLngDistances(r,i,a,d=!1){let g,x,k,E=T=>{T.forEach((A,q)=>{if(Array.isArray(A)){E(A);return}if(this.options.snapSegment){let V=A,ae;d?ae=q+1===T.length?0:q+1:ae=q+1===T.length?void 0:q+1;let ce=T[ae];if(ce){let Pe=this._getDistanceToSegment(a,r,V,ce);(x===void 0||Pe<x)&&(x=Pe,k=[V,ce])}}else{let V=this._getDistance(a,r,A);(x===void 0||V<x)&&(x=V,g=A)}})};return E(i),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(a,r,k[0],k[1])},segment:k,distance:x}:{latlng:g,distance:x}},_getClosestLayerByPriority(r,i=1){r=r.sort((k,E)=>k._leaflet_id-E._leaflet_id);let a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],d=this._map.pm.globalOptions.snappingOrder||[],g=0,x={};return d.concat(a).forEach(k=>{x[k]||(g+=1,x[k]=g)}),r.sort(cs("instanceofShape",x)),i===1?r[0]||{}:r.slice(0,i)},_checkPrioritiySnapping(r){let i=this._map,a=r.segment[0],d=r.segment[1],g=r.latlng,x=g;if(this.options.snapVertex){let k=this._getDistance(i,a,g),E=this._getDistance(i,d,g),T=k<E?a:d,A=k<E?k:E;if(this.options.snapMiddle){let V=L.PM.Utils.calcMiddleLatLng(i,a,d),ae=this._getDistance(i,V,g);ae<k&&ae<E&&(T=V,A=ae)}let q=this.options.snapDistance;A<q&&(x=T)}return{...x}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(r,i,a,d){let g=r.getMaxZoom();g===1/0&&(g=r.getZoom());let x=r.project(i,g),k=r.project(a,g),E=r.project(d,g),T=L.LineUtil.closestPointOnSegment(x,k,E);return r.unproject(T,g)},_getDistanceToSegment(r,i,a,d){let g=r.latLngToContainerPoint(i),x=r.latLngToContainerPoint(a),k=r.latLngToContainerPoint(d);return L.LineUtil.pointToSegmentDistance(g,x,k)},_getDistance(r,i,a){return r.latLngToContainerPoint(i).distanceTo(r.latLngToContainerPoint(a))}},Co=cl,eu=L.Class.extend({includes:[Co,Jr],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(r){let i=new L.Icon.Default;i.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=i,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(a=>{this[a]=new L.PM.Draw[a](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(r,i=!1){i?this.options.pathOptions=(0,ba.default)(this.options.pathOptions,r):this.options.pathOptions=r},getShapes(){return this.shapes},getShape(){return this._shape},enable(r,i){if(!r)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[r].enable(i)},disable(){this.shapes.forEach(r=>{this[r].disable()})},addControls(){this.shapes.forEach(r=>{this[r].addButton()})},getActiveShape(){let r;return this.shapes.forEach(i=>{this[i]._enabled&&(r=i)}),r},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let r=[];this._map.eachLayer(i=>{(i instanceof L.Polyline||i instanceof L.Marker||i instanceof L.Circle||i instanceof L.CircleMarker||i instanceof L.ImageOverlay)&&(i._pmTempLayer||r.push(i))}),this._enabled?r.forEach(i=>{L.PM.Utils.disablePopup(i)}):r.forEach(i=>{L.PM.Utils.enablePopup(i)})},createNewDrawInstance(r,i){let a=this._getShapeFromBtnName(i);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError(`There is no class L.PM.Draw.${a}`);return this[r]=new L.PM.Draw[a](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[i]&&this[r].setOptions(this[i].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName(r){let i={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return i[r]?i[r]:this[r]?this[r]._shape:r},_finishLayer(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp(r){r._drawnByGeoman=!0},_setPane(r,i){i==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),en=eu;en.Marker=en.extend({initialize(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker",this._layerIsDragging=!1},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(kt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let i=r;i.target=this._hintMarker,this._handleSnapping(i)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(r){if(!r.latlng||this._layerIsDragging||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=new L.Marker(i,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var Bn=63710088e-1,tu={centimeters:Bn*100,centimetres:Bn*100,degrees:360/(2*Math.PI),feet:Bn*3.28084,inches:Bn*39.37,kilometers:Bn/1e3,kilometres:Bn/1e3,meters:Bn,metres:Bn,miles:Bn/1609.344,millimeters:Bn*1e3,millimetres:Bn*1e3,nauticalmiles:Bn/1852,radians:1,yards:Bn*1.0936};function ds(r,i,a={}){let d={type:"Feature"};return(a.id===0||a.id)&&(d.id=a.id),a.bbox&&(d.bbox=a.bbox),d.properties=i||{},d.geometry=r,d}function ei(r,i,a={}){if(!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!dl(r[0])||!dl(r[1]))throw new Error("coordinates must contain numbers");return ds({type:"Point",coordinates:r},i,a)}function Ca(r,i,a={}){if(r.length<2)throw new Error("coordinates must be an array of two or more positions");return ds({type:"LineString",coordinates:r},i,a)}function Wn(r,i={}){let a={type:"FeatureCollection"};return i.id&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.features=r,a}function hl(r,i="kilometers"){let a=tu[i];if(!a)throw new Error(i+" units is invalid");return r*a}function qs(r){return r%(2*Math.PI)*180/Math.PI}function qn(r){return r%360*Math.PI/180}function dl(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function Ei(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}function Vn(r){let i,a,d={type:"FeatureCollection",features:[]};if(r.type==="Feature"?a=r.geometry:a=r,a.type==="LineString")i=[a.coordinates];else if(a.type==="MultiLineString")i=a.coordinates;else if(a.type==="MultiPolygon")i=[].concat(...a.coordinates);else if(a.type==="Polygon")i=a.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return i.forEach(g=>{i.forEach(x=>{for(let k=0;k<g.length-1;k++)for(let E=k;E<x.length-1;E++){if(g===x&&(Math.abs(k-E)===1||k===0&&E===g.length-2&&g[k][0]===g[g.length-1][0]&&g[k][1]===g[g.length-1][1]))continue;let T=fl(g[k][0],g[k][1],g[k+1][0],g[k+1][1],x[E][0],x[E][1],x[E+1][0],x[E+1][1]);T&&d.features.push(ei([T[0],T[1]]))}})}),d}function fl(r,i,a,d,g,x,k,E){let T,A,q,V,ae,ce={x:null,y:null,onLine1:!1,onLine2:!1};return T=(E-x)*(a-r)-(k-g)*(d-i),T===0?ce.x!==null&&ce.y!==null?ce:!1:(A=i-x,q=r-g,V=(k-g)*A-(E-x)*q,ae=(a-r)*A-(d-i)*q,A=V/T,q=ae/T,ce.x=r+A*(a-r),ce.y=i+A*(d-i),A>=0&&A<=1&&(ce.onLine1=!0),q>=0&&q<=1&&(ce.onLine2=!0),ce.onLine1&&ce.onLine2?[ce.x,ce.y]:!1)}var Vs=Vn;en.Line=en.extend({initialize(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(kt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine(){let r=this._layer.getLatLngs();if(r.length>0){let i=r[r.length-1];this._hintline.setLatLngs([i,this._hintMarker.getLatLng()])}},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let i=this._layer._defaultShape().slice();i.push(this._hintMarker.getLatLng()),this._change(i)},hasSelfIntersection(){return Vs(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(r,i){let a=L.polyline(this._layer.getLatLngs());r&&(i||(i=this._hintMarker.getLatLng()),a.addLatLng(i));let d=Vs(a.toGeoJSON(15));this._doesSelfIntersect=d.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(d,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(r){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,r.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),d=a[a.length-1];if(i.equals(a[0])||a.length>0&&i.equals(d)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:i,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(i);let g=this._createMarker(i);this._setTooltipText(),this._setHintLineAfterNewVertex(i),this._fireVertexAdded(g,void 0,i,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)},_setHintLineAfterNewVertex(r){this._hintline.setLatLngs([r,r])},_removeLastVertex(){let r=this._markers;if(r.length<=1){this.disable();return}let i=this._layer.getLatLngs(),a=r[r.length-1],{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(r,a);r.pop(),this._layerGroup.removeLayer(a);let g=r[r.length-1],x=i.indexOf(g.getLatLng());i=i.slice(0,x+1),this._layer.setLatLngs(i),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,d,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=1)return;let i=L.polyline(r,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this.options.snappable&&this._cleanupSnapping();let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))},_createMarker(r){let i=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),i.on("click",this._finishShape,this),i},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),i="";r<=1?i=kt("tooltips.continueLine"):i=kt("tooltips.finishLine"),this._hintMarker.setTooltipContent(i)},_change(r){this._fireChange(r,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),en.Polygon=en.Line.extend({initialize(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker(r){let i=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),this._layer.getLatLngs().flat().length===1?(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()):i.on("click",()=>1),i},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),i="";r<=2?i=kt("tooltips.continueLine"):i=kt("tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let i=L.polygon(r,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))}}),en.Rectangle=en.extend({initialize(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(kt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let i=0;i<2;i+=1){let a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(i),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(a=>{L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(i)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(kt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}let i=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(i,"Draw")},_syncRectangleSize(){let r=wn(this._startMarker.getLatLng(),this._map),i=wn(this._hintMarker.getLatLng(),this._map),a=L.PM.Utils._getRotatedRectangle(r,i,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(a),this.options.cursorMarker&&this._styleMarkers){let d=[];a.forEach(g=>{!g.equals(r,1e-8)&&!g.equals(i,1e-8)&&d.push(g)}),d.forEach((g,x)=>{try{this._styleMarkers[x].setLatLng(g)}catch{}})}},_findCorners(){let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.options.rectangleAngle||0,this._map)},_finishShape(r){r?.latlng&&!this._hintMarker._snapped&&this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||a.equals(i))return;let d=L.rectangle([a,i],this.options.pathOptions);if(this.options.rectangleAngle){let x=L.PM.Utils._getRotatedRectangle(a,i,this.options.rectangleAngle||0,this._map);d.setLatLngs(x),d.pm&&d.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d);let g=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(g))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),en.CircleMarker=en.extend({initialize(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(r){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let i={};L.extend(i,this.options.templineStyle),i.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),i),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(kt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(kt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()})},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeCenterMarker(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let i=this._hintMarker.getLatLng();this._centerMarker.setLatLng(i),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(kt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let r=this._centerMarker.getLatLng(),i=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,i])},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._distanceCalculation(r,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();let i=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(i,"Draw")},isRelevantMarker(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!r.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=new this._BaseCircleClass(i,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(a),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(r){r.pm&&this.options.markerEditable&&r.pm.enable()},_finishShape(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;r?.latlng&&!this._hintMarker._snapped&&this._hintMarker.setLatLng(r.latlng);let i=this._centerMarker.getLatLng(),a=this._defaultRadius;if(this.options[this._editableOption]){let k=this._hintMarker.getLatLng();a=this._distanceCalculation(i,k),this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?a=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(a=this.options[this._maxRadiusOption])}let d={...this.options.pathOptions,radius:a},g=new this._BaseCircleClass(i,d);this._setPane(g,"layerPane"),this._finishLayer(g),g.addTo(this._map.pm._getContainingLayer()),g.pm&&g.pm._updateHiddenPolyCircle(),this._fireCreate(g);let x=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(x))},_getNewDestinationOfHintMarker(){let r=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return r;let i=this._centerMarker.getLatLng(),a=this._distanceCalculation(i,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?r=Li(this._map,i,r,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(r=Li(this._map,i,r,this._getMaxDistanceInMeter()))}return r},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let r=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._distanceCalculation(r,i);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let r={};L.extend(r,this.options.templineStyle),this.options[this._editableOption]&&(r.radius=0),this._layer?.setStyle(r),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(r,i){return this._map.project(r).distanceTo(this._map.project(i))}}),en.Circle=en.CircleMarker.extend({initialize(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(r,i){return this._map.distance(r,i)}});var La=class{constructor(r=[],i=ka){if(this.data=r,this.length=this.data.length,this.compare=i,this.length>0)for(let a=(this.length>>1)-1;a>=0;a--)this._down(a)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;let r=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),r}peek(){return this.data[0]}_up(r){let{data:i,compare:a}=this,d=i[r];for(;r>0;){let g=r-1>>1,x=i[g];if(a(d,x)>=0)break;i[r]=x,r=g}i[r]=d}_down(r){let{data:i,compare:a}=this,d=this.length>>1,g=i[r];for(;r<d;){let x=(r<<1)+1,k=i[x],E=x+1;if(E<this.length&&a(i[E],k)<0&&(x=E,k=i[E]),a(k,g)>=0)break;i[r]=k,r=x}i[r]=g}};function ka(r,i){return r<i?-1:r>i?1:0}function Lo(r,i){return r.p.x>i.p.x?1:r.p.x<i.p.x?-1:r.p.y!==i.p.y?r.p.y>i.p.y?1:-1:1}function nu(r,i){return r.rightSweepEvent.p.x>i.rightSweepEvent.p.x?1:r.rightSweepEvent.p.x<i.rightSweepEvent.p.x?-1:r.rightSweepEvent.p.y!==i.rightSweepEvent.p.y?r.rightSweepEvent.p.y<i.rightSweepEvent.p.y?1:-1:1}var pl=class{constructor(r,i,a,d){this.p={x:r[0],y:r[1]},this.featureId=i,this.ringId=a,this.eventId=d,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(r){return this.p.x===r.p.x&&this.p.y===r.p.y}};function ml(r,i){if(r.type==="FeatureCollection"){let a=r.features;for(let d=0;d<a.length;d++)fs(a[d],i)}else fs(r,i)}var ko=0,jn=0,ar=0;function fs(r,i){let a=r.type==="Feature"?r.geometry:r,d=a.coordinates;(a.type==="Polygon"||a.type==="MultiLineString")&&(d=[d]),a.type==="LineString"&&(d=[[d]]);for(let g=0;g<d.length;g++)for(let x=0;x<d[g].length;x++){let k=d[g][x][0],E=null;jn=jn+1;for(let T=0;T<d[g][x].length-1;T++){E=d[g][x][T+1];let A=new pl(k,ko,jn,ar),q=new pl(E,ko,jn,ar+1);A.otherEvent=q,q.otherEvent=A,Lo(A,q)>0?(q.isLeftEndpoint=!0,A.isLeftEndpoint=!1):(A.isLeftEndpoint=!0,q.isLeftEndpoint=!1),i.push(A),i.push(q),k=E,ar=ar+1}}ko=ko+1}var Wr=class{constructor(r){this.leftSweepEvent=r,this.rightSweepEvent=r.otherEvent}};function gl(r,i){if(r===null||i===null||r.leftSweepEvent.ringId===i.leftSweepEvent.ringId&&(r.rightSweepEvent.isSamePoint(i.leftSweepEvent)||r.rightSweepEvent.isSamePoint(i.leftSweepEvent)||r.rightSweepEvent.isSamePoint(i.rightSweepEvent)||r.leftSweepEvent.isSamePoint(i.leftSweepEvent)||r.leftSweepEvent.isSamePoint(i.rightSweepEvent)))return!1;let a=r.leftSweepEvent.p.x,d=r.leftSweepEvent.p.y,g=r.rightSweepEvent.p.x,x=r.rightSweepEvent.p.y,k=i.leftSweepEvent.p.x,E=i.leftSweepEvent.p.y,T=i.rightSweepEvent.p.x,A=i.rightSweepEvent.p.y,q=(A-E)*(g-a)-(T-k)*(x-d),V=(T-k)*(d-E)-(A-E)*(a-k),ae=(g-a)*(d-E)-(x-d)*(a-k);if(q===0)return!1;let ce=V/q,Pe=ae/q;if(ce>=0&&ce<=1&&Pe>=0&&Pe<=1){let De=a+ce*(g-a),qe=d+ce*(x-d);return[De,qe]}return!1}function Si(r,i){i=i||!1;let a=[],d=new La([],nu);for(;r.length;){let g=r.pop();if(g.isLeftEndpoint){let x=new Wr(g);for(let k=0;k<d.data.length;k++){let E=d.data[k];if(i&&E.leftSweepEvent.featureId===g.featureId)continue;let T=gl(x,E);T!==!1&&a.push(T)}d.push(x)}else g.isLeftEndpoint===!1&&d.pop()}return a}function _l(r,i){let a=new La([],Lo);return ml(r,a),Si(a,i)}var ps=_l,Ea=ps;function br(r,i,a={}){let{removeDuplicates:d=!0,ignoreSelfIntersections:g=!0}=a,x=[];r.type==="FeatureCollection"?x=x.concat(r.features):r.type==="Feature"?x.push(r):(r.type==="LineString"||r.type==="Polygon"||r.type==="MultiLineString"||r.type==="MultiPolygon")&&x.push(ds(r)),i.type==="FeatureCollection"?x=x.concat(i.features):i.type==="Feature"?x.push(i):(i.type==="LineString"||i.type==="Polygon"||i.type==="MultiLineString"||i.type==="MultiPolygon")&&x.push(ds(i));let k=Ea(Wn(x),g),E=[];if(d){let T={};k.forEach(A=>{let q=A.join(",");T[q]||(T[q]=!0,E.push(A))})}else E=k;return Wn(E.map(T=>ei(T)))}var Gs=br,dn=B(vt(),1);function ms(r,i,a){if(r!==null)for(var d,g,x,k,E,T,A,q=0,V=0,ae,ce=r.type,Pe=ce==="FeatureCollection",De=ce==="Feature",qe=Pe?r.features.length:1,Fe=0;Fe<qe;Fe++){A=Pe?r.features[Fe].geometry:De?r.geometry:r,ae=A?A.type==="GeometryCollection":!1,E=ae?A.geometries.length:1;for(var W=0;W<E;W++){var de=0,Ee=0;if(k=ae?A.geometries[W]:A,k!==null){T=k.coordinates;var Ue=k.type;switch(q=0,Ue){case null:break;case"Point":if(i(T,V,Fe,de,Ee)===!1)return!1;V++,de++;break;case"LineString":case"MultiPoint":for(d=0;d<T.length;d++){if(i(T[d],V,Fe,de,Ee)===!1)return!1;V++,Ue==="MultiPoint"&&de++}Ue==="LineString"&&de++;break;case"Polygon":case"MultiLineString":for(d=0;d<T.length;d++){for(g=0;g<T[d].length-q;g++){if(i(T[d][g],V,Fe,de,Ee)===!1)return!1;V++}Ue==="MultiLineString"&&de++,Ue==="Polygon"&&Ee++}Ue==="Polygon"&&de++;break;case"MultiPolygon":for(d=0;d<T.length;d++){for(Ee=0,g=0;g<T[d].length;g++){for(x=0;x<T[d][g].length-q;x++){if(i(T[d][g][x],V,Fe,de,Ee)===!1)return!1;V++}Ee++}de++}break;case"GeometryCollection":for(d=0;d<k.geometries.length;d++)if(ms(k.geometries[d],i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Zs(r,i){if(r.type==="Feature")i(r,0);else if(r.type==="FeatureCollection")for(var a=0;a<r.features.length&&i(r.features[a],a)!==!1;a++);}function Eo(r,i,a){var d=a;return Zs(r,function(g,x){x===0&&a===void 0?d=g:d=i(d,g,x)}),d}function Ks(r,i){var a,d,g,x,k,E,T,A,q,V,ae=0,ce=r.type==="FeatureCollection",Pe=r.type==="Feature",De=ce?r.features.length:1;for(a=0;a<De;a++){for(E=ce?r.features[a].geometry:Pe?r.geometry:r,A=ce?r.features[a].properties:Pe?r.properties:{},q=ce?r.features[a].bbox:Pe?r.bbox:void 0,V=ce?r.features[a].id:Pe?r.id:void 0,T=E?E.type==="GeometryCollection":!1,k=T?E.geometries.length:1,g=0;g<k;g++){if(x=T?E.geometries[g]:E,x===null){if(i(null,ae,A,q,V)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(i(x,ae,A,q,V)===!1)return!1;break}case"GeometryCollection":{for(d=0;d<x.geometries.length;d++)if(i(x.geometries[d],ae,A,q,V)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ae++}}function bn(r,i){Ks(r,function(a,d,g,x,k){var E=a===null?null:a.type;switch(E){case null:case"Point":case"LineString":case"Polygon":return i(ds(a,g,{bbox:x,id:k}),d,0)===!1?!1:void 0}var T;switch(E){case"MultiPoint":T="Point";break;case"MultiLineString":T="LineString";break;case"MultiPolygon":T="Polygon";break}for(var A=0;A<a.coordinates.length;A++){var q=a.coordinates[A],V={type:T,coordinates:q};if(i(ds(V,g),d,A)===!1)return!1}})}function Cr(r,i={}){if(r.bbox!=null&&i.recompute!==!0)return r.bbox;let a=[1/0,1/0,-1/0,-1/0];return ms(r,d=>{a[0]>d[0]&&(a[0]=d[0]),a[1]>d[1]&&(a[1]=d[1]),a[2]<d[0]&&(a[2]=d[0]),a[3]<d[1]&&(a[3]=d[1])}),a}function Lr(r){var i=new dn.default(r);return i.insert=function(a){if(a.type!=="Feature")throw new Error("invalid feature");return a.bbox=a.bbox?a.bbox:Cr(a),dn.default.prototype.insert.call(this,a)},i.load=function(a){var d=[];return Array.isArray(a)?a.forEach(function(g){if(g.type!=="Feature")throw new Error("invalid features");g.bbox=g.bbox?g.bbox:Cr(g),d.push(g)}):Zs(a,function(g){if(g.type!=="Feature")throw new Error("invalid features");g.bbox=g.bbox?g.bbox:Cr(g),d.push(g)}),dn.default.prototype.load.call(this,d)},i.remove=function(a,d){if(a.type!=="Feature")throw new Error("invalid feature");return a.bbox=a.bbox?a.bbox:Cr(a),dn.default.prototype.remove.call(this,a,d)},i.clear=function(){return dn.default.prototype.clear.call(this)},i.search=function(a){var d=dn.default.prototype.search.call(this,this.toBBox(a));return Wn(d)},i.collides=function(a){return dn.default.prototype.collides.call(this,this.toBBox(a))},i.all=function(){var a=dn.default.prototype.all.call(this);return Wn(a)},i.toJSON=function(){return dn.default.prototype.toJSON.call(this)},i.fromJSON=function(a){return dn.default.prototype.fromJSON.call(this,a)},i.toBBox=function(a){var d;if(a.bbox)d=a.bbox;else if(Array.isArray(a)&&a.length===4)d=a;else if(Array.isArray(a)&&a.length===6)d=[a[0],a[1],a[3],a[4]];else if(a.type==="Feature")d=Cr(a);else if(a.type==="FeatureCollection")d=Cr(a);else throw new Error("invalid geojson");return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},i}function ru(r,i){if(i=i??{},!Ei(i))throw new Error("options is invalid");var a=i.precision,d=i.coordinates,g=i.mutate;if(a=a==null||isNaN(a)?6:a,d=d==null||isNaN(d)?3:d,!r)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof d!="number")throw new Error("<coordinates> must be a number");(g===!1||g===void 0)&&(r=JSON.parse(JSON.stringify(r)));var x=Math.pow(10,a);return ms(r,function(k){kr(k,x,d)}),r}function kr(r,i,a){r.length>a&&r.splice(a,r.length);for(var d=0;d<r.length;d++)r[d]=Math.round(r[d]*i)/i;return r}function Cn(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return[...r.geometry.coordinates];if(r.type==="Point")return[...r.coordinates]}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return[...r];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Er(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Pi(r){return r.type==="Feature"?r.geometry:r}function gs(r,i){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function So(r){if(!r)throw new Error("geojson is required");let i=[];return bn(r,a=>{Po(a,i)}),Wn(i)}function Po(r,i){let a=[],d=r.geometry;if(d!==null){switch(d.type){case"Polygon":a=Er(d);break;case"LineString":a=[Er(d)]}a.forEach(g=>{_s(g,r.properties).forEach(x=>{x.id=i.length,i.push(x)})})}}function _s(r,i){let a=[];return r.reduce((d,g)=>{let x=Ca([d,g],i);return x.bbox=Mo(d,g),a.push(x),g}),a}function Mo(r,i){let a=r[0],d=r[1],g=i[0],x=i[1],k=a<g?a:g,E=d<x?d:x,T=a>g?a:g,A=d>x?d:x;return[k,E,T,A]}function $s(r,i,a={}){var d=Cn(r),g=Cn(i),x=qn(g[1]-d[1]),k=qn(g[0]-d[0]),E=qn(d[1]),T=qn(g[1]),A=Math.pow(Math.sin(x/2),2)+Math.pow(Math.sin(k/2),2)*Math.cos(E)*Math.cos(T);return hl(2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A)),a.units)}var yl=Object.defineProperty,lr=Object.defineProperties,ti=Object.getOwnPropertyDescriptors,Sa=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,vl=Object.prototype.propertyIsEnumerable,Bo=(r,i,a)=>i in r?yl(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a,jo=(r,i)=>{for(var a in i||(i={}))Pa.call(i,a)&&Bo(r,a,i[a]);if(Sa)for(var a of Sa(i))vl.call(i,a)&&Bo(r,a,i[a]);return r},ur=(r,i)=>lr(r,ti(i));function To(r,i,a={}){if(!r||!i)throw new Error("lines and pt are required arguments");let d=Cn(i),g=ei([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),x=0;return bn(r,function(k,E,T){let A=Er(k);for(let q=0;q<A.length-1;q++){let V=ei(A[q]),ae=Cn(V),ce=ei(A[q+1]),Pe=Cn(ce),De=$s(V,ce,a),qe,Fe;Pe[0]===d[0]&&Pe[1]===d[1]?[qe,Fe]=[Pe,!0]:ae[0]===d[0]&&ae[1]===d[1]?[qe,Fe]=[ae,!1]:[qe,Fe]=ys(ae,Pe,d);let W=ei(qe,{dist:$s(i,qe,a),multiFeatureIndex:T,location:x+$s(V,qe,a)});W.properties.dist<g.properties.dist&&(g=ur(jo({},W),{properties:ur(jo({},W.properties),{index:Fe?q+1:q})})),x+=De}}),g}function Gn(r,i){let[a,d,g]=r,[x,k,E]=i;return a*x+d*k+g*E}function Sr(r,i){let[a,d,g]=r,[x,k,E]=i;return[d*E-g*k,g*x-a*E,a*k-d*x]}function Xs(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2))}function Js(r){let i=Xs(r);return[r[0]/i,r[1]/i,r[2]/i]}function Do(r){let i=qn(r[1]),a=qn(r[0]);return[Math.cos(i)*Math.cos(a),Math.cos(i)*Math.sin(a),Math.sin(i)]}function ni(r){let[i,a,d]=r,g=Math.min(Math.max(d,-1),1),x=qs(Math.asin(g));return[qs(Math.atan2(a,i)),x]}function ys(r,i,a){let d=Do(r),g=Do(i),x=Do(a),k=Sr(d,g);if(k[0]===0&&k[1]===0&&k[2]===0)return Gn(d,g)>0?[[...i],!0]:[[...a],!1];let E=Sr(k,x);if(E[0]===0&&E[1]===0&&E[2]===0)return[[...i],!0];let T=Sr(E,k),A=Js(T),q=[-A[0],-A[1],-A[2]],V=Gn(x,A)>Gn(x,q)?A:q,ae=Js(k),ce=Gn(Sr(d,V),ae),Pe=Gn(Sr(V,g),ae);return ce>=0&&Pe>=0?[ni(V),!1]:Gn(d,x)>Gn(g,x)?[[...r],!1]:[[...i],!0]}function ri(r,i){if(!r)throw new Error("line is required");if(!i)throw new Error("splitter is required");var a=gs(r),d=gs(i);if(a!=="LineString")throw new Error("line must be LineString");if(d==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(d==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var g=ru(i,{precision:7});switch(d){case"Point":return Mi(r,g);case"MultiPoint":return Ao(r,g);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Ao(r,br(r,g,{ignoreSelfIntersections:!0}))}}function Ao(r,i){var a=[],d=Lr();return bn(i,function(g){if(a.forEach(function(E,T){E.id=T}),!a.length)a=Mi(r,g).features,d.load(Wn(a));else{var x=d.search(g);if(x.features.length){var k=Ma(g,x);a=a.filter(function(E){return E.id!==k.id}),d.remove(k),Zs(Mi(k,g),function(E){a.push(E),d.insert(E)})}}}),Wn(a)}function Mi(r,i){var a=[],d=Er(r)[0],g=Er(r)[r.geometry.coordinates.length-1];if(Zn(d,Cn(i))||Zn(g,Cn(i)))return Wn([r]);var x=Lr(),k=So(r);x.load(k);var E=x.search(i);if(!E.features.length)return Wn([r]);var T=Ma(i,E),A=[d],q=Eo(k,function(V,ae,ce){var Pe=Er(ae)[1],De=Cn(i);return ce===T.id?(V.push(De),a.push(Ca(V)),Zn(De,Pe)?[De]:[De,Pe]):(V.push(Pe),V)},A);return q.length>1&&a.push(Ca(q)),Wn(a)}function Ma(r,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var a,d=1/0;return Zs(i,function(g){var x=To(g,r),k=x.properties.dist;k<d&&(a=g,d=k)}),a}function Zn(r,i){return r[0]===i[0]&&r[1]===i[1]}var Ba=ri,cr=11102230246251565e-32,Jt=134217729,xl=(3+8*cr)*cr;function Nn(r,i,a,d,g){let x,k,E,T,A=i[0],q=d[0],V=0,ae=0;q>A==q>-A?(x=A,A=i[++V]):(x=q,q=d[++ae]);let ce=0;if(V<r&&ae<a)for(q>A==q>-A?(k=A+x,E=x-(k-A),A=i[++V]):(k=q+x,E=x-(k-q),q=d[++ae]),x=k,E!==0&&(g[ce++]=E);V<r&&ae<a;)q>A==q>-A?(k=x+A,T=k-x,E=x-(k-T)+(A-T),A=i[++V]):(k=x+q,T=k-x,E=x-(k-T)+(q-T),q=d[++ae]),x=k,E!==0&&(g[ce++]=E);for(;V<r;)k=x+A,T=k-x,E=x-(k-T)+(A-T),A=i[++V],x=k,E!==0&&(g[ce++]=E);for(;ae<a;)k=x+q,T=k-x,E=x-(k-T)+(q-T),q=d[++ae],x=k,E!==0&&(g[ce++]=E);return(x!==0||ce===0)&&(g[ce++]=x),ce}function Bi(r,i){let a=i[0];for(let d=1;d<r;d++)a+=i[d];return a}function ii(r){return new Float64Array(r)}var wl=(3+16*cr)*cr,iu=(2+12*cr)*cr,vs=(9+64*cr)*cr*cr,ji=ii(4),Ro=ii(8),Oo=ii(12),Nt=ii(16),fn=ii(4);function Ys(r,i,a,d,g,x,k){let E,T,A,q,V,ae,ce,Pe,De,qe,Fe,W,de,Ee,Ue,Ne,He,R,z=r-g,G=a-g,ne=i-x,Q=d-x;Ee=z*Q,ae=Jt*z,ce=ae-(ae-z),Pe=z-ce,ae=Jt*Q,De=ae-(ae-Q),qe=Q-De,Ue=Pe*qe-(Ee-ce*De-Pe*De-ce*qe),Ne=ne*G,ae=Jt*ne,ce=ae-(ae-ne),Pe=ne-ce,ae=Jt*G,De=ae-(ae-G),qe=G-De,He=Pe*qe-(Ne-ce*De-Pe*De-ce*qe),Fe=Ue-He,V=Ue-Fe,ji[0]=Ue-(Fe+V)+(V-He),W=Ee+Fe,V=W-Ee,de=Ee-(W-V)+(Fe-V),Fe=de-Ne,V=de-Fe,ji[1]=de-(Fe+V)+(V-Ne),R=W+Fe,V=R-W,ji[2]=W-(R-V)+(Fe-V),ji[3]=R;let X=Bi(4,ji),pe=iu*k;if(X>=pe||-X>=pe||(V=r-z,E=r-(z+V)+(V-g),V=a-G,A=a-(G+V)+(V-g),V=i-ne,T=i-(ne+V)+(V-x),V=d-Q,q=d-(Q+V)+(V-x),E===0&&T===0&&A===0&&q===0)||(pe=vs*k+xl*Math.abs(X),X+=z*q+Q*E-(ne*A+G*T),X>=pe||-X>=pe))return X;Ee=E*Q,ae=Jt*E,ce=ae-(ae-E),Pe=E-ce,ae=Jt*Q,De=ae-(ae-Q),qe=Q-De,Ue=Pe*qe-(Ee-ce*De-Pe*De-ce*qe),Ne=T*G,ae=Jt*T,ce=ae-(ae-T),Pe=T-ce,ae=Jt*G,De=ae-(ae-G),qe=G-De,He=Pe*qe-(Ne-ce*De-Pe*De-ce*qe),Fe=Ue-He,V=Ue-Fe,fn[0]=Ue-(Fe+V)+(V-He),W=Ee+Fe,V=W-Ee,de=Ee-(W-V)+(Fe-V),Fe=de-Ne,V=de-Fe,fn[1]=de-(Fe+V)+(V-Ne),R=W+Fe,V=R-W,fn[2]=W-(R-V)+(Fe-V),fn[3]=R;let se=Nn(4,ji,4,fn,Ro);Ee=z*q,ae=Jt*z,ce=ae-(ae-z),Pe=z-ce,ae=Jt*q,De=ae-(ae-q),qe=q-De,Ue=Pe*qe-(Ee-ce*De-Pe*De-ce*qe),Ne=ne*A,ae=Jt*ne,ce=ae-(ae-ne),Pe=ne-ce,ae=Jt*A,De=ae-(ae-A),qe=A-De,He=Pe*qe-(Ne-ce*De-Pe*De-ce*qe),Fe=Ue-He,V=Ue-Fe,fn[0]=Ue-(Fe+V)+(V-He),W=Ee+Fe,V=W-Ee,de=Ee-(W-V)+(Fe-V),Fe=de-Ne,V=de-Fe,fn[1]=de-(Fe+V)+(V-Ne),R=W+Fe,V=R-W,fn[2]=W-(R-V)+(Fe-V),fn[3]=R;let fe=Nn(se,Ro,4,fn,Oo);Ee=E*q,ae=Jt*E,ce=ae-(ae-E),Pe=E-ce,ae=Jt*q,De=ae-(ae-q),qe=q-De,Ue=Pe*qe-(Ee-ce*De-Pe*De-ce*qe),Ne=T*A,ae=Jt*T,ce=ae-(ae-T),Pe=T-ce,ae=Jt*A,De=ae-(ae-A),qe=A-De,He=Pe*qe-(Ne-ce*De-Pe*De-ce*qe),Fe=Ue-He,V=Ue-Fe,fn[0]=Ue-(Fe+V)+(V-He),W=Ee+Fe,V=W-Ee,de=Ee-(W-V)+(Fe-V),Fe=de-Ne,V=de-Fe,fn[1]=de-(Fe+V)+(V-Ne),R=W+Fe,V=R-W,fn[2]=W-(R-V)+(Fe-V),fn[3]=R;let ve=Nn(fe,Oo,4,fn,Nt);return Nt[ve-1]}function xs(r,i,a,d,g,x){let k=(i-x)*(a-g),E=(r-g)*(d-x),T=k-E,A=Math.abs(k+E);return Math.abs(T)>=wl*A?T:-Ys(r,i,a,d,g,x,A)}function bl(r,i){var a,d,g=0,x,k,E,T,A,q,V,ae=r[0],ce=r[1],Pe=i.length;for(a=0;a<Pe;a++){d=0;var De=i[a],qe=De.length-1;if(q=De[0],q[0]!==De[qe][0]&&q[1]!==De[qe][1])throw new Error("First and last coordinates in a ring must be the same");for(k=q[0]-ae,E=q[1]-ce,d;d<qe;d++){if(V=De[d+1],T=V[0]-ae,A=V[1]-ce,E===0&&A===0){if(T<=0&&k>=0||k<=0&&T>=0)return 0}else if(A>=0&&E<=0||A<=0&&E>=0){if(x=xs(k,T,E,A,0,0),x===0)return 0;(x>0&&A>0&&E<=0||x<0&&A<=0&&E>0)&&g++}q=V,E=A,k=T}}return g%2!==0}function t(r,i,a={}){if(!r)throw new Error("point is required");if(!i)throw new Error("polygon is required");let d=Cn(r),g=Pi(i),x=g.type,k=i.bbox,E=g.coordinates;if(k&&s(d,k)===!1)return!1;x==="Polygon"&&(E=[E]);let T=!1;for(var A=0;A<E.length;++A){let q=bl(d,E[A]);if(q===0)return!a.ignoreBoundary;q&&(T=!0)}return T}function s(r,i){return i[0]<=r[0]&&i[1]<=r[1]&&i[2]>=r[0]&&i[3]>=r[1]}function f(r,i,a={}){let d=Cn(r),g=Er(i);for(let x=0;x<g.length-1;x++){let k=!1;if(a.ignoreEndVertices&&(x===0&&(k="start"),x===g.length-2&&(k="end"),x===0&&x+1===g.length-1&&(k="both")),w(g[x],g[x+1],d,k,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1}function w(r,i,a,d,g){let x=a[0],k=a[1],E=r[0],T=r[1],A=i[0],q=i[1],V=a[0]-E,ae=a[1]-T,ce=A-E,Pe=q-T,De=V*Pe-ae*ce;if(g!==null){if(Math.abs(De)>g)return!1}else if(De!==0)return!1;if(Math.abs(ce)===Math.abs(Pe)&&Math.abs(ce)===0)return d?!1:a[0]===r[0]&&a[1]===r[1];if(d){if(d==="start")return Math.abs(ce)>=Math.abs(Pe)?ce>0?E<x&&x<=A:A<=x&&x<E:Pe>0?T<k&&k<=q:q<=k&&k<T;if(d==="end")return Math.abs(ce)>=Math.abs(Pe)?ce>0?E<=x&&x<A:A<x&&x<=E:Pe>0?T<=k&&k<q:q<k&&k<=T;if(d==="both")return Math.abs(ce)>=Math.abs(Pe)?ce>0?E<x&&x<A:A<x&&x<E:Pe>0?T<k&&k<q:q<k&&k<T}else return Math.abs(ce)>=Math.abs(Pe)?ce>0?E<=x&&x<=A:A<=x&&x<=E:Pe>0?T<=k&&k<=q:q<=k&&k<=T;return!1}function M(r,i){let a=Pi(r),d=Pi(i),g=a.type,x=d.type,k=a.coordinates,E=d.coordinates;switch(g){case"Point":switch(x){case"Point":return tn(k,E);default:throw new Error("feature2 "+x+" geometry not supported")}case"MultiPoint":switch(x){case"Point":return ee(a,d);case"MultiPoint":return me(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}case"LineString":switch(x){case"Point":return f(d,a,{ignoreEndVertices:!0});case"LineString":return Ke(a,d);case"MultiPoint":return Ce(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}case"Polygon":switch(x){case"Point":return t(d,a,{ignoreBoundary:!0});case"LineString":return dt(a,d);case"Polygon":return xt(a,d);case"MultiPoint":return je(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}case"MultiPolygon":switch(x){case"Polygon":return N(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}default:throw new Error("feature1 "+g+" geometry not supported")}}function N(r,i){return r.coordinates.some(a=>xt({type:"Polygon",coordinates:a},i))}function ee(r,i){let a,d=!1;for(a=0;a<r.coordinates.length;a++)if(tn(r.coordinates[a],i.coordinates)){d=!0;break}return d}function me(r,i){for(let a of i.coordinates){let d=!1;for(let g of r.coordinates)if(tn(a,g)){d=!0;break}if(!d)return!1}return!0}function Ce(r,i){let a=!1;for(let d of i.coordinates)if(f(d,r,{ignoreEndVertices:!0})&&(a=!0),!f(d,r))return!1;return!!a}function je(r,i){for(let a of i.coordinates)if(!t(a,r,{ignoreBoundary:!0}))return!1;return!0}function Ke(r,i){let a=!1;for(let d of i.coordinates)if(f({type:"Point",coordinates:d},r,{ignoreEndVertices:!0})&&(a=!0),!f({type:"Point",coordinates:d},r,{ignoreEndVertices:!1}))return!1;return a}function dt(r,i){let a=!1,d=0,g=Cr(r),x=Cr(i);if(!on(g,x))return!1;for(d;d<i.coordinates.length-1;d++){let k=In(i.coordinates[d],i.coordinates[d+1]);if(t({type:"Point",coordinates:k},r,{ignoreBoundary:!0})){a=!0;break}}return a}function xt(r,i){if(r.type==="Feature"&&r.geometry===null||i.type==="Feature"&&i.geometry===null)return!1;let a=Cr(r),d=Cr(i);if(!on(a,d))return!1;let g=Pi(i).coordinates;for(let x of g)for(let k of x)if(!t(k,r))return!1;return!0}function on(r,i){return!(r[0]>i[0]||r[2]<i[2]||r[1]>i[1]||r[3]<i[3])}function tn(r,i){return r[0]===i[0]&&r[1]===i[1]}function In(r,i){return[(r[0]+i[0])/2,(r[1]+i[1])/2]}var Tn=M,ws=B(Xr()),ja=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Pr=Math.ceil,Fn=Math.floor,nn="[BigNumber Error] ",hr=nn+"Number primitive has more than 15 significant digits: ",_n=1e14,$e=14,si=9007199254740991,Ta=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],oi=1e7,qt=1e9;function ai(r){var i,a,d,g=W.prototype={constructor:W,toString:null,valueOf:null},x=new W(1),k=20,E=4,T=-7,A=21,q=-1e7,V=1e7,ae=!1,ce=1,Pe=0,De={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},qe="0123456789abcdefghijklmnopqrstuvwxyz",Fe=!0;function W(R,z){var G,ne,Q,X,pe,se,fe,ve,ye=this;if(!(ye instanceof W))return new W(R,z);if(z==null){if(R&&R._isBigNumber===!0){ye.s=R.s,!R.c||R.e>V?ye.c=ye.e=null:R.e<q?ye.c=[ye.e=0]:(ye.e=R.e,ye.c=R.c.slice());return}if((se=typeof R=="number")&&R*0==0){if(ye.s=1/R<0?(R=-R,-1):1,R===~~R){for(X=0,pe=R;pe>=10;pe/=10,X++);X>V?ye.c=ye.e=null:(ye.e=X,ye.c=[R]);return}ve=String(R)}else{if(!ja.test(ve=String(R)))return d(ye,ve,se);ye.s=ve.charCodeAt(0)==45?(ve=ve.slice(1),-1):1}(X=ve.indexOf("."))>-1&&(ve=ve.replace(".","")),(pe=ve.search(/e/i))>0?(X<0&&(X=pe),X+=+ve.slice(pe+1),ve=ve.substring(0,pe)):X<0&&(X=ve.length)}else{if(zt(z,2,qe.length,"Base"),z==10&&Fe)return ye=new W(R),Ne(ye,k+ye.e+1,E);if(ve=String(R),se=typeof R=="number"){if(R*0!=0)return d(ye,ve,se,z);if(ye.s=1/R<0?(ve=ve.slice(1),-1):1,W.DEBUG&&ve.replace(/^0\.0*|\./,"").length>15)throw Error(hr+R)}else ye.s=ve.charCodeAt(0)===45?(ve=ve.slice(1),-1):1;for(G=qe.slice(0,z),X=pe=0,fe=ve.length;pe<fe;pe++)if(G.indexOf(ne=ve.charAt(pe))<0){if(ne=="."){if(pe>X){X=fe;continue}}else if(!Q&&(ve==ve.toUpperCase()&&(ve=ve.toLowerCase())||ve==ve.toLowerCase()&&(ve=ve.toUpperCase()))){Q=!0,pe=-1,X=0;continue}return d(ye,String(R),se,z)}se=!1,ve=a(ve,z,10,ye.s),(X=ve.indexOf("."))>-1?ve=ve.replace(".",""):X=ve.length}for(pe=0;ve.charCodeAt(pe)===48;pe++);for(fe=ve.length;ve.charCodeAt(--fe)===48;);if(ve=ve.slice(pe,++fe)){if(fe-=pe,se&&W.DEBUG&&fe>15&&(R>si||R!==Fn(R)))throw Error(hr+ye.s*R);if((X=X-pe-1)>V)ye.c=ye.e=null;else if(X<q)ye.c=[ye.e=0];else{if(ye.e=X,ye.c=[],pe=(X+1)%$e,X<0&&(pe+=$e),pe<fe){for(pe&&ye.c.push(+ve.slice(0,pe)),fe-=$e;pe<fe;)ye.c.push(+ve.slice(pe,pe+=$e));pe=$e-(ve=ve.slice(pe)).length}else pe-=fe;for(;pe--;ve+="0");ye.c.push(+ve)}}else ye.c=[ye.e=0]}W.clone=ai,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(R){var z,G;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(z="DECIMAL_PLACES")&&(G=R[z],zt(G,0,qt,z),k=G),R.hasOwnProperty(z="ROUNDING_MODE")&&(G=R[z],zt(G,0,8,z),E=G),R.hasOwnProperty(z="EXPONENTIAL_AT")&&(G=R[z],G&&G.pop?(zt(G[0],-qt,0,z),zt(G[1],0,qt,z),T=G[0],A=G[1]):(zt(G,-qt,qt,z),T=-(A=G<0?-G:G))),R.hasOwnProperty(z="RANGE"))if(G=R[z],G&&G.pop)zt(G[0],-qt,-1,z),zt(G[1],1,qt,z),q=G[0],V=G[1];else if(zt(G,-qt,qt,z),G)q=-(V=G<0?-G:G);else throw Error(nn+z+" cannot be zero: "+G);if(R.hasOwnProperty(z="CRYPTO"))if(G=R[z],G===!!G)if(G)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ae=G;else throw ae=!G,Error(nn+"crypto unavailable");else ae=G;else throw Error(nn+z+" not true or false: "+G);if(R.hasOwnProperty(z="MODULO_MODE")&&(G=R[z],zt(G,0,9,z),ce=G),R.hasOwnProperty(z="POW_PRECISION")&&(G=R[z],zt(G,0,qt,z),Pe=G),R.hasOwnProperty(z="FORMAT"))if(G=R[z],typeof G=="object")De=G;else throw Error(nn+z+" not an object: "+G);if(R.hasOwnProperty(z="ALPHABET"))if(G=R[z],typeof G=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(G))Fe=G.slice(0,10)=="0123456789",qe=G;else throw Error(nn+z+" invalid: "+G)}else throw Error(nn+"Object expected: "+R);return{DECIMAL_PLACES:k,ROUNDING_MODE:E,EXPONENTIAL_AT:[T,A],RANGE:[q,V],CRYPTO:ae,MODULO_MODE:ce,POW_PRECISION:Pe,FORMAT:De,ALPHABET:qe}},W.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!W.DEBUG)return!0;var z,G,ne=R.c,Q=R.e,X=R.s;e:if({}.toString.call(ne)=="[object Array]"){if((X===1||X===-1)&&Q>=-qt&&Q<=qt&&Q===Fn(Q)){if(ne[0]===0){if(Q===0&&ne.length===1)return!0;break e}if(z=(Q+1)%$e,z<1&&(z+=$e),String(ne[0]).length==z){for(z=0;z<ne.length;z++)if(G=ne[z],G<0||G>=_n||G!==Fn(G))break e;if(G!==0)return!0}}}else if(ne===null&&Q===null&&(X===null||X===1||X===-1))return!0;throw Error(nn+"Invalid BigNumber: "+R)},W.maximum=W.max=function(){return Ee(arguments,-1)},W.minimum=W.min=function(){return Ee(arguments,1)},W.random=(function(){var R=9007199254740992,z=Math.random()*R&2097151?function(){return Fn(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(G){var ne,Q,X,pe,se,fe=0,ve=[],ye=new W(x);if(G==null?G=k:zt(G,0,qt),pe=Pr(G/$e),ae)if(crypto.getRandomValues){for(ne=crypto.getRandomValues(new Uint32Array(pe*=2));fe<pe;)se=ne[fe]*131072+(ne[fe+1]>>>11),se>=9e15?(Q=crypto.getRandomValues(new Uint32Array(2)),ne[fe]=Q[0],ne[fe+1]=Q[1]):(ve.push(se%1e14),fe+=2);fe=pe/2}else if(crypto.randomBytes){for(ne=crypto.randomBytes(pe*=7);fe<pe;)se=(ne[fe]&31)*281474976710656+ne[fe+1]*1099511627776+ne[fe+2]*4294967296+ne[fe+3]*16777216+(ne[fe+4]<<16)+(ne[fe+5]<<8)+ne[fe+6],se>=9e15?crypto.randomBytes(7).copy(ne,fe):(ve.push(se%1e14),fe+=7);fe=pe/7}else throw ae=!1,Error(nn+"crypto unavailable");if(!ae)for(;fe<pe;)se=z(),se<9e15&&(ve[fe++]=se%1e14);for(pe=ve[--fe],G%=$e,pe&&G&&(se=Ta[$e-G],ve[fe]=Fn(pe/se)*se);ve[fe]===0;ve.pop(),fe--);if(fe<0)ve=[X=0];else{for(X=-1;ve[0]===0;ve.splice(0,1),X-=$e);for(fe=1,se=ve[0];se>=10;se/=10,fe++);fe<$e&&(X-=$e-fe)}return ye.e=X,ye.c=ve,ye}})(),W.sum=function(){for(var R=1,z=arguments,G=new W(z[0]);R<z.length;)G=G.plus(z[R++]);return G},a=(function(){var R="0123456789";function z(G,ne,Q,X){for(var pe,se=[0],fe,ve=0,ye=G.length;ve<ye;){for(fe=se.length;fe--;se[fe]*=ne);for(se[0]+=X.indexOf(G.charAt(ve++)),pe=0;pe<se.length;pe++)se[pe]>Q-1&&(se[pe+1]==null&&(se[pe+1]=0),se[pe+1]+=se[pe]/Q|0,se[pe]%=Q)}return se.reverse()}return function(G,ne,Q,X,pe){var se,fe,ve,ye,Te,st,ot,_t,Yt=G.indexOf("."),ln=k,Et=E;for(Yt>=0&&(ye=Pe,Pe=0,G=G.replace(".",""),_t=new W(ne),st=_t.pow(G.length-Yt),Pe=ye,_t.c=z(jt(Ln(st.c),st.e,"0"),10,Q,R),_t.e=_t.c.length),ot=z(G,ne,Q,pe?(se=qe,R):(se=R,qe)),ve=ye=ot.length;ot[--ye]==0;ot.pop());if(!ot[0])return se.charAt(0);if(Yt<0?--ve:(st.c=ot,st.e=ve,st.s=X,st=i(st,_t,ln,Et,Q),ot=st.c,Te=st.r,ve=st.e),fe=ve+ln+1,Yt=ot[fe],ye=Q/2,Te=Te||fe<0||ot[fe+1]!=null,Te=Et<4?(Yt!=null||Te)&&(Et==0||Et==(st.s<0?3:2)):Yt>ye||Yt==ye&&(Et==4||Te||Et==6&&ot[fe-1]&1||Et==(st.s<0?8:7)),fe<1||!ot[0])G=Te?jt(se.charAt(1),-ln,se.charAt(0)):se.charAt(0);else{if(ot.length=fe,Te)for(--Q;++ot[--fe]>Q;)ot[fe]=0,fe||(++ve,ot=[1].concat(ot));for(ye=ot.length;!ot[--ye];);for(Yt=0,G="";Yt<=ye;G+=se.charAt(ot[Yt++]));G=jt(G,ve,se.charAt(0))}return G}})(),i=(function(){function R(ne,Q,X){var pe,se,fe,ve,ye=0,Te=ne.length,st=Q%oi,ot=Q/oi|0;for(ne=ne.slice();Te--;)fe=ne[Te]%oi,ve=ne[Te]/oi|0,pe=ot*fe+ve*st,se=st*fe+pe%oi*oi+ye,ye=(se/X|0)+(pe/oi|0)+ot*ve,ne[Te]=se%X;return ye&&(ne=[ye].concat(ne)),ne}function z(ne,Q,X,pe){var se,fe;if(X!=pe)fe=X>pe?1:-1;else for(se=fe=0;se<X;se++)if(ne[se]!=Q[se]){fe=ne[se]>Q[se]?1:-1;break}return fe}function G(ne,Q,X,pe){for(var se=0;X--;)ne[X]-=se,se=ne[X]<Q[X]?1:0,ne[X]=se*pe+ne[X]-Q[X];for(;!ne[0]&&ne.length>1;ne.splice(0,1));}return function(ne,Q,X,pe,se){var fe,ve,ye,Te,st,ot,_t,Yt,ln,Et,It,pn,to,Dl,Fa,Gr,Uo,pr=ne.s==Q.s?1:-1,An=ne.c,Kt=Q.c;if(!An||!An[0]||!Kt||!Kt[0])return new W(!ne.s||!Q.s||(An?Kt&&An[0]==Kt[0]:!Kt)?NaN:An&&An[0]==0||!Kt?pr*0:pr/0);for(Yt=new W(pr),ln=Yt.c=[],ve=ne.e-Q.e,pr=X+ve+1,se||(se=_n,ve=an(ne.e/$e)-an(Q.e/$e),pr=pr/$e|0),ye=0;Kt[ye]==(An[ye]||0);ye++);if(Kt[ye]>(An[ye]||0)&&ve--,pr<0)ln.push(1),Te=!0;else{for(Dl=An.length,Gr=Kt.length,ye=0,pr+=2,st=Fn(se/(Kt[0]+1)),st>1&&(Kt=R(Kt,st,se),An=R(An,st,se),Gr=Kt.length,Dl=An.length),to=Gr,Et=An.slice(0,Gr),It=Et.length;It<Gr;Et[It++]=0);Uo=Kt.slice(),Uo=[0].concat(Uo),Fa=Kt[0],Kt[1]>=se/2&&Fa++;do{if(st=0,fe=z(Kt,Et,Gr,It),fe<0){if(pn=Et[0],Gr!=It&&(pn=pn*se+(Et[1]||0)),st=Fn(pn/Fa),st>1)for(st>=se&&(st=se-1),ot=R(Kt,st,se),_t=ot.length,It=Et.length;z(ot,Et,_t,It)==1;)st--,G(ot,Gr<_t?Uo:Kt,_t,se),_t=ot.length,fe=1;else st==0&&(fe=st=1),ot=Kt.slice(),_t=ot.length;if(_t<It&&(ot=[0].concat(ot)),G(Et,ot,It,se),It=Et.length,fe==-1)for(;z(Kt,Et,Gr,It)<1;)st++,G(Et,Gr<It?Uo:Kt,It,se),It=Et.length}else fe===0&&(st++,Et=[0]);ln[ye++]=st,Et[0]?Et[It++]=An[to]||0:(Et=[An[to]],It=1)}while((to++<Dl||Et[0]!=null)&&pr--);Te=Et[0]!=null,ln[0]||ln.splice(0,1)}if(se==_n){for(ye=1,pr=ln[0];pr>=10;pr/=10,ye++);Ne(Yt,X+(Yt.e=ye+ve*$e-1)+1,pe,Te)}else Yt.e=ve,Yt.r=+Te;return Yt}})();function de(R,z,G,ne){var Q,X,pe,se,fe;if(G==null?G=E:zt(G,0,8),!R.c)return R.toString();if(Q=R.c[0],pe=R.e,z==null)fe=Ln(R.c),fe=ne==1||ne==2&&(pe<=T||pe>=A)?Ut(fe,pe):jt(fe,pe,"0");else if(R=Ne(new W(R),z,G),X=R.e,fe=Ln(R.c),se=fe.length,ne==1||ne==2&&(z<=X||X<=T)){for(;se<z;fe+="0",se++);fe=Ut(fe,X)}else if(z-=pe+(ne===2&&X>pe),fe=jt(fe,X,"0"),X+1>se){if(--z>0)for(fe+=".";z--;fe+="0");}else if(z+=X-se,z>0)for(X+1==se&&(fe+=".");z--;fe+="0");return R.s<0&&Q?"-"+fe:fe}function Ee(R,z){for(var G,ne,Q=1,X=new W(R[0]);Q<R.length;Q++)ne=new W(R[Q]),(!ne.s||(G=Ti(X,ne))===z||G===0&&X.s===z)&&(X=ne);return X}function Ue(R,z,G){for(var ne=1,Q=z.length;!z[--Q];z.pop());for(Q=z[0];Q>=10;Q/=10,ne++);return(G=ne+G*$e-1)>V?R.c=R.e=null:G<q?R.c=[R.e=0]:(R.e=G,R.c=z),R}d=(function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,z=/^([^.]+)\.$/,G=/^\.([^.]+)$/,ne=/^-?(Infinity|NaN)$/,Q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(X,pe,se,fe){var ve,ye=se?pe:pe.replace(Q,"");if(ne.test(ye))X.s=isNaN(ye)?null:ye<0?-1:1;else{if(!se&&(ye=ye.replace(R,function(Te,st,ot){return ve=(ot=ot.toLowerCase())=="x"?16:ot=="b"?2:8,!fe||fe==ve?st:Te}),fe&&(ve=fe,ye=ye.replace(z,"$1").replace(G,"0.$1")),pe!=ye))return new W(ye,ve);if(W.DEBUG)throw Error(nn+"Not a"+(fe?" base "+fe:"")+" number: "+pe);X.s=null}X.c=X.e=null}})();function Ne(R,z,G,ne){var Q,X,pe,se,fe,ve,ye,Te=R.c,st=Ta;if(Te){e:{for(Q=1,se=Te[0];se>=10;se/=10,Q++);if(X=z-Q,X<0)X+=$e,pe=z,fe=Te[ve=0],ye=Fn(fe/st[Q-pe-1]%10);else if(ve=Pr((X+1)/$e),ve>=Te.length)if(ne){for(;Te.length<=ve;Te.push(0));fe=ye=0,Q=1,X%=$e,pe=X-$e+1}else break e;else{for(fe=se=Te[ve],Q=1;se>=10;se/=10,Q++);X%=$e,pe=X-$e+Q,ye=pe<0?0:Fn(fe/st[Q-pe-1]%10)}if(ne=ne||z<0||Te[ve+1]!=null||(pe<0?fe:fe%st[Q-pe-1]),ne=G<4?(ye||ne)&&(G==0||G==(R.s<0?3:2)):ye>5||ye==5&&(G==4||ne||G==6&&(X>0?pe>0?fe/st[Q-pe]:0:Te[ve-1])%10&1||G==(R.s<0?8:7)),z<1||!Te[0])return Te.length=0,ne?(z-=R.e+1,Te[0]=st[($e-z%$e)%$e],R.e=-z||0):Te[0]=R.e=0,R;if(X==0?(Te.length=ve,se=1,ve--):(Te.length=ve+1,se=st[$e-X],Te[ve]=pe>0?Fn(fe/st[Q-pe]%st[pe])*se:0),ne)for(;;)if(ve==0){for(X=1,pe=Te[0];pe>=10;pe/=10,X++);for(pe=Te[0]+=se,se=1;pe>=10;pe/=10,se++);X!=se&&(R.e++,Te[0]==_n&&(Te[0]=1));break}else{if(Te[ve]+=se,Te[ve]!=_n)break;Te[ve--]=0,se=1}for(X=Te.length;Te[--X]===0;Te.pop());}R.e>V?R.c=R.e=null:R.e<q&&(R.c=[R.e=0])}return R}function He(R){var z,G=R.e;return G===null?R.toString():(z=Ln(R.c),z=G<=T||G>=A?Ut(z,G):jt(z,G,"0"),R.s<0?"-"+z:z)}return g.absoluteValue=g.abs=function(){var R=new W(this);return R.s<0&&(R.s=1),R},g.comparedTo=function(R,z){return Ti(this,new W(R,z))},g.decimalPlaces=g.dp=function(R,z){var G,ne,Q,X=this;if(R!=null)return zt(R,0,qt),z==null?z=E:zt(z,0,8),Ne(new W(X),R+X.e+1,z);if(!(G=X.c))return null;if(ne=((Q=G.length-1)-an(this.e/$e))*$e,Q=G[Q])for(;Q%10==0;Q/=10,ne--);return ne<0&&(ne=0),ne},g.dividedBy=g.div=function(R,z){return i(this,new W(R,z),k,E)},g.dividedToIntegerBy=g.idiv=function(R,z){return i(this,new W(R,z),0,1)},g.exponentiatedBy=g.pow=function(R,z){var G,ne,Q,X,pe,se,fe,ve,ye,Te=this;if(R=new W(R),R.c&&!R.isInteger())throw Error(nn+"Exponent not an integer: "+He(R));if(z!=null&&(z=new W(z)),se=R.e>14,!Te.c||!Te.c[0]||Te.c[0]==1&&!Te.e&&Te.c.length==1||!R.c||!R.c[0])return ye=new W(Math.pow(+He(Te),se?R.s*(2-qr(R)):+He(R))),z?ye.mod(z):ye;if(fe=R.s<0,z){if(z.c?!z.c[0]:!z.s)return new W(NaN);ne=!fe&&Te.isInteger()&&z.isInteger(),ne&&(Te=Te.mod(z))}else{if(R.e>9&&(Te.e>0||Te.e<-1||(Te.e==0?Te.c[0]>1||se&&Te.c[1]>=24e7:Te.c[0]<8e13||se&&Te.c[0]<=9999975e7)))return X=Te.s<0&&qr(R)?-0:0,Te.e>-1&&(X=1/X),new W(fe?1/X:X);Pe&&(X=Pr(Pe/$e+2))}for(se?(G=new W(.5),fe&&(R.s=1),ve=qr(R)):(Q=Math.abs(+He(R)),ve=Q%2),ye=new W(x);;){if(ve){if(ye=ye.times(Te),!ye.c)break;X?ye.c.length>X&&(ye.c.length=X):ne&&(ye=ye.mod(z))}if(Q){if(Q=Fn(Q/2),Q===0)break;ve=Q%2}else if(R=R.times(G),Ne(R,R.e+1,1),R.e>14)ve=qr(R);else{if(Q=+He(R),Q===0)break;ve=Q%2}Te=Te.times(Te),X?Te.c&&Te.c.length>X&&(Te.c.length=X):ne&&(Te=Te.mod(z))}return ne?ye:(fe&&(ye=x.div(ye)),z?ye.mod(z):X?Ne(ye,Pe,E,pe):ye)},g.integerValue=function(R){var z=new W(this);return R==null?R=E:zt(R,0,8),Ne(z,z.e+1,R)},g.isEqualTo=g.eq=function(R,z){return Ti(this,new W(R,z))===0},g.isFinite=function(){return!!this.c},g.isGreaterThan=g.gt=function(R,z){return Ti(this,new W(R,z))>0},g.isGreaterThanOrEqualTo=g.gte=function(R,z){return(z=Ti(this,new W(R,z)))===1||z===0},g.isInteger=function(){return!!this.c&&an(this.e/$e)>this.c.length-2},g.isLessThan=g.lt=function(R,z){return Ti(this,new W(R,z))<0},g.isLessThanOrEqualTo=g.lte=function(R,z){return(z=Ti(this,new W(R,z)))===-1||z===0},g.isNaN=function(){return!this.s},g.isNegative=function(){return this.s<0},g.isPositive=function(){return this.s>0},g.isZero=function(){return!!this.c&&this.c[0]==0},g.minus=function(R,z){var G,ne,Q,X,pe=this,se=pe.s;if(R=new W(R,z),z=R.s,!se||!z)return new W(NaN);if(se!=z)return R.s=-z,pe.plus(R);var fe=pe.e/$e,ve=R.e/$e,ye=pe.c,Te=R.c;if(!fe||!ve){if(!ye||!Te)return ye?(R.s=-z,R):new W(Te?pe:NaN);if(!ye[0]||!Te[0])return Te[0]?(R.s=-z,R):new W(ye[0]?pe:E==3?-0:0)}if(fe=an(fe),ve=an(ve),ye=ye.slice(),se=fe-ve){for((X=se<0)?(se=-se,Q=ye):(ve=fe,Q=Te),Q.reverse(),z=se;z--;Q.push(0));Q.reverse()}else for(ne=(X=(se=ye.length)<(z=Te.length))?se:z,se=z=0;z<ne;z++)if(ye[z]!=Te[z]){X=ye[z]<Te[z];break}if(X&&(Q=ye,ye=Te,Te=Q,R.s=-R.s),z=(ne=Te.length)-(G=ye.length),z>0)for(;z--;ye[G++]=0);for(z=_n-1;ne>se;){if(ye[--ne]<Te[ne]){for(G=ne;G&&!ye[--G];ye[G]=z);--ye[G],ye[ne]+=_n}ye[ne]-=Te[ne]}for(;ye[0]==0;ye.splice(0,1),--ve);return ye[0]?Ue(R,ye,ve):(R.s=E==3?-1:1,R.c=[R.e=0],R)},g.modulo=g.mod=function(R,z){var G,ne,Q=this;return R=new W(R,z),!Q.c||!R.s||R.c&&!R.c[0]?new W(NaN):!R.c||Q.c&&!Q.c[0]?new W(Q):(ce==9?(ne=R.s,R.s=1,G=i(Q,R,0,3),R.s=ne,G.s*=ne):G=i(Q,R,0,ce),R=Q.minus(G.times(R)),!R.c[0]&&ce==1&&(R.s=Q.s),R)},g.multipliedBy=g.times=function(R,z){var G,ne,Q,X,pe,se,fe,ve,ye,Te,st,ot,_t,Yt,ln,Et=this,It=Et.c,pn=(R=new W(R,z)).c;if(!It||!pn||!It[0]||!pn[0])return!Et.s||!R.s||It&&!It[0]&&!pn||pn&&!pn[0]&&!It?R.c=R.e=R.s=null:(R.s*=Et.s,!It||!pn?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(ne=an(Et.e/$e)+an(R.e/$e),R.s*=Et.s,fe=It.length,Te=pn.length,fe<Te&&(_t=It,It=pn,pn=_t,Q=fe,fe=Te,Te=Q),Q=fe+Te,_t=[];Q--;_t.push(0));for(Yt=_n,ln=oi,Q=Te;--Q>=0;){for(G=0,st=pn[Q]%ln,ot=pn[Q]/ln|0,pe=fe,X=Q+pe;X>Q;)ve=It[--pe]%ln,ye=It[pe]/ln|0,se=ot*ve+ye*st,ve=st*ve+se%ln*ln+_t[X]+G,G=(ve/Yt|0)+(se/ln|0)+ot*ye,_t[X--]=ve%Yt;_t[X]=G}return G?++ne:_t.splice(0,1),Ue(R,_t,ne)},g.negated=function(){var R=new W(this);return R.s=-R.s||null,R},g.plus=function(R,z){var G,ne=this,Q=ne.s;if(R=new W(R,z),z=R.s,!Q||!z)return new W(NaN);if(Q!=z)return R.s=-z,ne.minus(R);var X=ne.e/$e,pe=R.e/$e,se=ne.c,fe=R.c;if(!X||!pe){if(!se||!fe)return new W(Q/0);if(!se[0]||!fe[0])return fe[0]?R:new W(se[0]?ne:Q*0)}if(X=an(X),pe=an(pe),se=se.slice(),Q=X-pe){for(Q>0?(pe=X,G=fe):(Q=-Q,G=se),G.reverse();Q--;G.push(0));G.reverse()}for(Q=se.length,z=fe.length,Q-z<0&&(G=fe,fe=se,se=G,z=Q),Q=0;z;)Q=(se[--z]=se[z]+fe[z]+Q)/_n|0,se[z]=_n===se[z]?0:se[z]%_n;return Q&&(se=[Q].concat(se),++pe),Ue(R,se,pe)},g.precision=g.sd=function(R,z){var G,ne,Q,X=this;if(R!=null&&R!==!!R)return zt(R,1,qt),z==null?z=E:zt(z,0,8),Ne(new W(X),R,z);if(!(G=X.c))return null;if(Q=G.length-1,ne=Q*$e+1,Q=G[Q]){for(;Q%10==0;Q/=10,ne--);for(Q=G[0];Q>=10;Q/=10,ne++);}return R&&X.e+1>ne&&(ne=X.e+1),ne},g.shiftedBy=function(R){return zt(R,-si,si),this.times("1e"+R)},g.squareRoot=g.sqrt=function(){var R,z,G,ne,Q,X=this,pe=X.c,se=X.s,fe=X.e,ve=k+4,ye=new W("0.5");if(se!==1||!pe||!pe[0])return new W(!se||se<0&&(!pe||pe[0])?NaN:pe?X:1/0);if(se=Math.sqrt(+He(X)),se==0||se==1/0?(z=Ln(pe),(z.length+fe)%2==0&&(z+="0"),se=Math.sqrt(+z),fe=an((fe+1)/2)-(fe<0||fe%2),se==1/0?z="5e"+fe:(z=se.toExponential(),z=z.slice(0,z.indexOf("e")+1)+fe),G=new W(z)):G=new W(se+""),G.c[0]){for(fe=G.e,se=fe+ve,se<3&&(se=0);;)if(Q=G,G=ye.times(Q.plus(i(X,Q,ve,1))),Ln(Q.c).slice(0,se)===(z=Ln(G.c)).slice(0,se))if(G.e<fe&&--se,z=z.slice(se-3,se+1),z=="9999"||!ne&&z=="4999"){if(!ne&&(Ne(Q,Q.e+k+2,0),Q.times(Q).eq(X))){G=Q;break}ve+=4,se+=4,ne=1}else{(!+z||!+z.slice(1)&&z.charAt(0)=="5")&&(Ne(G,G.e+k+2,1),R=!G.times(G).eq(X));break}}return Ne(G,G.e+k+1,E,R)},g.toExponential=function(R,z){return R!=null&&(zt(R,0,qt),R++),de(this,R,z,1)},g.toFixed=function(R,z){return R!=null&&(zt(R,0,qt),R=R+this.e+1),de(this,R,z)},g.toFormat=function(R,z,G){var ne,Q=this;if(G==null)R!=null&&z&&typeof z=="object"?(G=z,z=null):R&&typeof R=="object"?(G=R,R=z=null):G=De;else if(typeof G!="object")throw Error(nn+"Argument not an object: "+G);if(ne=Q.toFixed(R,z),Q.c){var X,pe=ne.split("."),se=+G.groupSize,fe=+G.secondaryGroupSize,ve=G.groupSeparator||"",ye=pe[0],Te=pe[1],st=Q.s<0,ot=st?ye.slice(1):ye,_t=ot.length;if(fe&&(X=se,se=fe,fe=X,_t-=X),se>0&&_t>0){for(X=_t%se||se,ye=ot.substr(0,X);X<_t;X+=se)ye+=ve+ot.substr(X,se);fe>0&&(ye+=ve+ot.slice(X)),st&&(ye="-"+ye)}ne=Te?ye+(G.decimalSeparator||"")+((fe=+G.fractionGroupSize)?Te.replace(new RegExp("\\d{"+fe+"}\\B","g"),"$&"+(G.fractionGroupSeparator||"")):Te):ye}return(G.prefix||"")+ne+(G.suffix||"")},g.toFraction=function(R){var z,G,ne,Q,X,pe,se,fe,ve,ye,Te,st,ot=this,_t=ot.c;if(R!=null&&(se=new W(R),!se.isInteger()&&(se.c||se.s!==1)||se.lt(x)))throw Error(nn+"Argument "+(se.isInteger()?"out of range: ":"not an integer: ")+He(se));if(!_t)return new W(ot);for(z=new W(x),ve=G=new W(x),ne=fe=new W(x),st=Ln(_t),X=z.e=st.length-ot.e-1,z.c[0]=Ta[(pe=X%$e)<0?$e+pe:pe],R=!R||se.comparedTo(z)>0?X>0?z:ve:se,pe=V,V=1/0,se=new W(st),fe.c[0]=0;ye=i(se,z,0,1),Q=G.plus(ye.times(ne)),Q.comparedTo(R)!=1;)G=ne,ne=Q,ve=fe.plus(ye.times(Q=ve)),fe=Q,z=se.minus(ye.times(Q=z)),se=Q;return Q=i(R.minus(G),ne,0,1),fe=fe.plus(Q.times(ve)),G=G.plus(Q.times(ne)),fe.s=ve.s=ot.s,X=X*2,Te=i(ve,ne,X,E).minus(ot).abs().comparedTo(i(fe,G,X,E).minus(ot).abs())<1?[ve,ne]:[fe,G],V=pe,Te},g.toNumber=function(){return+He(this)},g.toPrecision=function(R,z){return R!=null&&zt(R,1,qt),de(this,R,z,2)},g.toString=function(R){var z,G=this,ne=G.s,Q=G.e;return Q===null?ne?(z="Infinity",ne<0&&(z="-"+z)):z="NaN":(R==null?z=Q<=T||Q>=A?Ut(Ln(G.c),Q):jt(Ln(G.c),Q,"0"):R===10&&Fe?(G=Ne(new W(G),k+Q+1,E),z=jt(Ln(G.c),G.e,"0")):(zt(R,2,qe.length,"Base"),z=a(jt(Ln(G.c),Q,"0"),10,R,ne,!0)),ne<0&&G.c[0]&&(z="-"+z)),z},g.valueOf=g.toJSON=function(){return He(this)},g._isBigNumber=!0,g[Symbol.toStringTag]="BigNumber",g[Symbol.for("nodejs.util.inspect.custom")]=g.valueOf,r!=null&&W.set(r),W}function an(r){var i=r|0;return r>0||r===i?i:i-1}function Ln(r){for(var i,a,d=1,g=r.length,x=r[0]+"";d<g;){for(i=r[d++]+"",a=$e-i.length;a--;i="0"+i);x+=i}for(g=x.length;x.charCodeAt(--g)===48;);return x.slice(0,g+1||1)}function Ti(r,i){var a,d,g=r.c,x=i.c,k=r.s,E=i.s,T=r.e,A=i.e;if(!k||!E)return null;if(a=g&&!g[0],d=x&&!x[0],a||d)return a?d?0:-E:k;if(k!=E)return k;if(a=k<0,d=T==A,!g||!x)return d?0:!g^a?1:-1;if(!d)return T>A^a?1:-1;for(E=(T=g.length)<(A=x.length)?T:A,k=0;k<E;k++)if(g[k]!=x[k])return g[k]>x[k]^a?1:-1;return T==A?0:T>A^a?1:-1}function zt(r,i,a,d){if(r<i||r>a||r!==Fn(r))throw Error(nn+(d||"Argument")+(typeof r=="number"?r<i||r>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function qr(r){var i=r.c.length-1;return an(r.e/$e)==i&&r.c[i]%2!=0}function Ut(r,i){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(i<0?"e":"e+")+i}function jt(r,i,a){var d,g;if(i<0){for(g=a+".";++i;g+=a);r=g+r}else if(d=r.length,++i>d){for(g=a,i-=d;--i;g+=a);r+=g}else i<d&&(r=r.slice(0,i)+"."+r.slice(i));return r}var bs=ai(),Gt=bs,Kn=class{key;left=null;right=null;constructor(r){this.key=r}},Vr=class extends Kn{constructor(r){super(r)}},No=class{size=0;modificationCount=0;splayCount=0;splay(r){let i=this.root;if(i==null)return this.compare(r,r),-1;let a=null,d=null,g=null,x=null,k=i,E=this.compare,T;for(;;)if(T=E(k.key,r),T>0){let A=k.left;if(A==null||(T=E(A.key,r),T>0&&(k.left=A.right,A.right=k,k=A,A=k.left,A==null)))break;a==null?d=k:a.left=k,a=k,k=A}else if(T<0){let A=k.right;if(A==null||(T=E(A.key,r),T<0&&(k.right=A.left,A.left=k,k=A,A=k.right,A==null)))break;g==null?x=k:g.right=k,g=k,k=A}else break;return g!=null&&(g.right=k.left,k.left=x),a!=null&&(a.left=k.right,k.right=d),this.root!==k&&(this.root=k,this.splayCount++),T}splayMin(r){let i=r,a=i.left;for(;a!=null;){let d=a;i.left=d.right,d.right=i,i=d,a=i.left}return i}splayMax(r){let i=r,a=i.right;for(;a!=null;){let d=a;i.right=d.left,d.left=i,i=d,a=i.right}return i}_delete(r){if(this.root==null||this.splay(r)!=0)return null;let i=this.root,a=i,d=i.left;if(this.size--,d==null)this.root=i.right;else{let g=i.right;i=this.splayMax(d),i.right=g,this.root=i}return this.modificationCount++,a}addNewRoot(r,i){this.size++,this.modificationCount++;let a=this.root;if(a==null){this.root=r;return}i<0?(r.left=a,r.right=a.right,a.right=null):(r.right=a,r.left=a.left,a.left=null),this.root=r}_first(){let r=this.root;return r==null?null:(this.root=this.splayMin(r),this.root)}_last(){let r=this.root;return r==null?null:(this.root=this.splayMax(r),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(r){return this.validKey(r)&&this.splay(r)==0}defaultCompare(){return(r,i)=>r<i?-1:r>i?1:0}wrap(){return{getRoot:()=>this.root,setRoot:r=>{this.root=r},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:r=>{this.splayCount=r},splay:r=>this.splay(r),has:r=>this.has(r)}}},kn=class Mu extends No{root=null;compare;validKey;constructor(i,a){super(),this.compare=i??this.defaultCompare(),this.validKey=a??(d=>d!=null&&d!=null)}delete(i){return this.validKey(i)?this._delete(i)!=null:!1}deleteAll(i){for(let a of i)this.delete(a)}forEach(i){let a=this[Symbol.iterator](),d;for(;d=a.next(),!d.done;)i(d.value,d.value,this)}add(i){let a=this.splay(i);return a!=0&&this.addNewRoot(new Vr(i),a),this}addAndReturn(i){let a=this.splay(i);return a!=0&&this.addNewRoot(new Vr(i),a),this.root.key}addAll(i){for(let a of i)this.add(a)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)<0)return this.root.key;let a=this.root.left;if(a==null)return null;let d=a.right;for(;d!=null;)a=d,d=a.right;return a.key}firstAfter(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)>0)return this.root.key;let a=this.root.right;if(a==null)return null;let d=a.left;for(;d!=null;)a=d,d=a.left;return a.key}retainAll(i){let a=new Mu(this.compare,this.validKey),d=this.modificationCount;for(let g of i){if(d!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(g)&&this.splay(g)==0&&a.add(this.root.key)}a.size!=this.size&&(this.root=a.root,this.size=a.size,this.modificationCount++)}lookup(i){return!this.validKey(i)||this.splay(i)!=0?null:this.root.key}intersection(i){let a=new Mu(this.compare,this.validKey);for(let d of this)i.has(d)&&a.add(d);return a}difference(i){let a=new Mu(this.compare,this.validKey);for(let d of this)i.has(d)||a.add(d);return a}union(i){let a=this.clone();return a.addAll(i),a}clone(){let i=new Mu(this.compare,this.validKey);return i.size=this.size,i.root=this.copyNode(this.root),i}copyNode(i){if(i==null)return null;function a(g,x){let k,E;do{if(k=g.left,E=g.right,k!=null){let T=new Vr(k.key);x.left=T,a(k,T)}if(E!=null){let T=new Vr(E.key);x.right=T,g=E,x=T}}while(E!=null)}let d=new Vr(i.key);return a(i,d),d}toSet(){return this.clone()}entries(){return new qu(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Wu(this.wrap())}[Symbol.toStringTag]="[object Set]"},Da=class{tree;path=new Array;modificationCount=null;splayCount;constructor(r){this.tree=r,this.splayCount=r.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let r=this.path[this.path.length-1];return this.getValue(r)}rebuildPath(r){this.path.splice(0,this.path.length),this.tree.splay(r),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(r){for(;r!=null;)this.path.push(r),r=r.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let a=this.tree.getRoot();for(;a!=null;)this.path.push(a),a=a.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let r=this.path[this.path.length-1],i=r.right;if(i!=null){for(;i!=null;)this.path.push(i),i=i.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===r;)r=this.path.pop();return this.path.length>0}},Wu=class extends Da{getValue(r){return r.key}},qu=class extends Da{getValue(r){return[r.key,r.key]}},Aa=r=>()=>r,Cl=r=>{let i=r?(a,d)=>d.minus(a).abs().isLessThanOrEqualTo(r):Aa(!1);return(a,d)=>i(a,d)?0:a.comparedTo(d)};function Di(r){let i=r?(a,d,g,x,k)=>a.exponentiatedBy(2).isLessThanOrEqualTo(x.minus(d).exponentiatedBy(2).plus(k.minus(g).exponentiatedBy(2)).times(r)):Aa(!1);return(a,d,g)=>{let x=a.x,k=a.y,E=g.x,T=g.y,A=k.minus(T).times(d.x.minus(E)).minus(x.minus(E).times(d.y.minus(T)));return i(A,x,k,E,T)?0:A.comparedTo(0)}}var Ll=r=>r,su=r=>{if(r){let i=new kn(Cl(r)),a=new kn(Cl(r)),d=(x,k)=>k.addAndReturn(x),g=x=>({x:d(x.x,i),y:d(x.y,a)});return g({x:new Gt(0),y:new Gt(0)}),g}return Ll},kl=r=>({set:i=>{Ai=kl(i)},reset:()=>kl(r),compare:Cl(r),snap:su(r),orient:Di(r)}),Ai=kl(),Mr=(r,i)=>r.ll.x.isLessThanOrEqualTo(i.x)&&i.x.isLessThanOrEqualTo(r.ur.x)&&r.ll.y.isLessThanOrEqualTo(i.y)&&i.y.isLessThanOrEqualTo(r.ur.y),Cs=(r,i)=>{if(i.ur.x.isLessThan(r.ll.x)||r.ur.x.isLessThan(i.ll.x)||i.ur.y.isLessThan(r.ll.y)||r.ur.y.isLessThan(i.ll.y))return null;let a=r.ll.x.isLessThan(i.ll.x)?i.ll.x:r.ll.x,d=r.ur.x.isLessThan(i.ur.x)?r.ur.x:i.ur.x,g=r.ll.y.isLessThan(i.ll.y)?i.ll.y:r.ll.y,x=r.ur.y.isLessThan(i.ur.y)?r.ur.y:i.ur.y;return{ll:{x:a,y:g},ur:{x:d,y:x}}},Ri=(r,i)=>r.x.times(i.y).minus(r.y.times(i.x)),Ra=(r,i)=>r.x.times(i.x).plus(r.y.times(i.y)),Qs=r=>Ra(r,r).sqrt(),Br=(r,i,a)=>{let d={x:i.x.minus(r.x),y:i.y.minus(r.y)},g={x:a.x.minus(r.x),y:a.y.minus(r.y)};return Ri(g,d).div(Qs(g)).div(Qs(d))},jr=(r,i,a)=>{let d={x:i.x.minus(r.x),y:i.y.minus(r.y)},g={x:a.x.minus(r.x),y:a.y.minus(r.y)};return Ra(g,d).div(Qs(g)).div(Qs(d))},Ls=(r,i,a)=>i.y.isZero()?null:{x:r.x.plus(i.x.div(i.y).times(a.minus(r.y))),y:a},li=(r,i,a)=>i.x.isZero()?null:{x:a,y:r.y.plus(i.y.div(i.x).times(a.minus(r.x)))},Oi=(r,i,a,d)=>{if(i.x.isZero())return li(a,d,r.x);if(d.x.isZero())return li(r,i,a.x);if(i.y.isZero())return Ls(a,d,r.y);if(d.y.isZero())return Ls(r,i,a.y);let g=Ri(i,d);if(g.isZero())return null;let x={x:a.x.minus(r.x),y:a.y.minus(r.y)},k=Ri(x,i).div(g),E=Ri(x,d).div(g),T=r.x.plus(E.times(i.x)),A=a.x.plus(k.times(d.x)),q=r.y.plus(E.times(i.y)),V=a.y.plus(k.times(d.y)),ae=T.plus(A).div(2),ce=q.plus(V).div(2);return{x:ae,y:ce}},Dn=class T0{point;isLeft;segment;otherSE;consumedBy;static compare(i,a){let d=T0.comparePoints(i.point,a.point);return d!==0?d:(i.point!==a.point&&i.link(a),i.isLeft!==a.isLeft?i.isLeft?1:-1:Oa.compare(i.segment,a.segment))}static comparePoints(i,a){return i.x.isLessThan(a.x)?-1:i.x.isGreaterThan(a.x)?1:i.y.isLessThan(a.y)?-1:i.y.isGreaterThan(a.y)?1:0}constructor(i,a){i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=a}link(i){if(i.point===this.point)throw new Error("Tried to link already linked events");let a=i.point.events;for(let d=0,g=a.length;d<g;d++){let x=a[d];this.point.events.push(x),x.point=this.point}this.checkForConsuming()}checkForConsuming(){let i=this.point.events.length;for(let a=0;a<i;a++){let d=this.point.events[a];if(d.segment.consumedBy===void 0)for(let g=a+1;g<i;g++){let x=this.point.events[g];x.consumedBy===void 0&&d.otherSE.point.events===x.otherSE.point.events&&d.segment.consume(x.segment)}}}getAvailableLinkedEvents(){let i=[];for(let a=0,d=this.point.events.length;a<d;a++){let g=this.point.events[a];g!==this&&!g.segment.ringOut&&g.segment.isInResult()&&i.push(g)}return i}getLeftmostComparator(i){let a=new Map,d=g=>{let x=g.otherSE;a.set(g,{sine:Br(this.point,i.point,x.point),cosine:jr(this.point,i.point,x.point)})};return(g,x)=>{a.has(g)||d(g),a.has(x)||d(x);let{sine:k,cosine:E}=a.get(g),{sine:T,cosine:A}=a.get(x);return k.isGreaterThanOrEqualTo(0)&&T.isGreaterThanOrEqualTo(0)?E.isLessThan(A)?1:E.isGreaterThan(A)?-1:0:k.isLessThan(0)&&T.isLessThan(0)?E.isLessThan(A)?-1:E.isGreaterThan(A)?1:0:T.isLessThan(k)?-1:T.isGreaterThan(k)?1:0}}},Vu=class Xd{events;poly;_isExteriorRing;_enclosingRing;static factory(i){let a=[];for(let d=0,g=i.length;d<g;d++){let x=i[d];if(!x.isInResult()||x.ringOut)continue;let k=null,E=x.leftSE,T=x.rightSE,A=[E],q=E.point,V=[];for(;k=E,E=T,A.push(E),E.point!==q;)for(;;){let ae=E.getAvailableLinkedEvents();if(ae.length===0){let De=A[0].point,qe=A[A.length-1].point;throw new Error(`Unable to complete output ring starting at [${De.x}, ${De.y}]. Last matching segment found ends at [${qe.x}, ${qe.y}].`)}if(ae.length===1){T=ae[0].otherSE;break}let ce=null;for(let De=0,qe=V.length;De<qe;De++)if(V[De].point===E.point){ce=De;break}if(ce!==null){let De=V.splice(ce)[0],qe=A.splice(De.index);qe.unshift(qe[0].otherSE),a.push(new Xd(qe.reverse()));continue}V.push({index:A.length,point:E.point});let Pe=E.getLeftmostComparator(k);T=ae.sort(Pe)[0].otherSE;break}a.push(new Xd(A))}return a}constructor(i){this.events=i;for(let a=0,d=i.length;a<d;a++)i[a].segment.ringOut=this;this.poly=null}getGeom(){let i=this.events[0].point,a=[i];for(let A=1,q=this.events.length-1;A<q;A++){let V=this.events[A].point,ae=this.events[A+1].point;Ai.orient(V,i,ae)!==0&&(a.push(V),i=V)}if(a.length===1)return null;let d=a[0],g=a[1];Ai.orient(d,i,g)===0&&a.shift(),a.push(a[0]);let x=this.isExteriorRing()?1:-1,k=this.isExteriorRing()?0:a.length-1,E=this.isExteriorRing()?a.length:-1,T=[];for(let A=k;A!=E;A+=x)T.push([a[A].x.toNumber(),a[A].y.toNumber()]);return T}isExteriorRing(){if(this._isExteriorRing===void 0){let i=this.enclosingRing();this._isExteriorRing=i?!i.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let i=this.events[0];for(let g=1,x=this.events.length;g<x;g++){let k=this.events[g];Dn.compare(i,k)>0&&(i=k)}let a=i.segment.prevInResult(),d=a?a.prevInResult():null;for(;;){if(!a)return null;if(!d)return a.ringOut;if(d.ringOut!==a.ringOut)return d.ringOut?.enclosingRing()!==a.ringOut?a.ringOut:a.ringOut?.enclosingRing();a=d.prevInResult(),d=a?a.prevInResult():null}}},El=class{exteriorRing;interiorRings;constructor(r){this.exteriorRing=r,r.poly=this,this.interiorRings=[]}addInterior(r){this.interiorRings.push(r),r.poly=this}getGeom(){let r=this.exteriorRing.getGeom();if(r===null)return null;let i=[r];for(let a=0,d=this.interiorRings.length;a<d;a++){let g=this.interiorRings[a].getGeom();g!==null&&i.push(g)}return i}},ou=class{rings;polys;constructor(r){this.rings=r,this.polys=this._composePolys(r)}getGeom(){let r=[];for(let i=0,a=this.polys.length;i<a;i++){let d=this.polys[i].getGeom();d!==null&&r.push(d)}return r}_composePolys(r){let i=[];for(let a=0,d=r.length;a<d;a++){let g=r[a];if(!g.poly)if(g.isExteriorRing())i.push(new El(g));else{let x=g.enclosingRing();x?.poly||i.push(new El(x)),x?.poly?.addInterior(g)}}return i}},dr=class{queue;tree;segments;constructor(r,i=Oa.compare){this.queue=r,this.tree=new kn(i),this.segments=[]}process(r){let i=r.segment,a=[];if(r.consumedBy)return r.isLeft?this.queue.delete(r.otherSE):this.tree.delete(i),a;r.isLeft&&this.tree.add(i);let d=i,g=i;do d=this.tree.lastBefore(d);while(d!=null&&d.consumedBy!=null);do g=this.tree.firstAfter(g);while(g!=null&&g.consumedBy!=null);if(r.isLeft){let x=null;if(d){let E=d.getIntersection(i);if(E!==null&&(i.isAnEndpoint(E)||(x=E),!d.isAnEndpoint(E))){let T=this._splitSafely(d,E);for(let A=0,q=T.length;A<q;A++)a.push(T[A])}}let k=null;if(g){let E=g.getIntersection(i);if(E!==null&&(i.isAnEndpoint(E)||(k=E),!g.isAnEndpoint(E))){let T=this._splitSafely(g,E);for(let A=0,q=T.length;A<q;A++)a.push(T[A])}}if(x!==null||k!==null){let E=null;x===null?E=k:k===null?E=x:E=Dn.comparePoints(x,k)<=0?x:k,this.queue.delete(i.rightSE),a.push(i.rightSE);let T=i.split(E);for(let A=0,q=T.length;A<q;A++)a.push(T[A])}a.length>0?(this.tree.delete(i),a.push(r)):(this.segments.push(i),i.prev=d)}else{if(d&&g){let x=d.getIntersection(g);if(x!==null){if(!d.isAnEndpoint(x)){let k=this._splitSafely(d,x);for(let E=0,T=k.length;E<T;E++)a.push(k[E])}if(!g.isAnEndpoint(x)){let k=this._splitSafely(g,x);for(let E=0,T=k.length;E<T;E++)a.push(k[E])}}}this.tree.delete(i)}return a}_splitSafely(r,i){this.tree.delete(r);let a=r.rightSE;this.queue.delete(a);let d=r.split(i);return d.push(a),r.consumedBy===void 0&&this.tree.add(r),d}},fr=class{type;numMultiPolys;run(r,i,a){Ht.type=r;let d=[new lu(i,!0)];for(let T=0,A=a.length;T<A;T++)d.push(new lu(a[T],!1));if(Ht.numMultiPolys=d.length,Ht.type==="difference"){let T=d[0],A=1;for(;A<d.length;)Cs(d[A].bbox,T.bbox)!==null?A++:d.splice(A,1)}if(Ht.type==="intersection")for(let T=0,A=d.length;T<A;T++){let q=d[T];for(let V=T+1,ae=d.length;V<ae;V++)if(Cs(q.bbox,d[V].bbox)===null)return[]}let g=new kn(Dn.compare);for(let T=0,A=d.length;T<A;T++){let q=d[T].getSweepEvents();for(let V=0,ae=q.length;V<ae;V++)g.add(q[V])}let x=new dr(g),k=null;for(g.size!=0&&(k=g.first(),g.delete(k));k;){let T=x.process(k);for(let A=0,q=T.length;A<q;A++){let V=T[A];V.consumedBy===void 0&&g.add(V)}g.size!=0?(k=g.first(),g.delete(k)):k=null}Ai.reset();let E=Vu.factory(x.segments);return new ou(E).getGeom()}},Ht=new fr,$n=Ht,Gu=0,Oa=class Oc{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(i,a){let d=i.leftSE.point.x,g=a.leftSE.point.x,x=i.rightSE.point.x,k=a.rightSE.point.x;if(k.isLessThan(d))return 1;if(x.isLessThan(g))return-1;let E=i.leftSE.point.y,T=a.leftSE.point.y,A=i.rightSE.point.y,q=a.rightSE.point.y;if(d.isLessThan(g)){if(T.isLessThan(E)&&T.isLessThan(A))return 1;if(T.isGreaterThan(E)&&T.isGreaterThan(A))return-1;let V=i.comparePoint(a.leftSE.point);if(V<0)return 1;if(V>0)return-1;let ae=a.comparePoint(i.rightSE.point);return ae!==0?ae:-1}if(d.isGreaterThan(g)){if(E.isLessThan(T)&&E.isLessThan(q))return-1;if(E.isGreaterThan(T)&&E.isGreaterThan(q))return 1;let V=a.comparePoint(i.leftSE.point);if(V!==0)return V;let ae=i.comparePoint(a.rightSE.point);return ae<0?1:ae>0?-1:1}if(E.isLessThan(T))return-1;if(E.isGreaterThan(T))return 1;if(x.isLessThan(k)){let V=a.comparePoint(i.rightSE.point);if(V!==0)return V}if(x.isGreaterThan(k)){let V=i.comparePoint(a.rightSE.point);if(V<0)return 1;if(V>0)return-1}if(!x.eq(k)){let V=A.minus(E),ae=x.minus(d),ce=q.minus(T),Pe=k.minus(g);if(V.isGreaterThan(ae)&&ce.isLessThan(Pe))return 1;if(V.isLessThan(ae)&&ce.isGreaterThan(Pe))return-1}return x.isGreaterThan(k)?1:x.isLessThan(k)||A.isLessThan(q)?-1:A.isGreaterThan(q)?1:i.id<a.id?-1:i.id>a.id?1:0}constructor(i,a,d,g){this.id=++Gu,this.leftSE=i,i.segment=this,i.otherSE=a,this.rightSE=a,a.segment=this,a.otherSE=i,this.rings=d,this.windings=g}static fromRing(i,a,d){let g,x,k,E=Dn.comparePoints(i,a);if(E<0)g=i,x=a,k=1;else if(E>0)g=a,x=i,k=-1;else throw new Error(`Tried to create degenerate segment at [${i.x}, ${i.y}]`);let T=new Dn(g,!0),A=new Dn(x,!1);return new Oc(T,A,[d],[k])}replaceRightSE(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let i=this.leftSE.point.y,a=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i.isLessThan(a)?i:a},ur:{x:this.rightSE.point.x,y:i.isGreaterThan(a)?i:a}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(i){return i.x.eq(this.leftSE.point.x)&&i.y.eq(this.leftSE.point.y)||i.x.eq(this.rightSE.point.x)&&i.y.eq(this.rightSE.point.y)}comparePoint(i){return Ai.orient(this.leftSE.point,i,this.rightSE.point)}getIntersection(i){let a=this.bbox(),d=i.bbox(),g=Cs(a,d);if(g===null)return null;let x=this.leftSE.point,k=this.rightSE.point,E=i.leftSE.point,T=i.rightSE.point,A=Mr(a,E)&&this.comparePoint(E)===0,q=Mr(d,x)&&i.comparePoint(x)===0,V=Mr(a,T)&&this.comparePoint(T)===0,ae=Mr(d,k)&&i.comparePoint(k)===0;if(q&&A)return ae&&!V?k:!ae&&V?T:null;if(q)return V&&x.x.eq(T.x)&&x.y.eq(T.y)?null:x;if(A)return ae&&k.x.eq(E.x)&&k.y.eq(E.y)?null:E;if(ae&&V)return null;if(ae)return k;if(V)return T;let ce=Oi(x,this.vector(),E,i.vector());return ce===null||!Mr(g,ce)?null:Ai.snap(ce)}split(i){let a=[],d=i.events!==void 0,g=new Dn(i,!0),x=new Dn(i,!1),k=this.rightSE;this.replaceRightSE(x),a.push(x),a.push(g);let E=new Oc(g,k,this.rings.slice(),this.windings.slice());return Dn.comparePoints(E.leftSE.point,E.rightSE.point)>0&&E.swapEvents(),Dn.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),d&&(g.checkForConsuming(),x.checkForConsuming()),a}swapEvents(){let i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let a=0,d=this.windings.length;a<d;a++)this.windings[a]*=-1}consume(i){let a=this,d=i;for(;a.consumedBy;)a=a.consumedBy;for(;d.consumedBy;)d=d.consumedBy;let g=Oc.compare(a,d);if(g!==0){if(g>0){let x=a;a=d,d=x}if(a.prev===d){let x=a;a=d,d=x}for(let x=0,k=d.rings.length;x<k;x++){let E=d.rings[x],T=d.windings[x],A=a.rings.indexOf(E);A===-1?(a.rings.push(E),a.windings.push(T)):a.windings[A]+=T}d.rings=null,d.windings=null,d.consumedBy=a,d.leftSE.consumedBy=a.leftSE,d.rightSE.consumedBy=a.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};let a=this._afterState.rings,d=this._afterState.windings,g=this._afterState.multiPolys;for(let E=0,T=this.rings.length;E<T;E++){let A=this.rings[E],q=this.windings[E],V=a.indexOf(A);V===-1?(a.push(A),d.push(q)):d[V]+=q}let x=[],k=[];for(let E=0,T=a.length;E<T;E++){if(d[E]===0)continue;let A=a[E],q=A.poly;if(k.indexOf(q)===-1)if(A.isExterior)x.push(q);else{k.indexOf(q)===-1&&k.push(q);let V=x.indexOf(A.poly);V!==-1&&x.splice(V,1)}}for(let E=0,T=x.length;E<T;E++){let A=x[E].multiPoly;g.indexOf(A)===-1&&g.push(A)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let i=this.beforeState().multiPolys,a=this.afterState().multiPolys;switch($n.type){case"union":{let d=i.length===0,g=a.length===0;this._isInResult=d!==g;break}case"intersection":{let d,g;i.length<a.length?(d=i.length,g=a.length):(d=a.length,g=i.length),this._isInResult=g===$n.numMultiPolys&&d<g;break}case"xor":{let d=Math.abs(i.length-a.length);this._isInResult=d%2===1;break}case"difference":{let d=g=>g.length===1&&g[0].isSubject;this._isInResult=d(i)!==d(a);break}}return this._isInResult}},Sl=class{poly;isExterior;segments;bbox;constructor(r,i,a){if(!Array.isArray(r)||r.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=i,this.isExterior=a,this.segments=[],typeof r[0][0]!="number"||typeof r[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let d=Ai.snap({x:new Gt(r[0][0]),y:new Gt(r[0][1])});this.bbox={ll:{x:d.x,y:d.y},ur:{x:d.x,y:d.y}};let g=d;for(let x=1,k=r.length;x<k;x++){if(typeof r[x][0]!="number"||typeof r[x][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let E=Ai.snap({x:new Gt(r[x][0]),y:new Gt(r[x][1])});E.x.eq(g.x)&&E.y.eq(g.y)||(this.segments.push(Oa.fromRing(g,E,this)),E.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=E.x),E.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=E.y),E.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=E.x),E.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=E.y),g=E)}(!d.x.eq(g.x)||!d.y.eq(g.y))&&this.segments.push(Oa.fromRing(g,d,this))}getSweepEvents(){let r=[];for(let i=0,a=this.segments.length;i<a;i++){let d=this.segments[i];r.push(d.leftSE),r.push(d.rightSE)}return r}},au=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(r,i){if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Sl(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let a=1,d=r.length;a<d;a++){let g=new Sl(r[a],this,!1);g.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=g.bbox.ll.x),g.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=g.bbox.ll.y),g.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=g.bbox.ur.x),g.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=g.bbox.ur.y),this.interiorRings.push(g)}this.multiPoly=i}getSweepEvents(){let r=this.exteriorRing.getSweepEvents();for(let i=0,a=this.interiorRings.length;i<a;i++){let d=this.interiorRings[i].getSweepEvents();for(let g=0,x=d.length;g<x;g++)r.push(d[g])}return r}},lu=class{isSubject;polys;bbox;constructor(r,i){if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof r[0][0][0]=="number"&&(r=[r])}catch{}this.polys=[],this.bbox={ll:{x:new Gt(Number.POSITIVE_INFINITY),y:new Gt(Number.POSITIVE_INFINITY)},ur:{x:new Gt(Number.NEGATIVE_INFINITY),y:new Gt(Number.NEGATIVE_INFINITY)}};for(let a=0,d=r.length;a<d;a++){let g=new au(r[a],this);g.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=g.bbox.ll.x),g.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=g.bbox.ll.y),g.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=g.bbox.ur.x),g.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=g.bbox.ur.y),this.polys.push(g)}this.isSubject=i}getSweepEvents(){let r=[];for(let i=0,a=this.polys.length;i<a;i++){let d=this.polys[i].getSweepEvents();for(let g=0,x=d.length;g<x;g++)r.push(d[g])}return r}},Pl=(r,...i)=>$n.run("intersection",r,i),Zu=(r,...i)=>$n.run("difference",r,i);Ai.set;function Ni(r){let i={type:"Feature"};return i.geometry=r,i}function Io(r){return r.type==="Feature"?r.geometry:r}function Ku(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function Na(r){return Ni({type:"LineString",coordinates:r})}function Ml(r){return Ni({type:"MultiLineString",coordinates:r})}function uu(r){return Ni({type:"Polygon",coordinates:r})}function cu(r){return Ni({type:"MultiPolygon",coordinates:r})}function Fo(r,i){let a=Io(r),d=Io(i),g=Pl(a.coordinates,d.coordinates);return g.length===0?null:g.length===1?uu(g[0]):cu(g)}function $u(r,i){let a=Io(r),d=Io(i),g=Zu(a.coordinates,d.coordinates);return g.length===0?null:g.length===1?uu(g[0]):cu(g)}function Ia(r){return Array.isArray(r)?1+Ia(r[0]):-1}function Bl(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));let i=Ku(r),a=Ia(i),d=[];return a>1?i.forEach(g=>{d.push(Na(g))}):d.push(r),d}function zo(r){let i=[];return r.eachLayer(a=>{i.push(Ku(a.toGeoJSON(15)))}),Ml(i)}en.Cut=en.Polygon.extend({initialize(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let i=L.polygon(r,this.options.pathOptions);i._latlngInfos=this._layer._latlngInfo,this.cut(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:d,originalLayer:g})=>{this._fireCut(g,d,g),this._fireCut(this._map,d,g),g.pm._fireEdit()}),this._editedLayers=[];let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))},cut(r){let i=this._map._layers,a=r._latlngInfos||[];Object.keys(i).map(d=>i[d]).filter(d=>d.pm).filter(d=>!d._pmTempLayer).filter(d=>!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1).filter(d=>d instanceof L.Polyline).filter(d=>d!==r).filter(d=>d.pm.options.allowCutting).filter(d=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(d)>-1:!0).filter(d=>!this._layerGroup.hasLayer(d)).filter(d=>{try{let g=!!Gs(r.toGeoJSON(15),d.toGeoJSON(15)).features.length>0;return g||d instanceof L.Polyline&&!(d instanceof L.Polygon)?g:!!Fo(r.toGeoJSON(15),d.toGeoJSON(15))}catch{return d instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(d=>{let g;if(d instanceof L.Polygon){g=L.polygon(d.getLatLngs());let T=g.getLatLngs();a.forEach(A=>{if(A&&A.snapInfo){let{latlng:q}=A,V=this._calcClosestLayer(q,[g]);if(V&&V.segment&&V.distance<this.options.snapDistance){let{segment:ae}=V;if(ae&&ae.length===2){let{indexPath:ce,parentPath:Pe,newIndex:De}=L.PM.Utils._getIndexFromSegment(T,ae);(ce.length>1?(0,ws.default)(T,Pe):T).splice(De,0,q)}}}})}else g=d;let x=this._cutLayer(r,g),k=L.geoJSON(x,d.options);k.getLayers().length===1&&([k]=k.getLayers()),this._setPane(k,"layerPane");let E=k.addTo(this._map.pm._getContainingLayer());if(E.pm.enable(d.pm.options),E.pm.disable(),d._pmTempLayer=!0,r._pmTempLayer=!0,d.remove(),d.removeFrom(this._map.pm._getContainingLayer()),r.remove(),r.removeFrom(this._map.pm._getContainingLayer()),E.getLayers&&E.getLayers().length===0&&this._map.pm.removeLayer({target:E}),E instanceof L.LayerGroup?(E.eachLayer(T=>{this._addDrawnLayerProp(T)}),this._addDrawnLayerProp(E)):this._addDrawnLayerProp(E),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let T=this.options.layersToCut.indexOf(d);T>-1&&this.options.layersToCut.splice(T,1)}this._editedLayers.push({layer:E,originalLayer:d})})},_cutLayer(r,i){let a=L.geoJSON(),d;if(i instanceof L.Polygon)d=$u(i.toGeoJSON(15),r.toGeoJSON(15));else{let g=Bl(i);g.forEach(x=>{let k=Ba(x,r.toGeoJSON(15)),E;k&&k.features.length>0?E=L.geoJSON(k):E=L.geoJSON(x),E.getLayers().forEach(T=>{Tn(r.toGeoJSON(15),T.toGeoJSON(15))||T.addTo(a)})}),g.length>1?d=zo(a):d=a.toGeoJSON(15)}return d},_change:L.Util.falseFn}),en.Text=en.extend({initialize(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(kt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarkerAfterMoving,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let i=r;i.target=this._hintMarker,this._handleSnapping(i)}},_createMarker(r){if(!r.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let g=this.options.textOptions.className.split(" ");this.textArea.classList.add(...g)}let a=this._createTextIcon(this.textArea),d=new L.Marker(i,{textMarker:!0,_textMarkerOverPM:!0,icon:a});if(this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm){d.pm.textArea=this.textArea,L.setOptions(d.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let g=this.options.textOptions?.focusAfterDraw??!0;d.pm._createTextMarker(g),this.options.textOptions?.text&&d.pm.setText(this.options.textOptions.text)}this._fireCreate(d),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(r){this.enable(),this._hintMarker.setLatLng(r.latlng)},_createTextArea(){let r=document.createElement("textarea");return r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon(r){return L.divIcon({className:"pm-text-marker",html:r})}});var hu={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,sr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let r=this._getDOMElem();r&&(sr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,sr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let r=this._getDOMElem();r&&(sr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(r){let i=r.touches?r.touches[0]:r,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent(r){let i=r.touches?r.touches[0]:r,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent(r){let i={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(i.containerPoint=this._map.mouseEventToContainerPoint(r),i.latlng=this._map.containerPointToLatLng(i.containerPoint)),this._dragMixinOnMouseUp(i),!1},_dragMixinOnMouseDown(r){if(r.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(r);let i=r._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",r);if(this._layer instanceof L.Marker&&(this.options.snappable&&!i&&!a?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let d="resizeableCircleMarker";this._layer instanceof L.Circle&&(d="resizeableCircle"),this.options.snappable&&!i&&!a?this._layer.pm.options[d]||this._initSnappableMarkersDrag():this._layer.pm.options[d]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(r){this._overwriteEventIfItComesFromMarker(r);let i=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(i,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(r){let i=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,i&&L.DomUtil.removeClass(i,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(r){let{latlng:i}=r,a={lat:i.lat-this._tempDragCoord.lat,lng:i.lng-this._tempDragCoord.lng},d=g=>g.map(x=>{if(Array.isArray(x))return d(x);let k={lat:x.lat+a.lat,lng:x.lng+a.lng};return(x.alt||x.alt===0)&&(k.alt=x.alt),k});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let g=d([this._layer.getLatLng()]);this._layer.setLatLng(g[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let g=this._layer.getLatLng();this._layer._snapped&&(g=this._layer._orgLatLng);let x=d([g]);this._layer.setLatLng(x[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let g=d([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(g),this._fireChange(this._layer.getBounds(),"Edit")}else{let g=d(this._layer.getLatLngs());this._layer.setLatLngs(g),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=i,r.layer=this._layer,this._fireDrag(r)},addDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem(){let r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers(r,i){if(this.enabled())return!1;if(!i._fromLayerSync&&this._layer===i.target&&this.options.syncLayersOnDrag){i._fromLayerSync=!0;let a=[];if(L.Util.isArray(this.options.syncLayersOnDrag))a=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(d=>{d instanceof L.LayerGroup&&(a=a.concat(d.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let d in this._parentLayerGroup){let g=this._parentLayerGroup[d];g.pm&&(a=g.pm.getLayers(!0))}return L.Util.isArray(a)&&a.length>0&&(a=a.filter(d=>!!d.pm).filter(d=>!!d.pm.options.draggable),a.forEach(d=>{d!==this._layer&&d.pm[r]&&(d._snapped=!1,d.pm[r](i))})),a.length>0}return!1},_stopDOMImageDrag(r){return r.preventDefault(),!1}},du=hu,fu=B(Xr());function pu(r,i,a,d){return a.unproject(i.transform(a.project(r,d)),d)}function eo(r,i,a){let d=a.getMaxZoom();if(d===1/0&&(d=a.getZoom()),L.Util.isArray(r)){let g=[];return r.forEach(x=>{g.push(eo(x,i,a))}),g}return r instanceof L.LatLng?pu(r,i,a,d):null}function En(r,i){i instanceof L.Layer&&(i=i.getLatLng());let a=r.getMaxZoom();return a===1/0&&(a=r.getZoom()),r.project(i,a)}function ui(r,i){let a=r.getMaxZoom();return a===1/0&&(a=r.getZoom()),r.unproject(i,a)}var mu={_onRotateStart(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=En(this._map,this._rotationOriginLatLng),this._rotationStartPoint=En(this._map,r.target.getLatLng()),this._initialRotateLatLng=Hr(this._layer),this._startAngle=this.getAngle();let i=Hr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,i),this._fireRotationStart(this._map,i)},_onRotate(r){let i=En(this._map,r.target.getLatLng()),a=this._rotationStartPoint,d=this._rotationOriginPoint,g=Math.atan2(i.y-d.y,i.x-d.x)-Math.atan2(a.y-d.y,a.x-d.x);this._layer.setLatLngs(this._rotateLayer(g,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let x=this;function k(q,V=[],ae=-1){if(ae>-1&&V.push(ae),L.Util.isArray(q[0]))q.forEach((ce,Pe)=>k(ce,V.slice(),Pe));else{let ce=V.length>0?(0,fu.default)(x._markers,V):x._markers[0];q.forEach((Pe,De)=>{ce[De].setLatLng(Pe)})}}k(this._layer.getLatLngs());let E=Hr(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(g,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let T=g*180/Math.PI;T=T<0?T+360:T;let A=T+this._startAngle;this._setAngle(A),this._rotationLayer.pm._setAngle(A),this._fireRotation(this._rotationLayer,T,E),this._fireRotation(this._map,T,E),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let i=Hr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Hr(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,i),this._fireRotationEnd(this._map,r,i),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(r,i,a,d,g){let x=En(g,a);return this._matrix=d.clone().rotate(r,x).flip(),eo(i,this._matrix,g)},_setAngle(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),i=r.getCenter();return r.removeFrom(this._layer._map),i},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Ws(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),r),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Hr(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(r){let i=this.getAngle(),a=this._layer.getLatLngs(),d=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(d,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(d,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let g=this.getAngle()-i;g=g<0?g+360:g,this._startAngle=i,this._fireRotation(this._layer,g,a,this._layer),this._fireRotation(this._map||this._layer._map,g,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(r){let i=r-this.getAngle();this.rotateLayer(i)},getAngle(){return this._angle||0},setInitAngle(r){this._setAngle(r)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(r){this._rotationCenter=r,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(r)}},Xu=mu,Ii=L.Class.extend({includes:[du,Co,Xu,Jr],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(r){L.Util.setOptions(this,r)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(r,i){i==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(r,i){let a=i.target,d={layer:this._layer,marker:a,event:i},g="";return r==="move"?g="moveVertexValidation":r==="add"?g="addVertexValidation":r==="remove"&&(g="removeVertexValidation"),this.options[g]&&typeof this.options[g]=="function"&&!this.options[g](d)?(r==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag(r){return r._cancelDragEventChain?(r._latlng=r._cancelDragEventChain,r.update(),!1):!0},_vertexValidationDragEnd(r){return r._cancelDragEventChain?(r._cancelDragEventChain=null,!1):!0}}),Zt=Ii;Zt.LayerGroup=L.Class.extend({initialize(r){this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(d=>this._initLayer(d));let i=d=>{if(d.layer._pmTempLayer)return;this._layers=this.getLayers();let g=this._layers.filter(x=>!x.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in x.pm._parentLayerGroup));g.forEach(x=>{this._initLayer(x)}),g.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(i,100,this),this),this._layerGroup.on("layerremove",d=>{this._removeLayerFromGroup(d.target)},this);let a=d=>{d.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(a,100,this),this)},enable(r,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(a=>{a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.enable(r,i)):a.pm.enable(r)})},disable(r=[]){r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(i=>{i instanceof L.LayerGroup?r.indexOf(i._leaflet_id)===-1&&(r.push(i._leaflet_id),i.pm.disable(r)):i.pm.disable()})},enabled(r=[]){return r.length===0&&(this._layers=this.getLayers()),!!this._layers.find(i=>i instanceof L.LayerGroup?r.indexOf(i._leaflet_id)===-1?(r.push(i._leaflet_id),i.pm.enabled(r)):!1:i.pm.enabled())},toggleEdit(r,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(a=>{a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.toggleEdit(r,i)):a.pm.toggleEdit(r)})},_initLayer(r){let i=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[i]=this._layerGroup},_removeLayerFromGroup(r){if(r.pm&&r.pm._layerGroup){let i=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[i]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(r=>r.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(r=>!!r._map)?._map||null},getLayers(r=!1,i=!0,a=!0,d=[]){let g=[];return r?this._layerGroup.getLayers().forEach(x=>{g.push(x),x instanceof L.LayerGroup&&d.indexOf(x._leaflet_id)===-1&&(d.push(x._leaflet_id),g=g.concat(x.pm.getLayers(!0,!0,!0,d)))}):g=this._layerGroup.getLayers(),a&&(g=g.filter(x=>!(x instanceof L.LayerGroup))),i&&(g=g.filter(x=>!!x.pm),g=g.filter(x=>!x._pmTempLayer),g=g.filter(x=>!L.PM.optIn&&!x.options.pmIgnore||L.PM.optIn&&x.options.pmIgnore===!1)),g},setOptions(r,i=[]){i.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(a=>{a.pm&&(a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.setOptions(r,i)):a.pm.setOptions(r))})}}),Zt.Marker=Zt.extend({_shape:"Marker",initialize(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(r={draggable:!0}){if(L.Util.setOptions(this,r),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(r){let i=r.target;i.remove(),this._fireRemove(i),this._fireRemove(this._map,i)},_onDragStart(){this._map.pm.Draw.Marker._layerIsDragging=!0},_onMarkerDragEnd(){this._map.pm.Draw.Marker._layerIsDragging=!1},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});var ci=B(Xr()),Ju={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let r=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=r.filter((i,a,d)=>d.indexOf(i)===a)},_removeFromCache(r){let i=this.markerCache.indexOf(r);i>-1&&this.markerCache.splice(i,1)},renderLimits(r){this.markerCache.forEach(i=>{r.includes(i)?this._markerGroup.addLayer(i):this._markerGroup.removeLayer(i)})},applyLimitFilters({latlng:r={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let i=[...this._filterClosestMarkers(r)];this.renderLimits(i)},_filterClosestMarkers(r){let i=[...this.markerCache],a=this.options.limitMarkersToCount;return a===-1?i:(i.sort((d,g)=>{let x=d._latlng.distanceTo(r),k=g._latlng.distanceTo(r);return x-k}),i.filter((d,g)=>a>-1?g<a:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(r){this._preventRenderMarkers=!!r}},Fi=Ju;Zt.Line=Zt.extend({includes:[Fi],_shape:"Line",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let r=this._map,i=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(r),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let a=d=>{if(Array.isArray(d[0]))return d.map(a,this);let g=d.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&d.map((x,k)=>{let E=this.isPolygon()?(k+1)%d.length:k+1;return this._createMiddleMarker(g[k],g[E])}),g};this._markers=a(i),this.filterMarkerGroup(),r.addLayer(this._markerGroup)},_createMarker(r){let i=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this.options.rotate?(i.on("dragstart",this._onRotateStart,this),i.on("drag",this._onRotate,this),i.on("dragend",this._onRotateEnd,this)):(i.on("click",this._onVertexClick,this),i.on("dragstart",this._onMarkerDragStart,this),i.on("move",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(i),i},_createMiddleMarker(r,i){if(!r||!i)return!1;let a=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),i.getLatLng()),d=this._createMarker(a),g=L.divIcon({className:"marker-icon marker-icon-middle"});return d.setIcon(g),d.leftM=r,d.rightM=i,r._middleMarkerNext=d,i._middleMarkerPrev=d,d.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),d.on("movestart",this._onMiddleMarkerMoveStart,this),d},_onMiddleMarkerClick(r){let i=r.target;if(!this._vertexValidation("add",r))return;let a=L.divIcon({className:"marker-icon"});i.setIcon(a),this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMoveStart(r){let i=r.target;if(i.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",r)){i.on("move",this._onMiddleMarkerMovePrevent,this);return}i._dragging=!0,this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMovePrevent(r){let i=r.target;this._vertexValidationDrag(i)},_onMiddleMarkerMoveEnd(r){let i=r.target;if(i.off("move",this._onMiddleMarkerMovePrevent,this),i.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(i))return;let a=L.divIcon({className:"marker-icon"});i.setIcon(a),setTimeout(()=>{delete i._dragging},100)},_addMarker(r,i,a){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let d=r.getLatLng(),g=this._layer._latlngs;delete r.leftM,delete r.rightM;let{indexPath:x,index:k,parentPath:E}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),T=x.length>1?(0,ci.default)(g,E):g,A=x.length>1?(0,ci.default)(this._markers,E):this._markers;T.splice(k+1,0,d),A.splice(k+1,0,r),this._layer.setLatLngs(g),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(i,r),this._createMiddleMarker(r,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,d),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Vs(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(r){let i=this._layer,a,d;if(this.options.allowSelfIntersection?a=!1:(d=Vs(this._layer.toGeoJSON(15)),a=d.features.length>0),a){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return a;r?this._flashLayer():(i.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(d)}else i.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return a},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(r,i){r.forEach(a=>{Array.isArray(a)?this._updateDisabledMarkerStyle(a,i):a._icon&&(i&&!this._checkMarkerAllowedToDrag(a)?L.DomUtil.addClass(a._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(a._icon,"vertexmarker-disabled"))})},_removeMarker(r){let i=r.target;if(!this._vertexValidation("remove",r))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Hr(this._layer,this._layer.getLatLngs()));let a=this._layer.getLatLngs(),{indexPath:d,index:g,parentPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!d)return;let k=d.length>1?(0,ci.default)(a,x):a,E=d.length>1?(0,ci.default)(this._markers,x):this._markers,T=x[x.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!T&&(k.length<=2||this.isPolygon()&&k.length<=3)){this._flashLayer();return}k.splice(g,1),this._layer.setLatLngs(a),this.isPolygon()&&k.length<=2&&k.splice(0,k.length);let A=!1;if(k.length<=1&&(k.splice(0,k.length),x.length>1&&d.length>1&&(a=bt(a)),this._layer.setLatLngs(a),this._initMarkers(),A=!0),us(a)||this._layer.remove(),a=bt(a),this._layer.setLatLngs(a),this._markers=bt(this._markers),!A&&(E=d.length>1?(0,ci.default)(this._markers,x):this._markers,i._middleMarkerPrev&&(this._markerGroup.removeLayer(i._middleMarkerPrev),this._removeFromCache(i._middleMarkerPrev)),i._middleMarkerNext&&(this._markerGroup.removeLayer(i._middleMarkerNext),this._removeFromCache(i._middleMarkerNext)),this._markerGroup.removeLayer(i),this._removeFromCache(i),E)){let q,V;if(this.isPolygon()?(q=(g+1)%E.length,V=(g+(E.length-1))%E.length):(V=g-1<0?void 0:g-1,q=g+1>=E.length?void 0:g+1),q!==V){let ae=E[V],ce=E[q];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ae,ce)}E.splice(g,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(i,d),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(r){let i=this._layer.getLatLngs(),a=r.getLatLng(),{indexPath:d,index:g,parentPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),k=d.length>1?(0,ci.default)(i,x):i;a.alt=k[g].alt,k.splice(g,1,a),this._layer.setLatLngs(i)},_getNeighborMarkers(r){let{indexPath:i,index:a,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),g=i.length>1?(0,ci.default)(this._markers,d):this._markers,x=(a+1)%g.length,k=(a+(g.length-1))%g.length,E=g[k],T=g[x];return{prevMarker:E,nextMarker:T}},_checkMarkerAllowedToDrag(r){let{prevMarker:i,nextMarker:a}=this._getNeighborMarkers(r),d=L.polyline([i.getLatLng(),r.getLatLng()]),g=L.polyline([r.getLatLng(),a.getLatLng()]),x=Gs(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(i.getLatLng())&&!A.equals(r.getLatLng())}).length,k=Gs(this._layer.toGeoJSON(15),g.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(a.getLatLng())&&!A.equals(r.getLatLng())}).length;return!(x<1&&k<1)},_onMarkerDragStart(r){let i=r.target;if(this._preventRenderingMarkers(!0),this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",r))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(r,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Hr(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(i):this._markerAllowedToDrag=null},_onMarkerDrag(r){let i=r.target;if(!this._vertexValidationDrag(i))return;let{indexPath:a,index:d,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!a)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(i);let x=a.length>1?(0,ci.default)(this._markers,g):this._markers,k=(d+1)%x.length,E=(d+(x.length-1))%x.length,T=i.getLatLng(),A=x[E].getLatLng(),q=x[k].getLatLng();if(i._middleMarkerNext){let V=L.PM.Utils.calcMiddleLatLng(this._map,T,q);i._middleMarkerNext.setLatLng(V)}if(i._middleMarkerPrev){let V=L.PM.Utils.calcMiddleLatLng(this._map,T,A);i._middleMarkerPrev.setLatLng(V)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let i=r.target;if(this._preventRenderingMarkers(!1),!this._vertexValidationDragEnd(i))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),d=!this.options.allowSelfIntersection&&this.hasSelfIntersection();d&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(d=!1);let g=!this.options.allowSelfIntersection&&d;if(this._fireMarkerDragEnd(r,a,g),g){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(r,a);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(r){let i=r.target;if(i._dragging)return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireVertexClick(r,a)}}),Zt.Polygon=Zt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(r){let{prevMarker:i,nextMarker:a}=this._getNeighborMarkers(r),d=L.polyline([i.getLatLng(),r.getLatLng()]),g=L.polyline([r.getLatLng(),a.getLatLng()]),x=Gs(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(i.getLatLng())&&!A.equals(r.getLatLng())}).length,k=Gs(this._layer.toGeoJSON(15),g.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(a.getLatLng())&&!A.equals(r.getLatLng())}).length;return!(x<1&&k<1)}}),Zt.Rectangle=Zt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let r=this._map,i=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,r.addLayer(this._markerGroup),this._markers=[],this._markers[0]=i.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((a,d)=>{let g=this._cornerMarkers.find(x=>x._index===d);g&&g.setLatLng(a)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(r,i){let a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._index=i,a._pmTempLayer=!0,a.on("click",this._onVertexClick,this),this._markerGroup.addLayer(a),a},_addMarkerEvents(){this._markers[0].forEach(r=>{r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(r){if(!this._vertexValidation("move",r))return;let i=r.target,a=this._cornerMarkers;i._oppositeCornerLatLng=a.find(g=>g._index===(i._index+2)%4).getLatLng(),i._snapped=!1;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(r,d)},_onMarkerDrag(r){let i=r.target;if(!this._vertexValidationDrag(i)||i._index===void 0)return;this._adjustRectangleForMarkerMove(i);let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDrag(r,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let i=r.target;if(!this._vertexValidationDragEnd(i))return;this._cornerMarkers.forEach(d=>{delete d._oppositeCornerLatLng});let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragEnd(r,a),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(r){L.extend(r._origLatLng,r._latlng);let i=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(i),this._adjustAllMarkers(r),this._layer.redraw()},_adjustAllMarkers(r){let i=this._layer.getLatLngs()[0];if(i&&i.length!==4&&i.length>0)i.forEach((a,d)=>{this._cornerMarkers[d].setLatLng(a)}),this._cornerMarkers.slice(i.length).forEach(a=>{a.setLatLng(i[0])});else if(!i||!i.length)console.error("The layer has no LatLngs");else{let a=i.findIndex(d=>r.getLatLng().equals(d));a>-1?(this._cornerMarkers[(r._index+1)%4].setLatLng(i[(a+1)%4]),this._cornerMarkers[(r._index+2)%4].setLatLng(i[(a+2)%4]),this._cornerMarkers[(r._index+3)%4].setLatLng(i[(a+3)%4])):this._cornerMarkers.forEach(d=>{d.setLatLng(i[d._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Ws(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.getAngle(),this._map||this)}}),Zt.CircleMarker=Zt.extend({_shape:"CircleMarker",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let r=this._map;this._helperLayers&&(this._helperLayers.removeFrom(r),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);let i=this._layer.getLatLng(),a=this._layer._radius,d=this._getLatLngOnCircle(i,a);this._centerMarker=this._createCenterMarker(i),this._outerMarker=this._createOuterMarker(d),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(r,i){let a=this._map.project(r),d=L.point(a.x+i,a.y);return this._map.unproject(d)},_createHintLine(r,i){let a=r.getLatLng(),d=i.getLatLng();this._hintline=L.polyline([a,d],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(r){let i=this._createMarker(r);return this.options.draggable?(L.DomUtil.addClass(i._icon,"leaflet-pm-draggable"),i.on("move",this._moveCircle,this)):i.dragging.disable(),i},_createOuterMarker(r){let i=this._createMarker(r);return i.on("drag",this._resizeCircle,this),i},_createMarker(r){let i=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=r,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("click",this._onVertexClick,this),this._helperLayers.addLayer(i),i},_moveCircle(r){if(r.target._cancelDragEventChain)return;let i=this._centerMarker.getLatLng();this._layer.setLatLng(i);let a=this._layer._radius,d=this._getLatLngOnCircle(i,a);this._outerMarker._latlng=d,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let r=this._layer.getLatLng(),i=this._layer._radius,a=this._getLatLngOnCircle(r,i);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(r,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,i])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag(r){let i=r.target;i instanceof L.Marker&&!this._vertexValidationDrag(i)||this._fireMarkerDrag(r)},_onMarkerDragEnd(r){this._extedingMarkerDragEnd();let i=r.target;this._vertexValidationDragEnd(i)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let r=this._layer._map||this._map;if(r){let i=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(i);let d=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!d).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!d),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(r,i);return this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?i=Li(this._map,r,i,this._getMinDistanceInMeter(r)):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(i=Li(this._map,r,i,this._getMaxDistanceInMeter(r))),i},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(r,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(r,i){return this._map.project(r).distanceTo(this._map.project(i))},_getMinDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,r)},_getMaxDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,r)},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),Zt.Circle=Zt.CircleMarker.extend({_shape:"Circle",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(r){L.PM.Edit.CircleMarker.prototype.enable.call(this,r||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(r,i){return this._map.distance(r,i)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),Zt.ImageOverlay=Zt.extend({_shape:"ImageOverlay",initialize(r){this._layer=r,this._enabled=!1},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},enabled(){return this._enabled},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let r=this._layer.getBounds(),i=r.getNorthWest(),a=r.getNorthEast(),d=r.getSouthEast(),g=r.getSouthWest();return[i,a,d,g]}}),Zt.Text=Zt.extend({_shape:"Text",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),document.removeEventListener("click",this._documentClickThis,{capture:!0}),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,i=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${r}px`,this.textArea.style.width=`${i}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&(this._documentClickThis=this._documentClickThis||this._documentClick.bind(this),document.addEventListener("click",this._documentClickThis,{capture:!0}))},100)},_documentClick(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(r={}){let i=this._hasFocus;this._hasFocus=r.type==="focus",!i!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(r){r&&(this.textArea.value=r),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let i=this.options.className.split(" ");this.textArea.classList.add(...i)}let r=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(r),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(r=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(r){r.preventDefault()}});var hi=function(r,i,a,d,g,x){this._matrix=[r,i,a,d,g,x]};hi.init=()=>new L.PM.Matrix(1,0,0,1,0,0),hi.prototype={transform(r){return this._transform(r.clone())},_transform(r){let i=this._matrix,{x:a,y:d}=r;return r.x=i[0]*a+i[1]*d+i[4],r.y=i[2]*a+i[3]*d+i[5],r},untransform(r){let i=this._matrix;return new L.Point((r.x/i[0]-i[4])/i[0],(r.y/i[2]-i[5])/i[2])},clone(){let r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate(r){if(r===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let i,a;return typeof r=="number"?(i=r,a=r):(i=r.x,a=r.y),this._add(1,0,0,1,i,a)},scale(r,i){if(r===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let a,d;return i=i||L.point(0,0),typeof r=="number"?(a=r,d=r):(a=r.x,d=r.y),this._add(a,0,0,d,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},rotate(r,i){let a=Math.cos(r),d=Math.sin(r);return i=i||new L.Point(0,0),this._add(a,d,-d,a,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(r,i,a,d,g,x){let k=[[],[],[]],E=this._matrix,T=[[E[0],E[2],E[4]],[E[1],E[3],E[5]],[0,0,1]],A=[[r,a,g],[i,d,x],[0,0,1]],q;r&&r instanceof L.PM.Matrix&&(E=r._matrix,A=[[E[0],E[2],E[4]],[E[1],E[3],E[5]],[0,0,1]]);for(let V=0;V<3;V+=1)for(let ae=0;ae<3;ae+=1){q=0;for(let ce=0;ce<3;ce+=1)q+=T[V][ce]*A[ce][ae];k[V][ae]=q}return this._matrix=[k[0][0],k[1][0],k[0][1],k[1][1],k[0][2],k[1][2]],this}};var jl=hi,Yu={calcMiddleLatLng(r,i,a){let d=r.project(i),g=r.project(a);return r.unproject(d._add(g)._divideBy(2))},findLayers(r){let i=[];return r.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&i.push(a)}),i=i.filter(a=>!!a.pm),i=i.filter(a=>!a._pmTempLayer),i=i.filter(a=>!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1),i},circleToPolygon(r,i=60,a=!0){let d=r.getLatLng(),g=r.getRadius(),x=Mn(d,g,i,0,a),k=[];for(let E=0;E<x.length;E+=1){let T=[x[E].lat,x[E].lng];k.push(T)}return L.polygon(k,r.options)},disablePopup(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent(r,i,a,d=!1){r.fire(i,a,d);let{groups:g}=this.getAllParentGroups(r);g.forEach(x=>{x.fire(i,a,d)})},getAllParentGroups(r){let i=[],a=[],d=g=>{for(let x in g._eventParents)if(i.indexOf(x)===-1){i.push(x);let k=g._eventParents[x];a.push(k),d(k)}};return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(d(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:i},{groupIds:i,groups:a}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Mn,getTranslation:kt,findDeepCoordIndex(r,i,a=!0){let d,g=k=>(E,T)=>{let A=k.concat(T);if(a){if(E.lat&&E.lat===i.lat&&E.lng===i.lng)return d=A,!0}else if(E.lat&&L.latLng(E).equals(i))return d=A,!0;return Array.isArray(E)&&E.some(g(A))};r.some(g([]));let x={};return d&&(x={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),x},findDeepMarkerIndex(r,i){let a,d=x=>(k,E)=>{let T=x.concat(E);return k._leaflet_id===i._leaflet_id?(a=T,!0):Array.isArray(k)&&k.some(d(T))};r.some(d([]));let g={};return a&&(g={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),g},_getIndexFromSegment(r,i){if(i&&i.length===2){let a=this.findDeepCoordIndex(r,i[0]),d=this.findDeepCoordIndex(r,i[1]),g=Math.max(a.index,d.index);return(a.index===0||d.index===0)&&g!==1&&(g+=1),{indexA:a,indexB:d,newIndex:g,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle(r,i,a,d){let g=En(d,r),x=En(d,i),k=a*Math.PI/180,E=Math.cos(k),T=Math.sin(k),A=(x.x-g.x)*E+(x.y-g.y)*T,q=(x.y-g.y)*E-(x.x-g.x)*T,V=A*E+g.x,ae=A*T+g.y,ce=-q*T+g.x,Pe=q*E+g.y,De=ui(d,g),qe=ui(d,{x:V,y:ae}),Fe=ui(d,x),W=ui(d,{x:ce,y:Pe});return[De,qe,Fe,W]},pxRadiusToMeterRadius(r,i,a){let d=i.project(a),g=L.point(d.x+r,d.y);return i.distance(i.unproject(g),a)}},Tl=Yu;L.PM=L.PM||{version:Vt.version,Map:Ql,Toolbar:or,Draw:en,Edit:Zt,Utils:Tl,Matrix:jl,activeLang:"en",optIn:!1,initialize(r){this.addInitHooks(r)},setOptIn(r){this.optIn=!!r},addInitHooks(){function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(r);function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(i);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(a);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(d);function g(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(g);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(x);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(k);function E(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(E);function T(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(T)},reInitLayer(r){r instanceof L.LayerGroup&&r.eachLayer(i=>{this.reInitLayer(i)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(r){let i=this._map.mouseEventToLayerPoint(r),a,d;for(let g=this._drawFirst;g;g=g.next)a=g.layer,a.options.interactive&&a._containsPoint(i)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(a))&&(d=a);d&&(L.DomEvent.fakeStop(r),this._fireEvent([d],r))}}),L.PM.initialize()})()),pg}qw();const Hd={getAllSectors:async()=>(await ht.get("/admin/sectors")).data,createSector:async o=>(await ht.post("/admin/sectors",o)).data,deleteSector:async o=>(await ht.delete(`/admin/sectors/${o}`)).data},Vw=({isDrawing:o,onPolygonComplete:u})=>{const h=mf();return U.useEffect(()=>{if(h)return h.pm.setLang("uk"),h.on("pm:create",p=>{const{layer:_}=p;if(_ instanceof Bs.Polygon){const v=_.getLatLngs()[0].map(y=>({lat:y.lat,lng:y.lng}));u(v),h.removeLayer(_)}}),()=>h.off("pm:create")},[h,u]),U.useEffect(()=>{o?h.pm.enableDraw("Polygon",{snappable:!0,continueDrawing:!1,hintText:",  .    ,  ."}):h.pm.disableDraw()},[o,h]),null},Gw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!1),[_,v]=U.useState(null),[y,P]=U.useState(""),[B,D]=U.useState(!0),S=[50.45,30.52];U.useEffect(()=>{j()},[]);const j=async()=>{try{const H=await Hd.getAllSectors();u(H)}catch(H){console.error(H)}},F=U.useCallback(H=>{v(H),p(!1)},[]),ie=async()=>{if(!y)return alert("  ");try{await Hd.createSector({name:y,isCity:B,points:_}),P(""),D(!0),v(null),j()}catch{alert(" ")}},K=()=>{v(null),P(""),D(!0)},Z=async H=>{window.confirm("  ?")&&(await Hd.deleteSector(H),j())};return c.jsxs("div",{className:"sectors-page",children:[c.jsxs("div",{className:"sectors-sidebar",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:`add-sector-btn ${h?"cancel":""}`,onClick:()=>{p(!h),v(null)},children:h?" ":"+  "}),_&&c.jsxs("div",{className:"save-sector-box",children:[c.jsx("label",{children:"  !"}),c.jsx("input",{type:"text",placeholder:" ...",value:y,autoFocus:!0,onChange:H=>P(H.target.value)}),c.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"10px 0"},children:[c.jsx("input",{type:"checkbox",id:"chkIsCity",checked:B,onChange:H=>D(H.target.checked),style:{width:"auto",marginRight:"8px"}}),c.jsx("label",{htmlFor:"chkIsCity",style:{marginBottom:0,cursor:"pointer"},children:'  ? ( "")'})]}),!B&&c.jsx("small",{style:{color:"#ff9800"},children:'   " "'}),c.jsxs("div",{className:"box-actions",children:[c.jsx("button",{onClick:ie,className:"save-btn",children:""}),c.jsx("button",{onClick:K,className:"discard-btn",children:""})]})]}),c.jsx("div",{className:"sectors-list",children:o.map(H=>c.jsxs("div",{className:"sector-card",style:{borderLeft:H.isCity?"4px solid #00ffaa":"4px solid #ff9800"},children:[c.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[c.jsx("span",{className:"sector-name",children:H.name}),c.jsx("span",{style:{fontSize:"0.8em",color:"#888"},children:H.isCity?" ":"  "})]}),c.jsx("button",{className:"del-btn",onClick:()=>Z(H.id),children:""})]},H.id))})]}),c.jsx("div",{className:"map-view",children:c.jsxs(gf,{center:S,zoom:11,style:{height:"100%",width:"100%"},children:[c.jsx(_f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.map(H=>c.jsx(ug,{positions:H.points.map(Le=>[Le.lat,Le.lng]),pathOptions:{fillColor:H.isCity?"#00ffaa":"#ff9800",fillOpacity:.2,color:H.isCity?"#00ffaa":"#ff9800",weight:2},children:c.jsx(cg,{permanent:!0,direction:"center",className:"sector-label",children:H.name})},H.id)),_&&c.jsx(ug,{positions:_.map(H=>[H.lat,H.lng]),pathOptions:{fillColor:"#ffcc00",fillOpacity:.4,color:"#ffcc00",weight:3,dashArray:"5, 5"},children:c.jsx(cg,{permanent:!0,direction:"center",className:"sector-label-preview",children:y||" "})}),c.jsx(Vw,{isDrawing:h,onPolygonComplete:F})]})})]})},Zw=async()=>(await ht.get("/admin/ratings")).data,Kw=async o=>(await ht.post(`/admin/ratings/${o}/ignore`)).data,$w=()=>{const[o,u]=U.useState([]),[h,p]=U.useState("ALL"),[_,v]=U.useState(!0);U.useEffect(()=>{y()},[]);const y=async()=>{try{const S=await Zw();u(S)}catch(S){console.error("   ",S)}finally{v(!1)}},P=async S=>{if(window.confirm("    ?"))try{await Kw(S),y()}catch(j){console.error("",j),alert("   ")}},B=()=>o.filter(S=>h==="BAD"?S.score<=3:h==="GOOD"?S.score>3:!0),D=S=>"".repeat(S);return _?c.jsx("div",{className:"page-container",children:"..."}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"header-actions",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[c.jsx("h2",{children:"  "}),c.jsxs("div",{className:"filter-buttons",children:[c.jsx("button",{className:h==="ALL"?"active-btn":"",onClick:()=>p("ALL"),style:{marginRight:"10px",padding:"5px 10px"},children:""}),c.jsx("button",{className:h==="BAD"?"active-btn":"",onClick:()=>p("BAD"),style:{marginRight:"10px",padding:"5px 10px",backgroundColor:"#ffcccc",color:"#000"},children:" (1-3)"}),c.jsx("button",{className:h==="GOOD"?"active-btn":"",onClick:()=>p("GOOD"),style:{padding:"5px 10px",backgroundColor:"#ccffcc",color:"#000"},children:" (4-5)"})]})]}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"custom-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsxs("tbody",{children:[B().map(S=>c.jsxs("tr",{style:{opacity:S.comment?.includes("[IGNORED]")?.5:1},children:[c.jsxs("td",{children:["#",S.id]}),c.jsx("td",{children:S.date||"-"}),c.jsxs("td",{children:["#",S.orderId]}),c.jsx("td",{children:S.driverName||"---"}),c.jsx("td",{children:S.clientName||"---"}),c.jsx("td",{style:{color:"#FFD700",fontWeight:"bold",fontSize:"1.5rem",letterSpacing:"2px",minWidth:"100px",textShadow:"1px 1px 2px rgba(0,0,0,0.2)"},children:D(S.score)}),c.jsx("td",{children:S.comment||"-"}),c.jsx("td",{children:c.jsx("button",{onClick:()=>P(S.id),style:{fontSize:"0.8rem",padding:"4px 8px",cursor:"pointer"},children:""})})]},S.id||Math.random())),B().length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:"8",style:{textAlign:"center"},children:"  "})})]})]})})]})},gg={getFormSchema:async o=>(await ht.get(`/admin/forms/${o}`)).data,saveFormSchema:async(o,u)=>(await ht.put(`/admin/forms/${o}`,u)).data},Xw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),_="add_car";U.useEffect(()=>{v()},[]);const v=async()=>{try{const j=await gg.getFormSchema(_);u(j)}catch(j){console.error(" :",j),alert("  .  .")}finally{p(!1)}},y=()=>{u([...o,{type:"text",name:`field_${Date.now()}`,label:" ",required:!1,options:[]}])},P=j=>{u(o.filter((F,ie)=>ie!==j))},B=(j,F,ie)=>{u(K=>K.map((Z,H)=>H===j?{...Z,[F]:ie}:Z))},D=async()=>{console.log(" ...",o);try{await gg.saveFormSchema(_,o),alert("  !   .")}catch(j){console.error(" :",j),alert(`  : ${j.message||" "}`)}},S=(j,F)=>c.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",marginBottom:"10px",borderRadius:"8px",background:"white"},children:[c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:" "}),c.jsxs("select",{className:"form-input",value:j.type,onChange:ie=>B(F,"type",ie.target.value),children:[c.jsx("option",{value:"text",children:""}),c.jsx("option",{value:"photo",children:""}),c.jsx("option",{value:"select",children:" "})]})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:" (Label)"}),c.jsx("input",{className:"form-input",type:"text",value:j.label,onChange:ie=>B(F,"label",ie.target.value)})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:"  (name, en)"}),c.jsx("input",{className:"form-input",type:"text",value:j.name,onChange:ie=>B(F,"name",ie.target.value),placeholder:"brand, vin..."})]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[c.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:j.required,onChange:ie=>B(F,"required",ie.target.checked)}),c.jsx("span",{style:{marginLeft:"8px"},children:" "})]}),c.jsx("button",{onClick:()=>P(F),style:{marginLeft:"auto",background:"#ffebee",color:"#d32f2f",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer"},children:" "})]}),j.type==="select"&&c.jsxs("div",{style:{marginTop:"10px"},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:" ( )"}),c.jsx("input",{className:"form-input",type:"text",placeholder:", , ",value:j.options?j.options.join(", "):"",onChange:ie=>B(F,"options",ie.target.value.split(",").map(K=>K.trim()))})]})]},F);return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"page-header",children:[c.jsx("h1",{children:"   "}),c.jsx("button",{className:"primary-button",onClick:D,style:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"10px 20px",fontSize:"16px",borderRadius:"5px",cursor:"pointer"},children:"  "})]}),c.jsxs("div",{style:{maxWidth:"800px",marginTop:"20px"},children:[o.map((j,F)=>S(j,F)),c.jsx("button",{onClick:y,style:{width:"100%",padding:"15px",border:"2px dashed #aaa",background:"transparent",color:"#555",borderRadius:"8px",cursor:"pointer",marginTop:"10px"},children:"+  "})]}),c.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"#f0f0f0",borderRadius:"8px"},children:[c.jsx("h3",{children:" ( ):"}),c.jsx("pre",{style:{fontSize:"12px"},children:JSON.stringify(o,null,2)})]})]})},Jw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(null),[y,P]=U.useState(null),[B,D]=U.useState({});U.useEffect(()=>{S()},[]);const S=async()=>{try{const I=await _4();u(I)}catch(I){console.error(" :",I)}finally{p(!1)}},j=I=>{_===I.id?(v(null),D({})):(v(I.id),D({make:I.make,model:I.model,plateNumber:I.plateNumber,color:I.color,year:I.year,carType:I.carType||"Standard",vin:I.vin||""}))},F=I=>{const{name:te,value:J}=I.target;D(Y=>({...Y,[te]:J}))},ie=async I=>{try{await ag(I,B),alert("  !"),S()}catch(te){alert(" : "+te.message)}},K=async(I,te)=>{if(te&&te.stopPropagation(),_===I)try{await ag(I,B)}catch{alert("     ");return}if(window.confirm("  ?"))try{await y4(I),alert("  !"),S(),v(null)}catch(J){alert(": "+J.message)}},Z=async(I,te)=>{te&&te.stopPropagation();const J=prompt("  :");if(J)try{await v4(I,J),alert("  ."),S()}catch(Y){alert(": "+Y.message)}},H=({url:I,label:te})=>{if(!I)return c.jsxs("div",{style:cn.noPhoto,children:[te,c.jsx("br",{}),"()"]});const J=I.startsWith("http")?I:`http://localhost:8080/uploads/${I}`;return c.jsxs("div",{style:cn.photoContainer,onClick:()=>P({url:J,label:te}),children:[c.jsx("img",{src:J,alt:te,style:cn.photoImg}),c.jsx("div",{style:cn.photoLabel,children:te})]})},Le=()=>y?c.jsxs("div",{style:cn.lightboxOverlay,onClick:()=>P(null),children:[c.jsx("button",{style:cn.closeBtn,onClick:()=>P(null),children:""}),c.jsx("img",{src:y.url,alt:"Full",style:cn.lightboxImg,onClick:I=>I.stopPropagation()}),c.jsx("div",{style:cn.lightboxLabel,children:y.label})]}):null;return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"page-container",children:[c.jsx(Le,{}),c.jsxs("div",{className:"page-header",children:[c.jsxs("h1",{children:["   (",o.length,")"]}),c.jsx("button",{onClick:S,className:"secondary-button",children:""})]}),o.length===0?c.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#777"},children:c.jsx("h3",{children:"   "})}):c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:". "}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:o.map(I=>c.jsxs(Bu.Fragment,{children:[c.jsxs("tr",{onClick:()=>j(I),style:{cursor:"pointer",background:_===I.id?"#e3f2fd":"white"},children:[c.jsx("td",{children:I.id}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:I.driver?.fullName||"N/A"}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:I.driver?.phoneNumber})]}),c.jsx("td",{children:_===I.id?c.jsxs("div",{style:{display:"flex",gap:"5px"},children:[c.jsx("input",{name:"make",value:B.make,onChange:F,style:cn.miniInput,placeholder:"",onClick:te=>te.stopPropagation()}),c.jsx("input",{name:"model",value:B.model,onChange:F,style:cn.miniInput,placeholder:"",onClick:te=>te.stopPropagation()})]}):c.jsxs("div",{style:{fontWeight:"bold"},children:[I.make," ",I.model]})}),c.jsx("td",{children:_===I.id?c.jsx("input",{name:"plateNumber",value:B.plateNumber,onChange:F,style:{...cn.miniInput,width:"100px",textTransform:"uppercase"},onClick:te=>te.stopPropagation()}):c.jsx("div",{className:"license-plate",children:I.plateNumber})}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:te=>K(I.id,te),style:cn.btnApprove,children:" "}),c.jsx("button",{onClick:te=>Z(I.id,te),style:cn.btnReject,children:" "})]})})]}),_===I.id&&c.jsx("tr",{children:c.jsx("td",{colSpan:"5",style:{padding:0},children:c.jsxs("div",{style:{padding:"20px",background:"#f8f9fa",borderBottom:"2px solid #ddd"},children:[c.jsx("h4",{style:{marginTop:0,color:"#333"},children:"    "}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:":"}),c.jsx("input",{name:"color",value:B.color,onChange:F,style:cn.input})]}),c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:" :"}),c.jsx("input",{name:"year",type:"number",value:B.year,onChange:F,style:cn.input})]}),c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:" :"}),c.jsxs("select",{name:"carType",value:B.carType,onChange:F,style:cn.input,children:[c.jsx("option",{value:"Standard",children:"Standard"}),c.jsx("option",{value:"Comfort",children:"Comfort"}),c.jsx("option",{value:"Business",children:"Business"}),c.jsx("option",{value:"Minivan",children:"Minivan"})]})]}),c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:"VIN-:"}),c.jsx("input",{name:"vin",value:B.vin,onChange:F,style:cn.input,placeholder:" VIN"})]})]}),c.jsxs("div",{style:{textAlign:"right",marginBottom:"20px"},children:[c.jsx("button",{onClick:()=>ie(I.id),style:cn.btnSave,children:"  "}),c.jsx("span",{style:{marginLeft:"10px",fontSize:"12px",color:"#666"},children:'( "" ,  )'})]}),c.jsx("hr",{style:{border:"0",borderTop:"1px solid #ddd",margin:"20px 0"}}),c.jsx("h4",{style:{color:"#1976D2"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px"},children:[c.jsx(H,{url:I.techPassportFront,label:" ()"}),c.jsx(H,{url:I.techPassportBack,label:" ()"}),c.jsx(H,{url:I.insurancePhoto,label:""})]}),c.jsx("h4",{style:{color:"#388E3C"},children:" '"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px"},children:[c.jsx(H,{url:I.photoFront,label:""}),c.jsx(H,{url:I.photoBack,label:""}),c.jsx(H,{url:I.photoLeft,label:""}),c.jsx(H,{url:I.photoRight,label:""})]}),c.jsx("h4",{style:{color:"#F57C00"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:[c.jsx(H,{url:I.photoSeatsFront,label:" "}),c.jsx(H,{url:I.photoSeatsBack,label:" "})]})]})})})]},I.id))})]})]})},cn={miniInput:{padding:"4px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"13px",width:"80px"},inputGroup:{display:"flex",flexDirection:"column"},input:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px"},btnApprove:{background:"#4CAF50",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},btnReject:{background:"#f44336",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},btnSave:{background:"#2196F3",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},photoContainer:{textAlign:"center",cursor:"zoom-in",border:"1px solid #ddd",padding:"4px",background:"white",borderRadius:"4px"},photoImg:{width:"120px",height:"90px",objectFit:"cover",borderRadius:"2px"},photoLabel:{fontSize:"11px",color:"#555",marginTop:"2px",fontWeight:"bold"},noPhoto:{width:"120px",height:"90px",background:"#f0f0f0",border:"1px dashed #ccc",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",color:"#999"},lightboxOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},closeBtn:{position:"absolute",top:"20px",right:"30px",background:"transparent",border:"none",color:"white",fontSize:"30px",cursor:"pointer"},lightboxImg:{maxWidth:"90%",maxHeight:"80%",borderRadius:"4px",boxShadow:"0 0 20px rgba(255,255,255,0.2)"},lightboxLabel:{marginTop:"15px",color:"white",fontSize:"18px"}},Ss=({url:o,label:u})=>o?c.jsxs("div",{style:{marginRight:"10px",marginBottom:"5px"},children:[c.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",marginBottom:"2px"},children:u}),c.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:o,alt:u,style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"4px",border:"1px solid #ccc"}})})]}):c.jsxs("div",{style:{fontSize:"12px",color:"#999"},children:[u,": "]}),Yw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,v]=U.useState(""),[y,P]=U.useState(!1),[B,D]=U.useState(null),[S,j]=U.useState(""),F=async()=>{p(!0);try{const H=await x4();u(H)}catch(H){v(H.message)}finally{p(!1)}};U.useEffect(()=>{F()},[]);const ie=async H=>{if(window.confirm("  ?     ."))try{await w4(H),alert("  !"),u(Le=>Le.filter(I=>I.id!==H))}catch(Le){alert(Le.message)}},K=H=>{D(H),j(""),P(!0)},Z=async H=>{if(H.preventDefault(),!S)return alert("  ");try{await b4(B,S),alert(" ."),u(Le=>Le.filter(I=>I.id!==B)),P(!1)}catch(Le){alert(Le.message)}};return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["    (",o.length,")"]}),c.jsx("button",{className:"btn-secondary",onClick:F,children:" "})]}),_&&c.jsx("div",{className:"error-message",children:_}),o.length===0?c.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[c.jsx("h3",{children:"  "}),c.jsx("p",{children:"       ."})]}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:o.map(H=>c.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",borderLeft:"5px solid #FFC107"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"15px"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{margin:0,color:"#333"},children:H.fullName}),c.jsxs("div",{style:{color:"#666",marginTop:"5px"},children:[" ",H.phoneNumber," |  ",H.email||" email"]}),c.jsxs("div",{style:{fontSize:"12px",color:"#999",marginTop:"2px"},children:[": ",H.createdAt?new Date(H.createdAt).toLocaleString():"-"]})]}),c.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[c.jsx("button",{className:"btn-danger",onClick:()=>K(H.id),style:{padding:"8px 16px"},children:""}),c.jsx("button",{className:"btn-primary",onClick:()=>ie(H.id),style:{background:"#4CAF50",padding:"8px 16px"},children:" "})]})]}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"30px"},children:[c.jsxs("div",{style:{flex:1,minWidth:"300px"},children:[c.jsx("h4",{style:{marginTop:0,marginBottom:"10px",color:"#1976D2"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(Ss,{url:H.photoUrl,label:""}),c.jsxs("div",{style:{marginTop:"10px",fontSize:"14px"},children:[c.jsxs("div",{children:[c.jsx("strong",{children:":"})," ",H.rnokpp||"-"]}),c.jsxs("div",{children:[c.jsx("strong",{children:":"})," ",H.driverLicense||"-"]})]})]})]}),H.car?c.jsxs("div",{style:{flex:2,minWidth:"300px"},children:[c.jsxs("h4",{style:{marginTop:0,marginBottom:"10px",color:"#388E3C"},children:[" : ",H.car.make," ",H.car.model," (",H.car.year,")"]}),c.jsxs("div",{style:{marginBottom:"10px"},children:[c.jsx("span",{style:{background:"#333",color:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:H.car.plateNumber}),c.jsxs("span",{style:{marginLeft:"10px",color:"#666"},children:["VIN: ",H.car.vin]})]}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"5px"},children:"'"}),c.jsxs("div",{style:{display:"flex"},children:[c.jsx(Ss,{url:H.car.photoFront,label:""}),c.jsx(Ss,{url:H.car.photoBack,label:""}),c.jsx(Ss,{url:H.car.photoLeft,label:""}),c.jsx(Ss,{url:H.car.photoRight,label:""})]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"5px"},children:""}),c.jsxs("div",{style:{display:"flex"},children:[c.jsx(Ss,{url:H.car.photoSeatsFront,label:" ()"}),c.jsx(Ss,{url:H.car.photoSeatsBack,label:" ()"})]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"5px"},children:""}),c.jsxs("div",{style:{display:"flex"},children:[c.jsx(Ss,{url:H.car.techPassportFront,label:" ()"}),c.jsx(Ss,{url:H.car.techPassportBack,label:" ()"}),c.jsx(Ss,{url:H.car.insurancePhoto,label:""})]})]})]})]}):c.jsx("div",{style:{flex:1,color:"#999",fontStyle:"italic"},children:"  "})]})]},H.id))}),c.jsx(Ja,{isOpen:y,onClose:()=>P(!1),title:" ",children:c.jsxs("form",{onSubmit:Z,children:[c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"  (  ):"}),c.jsx("textarea",{rows:"4",style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ccc"},value:S,onChange:H=>j(H.target.value),placeholder:":   ,    ...",required:!0})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>P(!1),children:""}),c.jsx("button",{type:"submit",className:"btn-danger",children:""})]})]})})]})},Qw={backgroundColor:"#ff4d4d",color:"white",fontWeight:"bold",animation:"pulse 1s infinite"},eb=()=>{const{user:o,logout:u}=Kc(),h=o&&o.role==="ADMINISTRATOR",p=Ms();Uc();const[_,v]=U.useState(!1),[y,P]=U.useState([]);return U.useEffect(()=>{const B=new _0("http://localhost:8080/ws-taxi"),D=new s0({webSocketFactory:()=>B,onConnect:()=>{console.log("WS Connected (Global)"),D.subscribe("/topic/admin/sos",S=>{const j=JSON.parse(S.body);console.log("SOS RECEIVED:",j),P(F=>[j,...F]),p.pathname!=="/news"&&v(!0)})},onStompError:S=>{console.error("Broker reported error: "+S.headers.message),console.error("Additional details: "+S.body)}});return D.activate(),()=>D.deactivate()},[p.pathname]),U.useEffect(()=>{p.pathname==="/news"&&v(!1)},[p.pathname]),c.jsxs("div",{className:"dashboard-layout",children:[c.jsxs("header",{className:"dashboard-header",children:[c.jsx("h1",{children:"Taxi-App ()"}),c.jsxs("div",{className:"user-info",children:[c.jsxs("span",{children:[o?.fullName," (",o?.role,")"]}),c.jsx("button",{onClick:u,children:""})]})]}),c.jsxs("nav",{className:"dashboard-nav",children:[c.jsx(Qn,{to:"/",end:!0,children:""}),c.jsx(Qn,{to:"/drivers",children:""}),c.jsx(Qn,{to:"/clients",children:""}),h&&c.jsxs(c.Fragment,{children:[c.jsx(Qn,{to:"/car-requests",className:"nav-item",children:" "}),c.jsxs(Qn,{to:"/news",style:({isActive:B})=>_&&!B?Qw:{},children:[" ",_&&"(!)"]}),c.jsx(Qn,{to:"/driver-requests",className:"nav-item",children:"  "}),c.jsx(Qn,{to:"/ratings",children:""}),c.jsx(Qn,{to:"/services",children:". "}),c.jsx(Qn,{to:"/tariffs",children:""}),c.jsx(Qn,{to:"/dispatchers",children:""}),c.jsx(Qn,{to:"/promos",children:" ()"}),c.jsx(Qn,{to:"/promocodes",children:""}),c.jsx(Qn,{to:"/sectors",children:""}),c.jsx(Qn,{to:"/form-builder",children:" "}),c.jsx(Qn,{to:"/settings",children:""})]})]}),c.jsx("main",{className:"dashboard-content",children:c.jsxs(Sg,{children:[c.jsx(Ot,{path:"/",element:c.jsx(iw,{})}),c.jsx(Ot,{path:"/drivers",element:c.jsx(dw,{})}),c.jsx(Ot,{path:"/clients",element:c.jsx(pw,{})}),h?c.jsxs(c.Fragment,{children:[c.jsx(Ot,{path:"/news",element:c.jsx(Nw,{sosList:y,setSosList:P})}),c.jsx(Ot,{path:"/ratings",element:c.jsx($w,{})}),c.jsx(Ot,{path:"/services",element:c.jsx(Hw,{})}),c.jsx(Ot,{path:"/tariffs",element:c.jsx(gw,{})}),c.jsx(Ot,{path:"/dispatchers",element:c.jsx(bw,{})}),c.jsx(Ot,{path:"/promos",element:c.jsx(Bw,{})}),c.jsx(Ot,{path:"/promocodes",element:c.jsx(Tw,{})}),c.jsx(Ot,{path:"/sectors",element:c.jsx(Gw,{})}),c.jsx(Ot,{path:"/driver-requests",element:c.jsx(Yw,{})}),c.jsx(Ot,{path:"/car-requests",element:c.jsx(Jw,{})}),c.jsx(Ot,{path:"/form-builder",element:c.jsx(Xw,{})}),c.jsx(Ot,{path:"/settings",element:c.jsx(Ww,{})})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ot,{path:"/news",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/ratings",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/services",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/tariffs",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/dispatchers",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/promos",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/promocodes",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/sectors",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/car-requests",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/driver-requests",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/form-builder",element:c.jsx(Or,{to:"/",replace:!0})}),c.jsx(Ot,{path:"/settings",element:c.jsx(Or,{to:"/",replace:!0})})]}),c.jsx(Ot,{path:"*",element:c.jsx("h2",{children:"  "})})]})})]})},tb=({children:o})=>{const{isAuthenticated:u}=Kc(),h=Ms();return u?o:c.jsx(Or,{to:"/login",state:{from:h},replace:!0})},nb=async()=>{try{return(await ht.get("/public/info/car-options")).data}catch(o){return console.error("Error loading car options:",o),{makes:[],colors:[],types:[]}}},Va={padding:"20px",maxWidth:"600px",margin:"0 auto",fontFamily:"Arial, sans-serif",backgroundColor:"#fff",minHeight:"100vh"},Yn={width:"100%",padding:"12px",margin:"8px 0",borderRadius:"8px",border:"1px solid #ddd",boxSizing:"border-box",fontSize:"16px"},sn={fontWeight:"bold",fontSize:"14px",color:"#555",marginTop:"10px",display:"block"},$o={width:"100%",padding:"15px",backgroundColor:"#2E7D32",color:"#fff",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",marginTop:"20px",cursor:"pointer"},ku={marginBottom:"15px",padding:"15px",border:"1px dashed #ccc",borderRadius:"8px",backgroundColor:"#f9f9f9"},Eu={color:"red",fontSize:"14px",marginBottom:"10px"},Fl={fontSize:"22px",fontWeight:"bold",marginBottom:"20px",textAlign:"center",color:"#333"},rb=()=>{const[o,u]=U.useState(0),[h,p]=U.useState(!1),[_,v]=U.useState(""),[y,P]=U.useState({makes:[],colors:[],types:[]}),[B,D]=U.useState([]),[S,j]=U.useState({phoneNumber:"",smsCode:"",password:"",lastName:"",firstName:"",middleName:"",email:"",rnokpp:"",driverLicense:"",make:"",model:"",year:"",color:"",plateNumber:"",vin:"",carType:""}),[F,ie]=U.useState({avatar:null,driverLicenseFront:null,driverLicenseBack:null,techPassportFront:null,techPassportBack:null,insurance:null,carPhoto:null});U.useEffect(()=>{nb().then(he=>P(he))},[]),U.useEffect(()=>{if(S.make){const he=y.makes.find(ge=>ge.name===S.make);D(he?he.models:[])}},[S.make,y]);const K=he=>{const{name:ge,value:oe}=he.target;j(xe=>({...xe,[ge]:oe}))},Z=(he,ge)=>{he.target.files&&he.target.files[0]&&ie(oe=>({...oe,[ge]:he.target.files[0]}))},H=async()=>{if(S.phoneNumber.length<10)return v("  ");p(!0),v("");try{await yx(S.phoneNumber),u(1)}catch(he){v(he.message)}finally{p(!1)}},Le=async()=>{if(S.smsCode.length<4)return v("   SMS");p(!0),v("");try{await vx(S.phoneNumber,S.smsCode),u(2)}catch(he){v(he.message)}finally{p(!1)}},I=()=>{if(!S.lastName||!S.firstName||!S.password)return v(" ' ");if(S.password.length<6)return v("     6 ");v(""),u(3)},te=()=>{if(!S.make||!S.model||!S.plateNumber||!S.year)return v("  ");v(""),u(4)},J=()=>{v(""),u(5)},Y=async()=>{p(!0),v("");try{const he=`${S.lastName} ${S.firstName} ${S.middleName}`.trim(),ge={phoneNumber:S.phoneNumber,smsCode:S.smsCode,password:S.password,fullName:he,email:S.email,rnokpp:S.rnokpp,driverLicense:S.driverLicense,make:S.make,model:S.model,color:S.color,plateNumber:S.plateNumber,vin:S.vin,year:parseInt(S.year),carType:S.carType};await xx(ge,F),u(6)}catch(he){v(he.message)}finally{p(!1)}};return o===0?c.jsxs("div",{style:Va,children:[c.jsx("h2",{style:Fl,children:" "}),c.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:"    "}),c.jsx("label",{style:sn,children:" "}),c.jsx("input",{name:"phoneNumber",type:"tel",placeholder:"+380...",value:S.phoneNumber,onChange:K,style:Yn}),_&&c.jsx("div",{style:Eu,children:_}),c.jsx("button",{onClick:H,disabled:h,style:$o,children:h?"...":""})]}):o===1?c.jsxs("div",{style:Va,children:[c.jsx("h2",{style:Fl,children:""}),c.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:["    ",S.phoneNumber]}),c.jsx("label",{style:sn,children:"  SMS"}),c.jsx("input",{name:"smsCode",type:"number",placeholder:"123456",value:S.smsCode,onChange:K,style:Yn}),_&&c.jsx("div",{style:Eu,children:_}),c.jsx("button",{onClick:Le,disabled:h,style:$o,children:h?"...":""})]}):o===2?c.jsxs("div",{style:Va,children:[c.jsx("h2",{style:Fl,children:" "}),c.jsx("label",{style:sn,children:" *"}),c.jsx("input",{name:"lastName",placeholder:"",value:S.lastName,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:"' *"}),c.jsx("input",{name:"firstName",placeholder:"",value:S.firstName,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:" "}),c.jsx("input",{name:"middleName",placeholder:"",value:S.middleName,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:"Email"}),c.jsx("input",{name:"email",type:"email",placeholder:"example@mail.com",value:S.email,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:" ()"}),c.jsx("input",{name:"rnokpp",placeholder:"1234567890",value:S.rnokpp,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:"  "}),c.jsx("input",{name:"driverLicense",placeholder:"ABC 123456",value:S.driverLicense,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:" *"}),c.jsx("input",{name:"password",type:"password",placeholder:" 6 ",value:S.password,onChange:K,style:Yn}),_&&c.jsx("div",{style:Eu,children:_}),c.jsx("button",{onClick:I,style:$o,children:""})]}):o===3?c.jsxs("div",{style:Va,children:[c.jsx("h2",{style:Fl,children:" "}),c.jsx("label",{style:sn,children:" *"}),c.jsxs("select",{name:"make",value:S.make,onChange:K,style:Yn,children:[c.jsx("option",{value:"",children:" "}),y.makes.map(he=>c.jsx("option",{value:he.name,children:he.name},he.name))]}),c.jsx("label",{style:sn,children:" *"}),c.jsxs("select",{name:"model",value:S.model,onChange:K,style:Yn,disabled:!S.make,children:[c.jsx("option",{value:"",children:" "}),B.map(he=>c.jsx("option",{value:he,children:he},he))]}),c.jsx("label",{style:sn,children:"  *"}),c.jsx("input",{name:"year",type:"number",placeholder:"2018",value:S.year,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:".  *"}),c.jsx("input",{name:"plateNumber",placeholder:"KA 1234 AB",value:S.plateNumber,onChange:K,style:Yn}),c.jsx("label",{style:sn,children:" *"}),c.jsxs("select",{name:"color",value:S.color,onChange:K,style:Yn,children:[c.jsx("option",{value:"",children:" "}),y.colors.map(he=>c.jsx("option",{value:he,children:he},he))]}),c.jsx("label",{style:sn,children:" "}),c.jsx("select",{name:"carType",value:S.carType,onChange:K,style:Yn,children:y.types.map(he=>c.jsx("option",{value:he,children:he},he))}),c.jsx("label",{style:sn,children:"VIN- *"}),c.jsx("input",{name:"vin",placeholder:"XXXXXXXXXXXXXXXXX",value:S.vin,onChange:K,style:Yn}),_&&c.jsx("div",{style:Eu,children:_}),c.jsx("button",{onClick:te,style:$o,children:""})]}):o===4?c.jsxs("div",{style:Va,children:[c.jsx("h2",{style:Fl,children:" "}),c.jsx("p",{style:{color:"#666",fontSize:"14px",marginBottom:"20px"},children:",    (  )."}),c.jsxs("div",{style:ku,children:[c.jsx("label",{style:sn,children:"   ()"}),c.jsx("input",{type:"file",accept:"image/*",onChange:he=>Z(he,"avatar"),style:{marginTop:"10px"}}),F.avatar&&c.jsxs("span",{style:{color:"green",display:"block",marginTop:"5px"},children:["  : ",F.avatar.name]})]}),c.jsxs("div",{style:ku,children:[c.jsx("label",{style:sn,children:"   ()"}),c.jsx("input",{type:"file",accept:"image/*",onChange:he=>Z(he,"driverLicenseFront"),style:{marginTop:"10px"}}),F.driverLicenseFront&&c.jsx("span",{style:{color:"green",display:"block",marginTop:"5px"},children:" "}),c.jsx("label",{style:{...sn,marginTop:"15px"},children:"   ()"}),c.jsx("input",{type:"file",accept:"image/*",onChange:he=>Z(he,"driverLicenseBack"),style:{marginTop:"10px"}}),F.driverLicenseBack&&c.jsx("span",{style:{color:"green",display:"block",marginTop:"5px"},children:" "})]}),c.jsxs("div",{style:ku,children:[c.jsx("label",{style:sn,children:" .  ()"}),c.jsx("input",{type:"file",accept:"image/*",onChange:he=>Z(he,"techPassportFront"),style:{marginTop:"10px"}}),F.techPassportFront&&c.jsx("span",{style:{color:"green",display:"block",marginTop:"5px"},children:" "}),c.jsx("label",{style:{...sn,marginTop:"15px"},children:" .  ()"}),c.jsx("input",{type:"file",accept:"image/*",onChange:he=>Z(he,"techPassportBack"),style:{marginTop:"10px"}}),F.techPassportBack&&c.jsx("span",{style:{color:"green",display:"block",marginTop:"5px"},children:" "})]}),c.jsxs("div",{style:ku,children:[c.jsx("label",{style:sn,children:"  ()"}),c.jsx("input",{type:"file",accept:"image/*",onChange:he=>Z(he,"insurance"),style:{marginTop:"10px"}}),F.insurance&&c.jsx("span",{style:{color:"green",display:"block",marginTop:"5px"},children:" "})]}),c.jsxs("div",{style:ku,children:[c.jsx("label",{style:sn,children:"  "}),c.jsx("input",{type:"file",accept:"image/*",onChange:he=>Z(he,"carPhoto"),style:{marginTop:"10px"}}),F.carPhoto&&c.jsx("span",{style:{color:"green",display:"block",marginTop:"5px"},children:" "})]}),c.jsx("button",{onClick:J,style:$o,children:""})]}):o===5?c.jsxs("div",{style:Va,children:[c.jsx("h2",{style:Fl,children:" "}),c.jsxs("div",{style:{background:"#f9f9f9",padding:"15px",borderRadius:"8px",marginBottom:"15px"},children:[c.jsx("h4",{style:{marginTop:0},children:" "}),c.jsxs("div",{children:[c.jsx("b",{children:":"})," ",S.lastName," ",S.firstName," ",S.middleName]}),c.jsxs("div",{children:[c.jsx("b",{children:":"})," ",S.phoneNumber]})]}),c.jsxs("div",{style:{background:"#f9f9f9",padding:"15px",borderRadius:"8px",marginBottom:"15px"},children:[c.jsx("h4",{style:{marginTop:0},children:" "}),c.jsxs("div",{children:[S.make," ",S.model," (",S.year,")"]}),c.jsxs("div",{children:[c.jsx("b",{children:":"})," ",S.plateNumber]}),c.jsxs("div",{children:[c.jsx("b",{children:":"})," ",S.color]})]}),_&&c.jsx("div",{style:Eu,children:_}),c.jsx("button",{onClick:Y,disabled:h,style:$o,children:h?"...":"  "}),c.jsx("button",{onClick:()=>u(2),style:{...$o,background:"#fff",color:"#333",border:"1px solid #ddd",marginTop:"10px"},children:" ()"})]}):o===6?c.jsxs("div",{style:{...Va,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[c.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),c.jsx("h2",{style:{color:"#2E7D32"},children:" !"}),c.jsxs("p",{style:{textAlign:"center",lineHeight:"1.5",color:"#555"},children:[", ",S.firstName,"!",c.jsx("br",{}),"     .",c.jsx("br",{})," SMS  ."]}),c.jsx("button",{onClick:()=>window.location.href="/registration-success",style:$o,children:""})]}):c.jsx("div",{children:" "})};function ib(){return c.jsx(wx,{children:c.jsxs(Sg,{children:[c.jsx(Ot,{path:"/login",element:c.jsx(bx,{})}),c.jsx(Ot,{path:"/driver-register",element:c.jsx(rb,{})}),c.jsx(Ot,{path:"/*",element:c.jsx(tb,{children:c.jsx(eb,{})})})]})})}v_.createRoot(document.getElementById("root")).render(c.jsx(Bu.StrictMode,{children:c.jsx(Ty,{children:c.jsx(ib,{})})}));
