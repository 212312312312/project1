(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))p(_);new MutationObserver(_=>{for(const y of _)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&p(v)}).observe(document,{childList:!0,subtree:!0});function h(_){const y={};return _.integrity&&(y.integrity=_.integrity),_.referrerPolicy&&(y.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?y.credentials="include":_.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function p(_){if(_.ep)return;_.ep=!0;const y=h(_);fetch(_.href,y)}})();var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tu(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Th={exports:{}},Cu={},Dh={exports:{}},Mt={};var bp;function p_(){if(bp)return Mt;bp=1;var o=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.iterator;function I(ue){return ue===null||typeof ue!="object"?null:(ue=j&&ue[j]||ue["@@iterator"],typeof ue=="function"?ue:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,G={};function Z(ue,Be,ut){this.props=ue,this.context=Be,this.refs=G,this.updater=ut||ne}Z.prototype.isReactComponent={},Z.prototype.setState=function(ue,Be){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,Be,"setState")},Z.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function Se(){}Se.prototype=Z.prototype;function F(ue,Be,ut){this.props=ue,this.context=Be,this.refs=G,this.updater=ut||ne}var te=F.prototype=new Se;te.constructor=F,K(te,Z.prototype),te.isPureReactComponent=!0;var X=Array.isArray,Y=Object.prototype.hasOwnProperty,Pe={current:null},_e={key:!0,ref:!0,__self:!0,__source:!0};function ae(ue,Be,ut){var tt,Qe={},Ye=null,Pt=null;if(Be!=null)for(tt in Be.ref!==void 0&&(Pt=Be.ref),Be.key!==void 0&&(Ye=""+Be.key),Be)Y.call(Be,tt)&&!_e.hasOwnProperty(tt)&&(Qe[tt]=Be[tt]);var kt=arguments.length-2;if(kt===1)Qe.children=ut;else if(1<kt){for(var Rt=Array(kt),vn=0;vn<kt;vn++)Rt[vn]=arguments[vn+2];Qe.children=Rt}if(ue&&ue.defaultProps)for(tt in kt=ue.defaultProps,kt)Qe[tt]===void 0&&(Qe[tt]=kt[tt]);return{$$typeof:o,type:ue,key:Ye,ref:Pt,props:Qe,_owner:Pe.current}}function ve(ue,Be){return{$$typeof:o,type:ue.type,key:Be,ref:ue.ref,props:ue.props,_owner:ue._owner}}function oe(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===o}function De(ue){var Be={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(ut){return Be[ut]})}var Xe=/\/+/g;function Ne(ue,Be){return typeof ue=="object"&&ue!==null&&ue.key!=null?De(""+ue.key):Be.toString(36)}function vt(ue,Be,ut,tt,Qe){var Ye=typeof ue;(Ye==="undefined"||Ye==="boolean")&&(ue=null);var Pt=!1;if(ue===null)Pt=!0;else switch(Ye){case"string":case"number":Pt=!0;break;case"object":switch(ue.$$typeof){case o:case u:Pt=!0}}if(Pt)return Pt=ue,Qe=Qe(Pt),ue=tt===""?"."+Ne(Pt,0):tt,X(Qe)?(ut="",ue!=null&&(ut=ue.replace(Xe,"$&/")+"/"),vt(Qe,Be,ut,"",function(vn){return vn})):Qe!=null&&(oe(Qe)&&(Qe=ve(Qe,ut+(!Qe.key||Pt&&Pt.key===Qe.key?"":(""+Qe.key).replace(Xe,"$&/")+"/")+ue)),Be.push(Qe)),1;if(Pt=0,tt=tt===""?".":tt+":",X(ue))for(var kt=0;kt<ue.length;kt++){Ye=ue[kt];var Rt=tt+Ne(Ye,kt);Pt+=vt(Ye,Be,ut,Rt,Qe)}else if(Rt=I(ue),typeof Rt=="function")for(ue=Rt.call(ue),kt=0;!(Ye=ue.next()).done;)Ye=Ye.value,Rt=tt+Ne(Ye,kt++),Pt+=vt(Ye,Be,ut,Rt,Qe);else if(Ye==="object")throw Be=String(ue),Error("Objects are not valid as a React child (found: "+(Be==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":Be)+"). If you meant to render a collection of children, use an array instead.");return Pt}function jt(ue,Be,ut){if(ue==null)return ue;var tt=[],Qe=0;return vt(ue,tt,"","",function(Ye){return Be.call(ut,Ye,Qe++)}),tt}function Oe(ue){if(ue._status===-1){var Be=ue._result;Be=Be(),Be.then(function(ut){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=ut)},function(ut){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=ut)}),ue._status===-1&&(ue._status=0,ue._result=Be)}if(ue._status===1)return ue._result.default;throw ue._result}var it={current:null},be={transition:null},nt={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:be,ReactCurrentOwner:Pe};function je(){throw Error("act(...) is not supported in production builds of React.")}return Mt.Children={map:jt,forEach:function(ue,Be,ut){jt(ue,function(){Be.apply(this,arguments)},ut)},count:function(ue){var Be=0;return jt(ue,function(){Be++}),Be},toArray:function(ue){return jt(ue,function(Be){return Be})||[]},only:function(ue){if(!oe(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},Mt.Component=Z,Mt.Fragment=h,Mt.Profiler=_,Mt.PureComponent=F,Mt.StrictMode=p,Mt.Suspense=B,Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nt,Mt.act=je,Mt.cloneElement=function(ue,Be,ut){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var tt=K({},ue.props),Qe=ue.key,Ye=ue.ref,Pt=ue._owner;if(Be!=null){if(Be.ref!==void 0&&(Ye=Be.ref,Pt=Pe.current),Be.key!==void 0&&(Qe=""+Be.key),ue.type&&ue.type.defaultProps)var kt=ue.type.defaultProps;for(Rt in Be)Y.call(Be,Rt)&&!_e.hasOwnProperty(Rt)&&(tt[Rt]=Be[Rt]===void 0&&kt!==void 0?kt[Rt]:Be[Rt])}var Rt=arguments.length-2;if(Rt===1)tt.children=ut;else if(1<Rt){kt=Array(Rt);for(var vn=0;vn<Rt;vn++)kt[vn]=arguments[vn+2];tt.children=kt}return{$$typeof:o,type:ue.type,key:Qe,ref:Ye,props:tt,_owner:Pt}},Mt.createContext=function(ue){return ue={$$typeof:v,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:y,_context:ue},ue.Consumer=ue},Mt.createElement=ae,Mt.createFactory=function(ue){var Be=ae.bind(null,ue);return Be.type=ue,Be},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(ue){return{$$typeof:P,render:ue}},Mt.isValidElement=oe,Mt.lazy=function(ue){return{$$typeof:S,_payload:{_status:-1,_result:ue},_init:Oe}},Mt.memo=function(ue,Be){return{$$typeof:D,type:ue,compare:Be===void 0?null:Be}},Mt.startTransition=function(ue){var Be=be.transition;be.transition={};try{ue()}finally{be.transition=Be}},Mt.unstable_act=je,Mt.useCallback=function(ue,Be){return it.current.useCallback(ue,Be)},Mt.useContext=function(ue){return it.current.useContext(ue)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(ue){return it.current.useDeferredValue(ue)},Mt.useEffect=function(ue,Be){return it.current.useEffect(ue,Be)},Mt.useId=function(){return it.current.useId()},Mt.useImperativeHandle=function(ue,Be,ut){return it.current.useImperativeHandle(ue,Be,ut)},Mt.useInsertionEffect=function(ue,Be){return it.current.useInsertionEffect(ue,Be)},Mt.useLayoutEffect=function(ue,Be){return it.current.useLayoutEffect(ue,Be)},Mt.useMemo=function(ue,Be){return it.current.useMemo(ue,Be)},Mt.useReducer=function(ue,Be,ut){return it.current.useReducer(ue,Be,ut)},Mt.useRef=function(ue){return it.current.useRef(ue)},Mt.useState=function(ue){return it.current.useState(ue)},Mt.useSyncExternalStore=function(ue,Be,ut){return it.current.useSyncExternalStore(ue,Be,ut)},Mt.useTransition=function(){return it.current.useTransition()},Mt.version="18.3.1",Mt}var Cp;function Jd(){return Cp||(Cp=1,Dh.exports=p_()),Dh.exports}var Lp;function m_(){if(Lp)return Cu;Lp=1;var o=Jd(),u=Symbol.for("react.element"),h=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,_=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function v(P,B,D){var S,j={},I=null,ne=null;D!==void 0&&(I=""+D),B.key!==void 0&&(I=""+B.key),B.ref!==void 0&&(ne=B.ref);for(S in B)p.call(B,S)&&!y.hasOwnProperty(S)&&(j[S]=B[S]);if(P&&P.defaultProps)for(S in B=P.defaultProps,B)j[S]===void 0&&(j[S]=B[S]);return{$$typeof:u,type:P,key:I,ref:ne,props:j,_owner:_.current}}return Cu.Fragment=h,Cu.jsx=v,Cu.jsxs=v,Cu}var kp;function g_(){return kp||(kp=1,Th.exports=m_()),Th.exports}var c=g_(),U=Jd();const Mu=Tu(U);var xc={},Ah={exports:{}},Ar={},Rh={exports:{}},Oh={};var Ep;function __(){return Ep||(Ep=1,(function(o){function u(be,nt){var je=be.length;be.push(nt);e:for(;0<je;){var ue=je-1>>>1,Be=be[ue];if(0<_(Be,nt))be[ue]=nt,be[je]=Be,je=ue;else break e}}function h(be){return be.length===0?null:be[0]}function p(be){if(be.length===0)return null;var nt=be[0],je=be.pop();if(je!==nt){be[0]=je;e:for(var ue=0,Be=be.length,ut=Be>>>1;ue<ut;){var tt=2*(ue+1)-1,Qe=be[tt],Ye=tt+1,Pt=be[Ye];if(0>_(Qe,je))Ye<Be&&0>_(Pt,Qe)?(be[ue]=Pt,be[Ye]=je,ue=Ye):(be[ue]=Qe,be[tt]=je,ue=tt);else if(Ye<Be&&0>_(Pt,je))be[ue]=Pt,be[Ye]=je,ue=Ye;else break e}}return nt}function _(be,nt){var je=be.sortIndex-nt.sortIndex;return je!==0?je:be.id-nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;o.unstable_now=function(){return y.now()}}else{var v=Date,P=v.now();o.unstable_now=function(){return v.now()-P}}var B=[],D=[],S=1,j=null,I=3,ne=!1,K=!1,G=!1,Z=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(be){for(var nt=h(D);nt!==null;){if(nt.callback===null)p(D);else if(nt.startTime<=be)p(D),nt.sortIndex=nt.expirationTime,u(B,nt);else break;nt=h(D)}}function X(be){if(G=!1,te(be),!K)if(h(B)!==null)K=!0,Oe(Y);else{var nt=h(D);nt!==null&&it(X,nt.startTime-be)}}function Y(be,nt){K=!1,G&&(G=!1,Se(ae),ae=-1),ne=!0;var je=I;try{for(te(nt),j=h(B);j!==null&&(!(j.expirationTime>nt)||be&&!De());){var ue=j.callback;if(typeof ue=="function"){j.callback=null,I=j.priorityLevel;var Be=ue(j.expirationTime<=nt);nt=o.unstable_now(),typeof Be=="function"?j.callback=Be:j===h(B)&&p(B),te(nt)}else p(B);j=h(B)}if(j!==null)var ut=!0;else{var tt=h(D);tt!==null&&it(X,tt.startTime-nt),ut=!1}return ut}finally{j=null,I=je,ne=!1}}var Pe=!1,_e=null,ae=-1,ve=5,oe=-1;function De(){return!(o.unstable_now()-oe<ve)}function Xe(){if(_e!==null){var be=o.unstable_now();oe=be;var nt=!0;try{nt=_e(!0,be)}finally{nt?Ne():(Pe=!1,_e=null)}}else Pe=!1}var Ne;if(typeof F=="function")Ne=function(){F(Xe)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,jt=vt.port2;vt.port1.onmessage=Xe,Ne=function(){jt.postMessage(null)}}else Ne=function(){Z(Xe,0)};function Oe(be){_e=be,Pe||(Pe=!0,Ne())}function it(be,nt){ae=Z(function(){be(o.unstable_now())},nt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(be){be.callback=null},o.unstable_continueExecution=function(){K||ne||(K=!0,Oe(Y))},o.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<be?Math.floor(1e3/be):5},o.unstable_getCurrentPriorityLevel=function(){return I},o.unstable_getFirstCallbackNode=function(){return h(B)},o.unstable_next=function(be){switch(I){case 1:case 2:case 3:var nt=3;break;default:nt=I}var je=I;I=nt;try{return be()}finally{I=je}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(be,nt){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var je=I;I=be;try{return nt()}finally{I=je}},o.unstable_scheduleCallback=function(be,nt,je){var ue=o.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?ue+je:ue):je=ue,be){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=je+Be,be={id:S++,callback:nt,priorityLevel:be,startTime:je,expirationTime:Be,sortIndex:-1},je>ue?(be.sortIndex=je,u(D,be),h(B)===null&&be===h(D)&&(G?(Se(ae),ae=-1):G=!0,it(X,je-ue))):(be.sortIndex=Be,u(B,be),K||ne||(K=!0,Oe(Y))),be},o.unstable_shouldYield=De,o.unstable_wrapCallback=function(be){var nt=I;return function(){var je=I;I=nt;try{return be.apply(this,arguments)}finally{I=je}}}})(Oh)),Oh}var Sp;function y_(){return Sp||(Sp=1,Rh.exports=__()),Rh.exports}var Pp;function v_(){if(Pp)return Ar;Pp=1;var o=Jd(),u=y_();function h(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=new Set,_={};function y(e,n){v(e,n),v(e+"Capture",n)}function v(e,n){for(_[e]=n,e=0;e<n.length;e++)p.add(n[e])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B=Object.prototype.hasOwnProperty,D=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},j={};function I(e){return B.call(j,e)?!0:B.call(S,e)?!1:D.test(e)?j[e]=!0:(S[e]=!0,!1)}function ne(e,n,l,m){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K(e,n,l,m){if(n===null||typeof n>"u"||ne(e,n,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function G(e,n,l,m,b,C,O){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=C,this.removeEmptyString=O}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Z[e]=new G(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Z[n]=new G(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Z[e]=new G(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Z[e]=new G(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Z[e]=new G(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Z[e]=new G(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Z[e]=new G(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Z[e]=new G(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Z[e]=new G(e,5,!1,e.toLowerCase(),null,!1,!1)});var Se=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Se,F);Z[n]=new G(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Se,F);Z[n]=new G(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Se,F);Z[n]=new G(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Z[e]=new G(e,1,!1,e.toLowerCase(),null,!1,!1)}),Z.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Z[e]=new G(e,1,!1,e.toLowerCase(),null,!0,!0)});function te(e,n,l,m){var b=Z.hasOwnProperty(n)?Z[n]:null;(b!==null?b.type!==0:m||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(K(n,l,b,m)&&(l=null),m||b===null?I(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):b.mustUseProperty?e[b.propertyName]=l===null?b.type===3?!1:"":l:(n=b.attributeName,m=b.attributeNamespace,l===null?e.removeAttribute(n):(b=b.type,l=b===3||b===4&&l===!0?"":""+l,m?e.setAttributeNS(m,n,l):e.setAttribute(n,l))))}var X=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),De=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),it=Symbol.for("react.offscreen"),be=Symbol.iterator;function nt(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,ue;function Be(e){if(ue===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ue=n&&n[1]||""}return`
`+ue+e}var ut=!1;function tt(e,n){if(!e||ut)return"";ut=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Le){var m=Le}Reflect.construct(e,[],n)}else{try{n.call()}catch(Le){m=Le}e.call(n.prototype)}else{try{throw Error()}catch(Le){m=Le}e()}}catch(Le){if(Le&&m&&typeof Le.stack=="string"){for(var b=Le.stack.split(`
`),C=m.stack.split(`
`),O=b.length-1,$=C.length-1;1<=O&&0<=$&&b[O]!==C[$];)$--;for(;1<=O&&0<=$;O--,$--)if(b[O]!==C[$]){if(O!==1||$!==1)do if(O--,$--,0>$||b[O]!==C[$]){var ie=`
`+b[O].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=O&&0<=$);break}}}finally{ut=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?Be(e):""}function Qe(e){switch(e.tag){case 5:return Be(e.type);case 16:return Be("Lazy");case 13:return Be("Suspense");case 19:return Be("SuspenseList");case 0:case 2:case 15:return e=tt(e.type,!1),e;case 11:return e=tt(e.type.render,!1),e;case 1:return e=tt(e.type,!0),e;default:return""}}function Ye(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _e:return"Fragment";case Pe:return"Portal";case ve:return"Profiler";case ae:return"StrictMode";case Ne:return"Suspense";case vt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case De:return(e.displayName||"Context")+".Consumer";case oe:return(e._context.displayName||"Context")+".Provider";case Xe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jt:return n=e.displayName||null,n!==null?n:Ye(e.type)||"Memo";case Oe:n=e._payload,e=e._init;try{return Ye(e(n))}catch{}}return null}function Pt(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ye(n);case 8:return n===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vn(e){var n=Rt(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),m=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var b=l.get,C=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return b.call(this)},set:function(O){m=""+O,C.call(this,O)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ji(e){e._valueTracker||(e._valueTracker=vn(e))}function Yi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),m="";return e&&(m=Rt(e)?e.checked?"true":"false":e.value),e=m,e!==l?(n.setValue(e),!0):!1}function Qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,n){var l=n.checked;return je({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function ia(e,n){var l=n.defaultValue==null?"":n.defaultValue,m=n.checked!=null?n.checked:n.defaultChecked;l=kt(n.value!=null?n.value:l),e._wrapperState={initialChecked:m,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function sa(e,n){n=n.checked,n!=null&&te(e,"checked",n,!1)}function es(e,n){sa(e,n);var l=kt(n.value),m=n.type;if(l!=null)m==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(m==="submit"||m==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?co(e,n.type,l):n.hasOwnProperty("defaultValue")&&co(e,n.type,kt(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function vi(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var m=n.type;if(!(m!=="submit"&&m!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function co(e,n,l){(n!=="number"||Qi(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var ts=Array.isArray;function $r(e,n,l,m){if(e=e.options,n){n={};for(var b=0;b<l.length;b++)n["$"+l[b]]=!0;for(l=0;l<e.length;l++)b=n.hasOwnProperty("$"+e[l].value),e[l].selected!==b&&(e[l].selected=b),b&&m&&(e[l].defaultSelected=!0)}else{for(l=""+kt(l),n=null,b=0;b<e.length;b++){if(e[b].value===l){e[b].selected=!0,m&&(e[b].defaultSelected=!0);return}n!==null||e[b].disabled||(n=e[b])}n!==null&&(n.selected=!0)}}function ho(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(h(91));return je({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oa(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(h(92));if(ts(l)){if(1<l.length)throw Error(h(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:kt(l)}}function el(e,n){var l=kt(n.value),m=kt(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),m!=null&&(e.defaultValue=""+m)}function tl(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function fo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function po(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?fo(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var As,aa=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,m,b){MSApp.execUnsafeLocalFunction(function(){return e(n,l,m,b)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=As.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function xi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){rs.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ns[n]=ns[e]})});function la(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||ns.hasOwnProperty(e)&&ns[e]?(""+n).trim():n+"px"}function Rs(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var m=l.indexOf("--")===0,b=la(l,n[l],m);l==="float"&&(l="cssFloat"),m?e.setProperty(l,b):e[l]=b}}var is=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(e,n){if(n){if(is[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(h(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(h(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(h(61))}if(n.style!=null&&typeof n.style!="object")throw Error(h(62))}}function zr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=null;function ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,wi=null,bi=null;function nl(e){if(e=li(e)){if(typeof Os!="function")throw Error(h(280));var n=e.stateNode;n&&(n=Ln(n),Os(e.stateNode,e.type,n))}}function rl(e){wi?bi?bi.push(e):bi=[e]:wi=e}function ha(){if(wi){var e=wi,n=bi;if(bi=wi=null,nl(e),n)for(e=0;e<n.length;e++)nl(n[e])}}function da(e,n){return e(n)}function il(){}var fa=!1;function go(e,n,l){if(fa)return e(n,l);fa=!0;try{return da(e,n,l)}finally{fa=!1,(wi!==null||bi!==null)&&(il(),ha())}}function ss(e,n){var l=e.stateNode;if(l===null)return null;var m=Ln(l);if(m===null)return null;l=m[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(e=e.type,m=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!m;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(h(231,n,typeof l));return l}var pa=!1;if(P)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){pa=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{pa=!1}function Xl(e,n,l,m,b,C,O,$,ie){var Le=Array.prototype.slice.call(arguments,3);try{n.apply(l,Le)}catch(ze){this.onError(ze)}}var xn=!1,st=null,Is=!1,_o=null,ma={onError:function(e){xn=!0,st=e}};function sl(e,n,l,m,b,C,O,$,ie){xn=!1,st=null,Xl.apply(ma,arguments)}function ga(e,n,l,m,b,C,O,$,ie){if(sl.apply(this,arguments),xn){if(xn){var Le=st;xn=!1,st=null}else throw Error(h(198));Is||(Is=!0,_o=Le)}}function Xr(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function Ci(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _a(e){if(Xr(e)!==e)throw Error(h(188))}function Jl(e){var n=e.alternate;if(!n){if(n=Xr(e),n===null)throw Error(h(188));return n!==e?null:e}for(var l=e,m=n;;){var b=l.return;if(b===null)break;var C=b.alternate;if(C===null){if(m=b.return,m!==null){l=m;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===l)return _a(b),e;if(C===m)return _a(b),n;C=C.sibling}throw Error(h(188))}if(l.return!==m.return)l=b,m=C;else{for(var O=!1,$=b.child;$;){if($===l){O=!0,l=b,m=C;break}if($===m){O=!0,m=b,l=C;break}$=$.sibling}if(!O){for($=C.child;$;){if($===l){O=!0,l=C,m=b;break}if($===m){O=!0,m=C,l=b;break}$=$.sibling}if(!O)throw Error(h(189))}}if(l.alternate!==m)throw Error(h(190))}if(l.tag!==3)throw Error(h(188));return l.stateNode.current===l?e:n}function ol(e){return e=Jl(e),e!==null?al(e):null}function al(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=al(e);if(n!==null)return n;e=e.sibling}return null}var ll=u.unstable_scheduleCallback,Fs=u.unstable_cancelCallback,ya=u.unstable_shouldYield,yo=u.unstable_requestPaint,Xt=u.unstable_now,Yl=u.unstable_getCurrentPriorityLevel,va=u.unstable_ImmediatePriority,ul=u.unstable_UserBlockingPriority,vo=u.unstable_NormalPriority,xa=u.unstable_LowPriority,os=u.unstable_IdlePriority,zs=null,er=null;function Jr(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(zs,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:as,Gt=Math.log,Us=Math.LN2;function as(e){return e>>>=0,e===0?32:31-(Gt(e)/Us|0)|0}var Ur=64,ls=4194304;function gt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qt(e,n){var l=e.pendingLanes;if(l===0)return 0;var m=0,b=e.suspendedLanes,C=e.pingedLanes,O=l&268435455;if(O!==0){var $=O&~b;$!==0?m=gt($):(C&=O,C!==0&&(m=gt(C)))}else O=l&~b,O!==0?m=gt(O):C!==0&&(m=gt(C));if(m===0)return 0;if(n!==0&&n!==m&&(n&b)===0&&(b=m&-m,C=n&-n,b>=C||b===16&&(C&4194240)!==0))return n;if((m&4)!==0&&(m|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=m;0<n;)l=31-xt(n),b=1<<l,m|=e[l],n&=~b;return m}function wa(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(e,n){for(var l=e.suspendedLanes,m=e.pingedLanes,b=e.expirationTimes,C=e.pendingLanes;0<C;){var O=31-xt(C),$=1<<O,ie=b[O];ie===-1?(($&l)===0||($&m)!==0)&&(b[O]=wa($,n)):ie<=n&&(e.expiredLanes|=$),C&=~$}}function Pn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cl(){var e=Ur;return Ur<<=1,(Ur&4194240)===0&&(Ur=64),e}function us(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function tr(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-xt(n),e[n]=l}function en(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var m=e.eventTimes;for(e=e.expirationTimes;0<l;){var b=31-xt(l),C=1<<b;n[b]=0,m[b]=-1,e[b]=-1,l&=~C}}function yr(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var m=31-xt(l),b=1<<m;b&n|e[m]&n&&(e[m]|=n),l&=~b}}var Bt=0;function cs(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wo,Li,bo,Co,Hs,Ws=!1,hs=[],nr=null,Hr=null,vr=null,qs=new Map,mt=new Map,hn=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(e,n){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":qs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mt.delete(n.pointerId)}}function ki(e,n,l,m,b,C){return e===null||e.nativeEvent!==C?(e={blockedOn:n,domEventName:l,eventSystemFlags:m,nativeEvent:C,targetContainers:[b]},n!==null&&(n=li(n),n!==null&&Li(n)),e):(e.eventSystemFlags|=m,n=e.targetContainers,b!==null&&n.indexOf(b)===-1&&n.push(b),e)}function Ca(e,n,l,m,b){switch(n){case"focusin":return nr=ki(nr,e,n,l,m,b),!0;case"dragenter":return Hr=ki(Hr,e,n,l,m,b),!0;case"mouseover":return vr=ki(vr,e,n,l,m,b),!0;case"pointerover":var C=b.pointerId;return qs.set(C,ki(qs.get(C)||null,e,n,l,m,b)),!0;case"gotpointercapture":return C=b.pointerId,mt.set(C,ki(mt.get(C)||null,e,n,l,m,b)),!0}return!1}function Lo(e){var n=Vt(e.target);if(n!==null){var l=Xr(n);if(l!==null){if(n=l.tag,n===13){if(n=Ci(l),n!==null){e.blockedOn=n,Hs(e.priority,function(){bo(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=fs(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var m=new l.constructor(l.type,l);ua=m,l.target.dispatchEvent(m),ua=null}else return n=li(l),n!==null&&Li(n),e.blockedOn=l,!1;n.shift()}return!0}function ko(e,n,l){xr(e)&&l.delete(n)}function Vs(){Ws=!1,nr!==null&&xr(nr)&&(nr=null),Hr!==null&&xr(Hr)&&(Hr=null),vr!==null&&xr(vr)&&(vr=null),qs.forEach(ko),mt.forEach(ko)}function Jt(e,n){e.blockedOn===n&&(e.blockedOn=null,Ws||(Ws=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Vs)))}function rr(e){function n(b){return Jt(b,e)}if(0<hs.length){Jt(hs[0],e);for(var l=1;l<hs.length;l++){var m=hs[l];m.blockedOn===e&&(m.blockedOn=null)}}for(nr!==null&&Jt(nr,e),Hr!==null&&Jt(Hr,e),vr!==null&&Jt(vr,e),qs.forEach(n),mt.forEach(n),l=0;l<hn.length;l++)m=hn[l],m.blockedOn===e&&(m.blockedOn=null);for(;0<hn.length&&(l=hn[0],l.blockedOn===null);)Lo(l),l.blockedOn===null&&hn.shift()}var Ei=X.ReactCurrentBatchConfig,Yr=!0;function Ql(e,n,l,m){var b=Bt,C=Ei.transition;Ei.transition=null;try{Bt=1,ds(e,n,l,m)}finally{Bt=b,Ei.transition=C}}function hl(e,n,l,m){var b=Bt,C=Ei.transition;Ei.transition=null;try{Bt=4,ds(e,n,l,m)}finally{Bt=b,Ei.transition=C}}function ds(e,n,l,m){if(Yr){var b=fs(e,n,l,m);if(b===null)t(e,n,m,Et,l),ba(e,m);else if(Ca(b,e,n,l,m))m.stopPropagation();else if(ba(e,m),n&4&&-1<Dt.indexOf(e)){for(;b!==null;){var C=li(b);if(C!==null&&wo(C),C=fs(e,n,l,m),C===null&&t(e,n,m,Et,l),C===b)break;b=C}b!==null&&m.stopPropagation()}else t(e,n,m,null,l)}}var Et=null;function fs(e,n,l,m){if(Et=null,e=ca(m),e=Vt(e),e!==null)if(n=Xr(e),n===null)e=null;else if(l=n.tag,l===13){if(e=Ci(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Et=e,null}function bt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yl()){case va:return 1;case ul:return 4;case vo:case xa:return 16;case os:return 536870912;default:return 16}default:return 16}}var Qr=null,Mn=null,ei=null;function Gs(){if(ei)return ei;var e,n=Mn,l=n.length,m,b="value"in Qr?Qr.value:Qr.textContent,C=b.length;for(e=0;e<l&&n[e]===b[e];e++);var O=l-e;for(m=1;m<=O&&n[l-m]===b[C-m];m++);return ei=b.slice(e,1<m?1-m:void 0)}function Si(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Wr(){return!1}function wn(e){function n(l,m,b,C,O){this._reactName=l,this._targetInst=b,this.type=m,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var $ in e)e.hasOwnProperty($)&&(l=e[$],this[$]=l?l(C):C[$]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ps:Wr,this.isPropagationStopped=Wr,this}return je(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),n}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=wn(ir),Pi=je({},ir,{view:0,detail:0}),eu=wn(Pi),Hn,ka,ms,sr=je({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(Hn=e.screenX-ms.screenX,ka=e.screenY-ms.screenY):ka=Hn=0,ms=e),Hn)},movementY:function(e){return"movementY"in e?e.movementY:ka}}),Ea=wn(sr),dl=je({},sr,{dataTransfer:0}),Eo=wn(dl),tu=je({},Pi,{relatedTarget:0}),tn=wn(tu),Bn=je({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=wn(Bn),gs=je({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ti=wn(gs),Sa=je({},ir,{data:0}),Wn=wn(Sa),fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qn[e])?!!n[e]:!1}function Mi(){return pl}var Vn=je({},Pi,{key:function(e){if(e.key){var n=fl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ml=wn(Vn),Ks=je({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=wn(Ks),Ma=je({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),So=wn(Ma),ru=je({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),gl=wn(ru),_l=je({},sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=wn(_l),jn=[9,13,27,32],or=P&&"CompositionEvent"in window,_s=null;P&&"documentMode"in document&&(_s=document.documentMode);var qr=P&&"TextEvent"in window&&!_s,yl=P&&(!or||_s&&8<_s&&11>=_s),Bi=" ",vl=!1;function ys(e,n){switch(e){case"keyup":return jn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function $s(e,n){switch(e){case"compositionend":return Ba(n);case"keypress":return n.which!==32?null:(vl=!0,Bi);case"textInput":return e=n.data,e===Bi&&vl?null:e;default:return null}}function dn(e,n){if(wr)return e==="compositionend"||!or&&ys(e,n)?(e=Gs(),ei=Mn=Qr=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yl&&n.locale!=="ko"?null:n.data;default:return null}}var vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vs[e.type]:n==="textarea"}function Mo(e,n,l,m){rl(m),n=f(n,"onChange"),0<n.length&&(l=new La("onChange","change",null,l,m),e.push({event:l,listeners:n}))}var Js=null,bn=null;function br(e){Fo(e,0)}function Cr(e){var n=an(e);if(Yi(n))return e}function iu(e,n){if(e==="change")return n}var Lr=!1;if(P){var Cn;if(P){var kr="oninput"in document;if(!kr){var ji=document.createElement("div");ji.setAttribute("oninput","return;"),kr=typeof ji.oninput=="function"}Cn=kr}else Cn=!1;Lr=Cn&&(!document.documentMode||9<document.documentMode)}function xs(){Js&&(Js.detachEvent("onpropertychange",Bo),bn=Js=null)}function Bo(e){if(e.propertyName==="value"&&Cr(bn)){var n=[];Mo(n,bn,e,ca(e)),go(br,n)}}function jo(e,n,l){e==="focusin"?(xs(),Js=n,bn=l,Js.attachEvent("onpropertychange",Bo)):e==="focusout"&&xs()}function ws(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(bn)}function To(e,n){if(e==="click")return Cr(n)}function Ys(e,n){if(e==="input"||e==="change")return Cr(n)}function xl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ar=typeof Object.is=="function"?Object.is:xl;function ni(e,n){if(ar(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),m=Object.keys(n);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var b=l[m];if(!B.call(n,b)||!ar(e[b],n[b]))return!1}return!0}function ja(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ta(e,n){var l=ja(e);e=0;for(var m;l;){if(l.nodeType===3){if(m=e+l.textContent.length,e<=n&&m>=n)return{node:l,offset:n-e};e=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ja(l)}}function wl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Do(){for(var e=window,n=Qi();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Qi(e.document)}return n}function Ao(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function lr(e){var n=Do(),l=e.focusedElem,m=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&wl(l.ownerDocument.documentElement,l)){if(m!==null&&Ao(l)){if(n=m.start,e=m.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var b=l.textContent.length,C=Math.min(m.start,b);m=m.end===void 0?C:Math.min(m.end,b),!e.extend&&C>m&&(b=m,m=C,C=b),b=Ta(l,C);var O=Ta(l,m);b&&O&&(e.rangeCount!==1||e.anchorNode!==b.node||e.anchorOffset!==b.offset||e.focusNode!==O.node||e.focusOffset!==O.offset)&&(n=n.createRange(),n.setStart(b.node,b.offset),e.removeAllRanges(),C>m?(e.addRange(n),e.extend(O.node,O.offset)):(n.setEnd(O.node,O.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ro=P&&"documentMode"in document&&11>=document.documentMode,Gn=null,Er=null,Qs=null,eo=!1;function Oo(e,n,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eo||Gn==null||Gn!==Qi(m)||(m=Gn,"selectionStart"in m&&Ao(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Qs&&ni(Qs,m)||(Qs=m,m=f(Er,"onSelect"),0<m.length&&(n=new La("onSelect","select",null,n,l),e.push({event:n,listeners:m}),n.target=Gn)))}function ri(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var bs={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},ii={},No={};P&&(No=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Ti(e){if(ii[e])return ii[e];if(!bs[e])return e;var n=bs[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in No)return ii[e]=n[l];return e}var Da=Ti("animationend"),Zn=Ti("animationiteration"),Aa=Ti("animationstart"),ur=Ti("transitionend"),Yt=new Map,bl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,n){Yt.set(e,n),y(n,[e])}for(var Di=0;Di<bl.length;Di++){var si=bl[Di],Cl=si.toLowerCase(),su=si[0].toUpperCase()+si.slice(1);Nn(Cl,"on"+su)}Nn(Da,"onAnimationEnd"),Nn(Zn,"onAnimationIteration"),Nn(Aa,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(ur,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),y("onBeforeInput",["compositionend","keypress","textInput","paste"]),y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ai=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function Io(e,n,l){var m=e.type||"unknown-event";e.currentTarget=l,ga(m,n,void 0,e),e.currentTarget=null}function Fo(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var m=e[l],b=m.event;m=m.listeners;e:{var C=void 0;if(n)for(var O=m.length-1;0<=O;O--){var $=m[O],ie=$.instance,Le=$.currentTarget;if($=$.listener,ie!==C&&b.isPropagationStopped())break e;Io(b,$,Le),C=ie}else for(O=0;O<m.length;O++){if($=m[O],ie=$.instance,Le=$.currentTarget,$=$.listener,ie!==C&&b.isPropagationStopped())break e;Io(b,$,Le),C=ie}}}if(Is)throw e=_o,Is=!1,_o=null,e}function It(e,n){var l=n[oi];l===void 0&&(l=n[oi]=new Set);var m=e+"__bubble";l.has(m)||(Ll(n,e,2,!1),l.add(m))}function fn(e,n,l){var m=0;n&&(m|=4),Ll(l,e,m,n)}var to="_reactListening"+Math.random().toString(36).slice(2);function Ls(e){if(!e[to]){e[to]=!0,p.forEach(function(l){l!=="selectionchange"&&(Ai.has(l)||fn(l,!1,e),fn(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[to]||(n[to]=!0,fn("selectionchange",!1,n))}}function Ll(e,n,l,m){switch(bt(n)){case 1:var b=Ql;break;case 4:b=hl;break;default:b=ds}l=b.bind(null,n,l,e),b=void 0,!pa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(b=!0),m?b!==void 0?e.addEventListener(n,l,{capture:!0,passive:b}):e.addEventListener(n,l,!0):b!==void 0?e.addEventListener(n,l,{passive:b}):e.addEventListener(n,l,!1)}function t(e,n,l,m,b){var C=m;if((n&1)===0&&(n&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var $=m.stateNode.containerInfo;if($===b||$.nodeType===8&&$.parentNode===b)break;if(O===4)for(O=m.return;O!==null;){var ie=O.tag;if((ie===3||ie===4)&&(ie=O.stateNode.containerInfo,ie===b||ie.nodeType===8&&ie.parentNode===b))return;O=O.return}for(;$!==null;){if(O=Vt($),O===null)return;if(ie=O.tag,ie===5||ie===6){m=C=O;continue e}$=$.parentNode}}m=m.return}go(function(){var Le=C,ze=ca(l),qe=[];e:{var Ie=Yt.get(e);if(Ie!==void 0){var Je=La,rt=e;switch(e){case"keypress":if(Si(l)===0)break e;case"keydown":case"keyup":Je=ml;break;case"focusin":rt="focus",Je=tn;break;case"focusout":rt="blur",Je=tn;break;case"beforeblur":case"afterblur":Je=tn;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=Eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=So;break;case Da:case Zn:case Aa:Je=nu;break;case ur:Je=gl;break;case"scroll":Je=eu;break;case"wheel":Je=Po;break;case"copy":case"cut":case"paste":Je=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=Pa}var lt=(n&4)!==0,mn=!lt&&e==="scroll",ge=lt?Ie!==null?Ie+"Capture":null:Ie;lt=[];for(var ce=Le,we;ce!==null;){we=ce;var Ge=we.stateNode;if(we.tag===5&&Ge!==null&&(we=Ge,ge!==null&&(Ge=ss(ce,ge),Ge!=null&&lt.push(s(ce,Ge,we)))),mn)break;ce=ce.return}0<lt.length&&(Ie=new Je(Ie,rt,null,l,ze),qe.push({event:Ie,listeners:lt}))}}if((n&7)===0){e:{if(Ie=e==="mouseover"||e==="pointerover",Je=e==="mouseout"||e==="pointerout",Ie&&l!==ua&&(rt=l.relatedTarget||l.fromElement)&&(Vt(rt)||rt[$e]))break e;if((Je||Ie)&&(Ie=ze.window===ze?ze:(Ie=ze.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Je?(rt=l.relatedTarget||l.toElement,Je=Le,rt=rt?Vt(rt):null,rt!==null&&(mn=Xr(rt),rt!==mn||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Je=null,rt=Le),Je!==rt)){if(lt=Ea,Ge="onMouseLeave",ge="onMouseEnter",ce="mouse",(e==="pointerout"||e==="pointerover")&&(lt=Pa,Ge="onPointerLeave",ge="onPointerEnter",ce="pointer"),mn=Je==null?Ie:an(Je),we=rt==null?Ie:an(rt),Ie=new lt(Ge,ce+"leave",Je,l,ze),Ie.target=mn,Ie.relatedTarget=we,Ge=null,Vt(ze)===Le&&(lt=new lt(ge,ce+"enter",rt,l,ze),lt.target=we,lt.relatedTarget=mn,Ge=lt),mn=Ge,Je&&rt)t:{for(lt=Je,ge=rt,ce=0,we=lt;we;we=w(we))ce++;for(we=0,Ge=ge;Ge;Ge=w(Ge))we++;for(;0<ce-we;)lt=w(lt),ce--;for(;0<we-ce;)ge=w(ge),we--;for(;ce--;){if(lt===ge||ge!==null&&lt===ge.alternate)break t;lt=w(lt),ge=w(ge)}lt=null}else lt=null;Je!==null&&M(qe,Ie,Je,lt,!1),rt!==null&&mn!==null&&M(qe,mn,rt,lt,!0)}}e:{if(Ie=Le?an(Le):window,Je=Ie.nodeName&&Ie.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ie.type==="file")var ct=iu;else if(Xs(Ie))if(Lr)ct=Ys;else{ct=ws;var ft=jo}else(Je=Ie.nodeName)&&Je.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(ct=To);if(ct&&(ct=ct(e,Le))){Mo(qe,ct,l,ze);break e}ft&&ft(e,Ie,Le),e==="focusout"&&(ft=Ie._wrapperState)&&ft.controlled&&Ie.type==="number"&&co(Ie,"number",Ie.value)}switch(ft=Le?an(Le):window,e){case"focusin":(Xs(ft)||ft.contentEditable==="true")&&(Gn=ft,Er=Le,Qs=null);break;case"focusout":Qs=Er=Gn=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,Oo(qe,l,ze);break;case"selectionchange":if(Ro)break;case"keydown":case"keyup":Oo(qe,l,ze)}var pt;if(or)e:{switch(e){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else wr?ys(e,l)&&(yt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(yt="onCompositionStart");yt&&(yl&&l.locale!=="ko"&&(wr||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&wr&&(pt=Gs()):(Qr=ze,Mn="value"in Qr?Qr.value:Qr.textContent,wr=!0)),ft=f(Le,yt),0<ft.length&&(yt=new Wn(yt,e,null,l,ze),qe.push({event:yt,listeners:ft}),pt?yt.data=pt:(pt=Ba(l),pt!==null&&(yt.data=pt)))),(pt=qr?$s(e,l):dn(e,l))&&(Le=f(Le,"onBeforeInput"),0<Le.length&&(ze=new Wn("onBeforeInput","beforeinput",null,l,ze),qe.push({event:ze,listeners:Le}),ze.data=pt))}Fo(qe,n)})}function s(e,n,l){return{instance:e,listener:n,currentTarget:l}}function f(e,n){for(var l=n+"Capture",m=[];e!==null;){var b=e,C=b.stateNode;b.tag===5&&C!==null&&(b=C,C=ss(e,l),C!=null&&m.unshift(s(e,C,b)),C=ss(e,n),C!=null&&m.push(s(e,C,b))),e=e.return}return m}function w(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function M(e,n,l,m,b){for(var C=n._reactName,O=[];l!==null&&l!==m;){var $=l,ie=$.alternate,Le=$.stateNode;if(ie!==null&&ie===m)break;$.tag===5&&Le!==null&&($=Le,b?(ie=ss(l,C),ie!=null&&O.unshift(s(l,ie,$))):b||(ie=ss(l,C),ie!=null&&O.push(s(l,ie,$)))),l=l.return}O.length!==0&&e.push({event:n,listeners:O})}var N=/\r\n?/g,ee=/\u0000|\uFFFD/g;function me(e){return(typeof e=="string"?e:""+e).replace(N,`
`).replace(ee,"")}function Ce(e,n,l){if(n=me(n),me(e)!==n&&l)throw Error(h(425))}function Te(){}var Ke=null,dt=null;function wt(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var on=typeof setTimeout=="function"?setTimeout:void 0,nn=typeof clearTimeout=="function"?clearTimeout:void 0,In=typeof Promise=="function"?Promise:void 0,Tn=typeof queueMicrotask=="function"?queueMicrotask:typeof In<"u"?function(e){return In.resolve(null).then(e).catch(ks)}:on;function ks(e){setTimeout(function(){throw e})}function Ra(e,n){var l=n,m=0;do{var b=l.nextSibling;if(e.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(m===0){e.removeChild(b),rr(n);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=b}while(l);rr(n)}function Sr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Fn(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var rn=Math.random().toString(36).slice(2),cr="__reactFiber$"+rn,_n="__reactProps$"+rn,$e="__reactContainer$"+rn,oi="__reactEvents$"+rn,Oa="__reactListeners$"+rn,ai="__reactHandles$"+rn;function Vt(e){var n=e[cr];if(n)return n;for(var l=e.parentNode;l;){if(n=l[$e]||l[cr]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Fn(e);e!==null;){if(l=e[cr])return l;e=Fn(e)}return n}e=l,l=e.parentNode}return null}function li(e){return e=e[cr]||e[$e],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function an(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(h(33))}function Ln(e){return e[_n]||null}var Ri=[],Ut=-1;function Vr(e){return{current:e}}function Ht(e){0>Ut||(e.current=Ri[Ut],Ri[Ut]=null,Ut--)}function Tt(e,n){Ut++,Ri[Ut]=e.current,e.current=n}var Es={},Zt=Vr(Es),Kn=Vr(!1),Gr=Es;function zo(e,n){var l=e.type.contextTypes;if(!l)return Es;var m=e.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===n)return m.__reactInternalMemoizedMaskedChildContext;var b={},C;for(C in l)b[C]=n[C];return m&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=b),b}function kn(e){return e=e.childContextTypes,e!=null}function Na(){Ht(Kn),Ht(Zt)}function Hu(e,n,l){if(Zt.current!==Es)throw Error(h(168));Tt(Zt,n),Tt(Kn,l)}function Wu(e,n,l){var m=e.stateNode;if(n=n.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var b in m)if(!(b in n))throw Error(h(108,Pt(e)||"Unknown",b));return je({},l,m)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Gr=Zt.current,Tt(Zt,e),Tt(Kn,Kn.current),!0}function kl(e,n,l){var m=e.stateNode;if(!m)throw Error(h(169));l?(e=Wu(e,n,Gr),m.__reactInternalMemoizedMergedChildContext=e,Ht(Kn),Ht(Zt),Tt(Zt,e)):Ht(Kn),Tt(Kn,l)}var Oi=null,El=!1,ou=!1;function Sl(e){Oi===null?Oi=[e]:Oi.push(e)}function Ni(e){El=!0,Sl(e)}function Pr(){if(!ou&&Oi!==null){ou=!0;var e=0,n=Bt;try{var l=Oi;for(Bt=1;e<l.length;e++){var m=l[e];do m=m(!0);while(m!==null)}Oi=null,El=!1}catch(b){throw Oi!==null&&(Oi=Oi.slice(e+1)),ll(va,Pr),b}finally{Bt=n,ou=!1}}return null}var Ss=[],Ii=0,Fa=null,no=0,Mr=[],Br=0,Ps=null,ui=1,Fi="";function Dn(e,n){Ss[Ii++]=no,Ss[Ii++]=Fa,Fa=e,no=n}function qu(e,n,l){Mr[Br++]=ui,Mr[Br++]=Fi,Mr[Br++]=Ps,Ps=e;var m=ui;e=Fi;var b=32-xt(m)-1;m&=~(1<<b),l+=1;var C=32-xt(n)+b;if(30<C){var O=b-b%5;C=(m&(1<<O)-1).toString(32),m>>=O,b-=O,ui=1<<32-xt(n)+b|l<<b|m,Fi=C+e}else ui=1<<C|l<<b|m,Fi=e}function Pl(e){e.return!==null&&(Dn(e,1),qu(e,1,0))}function au(e){for(;e===Fa;)Fa=Ss[--Ii],Ss[Ii]=null,no=Ss[--Ii],Ss[Ii]=null;for(;e===Ps;)Ps=Mr[--Br],Mr[Br]=null,Fi=Mr[--Br],Mr[Br]=null,ui=Mr[--Br],Mr[Br]=null}var hr=null,dr=null,Wt=!1,$n=null;function Vu(e,n){var l=pi(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function za(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,hr=e,dr=Sr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,hr=e,dr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Ps!==null?{id:ui,overflow:Fi}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=pi(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,hr=e,dr=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lu(e){if(Wt){var n=dr;if(n){var l=n;if(!za(e,n)){if(Ml(e))throw Error(h(418));n=Sr(l.nextSibling);var m=hr;n&&za(e,n)?Vu(m,l):(e.flags=e.flags&-4097|2,Wt=!1,hr=e)}}else{if(Ml(e))throw Error(h(418));e.flags=e.flags&-4097|2,Wt=!1,hr=e}}}function uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hr=e}function Bl(e){if(e!==hr)return!1;if(!Wt)return uu(e),Wt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!wt(e.type,e.memoizedProps)),n&&(n=dr)){if(Ml(e))throw Gu(),Error(h(418));for(;n;)Vu(e,n),n=Sr(n.nextSibling)}if(uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){dr=Sr(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}dr=null}}else dr=hr?Sr(e.stateNode.nextSibling):null;return!0}function Gu(){for(var e=dr;e;)e=Sr(e.nextSibling)}function zi(){dr=hr=null,Wt=!1}function Uo(e){$n===null?$n=[e]:$n.push(e)}var Zu=X.ReactCurrentBatchConfig;function Ua(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(h(309));var m=l.stateNode}if(!m)throw Error(h(147,e));var b=m,C=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===C?n.ref:(n=function(O){var $=b.refs;O===null?delete $[C]:$[C]=O},n._stringRef=C,n)}if(typeof e!="string")throw Error(h(284));if(!l._owner)throw Error(h(290,e))}return e}function jl(e,n){throw e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function cu(e){var n=e._init;return n(e._payload)}function hu(e){function n(ge,ce){if(e){var we=ge.deletions;we===null?(ge.deletions=[ce],ge.flags|=16):we.push(ce)}}function l(ge,ce){if(!e)return null;for(;ce!==null;)n(ge,ce),ce=ce.sibling;return null}function m(ge,ce){for(ge=new Map;ce!==null;)ce.key!==null?ge.set(ce.key,ce):ge.set(ce.index,ce),ce=ce.sibling;return ge}function b(ge,ce){return ge=Xo(ge,ce),ge.index=0,ge.sibling=null,ge}function C(ge,ce,we){return ge.index=we,e?(we=ge.alternate,we!==null?(we=we.index,we<ce?(ge.flags|=2,ce):we):(ge.flags|=2,ce)):(ge.flags|=1048576,ce)}function O(ge){return e&&ge.alternate===null&&(ge.flags|=2),ge}function $(ge,ce,we,Ge){return ce===null||ce.tag!==6?(ce=Eh(we,ge.mode,Ge),ce.return=ge,ce):(ce=b(ce,we),ce.return=ge,ce)}function ie(ge,ce,we,Ge){var ct=we.type;return ct===_e?ze(ge,ce,we.props.children,Ge,we.key):ce!==null&&(ce.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Oe&&cu(ct)===ce.type)?(Ge=b(ce,we.props),Ge.ref=Ua(ge,ce,we),Ge.return=ge,Ge):(Ge=dc(we.type,we.key,we.props,null,ge.mode,Ge),Ge.ref=Ua(ge,ce,we),Ge.return=ge,Ge)}function Le(ge,ce,we,Ge){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==we.containerInfo||ce.stateNode.implementation!==we.implementation?(ce=Sh(we,ge.mode,Ge),ce.return=ge,ce):(ce=b(ce,we.children||[]),ce.return=ge,ce)}function ze(ge,ce,we,Ge,ct){return ce===null||ce.tag!==7?(ce=Ka(we,ge.mode,Ge,ct),ce.return=ge,ce):(ce=b(ce,we),ce.return=ge,ce)}function qe(ge,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=Eh(""+ce,ge.mode,we),ce.return=ge,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Y:return we=dc(ce.type,ce.key,ce.props,null,ge.mode,we),we.ref=Ua(ge,null,ce),we.return=ge,we;case Pe:return ce=Sh(ce,ge.mode,we),ce.return=ge,ce;case Oe:var Ge=ce._init;return qe(ge,Ge(ce._payload),we)}if(ts(ce)||nt(ce))return ce=Ka(ce,ge.mode,we,null),ce.return=ge,ce;jl(ge,ce)}return null}function Ie(ge,ce,we,Ge){var ct=ce!==null?ce.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return ct!==null?null:$(ge,ce,""+we,Ge);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case Y:return we.key===ct?ie(ge,ce,we,Ge):null;case Pe:return we.key===ct?Le(ge,ce,we,Ge):null;case Oe:return ct=we._init,Ie(ge,ce,ct(we._payload),Ge)}if(ts(we)||nt(we))return ct!==null?null:ze(ge,ce,we,Ge,null);jl(ge,we)}return null}function Je(ge,ce,we,Ge,ct){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return ge=ge.get(we)||null,$(ce,ge,""+Ge,ct);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case Y:return ge=ge.get(Ge.key===null?we:Ge.key)||null,ie(ce,ge,Ge,ct);case Pe:return ge=ge.get(Ge.key===null?we:Ge.key)||null,Le(ce,ge,Ge,ct);case Oe:var ft=Ge._init;return Je(ge,ce,we,ft(Ge._payload),ct)}if(ts(Ge)||nt(Ge))return ge=ge.get(we)||null,ze(ce,ge,Ge,ct,null);jl(ce,Ge)}return null}function rt(ge,ce,we,Ge){for(var ct=null,ft=null,pt=ce,yt=ce=0,On=null;pt!==null&&yt<we.length;yt++){pt.index>yt?(On=pt,pt=null):On=pt.sibling;var Ot=Ie(ge,pt,we[yt],Ge);if(Ot===null){pt===null&&(pt=On);break}e&&pt&&Ot.alternate===null&&n(ge,pt),ce=C(Ot,ce,yt),ft===null?ct=Ot:ft.sibling=Ot,ft=Ot,pt=On}if(yt===we.length)return l(ge,pt),Wt&&Dn(ge,yt),ct;if(pt===null){for(;yt<we.length;yt++)pt=qe(ge,we[yt],Ge),pt!==null&&(ce=C(pt,ce,yt),ft===null?ct=pt:ft.sibling=pt,ft=pt);return Wt&&Dn(ge,yt),ct}for(pt=m(ge,pt);yt<we.length;yt++)On=Je(pt,ge,yt,we[yt],Ge),On!==null&&(e&&On.alternate!==null&&pt.delete(On.key===null?yt:On.key),ce=C(On,ce,yt),ft===null?ct=On:ft.sibling=On,ft=On);return e&&pt.forEach(function(Jo){return n(ge,Jo)}),Wt&&Dn(ge,yt),ct}function lt(ge,ce,we,Ge){var ct=nt(we);if(typeof ct!="function")throw Error(h(150));if(we=ct.call(we),we==null)throw Error(h(151));for(var ft=ct=null,pt=ce,yt=ce=0,On=null,Ot=we.next();pt!==null&&!Ot.done;yt++,Ot=we.next()){pt.index>yt?(On=pt,pt=null):On=pt.sibling;var Jo=Ie(ge,pt,Ot.value,Ge);if(Jo===null){pt===null&&(pt=On);break}e&&pt&&Jo.alternate===null&&n(ge,pt),ce=C(Jo,ce,yt),ft===null?ct=Jo:ft.sibling=Jo,ft=Jo,pt=On}if(Ot.done)return l(ge,pt),Wt&&Dn(ge,yt),ct;if(pt===null){for(;!Ot.done;yt++,Ot=we.next())Ot=qe(ge,Ot.value,Ge),Ot!==null&&(ce=C(Ot,ce,yt),ft===null?ct=Ot:ft.sibling=Ot,ft=Ot);return Wt&&Dn(ge,yt),ct}for(pt=m(ge,pt);!Ot.done;yt++,Ot=we.next())Ot=Je(pt,ge,yt,Ot.value,Ge),Ot!==null&&(e&&Ot.alternate!==null&&pt.delete(Ot.key===null?yt:Ot.key),ce=C(Ot,ce,yt),ft===null?ct=Ot:ft.sibling=Ot,ft=Ot);return e&&pt.forEach(function(f_){return n(ge,f_)}),Wt&&Dn(ge,yt),ct}function mn(ge,ce,we,Ge){if(typeof we=="object"&&we!==null&&we.type===_e&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case Y:e:{for(var ct=we.key,ft=ce;ft!==null;){if(ft.key===ct){if(ct=we.type,ct===_e){if(ft.tag===7){l(ge,ft.sibling),ce=b(ft,we.props.children),ce.return=ge,ge=ce;break e}}else if(ft.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Oe&&cu(ct)===ft.type){l(ge,ft.sibling),ce=b(ft,we.props),ce.ref=Ua(ge,ft,we),ce.return=ge,ge=ce;break e}l(ge,ft);break}else n(ge,ft);ft=ft.sibling}we.type===_e?(ce=Ka(we.props.children,ge.mode,Ge,we.key),ce.return=ge,ge=ce):(Ge=dc(we.type,we.key,we.props,null,ge.mode,Ge),Ge.ref=Ua(ge,ce,we),Ge.return=ge,ge=Ge)}return O(ge);case Pe:e:{for(ft=we.key;ce!==null;){if(ce.key===ft)if(ce.tag===4&&ce.stateNode.containerInfo===we.containerInfo&&ce.stateNode.implementation===we.implementation){l(ge,ce.sibling),ce=b(ce,we.children||[]),ce.return=ge,ge=ce;break e}else{l(ge,ce);break}else n(ge,ce);ce=ce.sibling}ce=Sh(we,ge.mode,Ge),ce.return=ge,ge=ce}return O(ge);case Oe:return ft=we._init,mn(ge,ce,ft(we._payload),Ge)}if(ts(we))return rt(ge,ce,we,Ge);if(nt(we))return lt(ge,ce,we,Ge);jl(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ce!==null&&ce.tag===6?(l(ge,ce.sibling),ce=b(ce,we),ce.return=ge,ge=ce):(l(ge,ce),ce=Eh(we,ge.mode,Ge),ce.return=ge,ge=ce),O(ge)):l(ge,ce)}return mn}var Ho=hu(!0),Ku=hu(!1),Ha=Vr(null),Tl=null,Wo=null,du=null;function fu(){du=Wo=Tl=null}function pu(e){var n=Ha.current;Ht(Ha),e._currentValue=n}function mu(e,n,l){for(;e!==null;){var m=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,m!==null&&(m.childLanes|=n)):m!==null&&(m.childLanes&n)!==n&&(m.childLanes|=n),e===l)break;e=e.return}}function ro(e,n){Tl=e,du=Wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(jr=!0),e.firstContext=null)}function En(e){var n=e._currentValue;if(du!==e)if(e={context:e,memoizedValue:n,next:null},Wo===null){if(Tl===null)throw Error(h(308));Wo=e,Tl.dependencies={lanes:0,firstContext:e}}else Wo=Wo.next=e;return n}var ci=null;function gu(e){ci===null?ci=[e]:ci.push(e)}function $u(e,n,l,m){var b=n.interleaved;return b===null?(l.next=l,gu(n)):(l.next=b.next,b.next=l),n.interleaved=l,Ui(e,m)}function Ui(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var Kt=!1;function hi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function di(e,n,l){var m=e.updateQueue;if(m===null)return null;if(m=m.shared,(At&2)!==0){var b=m.pending;return b===null?n.next=n:(n.next=b.next,b.next=n),m.pending=n,Ui(e,l)}return b=m.interleaved,b===null?(n.next=n,gu(m)):(n.next=b.next,b.next=n),m.interleaved=n,Ui(e,l)}function Dl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var m=n.lanes;m&=e.pendingLanes,l|=m,n.lanes=l,yr(e,l)}}function Ju(e,n){var l=e.updateQueue,m=e.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var b=null,C=null;if(l=l.firstBaseUpdate,l!==null){do{var O={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};C===null?b=C=O:C=C.next=O,l=l.next}while(l!==null);C===null?b=C=n:C=C.next=n}else b=C=n;l={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:m.shared,effects:m.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function Al(e,n,l,m){var b=e.updateQueue;Kt=!1;var C=b.firstBaseUpdate,O=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var ie=$,Le=ie.next;ie.next=null,O===null?C=Le:O.next=Le,O=ie;var ze=e.alternate;ze!==null&&(ze=ze.updateQueue,$=ze.lastBaseUpdate,$!==O&&($===null?ze.firstBaseUpdate=Le:$.next=Le,ze.lastBaseUpdate=ie))}if(C!==null){var qe=b.baseState;O=0,ze=Le=ie=null,$=C;do{var Ie=$.lane,Je=$.eventTime;if((m&Ie)===Ie){ze!==null&&(ze=ze.next={eventTime:Je,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var rt=e,lt=$;switch(Ie=n,Je=l,lt.tag){case 1:if(rt=lt.payload,typeof rt=="function"){qe=rt.call(Je,qe,Ie);break e}qe=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=lt.payload,Ie=typeof rt=="function"?rt.call(Je,qe,Ie):rt,Ie==null)break e;qe=je({},qe,Ie);break e;case 2:Kt=!0}}$.callback!==null&&$.lane!==0&&(e.flags|=64,Ie=b.effects,Ie===null?b.effects=[$]:Ie.push($))}else Je={eventTime:Je,lane:Ie,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ze===null?(Le=ze=Je,ie=qe):ze=ze.next=Je,O|=Ie;if($=$.next,$===null){if($=b.shared.pending,$===null)break;Ie=$,$=Ie.next,Ie.next=null,b.lastBaseUpdate=Ie,b.shared.pending=null}}while(!0);if(ze===null&&(ie=qe),b.baseState=ie,b.firstBaseUpdate=Le,b.lastBaseUpdate=ze,n=b.shared.interleaved,n!==null){b=n;do O|=b.lane,b=b.next;while(b!==n)}else C===null&&(b.shared.lanes=0);qa|=O,e.lanes=O,e.memoizedState=qe}}function r(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var m=e[n],b=m.callback;if(b!==null){if(m.callback=null,m=l,typeof b!="function")throw Error(h(191,b));b.call(m)}}}var i={},a=Vr(i),d=Vr(i),g=Vr(i);function x(e){if(e===i)throw Error(h(174));return e}function k(e,n){switch(Tt(g,n),Tt(d,e),Tt(a,i),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:po(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=po(n,e)}Ht(a),Tt(a,n)}function E(){Ht(a),Ht(d),Ht(g)}function T(e){x(g.current);var n=x(a.current),l=po(n,e.type);n!==l&&(Tt(d,e),Tt(a,l))}function A(e){d.current===e&&(Ht(a),Ht(d))}var W=Vr(0);function q(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var le=[];function he(){for(var e=0;e<le.length;e++)le[e]._workInProgressVersionPrimary=null;le.length=0}var Me=X.ReactCurrentDispatcher,Re=X.ReactCurrentBatchConfig,Ve=0,Ue=null,H=null,de=null,ke=!1,He=!1,Fe=0,We=0;function R(){throw Error(h(321))}function z(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!ar(e[l],n[l]))return!1;return!0}function V(e,n,l,m,b,C){if(Ve=C,Ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Me.current=e===null||e.memoizedState===null?F0:z0,e=l(m,b),He){C=0;do{if(He=!1,Fe=0,25<=C)throw Error(h(301));C+=1,de=H=null,n.updateQueue=null,Me.current=U0,e=l(m,b)}while(He)}if(Me.current=Yu,n=H!==null&&H.next!==null,Ve=0,de=H=Ue=null,ke=!1,n)throw Error(h(300));return e}function re(){var e=Fe!==0;return Fe=0,e}function Q(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ue.memoizedState=de=e:de=de.next=e,de}function J(){if(H===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=H.next;var n=de===null?Ue.memoizedState:de.next;if(n!==null)de=n,H=e;else{if(e===null)throw Error(h(310));H=e,e={memoizedState:H.memoizedState,baseState:H.baseState,baseQueue:H.baseQueue,queue:H.queue,next:null},de===null?Ue.memoizedState=de=e:de=de.next=e}return de}function pe(e,n){return typeof n=="function"?n(e):n}function se(e){var n=J(),l=n.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=e;var m=H,b=m.baseQueue,C=l.pending;if(C!==null){if(b!==null){var O=b.next;b.next=C.next,C.next=O}m.baseQueue=b=C,l.pending=null}if(b!==null){C=b.next,m=m.baseState;var $=O=null,ie=null,Le=C;do{var ze=Le.lane;if((Ve&ze)===ze)ie!==null&&(ie=ie.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),m=Le.hasEagerState?Le.eagerState:e(m,Le.action);else{var qe={lane:ze,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ie===null?($=ie=qe,O=m):ie=ie.next=qe,Ue.lanes|=ze,qa|=ze}Le=Le.next}while(Le!==null&&Le!==C);ie===null?O=m:ie.next=$,ar(m,n.memoizedState)||(jr=!0),n.memoizedState=m,n.baseState=O,n.baseQueue=ie,l.lastRenderedState=m}if(e=l.interleaved,e!==null){b=e;do C=b.lane,Ue.lanes|=C,qa|=C,b=b.next;while(b!==e)}else b===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function fe(e){var n=J(),l=n.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=e;var m=l.dispatch,b=l.pending,C=n.memoizedState;if(b!==null){l.pending=null;var O=b=b.next;do C=e(C,O.action),O=O.next;while(O!==b);ar(C,n.memoizedState)||(jr=!0),n.memoizedState=C,n.baseQueue===null&&(n.baseState=C),l.lastRenderedState=C}return[C,m]}function xe(){}function ye(e,n){var l=Ue,m=J(),b=n(),C=!ar(m.memoizedState,b);if(C&&(m.memoizedState=b,jr=!0),m=m.queue,Wa(at.bind(null,l,m,e),[e]),m.getSnapshot!==n||C||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,St(9,ot.bind(null,l,m,b,n),void 0,null),Rn===null)throw Error(h(349));(Ve&30)!==0||Ae(l,n,b)}return b}function Ae(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Ue.updateQueue,n===null?(n={lastEffect:null,stores:null},Ue.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function ot(e,n,l,m){n.value=l,n.getSnapshot=m,_t(n)&&Qt(e)}function at(e,n,l){return l(function(){_t(n)&&Qt(e)})}function _t(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!ar(e,l)}catch{return!0}}function Qt(e){var n=Ui(e,1);n!==null&&Gi(n,e,1,-1)}function ln(e){var n=Q();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pe,lastRenderedState:e},n.queue=e,e=e.dispatch=I0.bind(null,Ue,e),[n.memoizedState,e]}function St(e,n,l,m){return e={tag:e,create:n,destroy:l,deps:m,next:null},n=Ue.updateQueue,n===null?(n={lastEffect:null,stores:null},Ue.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(m=l.next,l.next=e,e.next=m,n.lastEffect=e)),e}function Ft(){return J().memoizedState}function pn(e,n,l,m){var b=Q();Ue.flags|=e,b.memoizedState=St(1|n,l,void 0,m===void 0?null:m)}function io(e,n,l,m){var b=J();m=m===void 0?null:m;var C=void 0;if(H!==null){var O=H.memoizedState;if(C=O.destroy,m!==null&&z(m,O.deps)){b.memoizedState=St(n,l,C,m);return}}Ue.flags|=e,b.memoizedState=St(1|n,l,C,m)}function Rl(e,n){return pn(8390656,8,e,n)}function Wa(e,n){return io(2048,8,e,n)}function Zr(e,n){return io(4,2,e,n)}function qo(e,n){return io(4,4,e,n)}function fr(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function An(e,n,l){return l=l!=null?l.concat([e]):null,io(4,4,fr.bind(null,n,e),l)}function $t(){}function wf(e,n){var l=J();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&z(n,m[1])?m[0]:(l.memoizedState=[e,n],e)}function bf(e,n){var l=J();n=n===void 0?null:n;var m=l.memoizedState;return m!==null&&n!==null&&z(n,m[1])?m[0]:(e=e(),l.memoizedState=[e,n],e)}function Cf(e,n,l){return(Ve&21)===0?(e.baseState&&(e.baseState=!1,jr=!0),e.memoizedState=l):(ar(l,n)||(l=cl(),Ue.lanes|=l,qa|=l,e.baseState=!0),n)}function O0(e,n){var l=Bt;Bt=l!==0&&4>l?l:4,e(!0);var m=Re.transition;Re.transition={};try{e(!1),n()}finally{Bt=l,Re.transition=m}}function Lf(){return J().memoizedState}function N0(e,n,l){var m=Ko(e);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},kf(e))Ef(n,l);else if(l=$u(e,n,l,m),l!==null){var b=mr();Gi(l,e,m,b),Sf(l,n,m)}}function I0(e,n,l){var m=Ko(e),b={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(kf(e))Ef(n,b);else{var C=e.alternate;if(e.lanes===0&&(C===null||C.lanes===0)&&(C=n.lastRenderedReducer,C!==null))try{var O=n.lastRenderedState,$=C(O,l);if(b.hasEagerState=!0,b.eagerState=$,ar($,O)){var ie=n.interleaved;ie===null?(b.next=b,gu(n)):(b.next=ie.next,ie.next=b),n.interleaved=b;return}}catch{}finally{}l=$u(e,n,b,m),l!==null&&(b=mr(),Gi(l,e,m,b),Sf(l,n,m))}}function kf(e){var n=e.alternate;return e===Ue||n!==null&&n===Ue}function Ef(e,n){He=ke=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Sf(e,n,l){if((l&4194240)!==0){var m=n.lanes;m&=e.pendingLanes,l|=m,n.lanes=l,yr(e,l)}}var Yu={readContext:En,useCallback:R,useContext:R,useEffect:R,useImperativeHandle:R,useInsertionEffect:R,useLayoutEffect:R,useMemo:R,useReducer:R,useRef:R,useState:R,useDebugValue:R,useDeferredValue:R,useTransition:R,useMutableSource:R,useSyncExternalStore:R,useId:R,unstable_isNewReconciler:!1},F0={readContext:En,useCallback:function(e,n){return Q().memoizedState=[e,n===void 0?null:n],e},useContext:En,useEffect:Rl,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,pn(4194308,4,fr.bind(null,n,e),l)},useLayoutEffect:function(e,n){return pn(4194308,4,e,n)},useInsertionEffect:function(e,n){return pn(4,2,e,n)},useMemo:function(e,n){var l=Q();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var m=Q();return n=l!==void 0?l(n):n,m.memoizedState=m.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},m.queue=e,e=e.dispatch=N0.bind(null,Ue,e),[m.memoizedState,e]},useRef:function(e){var n=Q();return e={current:e},n.memoizedState=e},useState:ln,useDebugValue:$t,useDeferredValue:function(e){return Q().memoizedState=e},useTransition:function(){var e=ln(!1),n=e[0];return e=O0.bind(null,e[1]),Q().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var m=Ue,b=Q();if(Wt){if(l===void 0)throw Error(h(407));l=l()}else{if(l=n(),Rn===null)throw Error(h(349));(Ve&30)!==0||Ae(m,n,l)}b.memoizedState=l;var C={value:l,getSnapshot:n};return b.queue=C,Rl(at.bind(null,m,C,e),[e]),m.flags|=2048,St(9,ot.bind(null,m,C,l,n),void 0,null),l},useId:function(){var e=Q(),n=Rn.identifierPrefix;if(Wt){var l=Fi,m=ui;l=(m&~(1<<32-xt(m)-1)).toString(32)+l,n=":"+n+"R"+l,l=Fe++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=We++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},z0={readContext:En,useCallback:wf,useContext:En,useEffect:Wa,useImperativeHandle:An,useInsertionEffect:Zr,useLayoutEffect:qo,useMemo:bf,useReducer:se,useRef:Ft,useState:function(){return se(pe)},useDebugValue:$t,useDeferredValue:function(e){var n=J();return Cf(n,H.memoizedState,e)},useTransition:function(){var e=se(pe)[0],n=J().memoizedState;return[e,n]},useMutableSource:xe,useSyncExternalStore:ye,useId:Lf,unstable_isNewReconciler:!1},U0={readContext:En,useCallback:wf,useContext:En,useEffect:Wa,useImperativeHandle:An,useInsertionEffect:Zr,useLayoutEffect:qo,useMemo:bf,useReducer:fe,useRef:Ft,useState:function(){return fe(pe)},useDebugValue:$t,useDeferredValue:function(e){var n=J();return H===null?n.memoizedState=e:Cf(n,H.memoizedState,e)},useTransition:function(){var e=fe(pe)[0],n=J().memoizedState;return[e,n]},useMutableSource:xe,useSyncExternalStore:ye,useId:Lf,unstable_isNewReconciler:!1};function Wi(e,n){if(e&&e.defaultProps){n=je({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function eh(e,n,l,m){n=e.memoizedState,l=l(m,n),l=l==null?n:je({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Qu={isMounted:function(e){return(e=e._reactInternals)?Xr(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var m=mr(),b=Ko(e),C=Hi(m,b);C.payload=n,l!=null&&(C.callback=l),n=di(e,C,b),n!==null&&(Gi(n,e,b,m),Dl(n,e,b))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var m=mr(),b=Ko(e),C=Hi(m,b);C.tag=1,C.payload=n,l!=null&&(C.callback=l),n=di(e,C,b),n!==null&&(Gi(n,e,b,m),Dl(n,e,b))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=mr(),m=Ko(e),b=Hi(l,m);b.tag=2,n!=null&&(b.callback=n),n=di(e,b,m),n!==null&&(Gi(n,e,m,l),Dl(n,e,m))}};function Pf(e,n,l,m,b,C,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(m,C,O):n.prototype&&n.prototype.isPureReactComponent?!ni(l,m)||!ni(b,C):!0}function Mf(e,n,l){var m=!1,b=Es,C=n.contextType;return typeof C=="object"&&C!==null?C=En(C):(b=kn(n)?Gr:Zt.current,m=n.contextTypes,C=(m=m!=null)?zo(e,b):Es),n=new n(l,C),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Qu,e.stateNode=n,n._reactInternals=e,m&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=b,e.__reactInternalMemoizedMaskedChildContext=C),n}function Bf(e,n,l,m){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,m),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,m),n.state!==e&&Qu.enqueueReplaceState(n,n.state,null)}function th(e,n,l,m){var b=e.stateNode;b.props=l,b.state=e.memoizedState,b.refs={},hi(e);var C=n.contextType;typeof C=="object"&&C!==null?b.context=En(C):(C=kn(n)?Gr:Zt.current,b.context=zo(e,C)),b.state=e.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(eh(e,n,C,l),b.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(n=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),n!==b.state&&Qu.enqueueReplaceState(b,b.state,null),Al(e,l,b,m),b.state=e.memoizedState),typeof b.componentDidMount=="function"&&(e.flags|=4194308)}function Ol(e,n){try{var l="",m=n;do l+=Qe(m),m=m.return;while(m);var b=l}catch(C){b=`
Error generating stack: `+C.message+`
`+C.stack}return{value:e,source:n,stack:b,digest:null}}function nh(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function rh(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var H0=typeof WeakMap=="function"?WeakMap:Map;function jf(e,n,l){l=Hi(-1,l),l.tag=3,l.payload={element:null};var m=n.value;return l.callback=function(){oc||(oc=!0,yh=m),rh(e,n)},l}function Tf(e,n,l){l=Hi(-1,l),l.tag=3;var m=e.type.getDerivedStateFromError;if(typeof m=="function"){var b=n.value;l.payload=function(){return m(b)},l.callback=function(){rh(e,n)}}var C=e.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(l.callback=function(){rh(e,n),typeof m!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var O=n.stack;this.componentDidCatch(n.value,{componentStack:O!==null?O:""})}),l}function Df(e,n,l){var m=e.pingCache;if(m===null){m=e.pingCache=new H0;var b=new Set;m.set(n,b)}else b=m.get(n),b===void 0&&(b=new Set,m.set(n,b));b.has(l)||(b.add(l),e=n_.bind(null,e,n,l),n.then(e,e))}function Af(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Rf(e,n,l,m,b){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=Hi(-1,1),n.tag=2,di(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=b,e)}var W0=X.ReactCurrentOwner,jr=!1;function pr(e,n,l,m){n.child=e===null?Ku(n,null,l,m):Ho(n,e.child,l,m)}function Of(e,n,l,m,b){l=l.render;var C=n.ref;return ro(n,b),m=V(e,n,l,m,C,b),l=re(),e!==null&&!jr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,so(e,n,b)):(Wt&&l&&Pl(n),n.flags|=1,pr(e,n,m,b),n.child)}function Nf(e,n,l,m,b){if(e===null){var C=l.type;return typeof C=="function"&&!kh(C)&&C.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=C,If(e,n,C,m,b)):(e=dc(l.type,null,m,n,n.mode,b),e.ref=n.ref,e.return=n,n.child=e)}if(C=e.child,(e.lanes&b)===0){var O=C.memoizedProps;if(l=l.compare,l=l!==null?l:ni,l(O,m)&&e.ref===n.ref)return so(e,n,b)}return n.flags|=1,e=Xo(C,m),e.ref=n.ref,e.return=n,n.child=e}function If(e,n,l,m,b){if(e!==null){var C=e.memoizedProps;if(ni(C,m)&&e.ref===n.ref)if(jr=!1,n.pendingProps=m=C,(e.lanes&b)!==0)(e.flags&131072)!==0&&(jr=!0);else return n.lanes=e.lanes,so(e,n,b)}return ih(e,n,l,m,b)}function Ff(e,n,l){var m=n.pendingProps,b=m.children,C=e!==null?e.memoizedState:null;if(m.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Il,Kr),Kr|=l;else{if((l&1073741824)===0)return e=C!==null?C.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Tt(Il,Kr),Kr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=C!==null?C.baseLanes:l,Tt(Il,Kr),Kr|=m}else C!==null?(m=C.baseLanes|l,n.memoizedState=null):m=l,Tt(Il,Kr),Kr|=m;return pr(e,n,b,l),n.child}function zf(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function ih(e,n,l,m,b){var C=kn(l)?Gr:Zt.current;return C=zo(n,C),ro(n,b),l=V(e,n,l,m,C,b),m=re(),e!==null&&!jr?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~b,so(e,n,b)):(Wt&&m&&Pl(n),n.flags|=1,pr(e,n,l,b),n.child)}function Uf(e,n,l,m,b){if(kn(l)){var C=!0;Ia(n)}else C=!1;if(ro(n,b),n.stateNode===null)tc(e,n),Mf(n,l,m),th(n,l,m,b),m=!0;else if(e===null){var O=n.stateNode,$=n.memoizedProps;O.props=$;var ie=O.context,Le=l.contextType;typeof Le=="object"&&Le!==null?Le=En(Le):(Le=kn(l)?Gr:Zt.current,Le=zo(n,Le));var ze=l.getDerivedStateFromProps,qe=typeof ze=="function"||typeof O.getSnapshotBeforeUpdate=="function";qe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||($!==m||ie!==Le)&&Bf(n,O,m,Le),Kt=!1;var Ie=n.memoizedState;O.state=Ie,Al(n,m,O,b),ie=n.memoizedState,$!==m||Ie!==ie||Kn.current||Kt?(typeof ze=="function"&&(eh(n,l,ze,m),ie=n.memoizedState),($=Kt||Pf(n,l,$,m,Ie,ie,Le))?(qe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(n.flags|=4194308)):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=m,n.memoizedState=ie),O.props=m,O.state=ie,O.context=Le,m=$):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),m=!1)}else{O=n.stateNode,Xu(e,n),$=n.memoizedProps,Le=n.type===n.elementType?$:Wi(n.type,$),O.props=Le,qe=n.pendingProps,Ie=O.context,ie=l.contextType,typeof ie=="object"&&ie!==null?ie=En(ie):(ie=kn(l)?Gr:Zt.current,ie=zo(n,ie));var Je=l.getDerivedStateFromProps;(ze=typeof Je=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||($!==qe||Ie!==ie)&&Bf(n,O,m,ie),Kt=!1,Ie=n.memoizedState,O.state=Ie,Al(n,m,O,b);var rt=n.memoizedState;$!==qe||Ie!==rt||Kn.current||Kt?(typeof Je=="function"&&(eh(n,l,Je,m),rt=n.memoizedState),(Le=Kt||Pf(n,l,Le,m,Ie,rt,ie)||!1)?(ze||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(m,rt,ie),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(m,rt,ie)),typeof O.componentDidUpdate=="function"&&(n.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof O.componentDidUpdate!="function"||$===e.memoizedProps&&Ie===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||$===e.memoizedProps&&Ie===e.memoizedState||(n.flags|=1024),n.memoizedProps=m,n.memoizedState=rt),O.props=m,O.state=rt,O.context=ie,m=Le):(typeof O.componentDidUpdate!="function"||$===e.memoizedProps&&Ie===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||$===e.memoizedProps&&Ie===e.memoizedState||(n.flags|=1024),m=!1)}return sh(e,n,l,m,C,b)}function sh(e,n,l,m,b,C){zf(e,n);var O=(n.flags&128)!==0;if(!m&&!O)return b&&kl(n,l,!1),so(e,n,C);m=n.stateNode,W0.current=n;var $=O&&typeof l.getDerivedStateFromError!="function"?null:m.render();return n.flags|=1,e!==null&&O?(n.child=Ho(n,e.child,null,C),n.child=Ho(n,null,$,C)):pr(e,n,$,C),n.memoizedState=m.state,b&&kl(n,l,!0),n.child}function Hf(e){var n=e.stateNode;n.pendingContext?Hu(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Hu(e,n.context,!1),k(e,n.containerInfo)}function Wf(e,n,l,m,b){return zi(),Uo(b),n.flags|=256,pr(e,n,l,m),n.child}var oh={dehydrated:null,treeContext:null,retryLane:0};function ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function qf(e,n,l){var m=n.pendingProps,b=W.current,C=!1,O=(n.flags&128)!==0,$;if(($=O)||($=e!==null&&e.memoizedState===null?!1:(b&2)!==0),$?(C=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(b|=1),Tt(W,b&1),e===null)return lu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(O=m.children,e=m.fallback,C?(m=n.mode,C=n.child,O={mode:"hidden",children:O},(m&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=O):C=fc(O,m,0,null),e=Ka(e,m,l,null),C.return=n,e.return=n,C.sibling=e,n.child=C,n.child.memoizedState=ah(l),n.memoizedState=oh,e):lh(n,O));if(b=e.memoizedState,b!==null&&($=b.dehydrated,$!==null))return q0(e,n,O,m,$,b,l);if(C){C=m.fallback,O=n.mode,b=e.child,$=b.sibling;var ie={mode:"hidden",children:m.children};return(O&1)===0&&n.child!==b?(m=n.child,m.childLanes=0,m.pendingProps=ie,n.deletions=null):(m=Xo(b,ie),m.subtreeFlags=b.subtreeFlags&14680064),$!==null?C=Xo($,C):(C=Ka(C,O,l,null),C.flags|=2),C.return=n,m.return=n,m.sibling=C,n.child=m,m=C,C=n.child,O=e.child.memoizedState,O=O===null?ah(l):{baseLanes:O.baseLanes|l,cachePool:null,transitions:O.transitions},C.memoizedState=O,C.childLanes=e.childLanes&~l,n.memoizedState=oh,m}return C=e.child,e=C.sibling,m=Xo(C,{mode:"visible",children:m.children}),(n.mode&1)===0&&(m.lanes=l),m.return=n,m.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=m,n.memoizedState=null,m}function lh(e,n){return n=fc({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ec(e,n,l,m){return m!==null&&Uo(m),Ho(n,e.child,null,l),e=lh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function q0(e,n,l,m,b,C,O){if(l)return n.flags&256?(n.flags&=-257,m=nh(Error(h(422))),ec(e,n,O,m)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(C=m.fallback,b=n.mode,m=fc({mode:"visible",children:m.children},b,0,null),C=Ka(C,b,O,null),C.flags|=2,m.return=n,C.return=n,m.sibling=C,n.child=m,(n.mode&1)!==0&&Ho(n,e.child,null,O),n.child.memoizedState=ah(O),n.memoizedState=oh,C);if((n.mode&1)===0)return ec(e,n,O,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var $=m.dgst;return m=$,C=Error(h(419)),m=nh(C,m,void 0),ec(e,n,O,m)}if($=(O&e.childLanes)!==0,jr||$){if(m=Rn,m!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|O))!==0?0:b,b!==0&&b!==C.retryLane&&(C.retryLane=b,Ui(e,b),Gi(m,e,b,-1))}return Lh(),m=nh(Error(h(421))),ec(e,n,O,m)}return b.data==="$?"?(n.flags|=128,n.child=e.child,n=r_.bind(null,e),b._reactRetry=n,null):(e=C.treeContext,dr=Sr(b.nextSibling),hr=n,Wt=!0,$n=null,e!==null&&(Mr[Br++]=ui,Mr[Br++]=Fi,Mr[Br++]=Ps,ui=e.id,Fi=e.overflow,Ps=n),n=lh(n,m.children),n.flags|=4096,n)}function Vf(e,n,l){e.lanes|=n;var m=e.alternate;m!==null&&(m.lanes|=n),mu(e.return,n,l)}function uh(e,n,l,m,b){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:b}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=l,C.tailMode=b)}function Gf(e,n,l){var m=n.pendingProps,b=m.revealOrder,C=m.tail;if(pr(e,n,m.children,l),m=W.current,(m&2)!==0)m=m&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,l,n);else if(e.tag===19)Vf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}m&=1}if(Tt(W,m),(n.mode&1)===0)n.memoizedState=null;else switch(b){case"forwards":for(l=n.child,b=null;l!==null;)e=l.alternate,e!==null&&q(e)===null&&(b=l),l=l.sibling;l=b,l===null?(b=n.child,n.child=null):(b=l.sibling,l.sibling=null),uh(n,!1,b,l,C);break;case"backwards":for(l=null,b=n.child,n.child=null;b!==null;){if(e=b.alternate,e!==null&&q(e)===null){n.child=b;break}e=b.sibling,b.sibling=l,l=b,b=e}uh(n,!0,l,null,C);break;case"together":uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function tc(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function so(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),qa|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,l=Xo(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Xo(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function V0(e,n,l){switch(n.tag){case 3:Hf(n),zi();break;case 5:T(n);break;case 1:kn(n.type)&&Ia(n);break;case 4:k(n,n.stateNode.containerInfo);break;case 10:var m=n.type._context,b=n.memoizedProps.value;Tt(Ha,m._currentValue),m._currentValue=b;break;case 13:if(m=n.memoizedState,m!==null)return m.dehydrated!==null?(Tt(W,W.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?qf(e,n,l):(Tt(W,W.current&1),e=so(e,n,l),e!==null?e.sibling:null);Tt(W,W.current&1);break;case 19:if(m=(l&n.childLanes)!==0,(e.flags&128)!==0){if(m)return Gf(e,n,l);n.flags|=128}if(b=n.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Tt(W,W.current),m)break;return null;case 22:case 23:return n.lanes=0,Ff(e,n,l)}return so(e,n,l)}var Zf,ch,Kf,$f;Zf=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ch=function(){},Kf=function(e,n,l,m){var b=e.memoizedProps;if(b!==m){e=n.stateNode,x(a.current);var C=null;switch(l){case"input":b=uo(e,b),m=uo(e,m),C=[];break;case"select":b=je({},b,{value:void 0}),m=je({},m,{value:void 0}),C=[];break;case"textarea":b=ho(e,b),m=ho(e,m),C=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(e.onclick=Te)}mo(l,m);var O;l=null;for(Le in b)if(!m.hasOwnProperty(Le)&&b.hasOwnProperty(Le)&&b[Le]!=null)if(Le==="style"){var $=b[Le];for(O in $)$.hasOwnProperty(O)&&(l||(l={}),l[O]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(_.hasOwnProperty(Le)?C||(C=[]):(C=C||[]).push(Le,null));for(Le in m){var ie=m[Le];if($=b?.[Le],m.hasOwnProperty(Le)&&ie!==$&&(ie!=null||$!=null))if(Le==="style")if($){for(O in $)!$.hasOwnProperty(O)||ie&&ie.hasOwnProperty(O)||(l||(l={}),l[O]="");for(O in ie)ie.hasOwnProperty(O)&&$[O]!==ie[O]&&(l||(l={}),l[O]=ie[O])}else l||(C||(C=[]),C.push(Le,l)),l=ie;else Le==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,$=$?$.__html:void 0,ie!=null&&$!==ie&&(C=C||[]).push(Le,ie)):Le==="children"?typeof ie!="string"&&typeof ie!="number"||(C=C||[]).push(Le,""+ie):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(_.hasOwnProperty(Le)?(ie!=null&&Le==="onScroll"&&It("scroll",e),C||$===ie||(C=[])):(C=C||[]).push(Le,ie))}l&&(C=C||[]).push("style",l);var Le=C;(n.updateQueue=Le)&&(n.flags|=4)}},$f=function(e,n,l,m){l!==m&&(n.flags|=4)};function _u(e,n){if(!Wt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:m.sibling=null}}function Xn(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,m=0;if(n)for(var b=e.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=e,b=b.sibling;else for(b=e.child;b!==null;)l|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=e,b=b.sibling;return e.subtreeFlags|=m,e.childLanes=l,n}function G0(e,n,l){var m=n.pendingProps;switch(au(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(n),null;case 1:return kn(n.type)&&Na(),Xn(n),null;case 3:return m=n.stateNode,E(),Ht(Kn),Ht(Zt),he(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(e===null||e.child===null)&&(Bl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$n!==null&&(wh($n),$n=null))),ch(e,n),Xn(n),null;case 5:A(n);var b=x(g.current);if(l=n.type,e!==null&&n.stateNode!=null)Kf(e,n,l,m,b),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!m){if(n.stateNode===null)throw Error(h(166));return Xn(n),null}if(e=x(a.current),Bl(n)){m=n.stateNode,l=n.type;var C=n.memoizedProps;switch(m[cr]=n,m[_n]=C,e=(n.mode&1)!==0,l){case"dialog":It("cancel",m),It("close",m);break;case"iframe":case"object":case"embed":It("load",m);break;case"video":case"audio":for(b=0;b<Cs.length;b++)It(Cs[b],m);break;case"source":It("error",m);break;case"img":case"image":case"link":It("error",m),It("load",m);break;case"details":It("toggle",m);break;case"input":ia(m,C),It("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!C.multiple},It("invalid",m);break;case"textarea":oa(m,C),It("invalid",m)}mo(l,C),b=null;for(var O in C)if(C.hasOwnProperty(O)){var $=C[O];O==="children"?typeof $=="string"?m.textContent!==$&&(C.suppressHydrationWarning!==!0&&Ce(m.textContent,$,e),b=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(C.suppressHydrationWarning!==!0&&Ce(m.textContent,$,e),b=["children",""+$]):_.hasOwnProperty(O)&&$!=null&&O==="onScroll"&&It("scroll",m)}switch(l){case"input":Ji(m),vi(m,C,!0);break;case"textarea":Ji(m),tl(m);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(m.onclick=Te)}m=b,n.updateQueue=m,m!==null&&(n.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fo(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=O.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof m.is=="string"?e=O.createElement(l,{is:m.is}):(e=O.createElement(l),l==="select"&&(O=e,m.multiple?O.multiple=!0:m.size&&(O.size=m.size))):e=O.createElementNS(e,l),e[cr]=n,e[_n]=m,Zf(e,n,!1,!1),n.stateNode=e;e:{switch(O=zr(l,m),l){case"dialog":It("cancel",e),It("close",e),b=m;break;case"iframe":case"object":case"embed":It("load",e),b=m;break;case"video":case"audio":for(b=0;b<Cs.length;b++)It(Cs[b],e);b=m;break;case"source":It("error",e),b=m;break;case"img":case"image":case"link":It("error",e),It("load",e),b=m;break;case"details":It("toggle",e),b=m;break;case"input":ia(e,m),b=uo(e,m),It("invalid",e);break;case"option":b=m;break;case"select":e._wrapperState={wasMultiple:!!m.multiple},b=je({},m,{value:void 0}),It("invalid",e);break;case"textarea":oa(e,m),b=ho(e,m),It("invalid",e);break;default:b=m}mo(l,b),$=b;for(C in $)if($.hasOwnProperty(C)){var ie=$[C];C==="style"?Rs(e,ie):C==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&aa(e,ie)):C==="children"?typeof ie=="string"?(l!=="textarea"||ie!=="")&&xi(e,ie):typeof ie=="number"&&xi(e,""+ie):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(_.hasOwnProperty(C)?ie!=null&&C==="onScroll"&&It("scroll",e):ie!=null&&te(e,C,ie,O))}switch(l){case"input":Ji(e),vi(e,m,!1);break;case"textarea":Ji(e),tl(e);break;case"option":m.value!=null&&e.setAttribute("value",""+kt(m.value));break;case"select":e.multiple=!!m.multiple,C=m.value,C!=null?$r(e,!!m.multiple,C,!1):m.defaultValue!=null&&$r(e,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(e.onclick=Te)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Xn(n),null;case 6:if(e&&n.stateNode!=null)$f(e,n,e.memoizedProps,m);else{if(typeof m!="string"&&n.stateNode===null)throw Error(h(166));if(l=x(g.current),x(a.current),Bl(n)){if(m=n.stateNode,l=n.memoizedProps,m[cr]=n,(C=m.nodeValue!==l)&&(e=hr,e!==null))switch(e.tag){case 3:Ce(m.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ce(m.nodeValue,l,(e.mode&1)!==0)}C&&(n.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[cr]=n,n.stateNode=m}return Xn(n),null;case 13:if(Ht(W),m=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wt&&dr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Gu(),zi(),n.flags|=98560,C=!1;else if(C=Bl(n),m!==null&&m.dehydrated!==null){if(e===null){if(!C)throw Error(h(318));if(C=n.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(h(317));C[cr]=n}else zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xn(n),C=!1}else $n!==null&&(wh($n),$n=null),C=!0;if(!C)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(m=m!==null,m!==(e!==null&&e.memoizedState!==null)&&m&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(W.current&1)!==0?Sn===0&&(Sn=3):Lh())),n.updateQueue!==null&&(n.flags|=4),Xn(n),null);case 4:return E(),ch(e,n),e===null&&Ls(n.stateNode.containerInfo),Xn(n),null;case 10:return pu(n.type._context),Xn(n),null;case 17:return kn(n.type)&&Na(),Xn(n),null;case 19:if(Ht(W),C=n.memoizedState,C===null)return Xn(n),null;if(m=(n.flags&128)!==0,O=C.rendering,O===null)if(m)_u(C,!1);else{if(Sn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(O=q(e),O!==null){for(n.flags|=128,_u(C,!1),m=O.updateQueue,m!==null&&(n.updateQueue=m,n.flags|=4),n.subtreeFlags=0,m=l,l=n.child;l!==null;)C=l,e=m,C.flags&=14680066,O=C.alternate,O===null?(C.childLanes=0,C.lanes=e,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=O.childLanes,C.lanes=O.lanes,C.child=O.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=O.memoizedProps,C.memoizedState=O.memoizedState,C.updateQueue=O.updateQueue,C.type=O.type,e=O.dependencies,C.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Tt(W,W.current&1|2),n.child}e=e.sibling}C.tail!==null&&Xt()>Fl&&(n.flags|=128,m=!0,_u(C,!1),n.lanes=4194304)}else{if(!m)if(e=q(O),e!==null){if(n.flags|=128,m=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),_u(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!Wt)return Xn(n),null}else 2*Xt()-C.renderingStartTime>Fl&&l!==1073741824&&(n.flags|=128,m=!0,_u(C,!1),n.lanes=4194304);C.isBackwards?(O.sibling=n.child,n.child=O):(l=C.last,l!==null?l.sibling=O:n.child=O,C.last=O)}return C.tail!==null?(n=C.tail,C.rendering=n,C.tail=n.sibling,C.renderingStartTime=Xt(),n.sibling=null,l=W.current,Tt(W,m?l&1|2:l&1),n):(Xn(n),null);case 22:case 23:return Ch(),m=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==m&&(n.flags|=8192),m&&(n.mode&1)!==0?(Kr&1073741824)!==0&&(Xn(n),n.subtreeFlags&6&&(n.flags|=8192)):Xn(n),null;case 24:return null;case 25:return null}throw Error(h(156,n.tag))}function Z0(e,n){switch(au(n),n.tag){case 1:return kn(n.type)&&Na(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return E(),Ht(Kn),Ht(Zt),he(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return A(n),null;case 13:if(Ht(W),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));zi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ht(W),null;case 4:return E(),null;case 10:return pu(n.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var nc=!1,Jn=!1,K0=typeof WeakSet=="function"?WeakSet:Set,et=null;function Nl(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){un(e,n,m)}else l.current=null}function hh(e,n,l){try{l()}catch(m){un(e,n,m)}}var Xf=!1;function $0(e,n){if(Ke=Yr,e=Do(),Ao(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var b=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{l.nodeType,C.nodeType}catch{l=null;break e}var O=0,$=-1,ie=-1,Le=0,ze=0,qe=e,Ie=null;t:for(;;){for(var Je;qe!==l||b!==0&&qe.nodeType!==3||($=O+b),qe!==C||m!==0&&qe.nodeType!==3||(ie=O+m),qe.nodeType===3&&(O+=qe.nodeValue.length),(Je=qe.firstChild)!==null;)Ie=qe,qe=Je;for(;;){if(qe===e)break t;if(Ie===l&&++Le===b&&($=O),Ie===C&&++ze===m&&(ie=O),(Je=qe.nextSibling)!==null)break;qe=Ie,Ie=qe.parentNode}qe=Je}l=$===-1||ie===-1?null:{start:$,end:ie}}else l=null}l=l||{start:0,end:0}}else l=null;for(dt={focusedElem:e,selectionRange:l},Yr=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){n=et;try{var rt=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var lt=rt.memoizedProps,mn=rt.memoizedState,ge=n.stateNode,ce=ge.getSnapshotBeforeUpdate(n.elementType===n.type?lt:Wi(n.type,lt),mn);ge.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var we=n.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(Ge){un(n,n.return,Ge)}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}return rt=Xf,Xf=!1,rt}function yu(e,n,l){var m=n.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&e)===e){var C=b.destroy;b.destroy=void 0,C!==void 0&&hh(n,l,C)}b=b.next}while(b!==m)}}function rc(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var m=l.create;l.destroy=m()}l=l.next}while(l!==n)}}function dh(e){var n=e.ref;if(n!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof n=="function"?n(e):n.current=e}}function Jf(e){var n=e.alternate;n!==null&&(e.alternate=null,Jf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[cr],delete n[_n],delete n[oi],delete n[Oa],delete n[ai])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yf(e){return e.tag===5||e.tag===3||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,n,l){var m=e.tag;if(m===5||m===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Te));else if(m!==4&&(e=e.child,e!==null))for(fh(e,n,l),e=e.sibling;e!==null;)fh(e,n,l),e=e.sibling}function ph(e,n,l){var m=e.tag;if(m===5||m===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(m!==4&&(e=e.child,e!==null))for(ph(e,n,l),e=e.sibling;e!==null;)ph(e,n,l),e=e.sibling}var zn=null,qi=!1;function Vo(e,n,l){for(l=l.child;l!==null;)ep(e,n,l),l=l.sibling}function ep(e,n,l){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(zs,l)}catch{}switch(l.tag){case 5:Jn||Nl(l,n);case 6:var m=zn,b=qi;zn=null,Vo(e,n,l),zn=m,qi=b,zn!==null&&(qi?(e=zn,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):zn.removeChild(l.stateNode));break;case 18:zn!==null&&(qi?(e=zn,l=l.stateNode,e.nodeType===8?Ra(e.parentNode,l):e.nodeType===1&&Ra(e,l),rr(e)):Ra(zn,l.stateNode));break;case 4:m=zn,b=qi,zn=l.stateNode.containerInfo,qi=!0,Vo(e,n,l),zn=m,qi=b;break;case 0:case 11:case 14:case 15:if(!Jn&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var C=b,O=C.destroy;C=C.tag,O!==void 0&&((C&2)!==0||(C&4)!==0)&&hh(l,n,O),b=b.next}while(b!==m)}Vo(e,n,l);break;case 1:if(!Jn&&(Nl(l,n),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch($){un(l,n,$)}Vo(e,n,l);break;case 21:Vo(e,n,l);break;case 22:l.mode&1?(Jn=(m=Jn)||l.memoizedState!==null,Vo(e,n,l),Jn=m):Vo(e,n,l);break;default:Vo(e,n,l)}}function tp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new K0),n.forEach(function(m){var b=i_.bind(null,e,m);l.has(m)||(l.add(m),m.then(b,b))})}}function Vi(e,n){var l=n.deletions;if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];try{var C=e,O=n,$=O;e:for(;$!==null;){switch($.tag){case 5:zn=$.stateNode,qi=!1;break e;case 3:zn=$.stateNode.containerInfo,qi=!0;break e;case 4:zn=$.stateNode.containerInfo,qi=!0;break e}$=$.return}if(zn===null)throw Error(h(160));ep(C,O,b),zn=null,qi=!1;var ie=b.alternate;ie!==null&&(ie.return=null),b.return=null}catch(Le){un(b,n,Le)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)np(n,e),n=n.sibling}function np(e,n){var l=e.alternate,m=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vi(n,e),Ms(e),m&4){try{yu(3,e,e.return),rc(3,e)}catch(lt){un(e,e.return,lt)}try{yu(5,e,e.return)}catch(lt){un(e,e.return,lt)}}break;case 1:Vi(n,e),Ms(e),m&512&&l!==null&&Nl(l,l.return);break;case 5:if(Vi(n,e),Ms(e),m&512&&l!==null&&Nl(l,l.return),e.flags&32){var b=e.stateNode;try{xi(b,"")}catch(lt){un(e,e.return,lt)}}if(m&4&&(b=e.stateNode,b!=null)){var C=e.memoizedProps,O=l!==null?l.memoizedProps:C,$=e.type,ie=e.updateQueue;if(e.updateQueue=null,ie!==null)try{$==="input"&&C.type==="radio"&&C.name!=null&&sa(b,C),zr($,O);var Le=zr($,C);for(O=0;O<ie.length;O+=2){var ze=ie[O],qe=ie[O+1];ze==="style"?Rs(b,qe):ze==="dangerouslySetInnerHTML"?aa(b,qe):ze==="children"?xi(b,qe):te(b,ze,qe,Le)}switch($){case"input":es(b,C);break;case"textarea":el(b,C);break;case"select":var Ie=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!C.multiple;var Je=C.value;Je!=null?$r(b,!!C.multiple,Je,!1):Ie!==!!C.multiple&&(C.defaultValue!=null?$r(b,!!C.multiple,C.defaultValue,!0):$r(b,!!C.multiple,C.multiple?[]:"",!1))}b[_n]=C}catch(lt){un(e,e.return,lt)}}break;case 6:if(Vi(n,e),Ms(e),m&4){if(e.stateNode===null)throw Error(h(162));b=e.stateNode,C=e.memoizedProps;try{b.nodeValue=C}catch(lt){un(e,e.return,lt)}}break;case 3:if(Vi(n,e),Ms(e),m&4&&l!==null&&l.memoizedState.isDehydrated)try{rr(n.containerInfo)}catch(lt){un(e,e.return,lt)}break;case 4:Vi(n,e),Ms(e);break;case 13:Vi(n,e),Ms(e),b=e.child,b.flags&8192&&(C=b.memoizedState!==null,b.stateNode.isHidden=C,!C||b.alternate!==null&&b.alternate.memoizedState!==null||(_h=Xt())),m&4&&tp(e);break;case 22:if(ze=l!==null&&l.memoizedState!==null,e.mode&1?(Jn=(Le=Jn)||ze,Vi(n,e),Jn=Le):Vi(n,e),Ms(e),m&8192){if(Le=e.memoizedState!==null,(e.stateNode.isHidden=Le)&&!ze&&(e.mode&1)!==0)for(et=e,ze=e.child;ze!==null;){for(qe=et=ze;et!==null;){switch(Ie=et,Je=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:yu(4,Ie,Ie.return);break;case 1:Nl(Ie,Ie.return);var rt=Ie.stateNode;if(typeof rt.componentWillUnmount=="function"){m=Ie,l=Ie.return;try{n=m,rt.props=n.memoizedProps,rt.state=n.memoizedState,rt.componentWillUnmount()}catch(lt){un(m,l,lt)}}break;case 5:Nl(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){sp(qe);continue}}Je!==null?(Je.return=Ie,et=Je):sp(qe)}ze=ze.sibling}e:for(ze=null,qe=e;;){if(qe.tag===5){if(ze===null){ze=qe;try{b=qe.stateNode,Le?(C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):($=qe.stateNode,ie=qe.memoizedProps.style,O=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,$.style.display=la("display",O))}catch(lt){un(e,e.return,lt)}}}else if(qe.tag===6){if(ze===null)try{qe.stateNode.nodeValue=Le?"":qe.memoizedProps}catch(lt){un(e,e.return,lt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===e)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===e)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===e)break e;ze===qe&&(ze=null),qe=qe.return}ze===qe&&(ze=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Vi(n,e),Ms(e),m&4&&tp(e);break;case 21:break;default:Vi(n,e),Ms(e)}}function Ms(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(Yf(l)){var m=l;break e}l=l.return}throw Error(h(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(xi(b,""),m.flags&=-33);var C=Qf(e);ph(e,C,b);break;case 3:case 4:var O=m.stateNode.containerInfo,$=Qf(e);fh(e,$,O);break;default:throw Error(h(161))}}catch(ie){un(e,e.return,ie)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function X0(e,n,l){et=e,rp(e)}function rp(e,n,l){for(var m=(e.mode&1)!==0;et!==null;){var b=et,C=b.child;if(b.tag===22&&m){var O=b.memoizedState!==null||nc;if(!O){var $=b.alternate,ie=$!==null&&$.memoizedState!==null||Jn;$=nc;var Le=Jn;if(nc=O,(Jn=ie)&&!Le)for(et=b;et!==null;)O=et,ie=O.child,O.tag===22&&O.memoizedState!==null?op(b):ie!==null?(ie.return=O,et=ie):op(b);for(;C!==null;)et=C,rp(C),C=C.sibling;et=b,nc=$,Jn=Le}ip(e)}else(b.subtreeFlags&8772)!==0&&C!==null?(C.return=b,et=C):ip(e)}}function ip(e){for(;et!==null;){var n=et;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Jn||rc(5,n);break;case 1:var m=n.stateNode;if(n.flags&4&&!Jn)if(l===null)m.componentDidMount();else{var b=n.elementType===n.type?l.memoizedProps:Wi(n.type,l.memoizedProps);m.componentDidUpdate(b,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var C=n.updateQueue;C!==null&&r(n,C,m);break;case 3:var O=n.updateQueue;if(O!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}r(n,O,l)}break;case 5:var $=n.stateNode;if(l===null&&n.flags&4){l=$;var ie=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&l.focus();break;case"img":ie.src&&(l.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Le=n.alternate;if(Le!==null){var ze=Le.memoizedState;if(ze!==null){var qe=ze.dehydrated;qe!==null&&rr(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}Jn||n.flags&512&&dh(n)}catch(Ie){un(n,n.return,Ie)}}if(n===e){et=null;break}if(l=n.sibling,l!==null){l.return=n.return,et=l;break}et=n.return}}function sp(e){for(;et!==null;){var n=et;if(n===e){et=null;break}var l=n.sibling;if(l!==null){l.return=n.return,et=l;break}et=n.return}}function op(e){for(;et!==null;){var n=et;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{rc(4,n)}catch(ie){un(n,l,ie)}break;case 1:var m=n.stateNode;if(typeof m.componentDidMount=="function"){var b=n.return;try{m.componentDidMount()}catch(ie){un(n,b,ie)}}var C=n.return;try{dh(n)}catch(ie){un(n,C,ie)}break;case 5:var O=n.return;try{dh(n)}catch(ie){un(n,O,ie)}}}catch(ie){un(n,n.return,ie)}if(n===e){et=null;break}var $=n.sibling;if($!==null){$.return=n.return,et=$;break}et=n.return}}var J0=Math.ceil,ic=X.ReactCurrentDispatcher,mh=X.ReactCurrentOwner,fi=X.ReactCurrentBatchConfig,At=0,Rn=null,yn=null,Un=0,Kr=0,Il=Vr(0),Sn=0,vu=null,qa=0,sc=0,gh=0,xu=null,Tr=null,_h=0,Fl=1/0,oo=null,oc=!1,yh=null,Go=null,ac=!1,Zo=null,lc=0,wu=0,vh=null,uc=-1,cc=0;function mr(){return(At&6)!==0?Xt():uc!==-1?uc:uc=Xt()}function Ko(e){return(e.mode&1)===0?1:(At&2)!==0&&Un!==0?Un&-Un:Zu.transition!==null?(cc===0&&(cc=cl()),cc):(e=Bt,e!==0||(e=window.event,e=e===void 0?16:bt(e.type)),e)}function Gi(e,n,l,m){if(50<wu)throw wu=0,vh=null,Error(h(185));tr(e,l,m),((At&2)===0||e!==Rn)&&(e===Rn&&((At&2)===0&&(sc|=l),Sn===4&&$o(e,Un)),Dr(e,m),l===1&&At===0&&(n.mode&1)===0&&(Fl=Xt()+500,El&&Pr()))}function Dr(e,n){var l=e.callbackNode;xo(e,n);var m=qt(e,e===Rn?Un:0);if(m===0)l!==null&&Fs(l),e.callbackNode=null,e.callbackPriority=0;else if(n=m&-m,e.callbackPriority!==n){if(l!=null&&Fs(l),n===1)e.tag===0?Ni(lp.bind(null,e)):Sl(lp.bind(null,e)),Tn(function(){(At&6)===0&&Pr()}),l=null;else{switch(cs(m)){case 1:l=va;break;case 4:l=ul;break;case 16:l=vo;break;case 536870912:l=os;break;default:l=vo}l=gp(l,ap.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function ap(e,n){if(uc=-1,cc=0,(At&6)!==0)throw Error(h(327));var l=e.callbackNode;if(zl()&&e.callbackNode!==l)return null;var m=qt(e,e===Rn?Un:0);if(m===0)return null;if((m&30)!==0||(m&e.expiredLanes)!==0||n)n=hc(e,m);else{n=m;var b=At;At|=2;var C=cp();(Rn!==e||Un!==n)&&(oo=null,Fl=Xt()+500,Ga(e,n));do try{e_();break}catch($){up(e,$)}while(!0);fu(),ic.current=C,At=b,yn!==null?n=0:(Rn=null,Un=0,n=Sn)}if(n!==0){if(n===2&&(b=Pn(e),b!==0&&(m=b,n=xh(e,b))),n===1)throw l=vu,Ga(e,0),$o(e,m),Dr(e,Xt()),l;if(n===6)$o(e,m);else{if(b=e.current.alternate,(m&30)===0&&!Y0(b)&&(n=hc(e,m),n===2&&(C=Pn(e),C!==0&&(m=C,n=xh(e,C))),n===1))throw l=vu,Ga(e,0),$o(e,m),Dr(e,Xt()),l;switch(e.finishedWork=b,e.finishedLanes=m,n){case 0:case 1:throw Error(h(345));case 2:Za(e,Tr,oo);break;case 3:if($o(e,m),(m&130023424)===m&&(n=_h+500-Xt(),10<n)){if(qt(e,0)!==0)break;if(b=e.suspendedLanes,(b&m)!==m){mr(),e.pingedLanes|=e.suspendedLanes&b;break}e.timeoutHandle=on(Za.bind(null,e,Tr,oo),n);break}Za(e,Tr,oo);break;case 4:if($o(e,m),(m&4194240)===m)break;for(n=e.eventTimes,b=-1;0<m;){var O=31-xt(m);C=1<<O,O=n[O],O>b&&(b=O),m&=~C}if(m=b,m=Xt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*J0(m/1960))-m,10<m){e.timeoutHandle=on(Za.bind(null,e,Tr,oo),m);break}Za(e,Tr,oo);break;case 5:Za(e,Tr,oo);break;default:throw Error(h(329))}}}return Dr(e,Xt()),e.callbackNode===l?ap.bind(null,e):null}function xh(e,n){var l=xu;return e.current.memoizedState.isDehydrated&&(Ga(e,n).flags|=256),e=hc(e,n),e!==2&&(n=Tr,Tr=l,n!==null&&wh(n)),e}function wh(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function Y0(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var b=l[m],C=b.getSnapshot;b=b.value;try{if(!ar(C(),b))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $o(e,n){for(n&=~gh,n&=~sc,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-xt(n),m=1<<l;e[l]=-1,n&=~m}}function lp(e){if((At&6)!==0)throw Error(h(327));zl();var n=qt(e,0);if((n&1)===0)return Dr(e,Xt()),null;var l=hc(e,n);if(e.tag!==0&&l===2){var m=Pn(e);m!==0&&(n=m,l=xh(e,m))}if(l===1)throw l=vu,Ga(e,0),$o(e,n),Dr(e,Xt()),l;if(l===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Za(e,Tr,oo),Dr(e,Xt()),null}function bh(e,n){var l=At;At|=1;try{return e(n)}finally{At=l,At===0&&(Fl=Xt()+500,El&&Pr())}}function Va(e){Zo!==null&&Zo.tag===0&&(At&6)===0&&zl();var n=At;At|=1;var l=fi.transition,m=Bt;try{if(fi.transition=null,Bt=1,e)return e()}finally{Bt=m,fi.transition=l,At=n,(At&6)===0&&Pr()}}function Ch(){Kr=Il.current,Ht(Il)}function Ga(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,nn(l)),yn!==null)for(l=yn.return;l!==null;){var m=l;switch(au(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Na();break;case 3:E(),Ht(Kn),Ht(Zt),he();break;case 5:A(m);break;case 4:E();break;case 13:Ht(W);break;case 19:Ht(W);break;case 10:pu(m.type._context);break;case 22:case 23:Ch()}l=l.return}if(Rn=e,yn=e=Xo(e.current,null),Un=Kr=n,Sn=0,vu=null,gh=sc=qa=0,Tr=xu=null,ci!==null){for(n=0;n<ci.length;n++)if(l=ci[n],m=l.interleaved,m!==null){l.interleaved=null;var b=m.next,C=l.pending;if(C!==null){var O=C.next;C.next=b,m.next=O}l.pending=m}ci=null}return e}function up(e,n){do{var l=yn;try{if(fu(),Me.current=Yu,ke){for(var m=Ue.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}ke=!1}if(Ve=0,de=H=Ue=null,He=!1,Fe=0,mh.current=null,l===null||l.return===null){Sn=1,vu=n,yn=null;break}e:{var C=e,O=l.return,$=l,ie=n;if(n=Un,$.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Le=ie,ze=$,qe=ze.tag;if((ze.mode&1)===0&&(qe===0||qe===11||qe===15)){var Ie=ze.alternate;Ie?(ze.updateQueue=Ie.updateQueue,ze.memoizedState=Ie.memoizedState,ze.lanes=Ie.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Je=Af(O);if(Je!==null){Je.flags&=-257,Rf(Je,O,$,C,n),Je.mode&1&&Df(C,Le,n),n=Je,ie=Le;var rt=n.updateQueue;if(rt===null){var lt=new Set;lt.add(ie),n.updateQueue=lt}else rt.add(ie);break e}else{if((n&1)===0){Df(C,Le,n),Lh();break e}ie=Error(h(426))}}else if(Wt&&$.mode&1){var mn=Af(O);if(mn!==null){(mn.flags&65536)===0&&(mn.flags|=256),Rf(mn,O,$,C,n),Uo(Ol(ie,$));break e}}C=ie=Ol(ie,$),Sn!==4&&(Sn=2),xu===null?xu=[C]:xu.push(C),C=O;do{switch(C.tag){case 3:C.flags|=65536,n&=-n,C.lanes|=n;var ge=jf(C,ie,n);Ju(C,ge);break e;case 1:$=ie;var ce=C.type,we=C.stateNode;if((C.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Go===null||!Go.has(we)))){C.flags|=65536,n&=-n,C.lanes|=n;var Ge=Tf(C,$,n);Ju(C,Ge);break e}}C=C.return}while(C!==null)}dp(l)}catch(ct){n=ct,yn===l&&l!==null&&(yn=l=l.return);continue}break}while(!0)}function cp(){var e=ic.current;return ic.current=Yu,e===null?Yu:e}function Lh(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Rn===null||(qa&268435455)===0&&(sc&268435455)===0||$o(Rn,Un)}function hc(e,n){var l=At;At|=2;var m=cp();(Rn!==e||Un!==n)&&(oo=null,Ga(e,n));do try{Q0();break}catch(b){up(e,b)}while(!0);if(fu(),At=l,ic.current=m,yn!==null)throw Error(h(261));return Rn=null,Un=0,Sn}function Q0(){for(;yn!==null;)hp(yn)}function e_(){for(;yn!==null&&!ya();)hp(yn)}function hp(e){var n=mp(e.alternate,e,Kr);e.memoizedProps=e.pendingProps,n===null?dp(e):yn=n,mh.current=null}function dp(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=G0(l,n,Kr),l!==null){yn=l;return}}else{if(l=Z0(l,n),l!==null){l.flags&=32767,yn=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sn=6,yn=null;return}}if(n=n.sibling,n!==null){yn=n;return}yn=n=e}while(n!==null);Sn===0&&(Sn=5)}function Za(e,n,l){var m=Bt,b=fi.transition;try{fi.transition=null,Bt=1,t_(e,n,l,m)}finally{fi.transition=b,Bt=m}return null}function t_(e,n,l,m){do zl();while(Zo!==null);if((At&6)!==0)throw Error(h(327));l=e.finishedWork;var b=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var C=l.lanes|l.childLanes;if(en(e,C),e===Rn&&(yn=Rn=null,Un=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ac||(ac=!0,gp(vo,function(){return zl(),null})),C=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||C){C=fi.transition,fi.transition=null;var O=Bt;Bt=1;var $=At;At|=4,mh.current=null,$0(e,l),np(l,e),lr(dt),Yr=!!Ke,dt=Ke=null,e.current=l,X0(l),yo(),At=$,Bt=O,fi.transition=C}else e.current=l;if(ac&&(ac=!1,Zo=e,lc=b),C=e.pendingLanes,C===0&&(Go=null),Jr(l.stateNode),Dr(e,Xt()),n!==null)for(m=e.onRecoverableError,l=0;l<n.length;l++)b=n[l],m(b.value,{componentStack:b.stack,digest:b.digest});if(oc)throw oc=!1,e=yh,yh=null,e;return(lc&1)!==0&&e.tag!==0&&zl(),C=e.pendingLanes,(C&1)!==0?e===vh?wu++:(wu=0,vh=e):wu=0,Pr(),null}function zl(){if(Zo!==null){var e=cs(lc),n=fi.transition,l=Bt;try{if(fi.transition=null,Bt=16>e?16:e,Zo===null)var m=!1;else{if(e=Zo,Zo=null,lc=0,(At&6)!==0)throw Error(h(331));var b=At;for(At|=4,et=e.current;et!==null;){var C=et,O=C.child;if((et.flags&16)!==0){var $=C.deletions;if($!==null){for(var ie=0;ie<$.length;ie++){var Le=$[ie];for(et=Le;et!==null;){var ze=et;switch(ze.tag){case 0:case 11:case 15:yu(8,ze,C)}var qe=ze.child;if(qe!==null)qe.return=ze,et=qe;else for(;et!==null;){ze=et;var Ie=ze.sibling,Je=ze.return;if(Jf(ze),ze===Le){et=null;break}if(Ie!==null){Ie.return=Je,et=Ie;break}et=Je}}}var rt=C.alternate;if(rt!==null){var lt=rt.child;if(lt!==null){rt.child=null;do{var mn=lt.sibling;lt.sibling=null,lt=mn}while(lt!==null)}}et=C}}if((C.subtreeFlags&2064)!==0&&O!==null)O.return=C,et=O;else e:for(;et!==null;){if(C=et,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:yu(9,C,C.return)}var ge=C.sibling;if(ge!==null){ge.return=C.return,et=ge;break e}et=C.return}}var ce=e.current;for(et=ce;et!==null;){O=et;var we=O.child;if((O.subtreeFlags&2064)!==0&&we!==null)we.return=O,et=we;else e:for(O=ce;et!==null;){if($=et,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:rc(9,$)}}catch(ct){un($,$.return,ct)}if($===O){et=null;break e}var Ge=$.sibling;if(Ge!==null){Ge.return=$.return,et=Ge;break e}et=$.return}}if(At=b,Pr(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(zs,e)}catch{}m=!0}return m}finally{Bt=l,fi.transition=n}}return!1}function fp(e,n,l){n=Ol(l,n),n=jf(e,n,1),e=di(e,n,1),n=mr(),e!==null&&(tr(e,1,n),Dr(e,n))}function un(e,n,l){if(e.tag===3)fp(e,e,l);else for(;n!==null;){if(n.tag===3){fp(n,e,l);break}else if(n.tag===1){var m=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Go===null||!Go.has(m))){e=Ol(l,e),e=Tf(n,e,1),n=di(n,e,1),e=mr(),n!==null&&(tr(n,1,e),Dr(n,e));break}}n=n.return}}function n_(e,n,l){var m=e.pingCache;m!==null&&m.delete(n),n=mr(),e.pingedLanes|=e.suspendedLanes&l,Rn===e&&(Un&l)===l&&(Sn===4||Sn===3&&(Un&130023424)===Un&&500>Xt()-_h?Ga(e,0):gh|=l),Dr(e,n)}function pp(e,n){n===0&&((e.mode&1)===0?n=1:(n=ls,ls<<=1,(ls&130023424)===0&&(ls=4194304)));var l=mr();e=Ui(e,n),e!==null&&(tr(e,n,l),Dr(e,l))}function r_(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),pp(e,l)}function i_(e,n){var l=0;switch(e.tag){case 13:var m=e.stateNode,b=e.memoizedState;b!==null&&(l=b.retryLane);break;case 19:m=e.stateNode;break;default:throw Error(h(314))}m!==null&&m.delete(n),pp(e,l)}var mp;mp=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||Kn.current)jr=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return jr=!1,V0(e,n,l);jr=(e.flags&131072)!==0}else jr=!1,Wt&&(n.flags&1048576)!==0&&qu(n,no,n.index);switch(n.lanes=0,n.tag){case 2:var m=n.type;tc(e,n),e=n.pendingProps;var b=zo(n,Zt.current);ro(n,l),b=V(null,n,m,e,b,l);var C=re();return n.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,kn(m)?(C=!0,Ia(n)):C=!1,n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,hi(n),b.updater=Qu,n.stateNode=b,b._reactInternals=n,th(n,m,e,l),n=sh(null,n,m,!0,C,l)):(n.tag=0,Wt&&C&&Pl(n),pr(null,n,b,l),n=n.child),n;case 16:m=n.elementType;e:{switch(tc(e,n),e=n.pendingProps,b=m._init,m=b(m._payload),n.type=m,b=n.tag=o_(m),e=Wi(m,e),b){case 0:n=ih(null,n,m,e,l);break e;case 1:n=Uf(null,n,m,e,l);break e;case 11:n=Of(null,n,m,e,l);break e;case 14:n=Nf(null,n,m,Wi(m.type,e),l);break e}throw Error(h(306,m,""))}return n;case 0:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:Wi(m,b),ih(e,n,m,b,l);case 1:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:Wi(m,b),Uf(e,n,m,b,l);case 3:e:{if(Hf(n),e===null)throw Error(h(387));m=n.pendingProps,C=n.memoizedState,b=C.element,Xu(e,n),Al(n,m,null,l);var O=n.memoizedState;if(m=O.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},n.updateQueue.baseState=C,n.memoizedState=C,n.flags&256){b=Ol(Error(h(423)),n),n=Wf(e,n,m,l,b);break e}else if(m!==b){b=Ol(Error(h(424)),n),n=Wf(e,n,m,l,b);break e}else for(dr=Sr(n.stateNode.containerInfo.firstChild),hr=n,Wt=!0,$n=null,l=Ku(n,null,m,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(zi(),m===b){n=so(e,n,l);break e}pr(e,n,m,l)}n=n.child}return n;case 5:return T(n),e===null&&lu(n),m=n.type,b=n.pendingProps,C=e!==null?e.memoizedProps:null,O=b.children,wt(m,b)?O=null:C!==null&&wt(m,C)&&(n.flags|=32),zf(e,n),pr(e,n,O,l),n.child;case 6:return e===null&&lu(n),null;case 13:return qf(e,n,l);case 4:return k(n,n.stateNode.containerInfo),m=n.pendingProps,e===null?n.child=Ho(n,null,m,l):pr(e,n,m,l),n.child;case 11:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:Wi(m,b),Of(e,n,m,b,l);case 7:return pr(e,n,n.pendingProps,l),n.child;case 8:return pr(e,n,n.pendingProps.children,l),n.child;case 12:return pr(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(m=n.type._context,b=n.pendingProps,C=n.memoizedProps,O=b.value,Tt(Ha,m._currentValue),m._currentValue=O,C!==null)if(ar(C.value,O)){if(C.children===b.children&&!Kn.current){n=so(e,n,l);break e}}else for(C=n.child,C!==null&&(C.return=n);C!==null;){var $=C.dependencies;if($!==null){O=C.child;for(var ie=$.firstContext;ie!==null;){if(ie.context===m){if(C.tag===1){ie=Hi(-1,l&-l),ie.tag=2;var Le=C.updateQueue;if(Le!==null){Le=Le.shared;var ze=Le.pending;ze===null?ie.next=ie:(ie.next=ze.next,ze.next=ie),Le.pending=ie}}C.lanes|=l,ie=C.alternate,ie!==null&&(ie.lanes|=l),mu(C.return,l,n),$.lanes|=l;break}ie=ie.next}}else if(C.tag===10)O=C.type===n.type?null:C.child;else if(C.tag===18){if(O=C.return,O===null)throw Error(h(341));O.lanes|=l,$=O.alternate,$!==null&&($.lanes|=l),mu(O,l,n),O=C.sibling}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===n){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}pr(e,n,b.children,l),n=n.child}return n;case 9:return b=n.type,m=n.pendingProps.children,ro(n,l),b=En(b),m=m(b),n.flags|=1,pr(e,n,m,l),n.child;case 14:return m=n.type,b=Wi(m,n.pendingProps),b=Wi(m.type,b),Nf(e,n,m,b,l);case 15:return If(e,n,n.type,n.pendingProps,l);case 17:return m=n.type,b=n.pendingProps,b=n.elementType===m?b:Wi(m,b),tc(e,n),n.tag=1,kn(m)?(e=!0,Ia(n)):e=!1,ro(n,l),Mf(n,m,b),th(n,m,b,l),sh(null,n,m,!0,e,l);case 19:return Gf(e,n,l);case 22:return Ff(e,n,l)}throw Error(h(156,n.tag))};function gp(e,n){return ll(e,n)}function s_(e,n,l,m){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(e,n,l,m){return new s_(e,n,l,m)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o_(e){if(typeof e=="function")return kh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xe)return 11;if(e===jt)return 14}return 2}function Xo(e,n){var l=e.alternate;return l===null?(l=pi(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function dc(e,n,l,m,b,C){var O=2;if(m=e,typeof e=="function")kh(e)&&(O=1);else if(typeof e=="string")O=5;else e:switch(e){case _e:return Ka(l.children,b,C,n);case ae:O=8,b|=8;break;case ve:return e=pi(12,l,n,b|2),e.elementType=ve,e.lanes=C,e;case Ne:return e=pi(13,l,n,b),e.elementType=Ne,e.lanes=C,e;case vt:return e=pi(19,l,n,b),e.elementType=vt,e.lanes=C,e;case it:return fc(l,b,C,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:O=10;break e;case De:O=9;break e;case Xe:O=11;break e;case jt:O=14;break e;case Oe:O=16,m=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return n=pi(O,l,n,b),n.elementType=e,n.type=m,n.lanes=C,n}function Ka(e,n,l,m){return e=pi(7,e,m,n),e.lanes=l,e}function fc(e,n,l,m){return e=pi(22,e,m,n),e.elementType=it,e.lanes=l,e.stateNode={isHidden:!1},e}function Eh(e,n,l){return e=pi(6,e,null,n),e.lanes=l,e}function Sh(e,n,l){return n=pi(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function a_(e,n,l,m,b){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Ph(e,n,l,m,b,C,O,$,ie){return e=new a_(e,n,l,$,ie),n===1?(n=1,C===!0&&(n|=8)):n=0,C=pi(3,null,null,n),e.current=C,C.stateNode=e,C.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},hi(C),e}function l_(e,n,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:m==null?null:""+m,children:e,containerInfo:n,implementation:l}}function _p(e){if(!e)return Es;e=e._reactInternals;e:{if(Xr(e)!==e||e.tag!==1)throw Error(h(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(kn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(h(171))}if(e.tag===1){var l=e.type;if(kn(l))return Wu(e,l,n)}return n}function yp(e,n,l,m,b,C,O,$,ie){return e=Ph(l,m,!0,e,b,C,O,$,ie),e.context=_p(null),l=e.current,m=mr(),b=Ko(l),C=Hi(m,b),C.callback=n??null,di(l,C,b),e.current.lanes=b,tr(e,b,m),Dr(e,m),e}function pc(e,n,l,m){var b=n.current,C=mr(),O=Ko(b);return l=_p(l),n.context===null?n.context=l:n.pendingContext=l,n=Hi(C,O),n.payload={element:e},m=m===void 0?null:m,m!==null&&(n.callback=m),e=di(b,n,O),e!==null&&(Gi(e,b,O,C),Dl(e,b,O)),O}function mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Mh(e,n){vp(e,n),(e=e.alternate)&&vp(e,n)}function u_(){return null}var xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bh(e){this._internalRoot=e}gc.prototype.render=Bh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));pc(e,n,null,null)},gc.prototype.unmount=Bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Va(function(){pc(null,e,null,null)}),n[$e]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Co();e={blockedOn:null,target:e,priority:n};for(var l=0;l<hn.length&&n!==0&&n<hn[l].priority;l++);hn.splice(l,0,e),l===0&&Lo(e)}};function jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wp(){}function c_(e,n,l,m,b){if(b){if(typeof m=="function"){var C=m;m=function(){var Le=mc(O);C.call(Le)}}var O=yp(n,m,e,0,null,!1,!1,"",wp);return e._reactRootContainer=O,e[$e]=O.current,Ls(e.nodeType===8?e.parentNode:e),Va(),O}for(;b=e.lastChild;)e.removeChild(b);if(typeof m=="function"){var $=m;m=function(){var Le=mc(ie);$.call(Le)}}var ie=Ph(e,0,!1,null,null,!1,!1,"",wp);return e._reactRootContainer=ie,e[$e]=ie.current,Ls(e.nodeType===8?e.parentNode:e),Va(function(){pc(n,ie,l,m)}),ie}function yc(e,n,l,m,b){var C=l._reactRootContainer;if(C){var O=C;if(typeof b=="function"){var $=b;b=function(){var ie=mc(O);$.call(ie)}}pc(n,O,e,b)}else O=c_(l,n,e,b,m);return mc(O)}wo=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=gt(n.pendingLanes);l!==0&&(yr(n,l|1),Dr(n,Xt()),(At&6)===0&&(Fl=Xt()+500,Pr()))}break;case 13:Va(function(){var m=Ui(e,1);if(m!==null){var b=mr();Gi(m,e,1,b)}}),Mh(e,1)}},Li=function(e){if(e.tag===13){var n=Ui(e,134217728);if(n!==null){var l=mr();Gi(n,e,134217728,l)}Mh(e,134217728)}},bo=function(e){if(e.tag===13){var n=Ko(e),l=Ui(e,n);if(l!==null){var m=mr();Gi(l,e,n,m)}Mh(e,n)}},Co=function(){return Bt},Hs=function(e,n){var l=Bt;try{return Bt=e,n()}finally{Bt=l}},Os=function(e,n,l){switch(n){case"input":if(es(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var m=l[n];if(m!==e&&m.form===e.form){var b=Ln(m);if(!b)throw Error(h(90));Yi(m),es(m,b)}}}break;case"textarea":el(e,l);break;case"select":n=l.value,n!=null&&$r(e,!!l.multiple,n,!1)}},da=bh,il=Va;var h_={usingClientEntryPoint:!1,Events:[li,an,Ln,rl,ha,bh]},bu={findFiberByHostInstance:Vt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d_={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ol(e),e===null?null:e.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance||u_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{zs=vc.inject(d_),er=vc}catch{}}return Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_,Ar.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(n))throw Error(h(200));return l_(e,n,null,l)},Ar.createRoot=function(e,n){if(!jh(e))throw Error(h(299));var l=!1,m="",b=xp;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Ph(e,1,!1,null,null,l,!1,m,b),e[$e]=n.current,Ls(e.nodeType===8?e.parentNode:e),new Bh(n)},Ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=ol(n),e=e===null?null:e.stateNode,e},Ar.flushSync=function(e){return Va(e)},Ar.hydrate=function(e,n,l){if(!_c(n))throw Error(h(200));return yc(null,e,n,!0,l)},Ar.hydrateRoot=function(e,n,l){if(!jh(e))throw Error(h(405));var m=l!=null&&l.hydratedSources||null,b=!1,C="",O=xp;if(l!=null&&(l.unstable_strictMode===!0&&(b=!0),l.identifierPrefix!==void 0&&(C=l.identifierPrefix),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),n=yp(n,null,e,1,l??null,b,!1,C,O),e[$e]=n.current,Ls(e),m)for(e=0;e<m.length;e++)l=m[e],b=l._getVersion,b=b(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,b]:n.mutableSourceEagerHydrationData.push(l,b);return new gc(n)},Ar.render=function(e,n,l){if(!_c(n))throw Error(h(200));return yc(null,e,n,!1,l)},Ar.unmountComponentAtNode=function(e){if(!_c(e))throw Error(h(40));return e._reactRootContainer?(Va(function(){yc(null,null,e,!1,function(){e._reactRootContainer=null,e[$e]=null})}),!0):!1},Ar.unstable_batchedUpdates=bh,Ar.unstable_renderSubtreeIntoContainer=function(e,n,l,m){if(!_c(l))throw Error(h(200));if(e==null||e._reactInternals===void 0)throw Error(h(38));return yc(e,n,l,!1,m)},Ar.version="18.3.1-next-f1338f8080-20240426",Ar}var Mp;function yg(){if(Mp)return Ah.exports;Mp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(u){console.error(u)}}return o(),Ah.exports=v_(),Ah.exports}var Bp;function x_(){if(Bp)return xc;Bp=1;var o=yg();return xc.createRoot=o.createRoot,xc.hydrateRoot=o.hydrateRoot,xc}var w_=x_();const b_=Tu(w_);var jp="popstate";function C_(o={}){function u(p,_){let{pathname:y,search:v,hash:P}=p.location;return Wd("",{pathname:y,search:v,hash:P},_.state&&_.state.usr||null,_.state&&_.state.key||"default")}function h(p,_){return typeof _=="string"?_:Bu(_)}return k_(u,h,null,o)}function sn(o,u){if(o===!1||o===null||typeof o>"u")throw new Error(u)}function _i(o,u){if(!o){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function L_(){return Math.random().toString(36).substring(2,10)}function Tp(o,u){return{usr:o.state,key:o.key,idx:u}}function Wd(o,u,h=null,p){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof u=="string"?Hl(u):u,state:h,key:u&&u.key||p||L_()}}function Bu({pathname:o="/",search:u="",hash:h=""}){return u&&u!=="?"&&(o+=u.charAt(0)==="?"?u:"?"+u),h&&h!=="#"&&(o+=h.charAt(0)==="#"?h:"#"+h),o}function Hl(o){let u={};if(o){let h=o.indexOf("#");h>=0&&(u.hash=o.substring(h),o=o.substring(0,h));let p=o.indexOf("?");p>=0&&(u.search=o.substring(p),o=o.substring(0,p)),o&&(u.pathname=o)}return u}function k_(o,u,h,p={}){let{window:_=document.defaultView,v5Compat:y=!1}=p,v=_.history,P="POP",B=null,D=S();D==null&&(D=0,v.replaceState({...v.state,idx:D},""));function S(){return(v.state||{idx:null}).idx}function j(){P="POP";let Z=S(),Se=Z==null?null:Z-D;D=Z,B&&B({action:P,location:G.location,delta:Se})}function I(Z,Se){P="PUSH";let F=Wd(G.location,Z,Se);D=S()+1;let te=Tp(F,D),X=G.createHref(F);try{v.pushState(te,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;_.location.assign(X)}y&&B&&B({action:P,location:G.location,delta:1})}function ne(Z,Se){P="REPLACE";let F=Wd(G.location,Z,Se);D=S();let te=Tp(F,D),X=G.createHref(F);v.replaceState(te,"",X),y&&B&&B({action:P,location:G.location,delta:0})}function K(Z){return E_(Z)}let G={get action(){return P},get location(){return o(_,v)},listen(Z){if(B)throw new Error("A history only accepts one active listener");return _.addEventListener(jp,j),B=Z,()=>{_.removeEventListener(jp,j),B=null}},createHref(Z){return u(_,Z)},createURL:K,encodeLocation(Z){let Se=K(Z);return{pathname:Se.pathname,search:Se.search,hash:Se.hash}},push:I,replace:ne,go(Z){return v.go(Z)}};return G}function E_(o,u=!1){let h="http://localhost";typeof window<"u"&&(h=window.location.origin!=="null"?window.location.origin:window.location.href),sn(h,"No window.location.(origin|href) available to create URL");let p=typeof o=="string"?o:Bu(o);return p=p.replace(/ $/,"%20"),!u&&p.startsWith("//")&&(p=h+p),new URL(p,h)}function vg(o,u,h="/"){return S_(o,u,h,!1)}function S_(o,u,h,p){let _=typeof u=="string"?Hl(u):u,y=lo(_.pathname||"/",h);if(y==null)return null;let v=xg(o);P_(v);let P=null;for(let B=0;P==null&&B<v.length;++B){let D=F_(y);P=N_(v[B],D,p)}return P}function xg(o,u=[],h=[],p="",_=!1){let y=(v,P,B=_,D)=>{let S={relativePath:D===void 0?v.path||"":D,caseSensitive:v.caseSensitive===!0,childrenIndex:P,route:v};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(p)&&B)return;sn(S.relativePath.startsWith(p),`Absolute route path "${S.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(p.length)}let j=ao([p,S.relativePath]),I=h.concat(S);v.children&&v.children.length>0&&(sn(v.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),xg(v.children,u,I,j,B)),!(v.path==null&&!v.index)&&u.push({path:j,score:R_(j,v.index),routesMeta:I})};return o.forEach((v,P)=>{if(v.path===""||!v.path?.includes("?"))y(v,P);else for(let B of wg(v.path))y(v,P,!0,B)}),u}function wg(o){let u=o.split("/");if(u.length===0)return[];let[h,...p]=u,_=h.endsWith("?"),y=h.replace(/\?$/,"");if(p.length===0)return _?[y,""]:[y];let v=wg(p.join("/")),P=[];return P.push(...v.map(B=>B===""?y:[y,B].join("/"))),_&&P.push(...v),P.map(B=>o.startsWith("/")&&B===""?"/":B)}function P_(o){o.sort((u,h)=>u.score!==h.score?h.score-u.score:O_(u.routesMeta.map(p=>p.childrenIndex),h.routesMeta.map(p=>p.childrenIndex)))}var M_=/^:[\w-]+$/,B_=3,j_=2,T_=1,D_=10,A_=-2,Dp=o=>o==="*";function R_(o,u){let h=o.split("/"),p=h.length;return h.some(Dp)&&(p+=A_),u&&(p+=j_),h.filter(_=>!Dp(_)).reduce((_,y)=>_+(M_.test(y)?B_:y===""?T_:D_),p)}function O_(o,u){return o.length===u.length&&o.slice(0,-1).every((p,_)=>p===u[_])?o[o.length-1]-u[u.length-1]:0}function N_(o,u,h=!1){let{routesMeta:p}=o,_={},y="/",v=[];for(let P=0;P<p.length;++P){let B=p[P],D=P===p.length-1,S=y==="/"?u:u.slice(y.length)||"/",j=Nc({path:B.relativePath,caseSensitive:B.caseSensitive,end:D},S),I=B.route;if(!j&&D&&h&&!p[p.length-1].route.index&&(j=Nc({path:B.relativePath,caseSensitive:B.caseSensitive,end:!1},S)),!j)return null;Object.assign(_,j.params),v.push({params:_,pathname:ao([y,j.pathname]),pathnameBase:q_(ao([y,j.pathnameBase])),route:I}),j.pathnameBase!=="/"&&(y=ao([y,j.pathnameBase]))}return v}function Nc(o,u){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[h,p]=I_(o.path,o.caseSensitive,o.end),_=u.match(h);if(!_)return null;let y=_[0],v=y.replace(/(.)\/+$/,"$1"),P=_.slice(1);return{params:p.reduce((D,{paramName:S,isOptional:j},I)=>{if(S==="*"){let K=P[I]||"";v=y.slice(0,y.length-K.length).replace(/(.)\/+$/,"$1")}const ne=P[I];return j&&!ne?D[S]=void 0:D[S]=(ne||"").replace(/%2F/g,"/"),D},{}),pathname:y,pathnameBase:v,pattern:o}}function I_(o,u=!1,h=!0){_i(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let p=[],_="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(v,P,B)=>(p.push({paramName:P,isOptional:B!=null}),B?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(p.push({paramName:"*"}),_+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?_+="\\/*$":o!==""&&o!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,u?void 0:"i"),p]}function F_(o){try{return o.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return _i(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${u}).`),o}}function lo(o,u){if(u==="/")return o;if(!o.toLowerCase().startsWith(u.toLowerCase()))return null;let h=u.endsWith("/")?u.length-1:u.length,p=o.charAt(h);return p&&p!=="/"?null:o.slice(h)||"/"}var z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U_=o=>z_.test(o);function H_(o,u="/"){let{pathname:h,search:p="",hash:_=""}=typeof o=="string"?Hl(o):o,y;if(h)if(U_(h))y=h;else{if(h.includes("//")){let v=h;h=h.replace(/\/\/+/g,"/"),_i(!1,`Pathnames cannot have embedded double slashes - normalizing ${v} -> ${h}`)}h.startsWith("/")?y=Ap(h.substring(1),"/"):y=Ap(h,u)}else y=u;return{pathname:y,search:V_(p),hash:G_(_)}}function Ap(o,u){let h=u.replace(/\/+$/,"").split("/");return o.split("/").forEach(_=>{_===".."?h.length>1&&h.pop():_!=="."&&h.push(_)}),h.length>1?h.join("/"):"/"}function Nh(o,u,h,p){return`Cannot include a '${o}' character in a manually specified \`to.${u}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${h}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W_(o){return o.filter((u,h)=>h===0||u.route.path&&u.route.path.length>0)}function Yd(o){let u=W_(o);return u.map((h,p)=>p===u.length-1?h.pathname:h.pathnameBase)}function Qd(o,u,h,p=!1){let _;typeof o=="string"?_=Hl(o):(_={...o},sn(!_.pathname||!_.pathname.includes("?"),Nh("?","pathname","search",_)),sn(!_.pathname||!_.pathname.includes("#"),Nh("#","pathname","hash",_)),sn(!_.search||!_.search.includes("#"),Nh("#","search","hash",_)));let y=o===""||_.pathname==="",v=y?"/":_.pathname,P;if(v==null)P=h;else{let j=u.length-1;if(!p&&v.startsWith("..")){let I=v.split("/");for(;I[0]==="..";)I.shift(),j-=1;_.pathname=I.join("/")}P=j>=0?u[j]:"/"}let B=H_(_,P),D=v&&v!=="/"&&v.endsWith("/"),S=(y||v===".")&&h.endsWith("/");return!B.pathname.endsWith("/")&&(D||S)&&(B.pathname+="/"),B}var ao=o=>o.join("/").replace(/\/\/+/g,"/"),q_=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),V_=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,G_=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Z_(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bg=["POST","PUT","PATCH","DELETE"];new Set(bg);var K_=["GET",...bg];new Set(K_);var Wl=U.createContext(null);Wl.displayName="DataRouter";var zc=U.createContext(null);zc.displayName="DataRouterState";U.createContext(!1);var Cg=U.createContext({isTransitioning:!1});Cg.displayName="ViewTransition";var $_=U.createContext(new Map);$_.displayName="Fetchers";var X_=U.createContext(null);X_.displayName="Await";var $i=U.createContext(null);$i.displayName="Navigation";var Du=U.createContext(null);Du.displayName="Location";var js=U.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var ef=U.createContext(null);ef.displayName="RouteError";function J_(o,{relative:u}={}){sn(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:h,navigator:p}=U.useContext($i),{hash:_,pathname:y,search:v}=Au(o,{relative:u}),P=y;return h!=="/"&&(P=y==="/"?h:ao([h,y])),p.createHref({pathname:P,search:v,hash:_})}function ql(){return U.useContext(Du)!=null}function Ts(){return sn(ql(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Du).location}var Lg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kg(o){U.useContext($i).static||U.useLayoutEffect(o)}function Uc(){let{isDataRoute:o}=U.useContext(js);return o?cy():Y_()}function Y_(){sn(ql(),"useNavigate() may be used only in the context of a <Router> component.");let o=U.useContext(Wl),{basename:u,navigator:h}=U.useContext($i),{matches:p}=U.useContext(js),{pathname:_}=Ts(),y=JSON.stringify(Yd(p)),v=U.useRef(!1);return kg(()=>{v.current=!0}),U.useCallback((B,D={})=>{if(_i(v.current,Lg),!v.current)return;if(typeof B=="number"){h.go(B);return}let S=Qd(B,JSON.parse(y),_,D.relative==="path");o==null&&u!=="/"&&(S.pathname=S.pathname==="/"?u:ao([u,S.pathname])),(D.replace?h.replace:h.push)(S,D.state,D)},[u,h,y,_,o])}U.createContext(null);function Au(o,{relative:u}={}){let{matches:h}=U.useContext(js),{pathname:p}=Ts(),_=JSON.stringify(Yd(h));return U.useMemo(()=>Qd(o,JSON.parse(_),p,u==="path"),[o,_,p,u])}function Q_(o,u){return Eg(o,u)}function Eg(o,u,h,p,_){sn(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:y}=U.useContext($i),{matches:v}=U.useContext(js),P=v[v.length-1],B=P?P.params:{},D=P?P.pathname:"/",S=P?P.pathnameBase:"/",j=P&&P.route;{let F=j&&j.path||"";Sg(D,!j||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${D}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let I=Ts(),ne;if(u){let F=typeof u=="string"?Hl(u):u;sn(S==="/"||F.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${F.pathname}" was given in the \`location\` prop.`),ne=F}else ne=I;let K=ne.pathname||"/",G=K;if(S!=="/"){let F=S.replace(/^\//,"").split("/");G="/"+K.replace(/^\//,"").split("/").slice(F.length).join("/")}let Z=vg(o,{pathname:G});_i(j||Z!=null,`No routes matched location "${ne.pathname}${ne.search}${ne.hash}" `),_i(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${ne.pathname}${ne.search}${ne.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Se=iy(Z&&Z.map(F=>Object.assign({},F,{params:Object.assign({},B,F.params),pathname:ao([S,y.encodeLocation?y.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?S:ao([S,y.encodeLocation?y.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),v,h,p,_);return u&&Se?U.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ne},navigationType:"POP"}},Se):Se}function ey(){let o=uy(),u=Z_(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),h=o instanceof Error?o.stack:null,p="rgba(200,200,200, 0.5)",_={padding:"0.5rem",backgroundColor:p},y={padding:"2px 4px",backgroundColor:p},v=null;return console.error("Error handled by React Router default ErrorBoundary:",o),v=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:y},"ErrorBoundary")," or"," ",U.createElement("code",{style:y},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},u),h?U.createElement("pre",{style:_},h):null,v)}var ty=U.createElement(ey,null),ny=class extends U.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,u){return u.location!==o.location||u.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:u.error,location:u.location,revalidation:o.revalidation||u.revalidation}}componentDidCatch(o,u){this.props.onError?this.props.onError(o,u):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?U.createElement(js.Provider,{value:this.props.routeContext},U.createElement(ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ry({routeContext:o,match:u,children:h}){let p=U.useContext(Wl);return p&&p.static&&p.staticContext&&(u.route.errorElement||u.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=u.route.id),U.createElement(js.Provider,{value:o},h)}function iy(o,u=[],h=null,p=null,_=null){if(o==null){if(!h)return null;if(h.errors)o=h.matches;else if(u.length===0&&!h.initialized&&h.matches.length>0)o=h.matches;else return null}let y=o,v=h?.errors;if(v!=null){let S=y.findIndex(j=>j.route.id&&v?.[j.route.id]!==void 0);sn(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(v).join(",")}`),y=y.slice(0,Math.min(y.length,S+1))}let P=!1,B=-1;if(h)for(let S=0;S<y.length;S++){let j=y[S];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(B=S),j.route.id){let{loaderData:I,errors:ne}=h,K=j.route.loader&&!I.hasOwnProperty(j.route.id)&&(!ne||ne[j.route.id]===void 0);if(j.route.lazy||K){P=!0,B>=0?y=y.slice(0,B+1):y=[y[0]];break}}}let D=h&&p?(S,j)=>{p(S,{location:h.location,params:h.matches?.[0]?.params??{},errorInfo:j})}:void 0;return y.reduceRight((S,j,I)=>{let ne,K=!1,G=null,Z=null;h&&(ne=v&&j.route.id?v[j.route.id]:void 0,G=j.route.errorElement||ty,P&&(B<0&&I===0?(Sg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,Z=null):B===I&&(K=!0,Z=j.route.hydrateFallbackElement||null)));let Se=u.concat(y.slice(0,I+1)),F=()=>{let te;return ne?te=G:K?te=Z:j.route.Component?te=U.createElement(j.route.Component,null):j.route.element?te=j.route.element:te=S,U.createElement(ry,{match:j,routeContext:{outlet:S,matches:Se,isDataRoute:h!=null},children:te})};return h&&(j.route.ErrorBoundary||j.route.errorElement||I===0)?U.createElement(ny,{location:h.location,revalidation:h.revalidation,component:G,error:ne,children:F(),routeContext:{outlet:null,matches:Se,isDataRoute:!0},onError:D}):F()},null)}function tf(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sy(o){let u=U.useContext(Wl);return sn(u,tf(o)),u}function oy(o){let u=U.useContext(zc);return sn(u,tf(o)),u}function ay(o){let u=U.useContext(js);return sn(u,tf(o)),u}function nf(o){let u=ay(o),h=u.matches[u.matches.length-1];return sn(h.route.id,`${o} can only be used on routes that contain a unique "id"`),h.route.id}function ly(){return nf("useRouteId")}function uy(){let o=U.useContext(ef),u=oy("useRouteError"),h=nf("useRouteError");return o!==void 0?o:u.errors?.[h]}function cy(){let{router:o}=sy("useNavigate"),u=nf("useNavigate"),h=U.useRef(!1);return kg(()=>{h.current=!0}),U.useCallback(async(_,y={})=>{_i(h.current,Lg),h.current&&(typeof _=="number"?o.navigate(_):await o.navigate(_,{fromRouteId:u,...y}))},[o,u])}var Rp={};function Sg(o,u,h){!u&&!Rp[o]&&(Rp[o]=!0,_i(!1,h))}U.memo(hy);function hy({routes:o,future:u,state:h,unstable_onError:p}){return Eg(o,void 0,h,p,u)}function Nr({to:o,replace:u,state:h,relative:p}){sn(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:_}=U.useContext($i);_i(!_,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:y}=U.useContext(js),{pathname:v}=Ts(),P=Uc(),B=Qd(o,Yd(y),v,p==="path"),D=JSON.stringify(B);return U.useEffect(()=>{P(JSON.parse(D),{replace:u,state:h,relative:p})},[P,D,p,u,h]),null}function Nt(o){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dy({basename:o="/",children:u=null,location:h,navigationType:p="POP",navigator:_,static:y=!1}){sn(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=o.replace(/^\/*/,"/"),P=U.useMemo(()=>({basename:v,navigator:_,static:y,future:{}}),[v,_,y]);typeof h=="string"&&(h=Hl(h));let{pathname:B="/",search:D="",hash:S="",state:j=null,key:I="default"}=h,ne=U.useMemo(()=>{let K=lo(B,v);return K==null?null:{location:{pathname:K,search:D,hash:S,state:j,key:I},navigationType:p}},[v,B,D,S,j,I,p]);return _i(ne!=null,`<Router basename="${v}"> is not able to match the URL "${B}${D}${S}" because it does not start with the basename, so the <Router> won't render anything.`),ne==null?null:U.createElement($i.Provider,{value:P},U.createElement(Du.Provider,{children:u,value:ne}))}function Pg({children:o,location:u}){return Q_(qd(o),u)}function qd(o,u=[]){let h=[];return U.Children.forEach(o,(p,_)=>{if(!U.isValidElement(p))return;let y=[...u,_];if(p.type===U.Fragment){h.push.apply(h,qd(p.props.children,y));return}sn(p.type===Nt,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!p.props.index||!p.props.children,"An index route cannot have child routes.");let v={id:p.props.id||y.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,middleware:p.props.middleware,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(v.children=qd(p.props.children,y)),h.push(v)}),h}var jc="get",Tc="application/x-www-form-urlencoded";function Hc(o){return o!=null&&typeof o.tagName=="string"}function fy(o){return Hc(o)&&o.tagName.toLowerCase()==="button"}function py(o){return Hc(o)&&o.tagName.toLowerCase()==="form"}function my(o){return Hc(o)&&o.tagName.toLowerCase()==="input"}function gy(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function _y(o,u){return o.button===0&&(!u||u==="_self")&&!gy(o)}var wc=null;function yy(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var vy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ih(o){return o!=null&&!vy.has(o)?(_i(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):o}function xy(o,u){let h,p,_,y,v;if(py(o)){let P=o.getAttribute("action");p=P?lo(P,u):null,h=o.getAttribute("method")||jc,_=Ih(o.getAttribute("enctype"))||Tc,y=new FormData(o)}else if(fy(o)||my(o)&&(o.type==="submit"||o.type==="image")){let P=o.form;if(P==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let B=o.getAttribute("formaction")||P.getAttribute("action");if(p=B?lo(B,u):null,h=o.getAttribute("formmethod")||P.getAttribute("method")||jc,_=Ih(o.getAttribute("formenctype"))||Ih(P.getAttribute("enctype"))||Tc,y=new FormData(P,o),!yy()){let{name:D,type:S,value:j}=o;if(S==="image"){let I=D?`${D}.`:"";y.append(`${I}x`,"0"),y.append(`${I}y`,"0")}else D&&y.append(D,j)}}else{if(Hc(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');h=jc,p=null,_=Tc,v=o}return y&&_==="text/plain"&&(v=y,y=void 0),{action:p,method:h.toLowerCase(),encType:_,formData:y,body:v}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rf(o,u){if(o===!1||o===null||typeof o>"u")throw new Error(u)}function wy(o,u,h){let p=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return p.pathname==="/"?p.pathname=`_root.${h}`:u&&lo(p.pathname,u)==="/"?p.pathname=`${u.replace(/\/$/,"")}/_root.${h}`:p.pathname=`${p.pathname.replace(/\/$/,"")}.${h}`,p}async function by(o,u){if(o.id in u)return u[o.id];try{let h=await import(o.module);return u[o.id]=h,h}catch(h){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(h),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cy(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function Ly(o,u,h){let p=await Promise.all(o.map(async _=>{let y=u.routes[_.route.id];if(y){let v=await by(y,h);return v.links?v.links():[]}return[]}));return Py(p.flat(1).filter(Cy).filter(_=>_.rel==="stylesheet"||_.rel==="preload").map(_=>_.rel==="stylesheet"?{..._,rel:"prefetch",as:"style"}:{..._,rel:"prefetch"}))}function Op(o,u,h,p,_,y){let v=(B,D)=>h[D]?B.route.id!==h[D].route.id:!0,P=(B,D)=>h[D].pathname!==B.pathname||h[D].route.path?.endsWith("*")&&h[D].params["*"]!==B.params["*"];return y==="assets"?u.filter((B,D)=>v(B,D)||P(B,D)):y==="data"?u.filter((B,D)=>{let S=p.routes[B.route.id];if(!S||!S.hasLoader)return!1;if(v(B,D)||P(B,D))return!0;if(B.route.shouldRevalidate){let j=B.route.shouldRevalidate({currentUrl:new URL(_.pathname+_.search+_.hash,window.origin),currentParams:h[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:B.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function ky(o,u,{includeHydrateFallback:h}={}){return Ey(o.map(p=>{let _=u.routes[p.route.id];if(!_)return[];let y=[_.module];return _.clientActionModule&&(y=y.concat(_.clientActionModule)),_.clientLoaderModule&&(y=y.concat(_.clientLoaderModule)),h&&_.hydrateFallbackModule&&(y=y.concat(_.hydrateFallbackModule)),_.imports&&(y=y.concat(_.imports)),y}).flat(1))}function Ey(o){return[...new Set(o)]}function Sy(o){let u={},h=Object.keys(o).sort();for(let p of h)u[p]=o[p];return u}function Py(o,u){let h=new Set;return new Set(u),o.reduce((p,_)=>{let y=JSON.stringify(Sy(_));return h.has(y)||(h.add(y),p.push({key:y,link:_})),p},[])}function Mg(){let o=U.useContext(Wl);return rf(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function My(){let o=U.useContext(zc);return rf(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var sf=U.createContext(void 0);sf.displayName="FrameworkContext";function Bg(){let o=U.useContext(sf);return rf(o,"You must render this element inside a <HydratedRouter> element"),o}function By(o,u){let h=U.useContext(sf),[p,_]=U.useState(!1),[y,v]=U.useState(!1),{onFocus:P,onBlur:B,onMouseEnter:D,onMouseLeave:S,onTouchStart:j}=u,I=U.useRef(null);U.useEffect(()=>{if(o==="render"&&v(!0),o==="viewport"){let G=Se=>{Se.forEach(F=>{v(F.isIntersecting)})},Z=new IntersectionObserver(G,{threshold:.5});return I.current&&Z.observe(I.current),()=>{Z.disconnect()}}},[o]),U.useEffect(()=>{if(p){let G=setTimeout(()=>{v(!0)},100);return()=>{clearTimeout(G)}}},[p]);let ne=()=>{_(!0)},K=()=>{_(!1),v(!1)};return h?o!=="intent"?[y,I,{}]:[y,I,{onFocus:Lu(P,ne),onBlur:Lu(B,K),onMouseEnter:Lu(D,ne),onMouseLeave:Lu(S,K),onTouchStart:Lu(j,ne)}]:[!1,I,{}]}function Lu(o,u){return h=>{o&&o(h),h.defaultPrevented||u(h)}}function jy({page:o,...u}){let{router:h}=Mg(),p=U.useMemo(()=>vg(h.routes,o,h.basename),[h.routes,o,h.basename]);return p?U.createElement(Dy,{page:o,matches:p,...u}):null}function Ty(o){let{manifest:u,routeModules:h}=Bg(),[p,_]=U.useState([]);return U.useEffect(()=>{let y=!1;return Ly(o,u,h).then(v=>{y||_(v)}),()=>{y=!0}},[o,u,h]),p}function Dy({page:o,matches:u,...h}){let p=Ts(),{manifest:_,routeModules:y}=Bg(),{basename:v}=Mg(),{loaderData:P,matches:B}=My(),D=U.useMemo(()=>Op(o,u,B,_,p,"data"),[o,u,B,_,p]),S=U.useMemo(()=>Op(o,u,B,_,p,"assets"),[o,u,B,_,p]),j=U.useMemo(()=>{if(o===p.pathname+p.search+p.hash)return[];let K=new Set,G=!1;if(u.forEach(Se=>{let F=_.routes[Se.route.id];!F||!F.hasLoader||(!D.some(te=>te.route.id===Se.route.id)&&Se.route.id in P&&y[Se.route.id]?.shouldRevalidate||F.hasClientLoader?G=!0:K.add(Se.route.id))}),K.size===0)return[];let Z=wy(o,v,"data");return G&&K.size>0&&Z.searchParams.set("_routes",u.filter(Se=>K.has(Se.route.id)).map(Se=>Se.route.id).join(",")),[Z.pathname+Z.search]},[v,P,p,_,D,u,o,y]),I=U.useMemo(()=>ky(S,_),[S,_]),ne=Ty(S);return U.createElement(U.Fragment,null,j.map(K=>U.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...h})),I.map(K=>U.createElement("link",{key:K,rel:"modulepreload",href:K,...h})),ne.map(({key:K,link:G})=>U.createElement("link",{key:K,nonce:h.nonce,...G})))}function Ay(...o){return u=>{o.forEach(h=>{typeof h=="function"?h(u):h!=null&&(h.current=u)})}}var jg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jg&&(window.__reactRouterVersion="7.9.6")}catch{}function Ry({basename:o,children:u,window:h}){let p=U.useRef();p.current==null&&(p.current=C_({window:h,v5Compat:!0}));let _=p.current,[y,v]=U.useState({action:_.action,location:_.location}),P=U.useCallback(B=>{U.startTransition(()=>v(B))},[v]);return U.useLayoutEffect(()=>_.listen(P),[_,P]),U.createElement(dy,{basename:o,children:u,location:y.location,navigationType:y.action,navigator:_})}var Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dg=U.forwardRef(function({onClick:u,discover:h="render",prefetch:p="none",relative:_,reloadDocument:y,replace:v,state:P,target:B,to:D,preventScrollReset:S,viewTransition:j,...I},ne){let{basename:K}=U.useContext($i),G=typeof D=="string"&&Tg.test(D),Z,Se=!1;if(typeof D=="string"&&G&&(Z=D,jg))try{let ve=new URL(window.location.href),oe=D.startsWith("//")?new URL(ve.protocol+D):new URL(D),De=lo(oe.pathname,K);oe.origin===ve.origin&&De!=null?D=De+oe.search+oe.hash:Se=!0}catch{_i(!1,`<Link to="${D}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=J_(D,{relative:_}),[te,X,Y]=By(p,I),Pe=Iy(D,{replace:v,state:P,target:B,preventScrollReset:S,relative:_,viewTransition:j});function _e(ve){u&&u(ve),ve.defaultPrevented||Pe(ve)}let ae=U.createElement("a",{...I,...Y,href:Z||F,onClick:Se||y?u:_e,ref:Ay(ne,X),target:B,"data-discover":!G&&h==="render"?"true":void 0});return te&&!G?U.createElement(U.Fragment,null,ae,U.createElement(jy,{page:F})):ae});Dg.displayName="Link";var Yn=U.forwardRef(function({"aria-current":u="page",caseSensitive:h=!1,className:p="",end:_=!1,style:y,to:v,viewTransition:P,children:B,...D},S){let j=Au(v,{relative:D.relative}),I=Ts(),ne=U.useContext(zc),{navigator:K,basename:G}=U.useContext($i),Z=ne!=null&&Wy(j)&&P===!0,Se=K.encodeLocation?K.encodeLocation(j).pathname:j.pathname,F=I.pathname,te=ne&&ne.navigation&&ne.navigation.location?ne.navigation.location.pathname:null;h||(F=F.toLowerCase(),te=te?te.toLowerCase():null,Se=Se.toLowerCase()),te&&G&&(te=lo(te,G)||te);const X=Se!=="/"&&Se.endsWith("/")?Se.length-1:Se.length;let Y=F===Se||!_&&F.startsWith(Se)&&F.charAt(X)==="/",Pe=te!=null&&(te===Se||!_&&te.startsWith(Se)&&te.charAt(Se.length)==="/"),_e={isActive:Y,isPending:Pe,isTransitioning:Z},ae=Y?u:void 0,ve;typeof p=="function"?ve=p(_e):ve=[p,Y?"active":null,Pe?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let oe=typeof y=="function"?y(_e):y;return U.createElement(Dg,{...D,"aria-current":ae,className:ve,ref:S,style:oe,to:v,viewTransition:P},typeof B=="function"?B(_e):B)});Yn.displayName="NavLink";var Oy=U.forwardRef(({discover:o="render",fetcherKey:u,navigate:h,reloadDocument:p,replace:_,state:y,method:v=jc,action:P,onSubmit:B,relative:D,preventScrollReset:S,viewTransition:j,...I},ne)=>{let K=Uy(),G=Hy(P,{relative:D}),Z=v.toLowerCase()==="get"?"get":"post",Se=typeof P=="string"&&Tg.test(P),F=te=>{if(B&&B(te),te.defaultPrevented)return;te.preventDefault();let X=te.nativeEvent.submitter,Y=X?.getAttribute("formmethod")||v;K(X||te.currentTarget,{fetcherKey:u,method:Y,navigate:h,replace:_,state:y,relative:D,preventScrollReset:S,viewTransition:j})};return U.createElement("form",{ref:ne,method:Z,action:G,onSubmit:p?B:F,...I,"data-discover":!Se&&o==="render"?"true":void 0})});Oy.displayName="Form";function Ny(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ag(o){let u=U.useContext(Wl);return sn(u,Ny(o)),u}function Iy(o,{target:u,replace:h,state:p,preventScrollReset:_,relative:y,viewTransition:v}={}){let P=Uc(),B=Ts(),D=Au(o,{relative:y});return U.useCallback(S=>{if(_y(S,u)){S.preventDefault();let j=h!==void 0?h:Bu(B)===Bu(D);P(o,{replace:j,state:p,preventScrollReset:_,relative:y,viewTransition:v})}},[B,P,D,h,p,u,o,_,y,v])}var Fy=0,zy=()=>`__${String(++Fy)}__`;function Uy(){let{router:o}=Ag("useSubmit"),{basename:u}=U.useContext($i),h=ly();return U.useCallback(async(p,_={})=>{let{action:y,method:v,encType:P,formData:B,body:D}=xy(p,u);if(_.navigate===!1){let S=_.fetcherKey||zy();await o.fetch(S,h,_.action||y,{preventScrollReset:_.preventScrollReset,formData:B,body:D,formMethod:_.method||v,formEncType:_.encType||P,flushSync:_.flushSync})}else await o.navigate(_.action||y,{preventScrollReset:_.preventScrollReset,formData:B,body:D,formMethod:_.method||v,formEncType:_.encType||P,replace:_.replace,state:_.state,fromRouteId:h,flushSync:_.flushSync,viewTransition:_.viewTransition})},[o,u,h])}function Hy(o,{relative:u}={}){let{basename:h}=U.useContext($i),p=U.useContext(js);sn(p,"useFormAction must be used inside a RouteContext");let[_]=p.matches.slice(-1),y={...Au(o||".",{relative:u})},v=Ts();if(o==null){y.search=v.search;let P=new URLSearchParams(y.search),B=P.getAll("index");if(B.some(S=>S==="")){P.delete("index"),B.filter(j=>j).forEach(j=>P.append("index",j));let S=P.toString();y.search=S?`?${S}`:""}}return(!o||o===".")&&_.route.index&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),h!=="/"&&(y.pathname=y.pathname==="/"?h:ao([h,y.pathname])),Bu(y)}function Wy(o,{relative:u}={}){let h=U.useContext(Cg);sn(h!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=Ag("useViewTransitionState"),_=Au(o,{relative:u});if(!h.isTransitioning)return!1;let y=lo(h.currentLocation.pathname,p)||h.currentLocation.pathname,v=lo(h.nextLocation.pathname,p)||h.nextLocation.pathname;return Nc(_.pathname,v)!=null||Nc(_.pathname,y)!=null}var qy=yg();function Rg(o,u){return function(){return o.apply(u,arguments)}}const{toString:Vy}=Object.prototype,{getPrototypeOf:of}=Object,{iterator:Wc,toStringTag:Og}=Symbol,qc=(o=>u=>{const h=Vy.call(u);return o[h]||(o[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),Xi=o=>(o=o.toLowerCase(),u=>qc(u)===o),Vc=o=>u=>typeof u===o,{isArray:Vl}=Array,Ul=Vc("undefined");function Ru(o){return o!==null&&!Ul(o)&&o.constructor!==null&&!Ul(o.constructor)&&Ir(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const Ng=Xi("ArrayBuffer");function Gy(o){let u;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?u=ArrayBuffer.isView(o):u=o&&o.buffer&&Ng(o.buffer),u}const Zy=Vc("string"),Ir=Vc("function"),Ig=Vc("number"),Ou=o=>o!==null&&typeof o=="object",Ky=o=>o===!0||o===!1,Dc=o=>{if(qc(o)!=="object")return!1;const u=of(o);return(u===null||u===Object.prototype||Object.getPrototypeOf(u)===null)&&!(Og in o)&&!(Wc in o)},$y=o=>{if(!Ou(o)||Ru(o))return!1;try{return Object.keys(o).length===0&&Object.getPrototypeOf(o)===Object.prototype}catch{return!1}},Xy=Xi("Date"),Jy=Xi("File"),Yy=Xi("Blob"),Qy=Xi("FileList"),ev=o=>Ou(o)&&Ir(o.pipe),tv=o=>{let u;return o&&(typeof FormData=="function"&&o instanceof FormData||Ir(o.append)&&((u=qc(o))==="formdata"||u==="object"&&Ir(o.toString)&&o.toString()==="[object FormData]"))},nv=Xi("URLSearchParams"),[rv,iv,sv,ov]=["ReadableStream","Request","Response","Headers"].map(Xi),av=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nu(o,u,{allOwnKeys:h=!1}={}){if(o===null||typeof o>"u")return;let p,_;if(typeof o!="object"&&(o=[o]),Vl(o))for(p=0,_=o.length;p<_;p++)u.call(null,o[p],p,o);else{if(Ru(o))return;const y=h?Object.getOwnPropertyNames(o):Object.keys(o),v=y.length;let P;for(p=0;p<v;p++)P=y[p],u.call(null,o[P],P,o)}}function Fg(o,u){if(Ru(o))return null;u=u.toLowerCase();const h=Object.keys(o);let p=h.length,_;for(;p-- >0;)if(_=h[p],u===_.toLowerCase())return _;return null}const $a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zg=o=>!Ul(o)&&o!==$a;function Vd(){const{caseless:o,skipUndefined:u}=zg(this)&&this||{},h={},p=(_,y)=>{const v=o&&Fg(h,y)||y;Dc(h[v])&&Dc(_)?h[v]=Vd(h[v],_):Dc(_)?h[v]=Vd({},_):Vl(_)?h[v]=_.slice():(!u||!Ul(_))&&(h[v]=_)};for(let _=0,y=arguments.length;_<y;_++)arguments[_]&&Nu(arguments[_],p);return h}const lv=(o,u,h,{allOwnKeys:p}={})=>(Nu(u,(_,y)=>{h&&Ir(_)?o[y]=Rg(_,h):o[y]=_},{allOwnKeys:p}),o),uv=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),cv=(o,u,h,p)=>{o.prototype=Object.create(u.prototype,p),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:u.prototype}),h&&Object.assign(o.prototype,h)},hv=(o,u,h,p)=>{let _,y,v;const P={};if(u=u||{},o==null)return u;do{for(_=Object.getOwnPropertyNames(o),y=_.length;y-- >0;)v=_[y],(!p||p(v,o,u))&&!P[v]&&(u[v]=o[v],P[v]=!0);o=h!==!1&&of(o)}while(o&&(!h||h(o,u))&&o!==Object.prototype);return u},dv=(o,u,h)=>{o=String(o),(h===void 0||h>o.length)&&(h=o.length),h-=u.length;const p=o.indexOf(u,h);return p!==-1&&p===h},fv=o=>{if(!o)return null;if(Vl(o))return o;let u=o.length;if(!Ig(u))return null;const h=new Array(u);for(;u-- >0;)h[u]=o[u];return h},pv=(o=>u=>o&&u instanceof o)(typeof Uint8Array<"u"&&of(Uint8Array)),mv=(o,u)=>{const p=(o&&o[Wc]).call(o);let _;for(;(_=p.next())&&!_.done;){const y=_.value;u.call(o,y[0],y[1])}},gv=(o,u)=>{let h;const p=[];for(;(h=o.exec(u))!==null;)p.push(h);return p},_v=Xi("HTMLFormElement"),yv=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(h,p,_){return p.toUpperCase()+_}),Np=(({hasOwnProperty:o})=>(u,h)=>o.call(u,h))(Object.prototype),vv=Xi("RegExp"),Ug=(o,u)=>{const h=Object.getOwnPropertyDescriptors(o),p={};Nu(h,(_,y)=>{let v;(v=u(_,y,o))!==!1&&(p[y]=v||_)}),Object.defineProperties(o,p)},xv=o=>{Ug(o,(u,h)=>{if(Ir(o)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const p=o[h];if(Ir(p)){if(u.enumerable=!1,"writable"in u){u.writable=!1;return}u.set||(u.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},wv=(o,u)=>{const h={},p=_=>{_.forEach(y=>{h[y]=!0})};return Vl(o)?p(o):p(String(o).split(u)),h},bv=()=>{},Cv=(o,u)=>o!=null&&Number.isFinite(o=+o)?o:u;function Lv(o){return!!(o&&Ir(o.append)&&o[Og]==="FormData"&&o[Wc])}const kv=o=>{const u=new Array(10),h=(p,_)=>{if(Ou(p)){if(u.indexOf(p)>=0)return;if(Ru(p))return p;if(!("toJSON"in p)){u[_]=p;const y=Vl(p)?[]:{};return Nu(p,(v,P)=>{const B=h(v,_+1);!Ul(B)&&(y[P]=B)}),u[_]=void 0,y}}return p};return h(o,0)},Ev=Xi("AsyncFunction"),Sv=o=>o&&(Ou(o)||Ir(o))&&Ir(o.then)&&Ir(o.catch),Hg=((o,u)=>o?setImmediate:u?((h,p)=>($a.addEventListener("message",({source:_,data:y})=>{_===$a&&y===h&&p.length&&p.shift()()},!1),_=>{p.push(_),$a.postMessage(h,"*")}))(`axios@${Math.random()}`,[]):h=>setTimeout(h))(typeof setImmediate=="function",Ir($a.postMessage)),Pv=typeof queueMicrotask<"u"?queueMicrotask.bind($a):typeof process<"u"&&process.nextTick||Hg,Mv=o=>o!=null&&Ir(o[Wc]),Ee={isArray:Vl,isArrayBuffer:Ng,isBuffer:Ru,isFormData:tv,isArrayBufferView:Gy,isString:Zy,isNumber:Ig,isBoolean:Ky,isObject:Ou,isPlainObject:Dc,isEmptyObject:$y,isReadableStream:rv,isRequest:iv,isResponse:sv,isHeaders:ov,isUndefined:Ul,isDate:Xy,isFile:Jy,isBlob:Yy,isRegExp:vv,isFunction:Ir,isStream:ev,isURLSearchParams:nv,isTypedArray:pv,isFileList:Qy,forEach:Nu,merge:Vd,extend:lv,trim:av,stripBOM:uv,inherits:cv,toFlatObject:hv,kindOf:qc,kindOfTest:Xi,endsWith:dv,toArray:fv,forEachEntry:mv,matchAll:gv,isHTMLForm:_v,hasOwnProperty:Np,hasOwnProp:Np,reduceDescriptors:Ug,freezeMethods:xv,toObjectSet:wv,toCamelCase:yv,noop:bv,toFiniteNumber:Cv,findKey:Fg,global:$a,isContextDefined:zg,isSpecCompliantForm:Lv,toJSONObject:kv,isAsyncFn:Ev,isThenable:Sv,setImmediate:Hg,asap:Pv,isIterable:Mv};function Ct(o,u,h,p,_){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",u&&(this.code=u),h&&(this.config=h),p&&(this.request=p),_&&(this.response=_,this.status=_.status?_.status:null)}Ee.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const Wg=Ct.prototype,qg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{qg[o]={value:o}});Object.defineProperties(Ct,qg);Object.defineProperty(Wg,"isAxiosError",{value:!0});Ct.from=(o,u,h,p,_,y)=>{const v=Object.create(Wg);Ee.toFlatObject(o,v,function(S){return S!==Error.prototype},D=>D!=="isAxiosError");const P=o&&o.message?o.message:"Error",B=u==null&&o?o.code:u;return Ct.call(v,P,B,h,p,_),o&&v.cause==null&&Object.defineProperty(v,"cause",{value:o,configurable:!0}),v.name=o&&o.name||"Error",y&&Object.assign(v,y),v};const Bv=null;function Gd(o){return Ee.isPlainObject(o)||Ee.isArray(o)}function Vg(o){return Ee.endsWith(o,"[]")?o.slice(0,-2):o}function Ip(o,u,h){return o?o.concat(u).map(function(_,y){return _=Vg(_),!h&&y?"["+_+"]":_}).join(h?".":""):u}function jv(o){return Ee.isArray(o)&&!o.some(Gd)}const Tv=Ee.toFlatObject(Ee,{},null,function(u){return/^is[A-Z]/.test(u)});function Gc(o,u,h){if(!Ee.isObject(o))throw new TypeError("target must be an object");u=u||new FormData,h=Ee.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(G,Z){return!Ee.isUndefined(Z[G])});const p=h.metaTokens,_=h.visitor||S,y=h.dots,v=h.indexes,B=(h.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(u);if(!Ee.isFunction(_))throw new TypeError("visitor must be a function");function D(K){if(K===null)return"";if(Ee.isDate(K))return K.toISOString();if(Ee.isBoolean(K))return K.toString();if(!B&&Ee.isBlob(K))throw new Ct("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(K)||Ee.isTypedArray(K)?B&&typeof Blob=="function"?new Blob([K]):Buffer.from(K):K}function S(K,G,Z){let Se=K;if(K&&!Z&&typeof K=="object"){if(Ee.endsWith(G,"{}"))G=p?G:G.slice(0,-2),K=JSON.stringify(K);else if(Ee.isArray(K)&&jv(K)||(Ee.isFileList(K)||Ee.endsWith(G,"[]"))&&(Se=Ee.toArray(K)))return G=Vg(G),Se.forEach(function(te,X){!(Ee.isUndefined(te)||te===null)&&u.append(v===!0?Ip([G],X,y):v===null?G:G+"[]",D(te))}),!1}return Gd(K)?!0:(u.append(Ip(Z,G,y),D(K)),!1)}const j=[],I=Object.assign(Tv,{defaultVisitor:S,convertValue:D,isVisitable:Gd});function ne(K,G){if(!Ee.isUndefined(K)){if(j.indexOf(K)!==-1)throw Error("Circular reference detected in "+G.join("."));j.push(K),Ee.forEach(K,function(Se,F){(!(Ee.isUndefined(Se)||Se===null)&&_.call(u,Se,Ee.isString(F)?F.trim():F,G,I))===!0&&ne(Se,G?G.concat(F):[F])}),j.pop()}}if(!Ee.isObject(o))throw new TypeError("data must be an object");return ne(o),u}function Fp(o){const u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(p){return u[p]})}function af(o,u){this._pairs=[],o&&Gc(o,this,u)}const Gg=af.prototype;Gg.append=function(u,h){this._pairs.push([u,h])};Gg.toString=function(u){const h=u?function(p){return u.call(this,p,Fp)}:Fp;return this._pairs.map(function(_){return h(_[0])+"="+h(_[1])},"").join("&")};function Dv(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zg(o,u,h){if(!u)return o;const p=h&&h.encode||Dv;Ee.isFunction(h)&&(h={serialize:h});const _=h&&h.serialize;let y;if(_?y=_(u,h):y=Ee.isURLSearchParams(u)?u.toString():new af(u,h).toString(p),y){const v=o.indexOf("#");v!==-1&&(o=o.slice(0,v)),o+=(o.indexOf("?")===-1?"?":"&")+y}return o}class zp{constructor(){this.handlers=[]}use(u,h,p){return this.handlers.push({fulfilled:u,rejected:h,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1}eject(u){this.handlers[u]&&(this.handlers[u]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(u){Ee.forEach(this.handlers,function(p){p!==null&&u(p)})}}const Kg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Av=typeof URLSearchParams<"u"?URLSearchParams:af,Rv=typeof FormData<"u"?FormData:null,Ov=typeof Blob<"u"?Blob:null,Nv={isBrowser:!0,classes:{URLSearchParams:Av,FormData:Rv,Blob:Ov},protocols:["http","https","file","blob","url","data"]},lf=typeof window<"u"&&typeof document<"u",Zd=typeof navigator=="object"&&navigator||void 0,Iv=lf&&(!Zd||["ReactNative","NativeScript","NS"].indexOf(Zd.product)<0),Fv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zv=lf&&window.location.href||"http://localhost",Uv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lf,hasStandardBrowserEnv:Iv,hasStandardBrowserWebWorkerEnv:Fv,navigator:Zd,origin:zv},Symbol.toStringTag,{value:"Module"})),Qn={...Uv,...Nv};function Hv(o,u){return Gc(o,new Qn.classes.URLSearchParams,{visitor:function(h,p,_,y){return Qn.isNode&&Ee.isBuffer(h)?(this.append(p,h.toString("base64")),!1):y.defaultVisitor.apply(this,arguments)},...u})}function Wv(o){return Ee.matchAll(/\w+|\[(\w*)]/g,o).map(u=>u[0]==="[]"?"":u[1]||u[0])}function qv(o){const u={},h=Object.keys(o);let p;const _=h.length;let y;for(p=0;p<_;p++)y=h[p],u[y]=o[y];return u}function $g(o){function u(h,p,_,y){let v=h[y++];if(v==="__proto__")return!0;const P=Number.isFinite(+v),B=y>=h.length;return v=!v&&Ee.isArray(_)?_.length:v,B?(Ee.hasOwnProp(_,v)?_[v]=[_[v],p]:_[v]=p,!P):((!_[v]||!Ee.isObject(_[v]))&&(_[v]=[]),u(h,p,_[v],y)&&Ee.isArray(_[v])&&(_[v]=qv(_[v])),!P)}if(Ee.isFormData(o)&&Ee.isFunction(o.entries)){const h={};return Ee.forEachEntry(o,(p,_)=>{u(Wv(p),_,h,0)}),h}return null}function Vv(o,u,h){if(Ee.isString(o))try{return(u||JSON.parse)(o),Ee.trim(o)}catch(p){if(p.name!=="SyntaxError")throw p}return(h||JSON.stringify)(o)}const Iu={transitional:Kg,adapter:["xhr","http","fetch"],transformRequest:[function(u,h){const p=h.getContentType()||"",_=p.indexOf("application/json")>-1,y=Ee.isObject(u);if(y&&Ee.isHTMLForm(u)&&(u=new FormData(u)),Ee.isFormData(u))return _?JSON.stringify($g(u)):u;if(Ee.isArrayBuffer(u)||Ee.isBuffer(u)||Ee.isStream(u)||Ee.isFile(u)||Ee.isBlob(u)||Ee.isReadableStream(u))return u;if(Ee.isArrayBufferView(u))return u.buffer;if(Ee.isURLSearchParams(u))return h.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),u.toString();let P;if(y){if(p.indexOf("application/x-www-form-urlencoded")>-1)return Hv(u,this.formSerializer).toString();if((P=Ee.isFileList(u))||p.indexOf("multipart/form-data")>-1){const B=this.env&&this.env.FormData;return Gc(P?{"files[]":u}:u,B&&new B,this.formSerializer)}}return y||_?(h.setContentType("application/json",!1),Vv(u)):u}],transformResponse:[function(u){const h=this.transitional||Iu.transitional,p=h&&h.forcedJSONParsing,_=this.responseType==="json";if(Ee.isResponse(u)||Ee.isReadableStream(u))return u;if(u&&Ee.isString(u)&&(p&&!this.responseType||_)){const v=!(h&&h.silentJSONParsing)&&_;try{return JSON.parse(u,this.parseReviver)}catch(P){if(v)throw P.name==="SyntaxError"?Ct.from(P,Ct.ERR_BAD_RESPONSE,this,null,this.response):P}}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qn.classes.FormData,Blob:Qn.classes.Blob},validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],o=>{Iu.headers[o]={}});const Gv=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zv=o=>{const u={};let h,p,_;return o&&o.split(`
`).forEach(function(v){_=v.indexOf(":"),h=v.substring(0,_).trim().toLowerCase(),p=v.substring(_+1).trim(),!(!h||u[h]&&Gv[h])&&(h==="set-cookie"?u[h]?u[h].push(p):u[h]=[p]:u[h]=u[h]?u[h]+", "+p:p)}),u},Up=Symbol("internals");function ku(o){return o&&String(o).trim().toLowerCase()}function Ac(o){return o===!1||o==null?o:Ee.isArray(o)?o.map(Ac):String(o)}function Kv(o){const u=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let p;for(;p=h.exec(o);)u[p[1]]=p[2];return u}const $v=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function Fh(o,u,h,p,_){if(Ee.isFunction(p))return p.call(this,u,h);if(_&&(u=h),!!Ee.isString(u)){if(Ee.isString(p))return u.indexOf(p)!==-1;if(Ee.isRegExp(p))return p.test(u)}}function Xv(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(u,h,p)=>h.toUpperCase()+p)}function Jv(o,u){const h=Ee.toCamelCase(" "+u);["get","set","has"].forEach(p=>{Object.defineProperty(o,p+h,{value:function(_,y,v){return this[p].call(this,u,_,y,v)},configurable:!0})})}let Fr=class{constructor(u){u&&this.set(u)}set(u,h,p){const _=this;function y(P,B,D){const S=ku(B);if(!S)throw new Error("header name must be a non-empty string");const j=Ee.findKey(_,S);(!j||_[j]===void 0||D===!0||D===void 0&&_[j]!==!1)&&(_[j||B]=Ac(P))}const v=(P,B)=>Ee.forEach(P,(D,S)=>y(D,S,B));if(Ee.isPlainObject(u)||u instanceof this.constructor)v(u,h);else if(Ee.isString(u)&&(u=u.trim())&&!$v(u))v(Zv(u),h);else if(Ee.isObject(u)&&Ee.isIterable(u)){let P={},B,D;for(const S of u){if(!Ee.isArray(S))throw TypeError("Object iterator must return a key-value pair");P[D=S[0]]=(B=P[D])?Ee.isArray(B)?[...B,S[1]]:[B,S[1]]:S[1]}v(P,h)}else u!=null&&y(h,u,p);return this}get(u,h){if(u=ku(u),u){const p=Ee.findKey(this,u);if(p){const _=this[p];if(!h)return _;if(h===!0)return Kv(_);if(Ee.isFunction(h))return h.call(this,_,p);if(Ee.isRegExp(h))return h.exec(_);throw new TypeError("parser must be boolean|regexp|function")}}}has(u,h){if(u=ku(u),u){const p=Ee.findKey(this,u);return!!(p&&this[p]!==void 0&&(!h||Fh(this,this[p],p,h)))}return!1}delete(u,h){const p=this;let _=!1;function y(v){if(v=ku(v),v){const P=Ee.findKey(p,v);P&&(!h||Fh(p,p[P],P,h))&&(delete p[P],_=!0)}}return Ee.isArray(u)?u.forEach(y):y(u),_}clear(u){const h=Object.keys(this);let p=h.length,_=!1;for(;p--;){const y=h[p];(!u||Fh(this,this[y],y,u,!0))&&(delete this[y],_=!0)}return _}normalize(u){const h=this,p={};return Ee.forEach(this,(_,y)=>{const v=Ee.findKey(p,y);if(v){h[v]=Ac(_),delete h[y];return}const P=u?Xv(y):String(y).trim();P!==y&&delete h[y],h[P]=Ac(_),p[P]=!0}),this}concat(...u){return this.constructor.concat(this,...u)}toJSON(u){const h=Object.create(null);return Ee.forEach(this,(p,_)=>{p!=null&&p!==!1&&(h[_]=u&&Ee.isArray(p)?p.join(", "):p)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([u,h])=>u+": "+h).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(u){return u instanceof this?u:new this(u)}static concat(u,...h){const p=new this(u);return h.forEach(_=>p.set(_)),p}static accessor(u){const p=(this[Up]=this[Up]={accessors:{}}).accessors,_=this.prototype;function y(v){const P=ku(v);p[P]||(Jv(_,v),p[P]=!0)}return Ee.isArray(u)?u.forEach(y):y(u),this}};Fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(Fr.prototype,({value:o},u)=>{let h=u[0].toUpperCase()+u.slice(1);return{get:()=>o,set(p){this[h]=p}}});Ee.freezeMethods(Fr);function zh(o,u){const h=this||Iu,p=u||h,_=Fr.from(p.headers);let y=p.data;return Ee.forEach(o,function(P){y=P.call(h,y,_.normalize(),u?u.status:void 0)}),_.normalize(),y}function Xg(o){return!!(o&&o.__CANCEL__)}function Gl(o,u,h){Ct.call(this,o??"canceled",Ct.ERR_CANCELED,u,h),this.name="CanceledError"}Ee.inherits(Gl,Ct,{__CANCEL__:!0});function Jg(o,u,h){const p=h.config.validateStatus;!h.status||!p||p(h.status)?o(h):u(new Ct("Request failed with status code "+h.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}function Yv(o){const u=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return u&&u[1]||""}function Qv(o,u){o=o||10;const h=new Array(o),p=new Array(o);let _=0,y=0,v;return u=u!==void 0?u:1e3,function(B){const D=Date.now(),S=p[y];v||(v=D),h[_]=B,p[_]=D;let j=y,I=0;for(;j!==_;)I+=h[j++],j=j%o;if(_=(_+1)%o,_===y&&(y=(y+1)%o),D-v<u)return;const ne=S&&D-S;return ne?Math.round(I*1e3/ne):void 0}}function ex(o,u){let h=0,p=1e3/u,_,y;const v=(D,S=Date.now())=>{h=S,_=null,y&&(clearTimeout(y),y=null),o(...D)};return[(...D)=>{const S=Date.now(),j=S-h;j>=p?v(D,S):(_=D,y||(y=setTimeout(()=>{y=null,v(_)},p-j)))},()=>_&&v(_)]}const Ic=(o,u,h=3)=>{let p=0;const _=Qv(50,250);return ex(y=>{const v=y.loaded,P=y.lengthComputable?y.total:void 0,B=v-p,D=_(B),S=v<=P;p=v;const j={loaded:v,total:P,progress:P?v/P:void 0,bytes:B,rate:D||void 0,estimated:D&&P&&S?(P-v)/D:void 0,event:y,lengthComputable:P!=null,[u?"download":"upload"]:!0};o(j)},h)},Hp=(o,u)=>{const h=o!=null;return[p=>u[0]({lengthComputable:h,total:o,loaded:p}),u[1]]},Wp=o=>(...u)=>Ee.asap(()=>o(...u)),tx=Qn.hasStandardBrowserEnv?((o,u)=>h=>(h=new URL(h,Qn.origin),o.protocol===h.protocol&&o.host===h.host&&(u||o.port===h.port)))(new URL(Qn.origin),Qn.navigator&&/(msie|trident)/i.test(Qn.navigator.userAgent)):()=>!0,nx=Qn.hasStandardBrowserEnv?{write(o,u,h,p,_,y,v){if(typeof document>"u")return;const P=[`${o}=${encodeURIComponent(u)}`];Ee.isNumber(h)&&P.push(`expires=${new Date(h).toUTCString()}`),Ee.isString(p)&&P.push(`path=${p}`),Ee.isString(_)&&P.push(`domain=${_}`),y===!0&&P.push("secure"),Ee.isString(v)&&P.push(`SameSite=${v}`),document.cookie=P.join("; ")},read(o){if(typeof document>"u")return null;const u=document.cookie.match(new RegExp("(?:^|; )"+o+"=([^;]*)"));return u?decodeURIComponent(u[1]):null},remove(o){this.write(o,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function rx(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function ix(o,u){return u?o.replace(/\/?\/$/,"")+"/"+u.replace(/^\/+/,""):o}function Yg(o,u,h){let p=!rx(u);return o&&(p||h==!1)?ix(o,u):u}const qp=o=>o instanceof Fr?{...o}:o;function Qa(o,u){u=u||{};const h={};function p(D,S,j,I){return Ee.isPlainObject(D)&&Ee.isPlainObject(S)?Ee.merge.call({caseless:I},D,S):Ee.isPlainObject(S)?Ee.merge({},S):Ee.isArray(S)?S.slice():S}function _(D,S,j,I){if(Ee.isUndefined(S)){if(!Ee.isUndefined(D))return p(void 0,D,j,I)}else return p(D,S,j,I)}function y(D,S){if(!Ee.isUndefined(S))return p(void 0,S)}function v(D,S){if(Ee.isUndefined(S)){if(!Ee.isUndefined(D))return p(void 0,D)}else return p(void 0,S)}function P(D,S,j){if(j in u)return p(D,S);if(j in o)return p(void 0,D)}const B={url:y,method:y,data:y,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,withXSRFToken:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:P,headers:(D,S,j)=>_(qp(D),qp(S),j,!0)};return Ee.forEach(Object.keys({...o,...u}),function(S){const j=B[S]||_,I=j(o[S],u[S],S);Ee.isUndefined(I)&&j!==P||(h[S]=I)}),h}const Qg=o=>{const u=Qa({},o);let{data:h,withXSRFToken:p,xsrfHeaderName:_,xsrfCookieName:y,headers:v,auth:P}=u;if(u.headers=v=Fr.from(v),u.url=Zg(Yg(u.baseURL,u.url,u.allowAbsoluteUrls),o.params,o.paramsSerializer),P&&v.set("Authorization","Basic "+btoa((P.username||"")+":"+(P.password?unescape(encodeURIComponent(P.password)):""))),Ee.isFormData(h)){if(Qn.hasStandardBrowserEnv||Qn.hasStandardBrowserWebWorkerEnv)v.setContentType(void 0);else if(Ee.isFunction(h.getHeaders)){const B=h.getHeaders(),D=["content-type","content-length"];Object.entries(B).forEach(([S,j])=>{D.includes(S.toLowerCase())&&v.set(S,j)})}}if(Qn.hasStandardBrowserEnv&&(p&&Ee.isFunction(p)&&(p=p(u)),p||p!==!1&&tx(u.url))){const B=_&&y&&nx.read(y);B&&v.set(_,B)}return u},sx=typeof XMLHttpRequest<"u",ox=sx&&function(o){return new Promise(function(h,p){const _=Qg(o);let y=_.data;const v=Fr.from(_.headers).normalize();let{responseType:P,onUploadProgress:B,onDownloadProgress:D}=_,S,j,I,ne,K;function G(){ne&&ne(),K&&K(),_.cancelToken&&_.cancelToken.unsubscribe(S),_.signal&&_.signal.removeEventListener("abort",S)}let Z=new XMLHttpRequest;Z.open(_.method.toUpperCase(),_.url,!0),Z.timeout=_.timeout;function Se(){if(!Z)return;const te=Fr.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),Y={data:!P||P==="text"||P==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:te,config:o,request:Z};Jg(function(_e){h(_e),G()},function(_e){p(_e),G()},Y),Z=null}"onloadend"in Z?Z.onloadend=Se:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(Se)},Z.onabort=function(){Z&&(p(new Ct("Request aborted",Ct.ECONNABORTED,o,Z)),Z=null)},Z.onerror=function(X){const Y=X&&X.message?X.message:"Network Error",Pe=new Ct(Y,Ct.ERR_NETWORK,o,Z);Pe.event=X||null,p(Pe),Z=null},Z.ontimeout=function(){let X=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded";const Y=_.transitional||Kg;_.timeoutErrorMessage&&(X=_.timeoutErrorMessage),p(new Ct(X,Y.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,o,Z)),Z=null},y===void 0&&v.setContentType(null),"setRequestHeader"in Z&&Ee.forEach(v.toJSON(),function(X,Y){Z.setRequestHeader(Y,X)}),Ee.isUndefined(_.withCredentials)||(Z.withCredentials=!!_.withCredentials),P&&P!=="json"&&(Z.responseType=_.responseType),D&&([I,K]=Ic(D,!0),Z.addEventListener("progress",I)),B&&Z.upload&&([j,ne]=Ic(B),Z.upload.addEventListener("progress",j),Z.upload.addEventListener("loadend",ne)),(_.cancelToken||_.signal)&&(S=te=>{Z&&(p(!te||te.type?new Gl(null,o,Z):te),Z.abort(),Z=null)},_.cancelToken&&_.cancelToken.subscribe(S),_.signal&&(_.signal.aborted?S():_.signal.addEventListener("abort",S)));const F=Yv(_.url);if(F&&Qn.protocols.indexOf(F)===-1){p(new Ct("Unsupported protocol "+F+":",Ct.ERR_BAD_REQUEST,o));return}Z.send(y||null)})},ax=(o,u)=>{const{length:h}=o=o?o.filter(Boolean):[];if(u||h){let p=new AbortController,_;const y=function(D){if(!_){_=!0,P();const S=D instanceof Error?D:this.reason;p.abort(S instanceof Ct?S:new Gl(S instanceof Error?S.message:S))}};let v=u&&setTimeout(()=>{v=null,y(new Ct(`timeout ${u} of ms exceeded`,Ct.ETIMEDOUT))},u);const P=()=>{o&&(v&&clearTimeout(v),v=null,o.forEach(D=>{D.unsubscribe?D.unsubscribe(y):D.removeEventListener("abort",y)}),o=null)};o.forEach(D=>D.addEventListener("abort",y));const{signal:B}=p;return B.unsubscribe=()=>Ee.asap(P),B}},lx=function*(o,u){let h=o.byteLength;if(h<u){yield o;return}let p=0,_;for(;p<h;)_=p+u,yield o.slice(p,_),p=_},ux=async function*(o,u){for await(const h of cx(o))yield*lx(h,u)},cx=async function*(o){if(o[Symbol.asyncIterator]){yield*o;return}const u=o.getReader();try{for(;;){const{done:h,value:p}=await u.read();if(h)break;yield p}}finally{await u.cancel()}},Vp=(o,u,h,p)=>{const _=ux(o,u);let y=0,v,P=B=>{v||(v=!0,p&&p(B))};return new ReadableStream({async pull(B){try{const{done:D,value:S}=await _.next();if(D){P(),B.close();return}let j=S.byteLength;if(h){let I=y+=j;h(I)}B.enqueue(new Uint8Array(S))}catch(D){throw P(D),D}},cancel(B){return P(B),_.return()}},{highWaterMark:2})},Gp=64*1024,{isFunction:bc}=Ee,hx=(({Request:o,Response:u})=>({Request:o,Response:u}))(Ee.global),{ReadableStream:Zp,TextEncoder:Kp}=Ee.global,$p=(o,...u)=>{try{return!!o(...u)}catch{return!1}},dx=o=>{o=Ee.merge.call({skipUndefined:!0},hx,o);const{fetch:u,Request:h,Response:p}=o,_=u?bc(u):typeof fetch=="function",y=bc(h),v=bc(p);if(!_)return!1;const P=_&&bc(Zp),B=_&&(typeof Kp=="function"?(K=>G=>K.encode(G))(new Kp):async K=>new Uint8Array(await new h(K).arrayBuffer())),D=y&&P&&$p(()=>{let K=!1;const G=new h(Qn.origin,{body:new Zp,method:"POST",get duplex(){return K=!0,"half"}}).headers.has("Content-Type");return K&&!G}),S=v&&P&&$p(()=>Ee.isReadableStream(new p("").body)),j={stream:S&&(K=>K.body)};_&&["text","arrayBuffer","blob","formData","stream"].forEach(K=>{!j[K]&&(j[K]=(G,Z)=>{let Se=G&&G[K];if(Se)return Se.call(G);throw new Ct(`Response type '${K}' is not supported`,Ct.ERR_NOT_SUPPORT,Z)})});const I=async K=>{if(K==null)return 0;if(Ee.isBlob(K))return K.size;if(Ee.isSpecCompliantForm(K))return(await new h(Qn.origin,{method:"POST",body:K}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(K)||Ee.isArrayBuffer(K))return K.byteLength;if(Ee.isURLSearchParams(K)&&(K=K+""),Ee.isString(K))return(await B(K)).byteLength},ne=async(K,G)=>{const Z=Ee.toFiniteNumber(K.getContentLength());return Z??I(G)};return async K=>{let{url:G,method:Z,data:Se,signal:F,cancelToken:te,timeout:X,onDownloadProgress:Y,onUploadProgress:Pe,responseType:_e,headers:ae,withCredentials:ve="same-origin",fetchOptions:oe}=Qg(K),De=u||fetch;_e=_e?(_e+"").toLowerCase():"text";let Xe=ax([F,te&&te.toAbortSignal()],X),Ne=null;const vt=Xe&&Xe.unsubscribe&&(()=>{Xe.unsubscribe()});let jt;try{if(Pe&&D&&Z!=="get"&&Z!=="head"&&(jt=await ne(ae,Se))!==0){let ue=new h(G,{method:"POST",body:Se,duplex:"half"}),Be;if(Ee.isFormData(Se)&&(Be=ue.headers.get("content-type"))&&ae.setContentType(Be),ue.body){const[ut,tt]=Hp(jt,Ic(Wp(Pe)));Se=Vp(ue.body,Gp,ut,tt)}}Ee.isString(ve)||(ve=ve?"include":"omit");const Oe=y&&"credentials"in h.prototype,it={...oe,signal:Xe,method:Z.toUpperCase(),headers:ae.normalize().toJSON(),body:Se,duplex:"half",credentials:Oe?ve:void 0};Ne=y&&new h(G,it);let be=await(y?De(Ne,oe):De(G,it));const nt=S&&(_e==="stream"||_e==="response");if(S&&(Y||nt&&vt)){const ue={};["status","statusText","headers"].forEach(Qe=>{ue[Qe]=be[Qe]});const Be=Ee.toFiniteNumber(be.headers.get("content-length")),[ut,tt]=Y&&Hp(Be,Ic(Wp(Y),!0))||[];be=new p(Vp(be.body,Gp,ut,()=>{tt&&tt(),vt&&vt()}),ue)}_e=_e||"text";let je=await j[Ee.findKey(j,_e)||"text"](be,K);return!nt&&vt&&vt(),await new Promise((ue,Be)=>{Jg(ue,Be,{data:je,headers:Fr.from(be.headers),status:be.status,statusText:be.statusText,config:K,request:Ne})})}catch(Oe){throw vt&&vt(),Oe&&Oe.name==="TypeError"&&/Load failed|fetch/i.test(Oe.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,K,Ne),{cause:Oe.cause||Oe}):Ct.from(Oe,Oe&&Oe.code,K,Ne)}}},fx=new Map,e0=o=>{let u=o&&o.env||{};const{fetch:h,Request:p,Response:_}=u,y=[p,_,h];let v=y.length,P=v,B,D,S=fx;for(;P--;)B=y[P],D=S.get(B),D===void 0&&S.set(B,D=P?new Map:dx(u)),S=D;return D};e0();const uf={http:Bv,xhr:ox,fetch:{get:e0}};Ee.forEach(uf,(o,u)=>{if(o){try{Object.defineProperty(o,"name",{value:u})}catch{}Object.defineProperty(o,"adapterName",{value:u})}});const Xp=o=>`- ${o}`,px=o=>Ee.isFunction(o)||o===null||o===!1;function mx(o,u){o=Ee.isArray(o)?o:[o];const{length:h}=o;let p,_;const y={};for(let v=0;v<h;v++){p=o[v];let P;if(_=p,!px(p)&&(_=uf[(P=String(p)).toLowerCase()],_===void 0))throw new Ct(`Unknown adapter '${P}'`);if(_&&(Ee.isFunction(_)||(_=_.get(u))))break;y[P||"#"+v]=_}if(!_){const v=Object.entries(y).map(([B,D])=>`adapter ${B} `+(D===!1?"is not supported by the environment":"is not available in the build"));let P=h?v.length>1?`since :
`+v.map(Xp).join(`
`):" "+Xp(v[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+P,"ERR_NOT_SUPPORT")}return _}const t0={getAdapter:mx,adapters:uf};function Uh(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new Gl(null,o)}function Jp(o){return Uh(o),o.headers=Fr.from(o.headers),o.data=zh.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),t0.getAdapter(o.adapter||Iu.adapter,o)(o).then(function(p){return Uh(o),p.data=zh.call(o,o.transformResponse,p),p.headers=Fr.from(p.headers),p},function(p){return Xg(p)||(Uh(o),p&&p.response&&(p.response.data=zh.call(o,o.transformResponse,p.response),p.response.headers=Fr.from(p.response.headers))),Promise.reject(p)})}const n0="1.13.2",Zc={};["object","boolean","number","function","string","symbol"].forEach((o,u)=>{Zc[o]=function(p){return typeof p===o||"a"+(u<1?"n ":" ")+o}});const Yp={};Zc.transitional=function(u,h,p){function _(y,v){return"[Axios v"+n0+"] Transitional option '"+y+"'"+v+(p?". "+p:"")}return(y,v,P)=>{if(u===!1)throw new Ct(_(v," has been removed"+(h?" in "+h:"")),Ct.ERR_DEPRECATED);return h&&!Yp[v]&&(Yp[v]=!0,console.warn(_(v," has been deprecated since v"+h+" and will be removed in the near future"))),u?u(y,v,P):!0}};Zc.spelling=function(u){return(h,p)=>(console.warn(`${p} is likely a misspelling of ${u}`),!0)};function gx(o,u,h){if(typeof o!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const p=Object.keys(o);let _=p.length;for(;_-- >0;){const y=p[_],v=u[y];if(v){const P=o[y],B=P===void 0||v(P,y,o);if(B!==!0)throw new Ct("option "+y+" must be "+B,Ct.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new Ct("Unknown option "+y,Ct.ERR_BAD_OPTION)}}const Rc={assertOptions:gx,validators:Zc},Bs=Rc.validators;let Ya=class{constructor(u){this.defaults=u||{},this.interceptors={request:new zp,response:new zp}}async request(u,h){try{return await this._request(u,h)}catch(p){if(p instanceof Error){let _={};Error.captureStackTrace?Error.captureStackTrace(_):_=new Error;const y=_.stack?_.stack.replace(/^.+\n/,""):"";try{p.stack?y&&!String(p.stack).endsWith(y.replace(/^.+\n.+\n/,""))&&(p.stack+=`
`+y):p.stack=y}catch{}}throw p}}_request(u,h){typeof u=="string"?(h=h||{},h.url=u):h=u||{},h=Qa(this.defaults,h);const{transitional:p,paramsSerializer:_,headers:y}=h;p!==void 0&&Rc.assertOptions(p,{silentJSONParsing:Bs.transitional(Bs.boolean),forcedJSONParsing:Bs.transitional(Bs.boolean),clarifyTimeoutError:Bs.transitional(Bs.boolean)},!1),_!=null&&(Ee.isFunction(_)?h.paramsSerializer={serialize:_}:Rc.assertOptions(_,{encode:Bs.function,serialize:Bs.function},!0)),h.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?h.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:h.allowAbsoluteUrls=!0),Rc.assertOptions(h,{baseUrl:Bs.spelling("baseURL"),withXsrfToken:Bs.spelling("withXSRFToken")},!0),h.method=(h.method||this.defaults.method||"get").toLowerCase();let v=y&&Ee.merge(y.common,y[h.method]);y&&Ee.forEach(["delete","get","head","post","put","patch","common"],K=>{delete y[K]}),h.headers=Fr.concat(v,y);const P=[];let B=!0;this.interceptors.request.forEach(function(G){typeof G.runWhen=="function"&&G.runWhen(h)===!1||(B=B&&G.synchronous,P.unshift(G.fulfilled,G.rejected))});const D=[];this.interceptors.response.forEach(function(G){D.push(G.fulfilled,G.rejected)});let S,j=0,I;if(!B){const K=[Jp.bind(this),void 0];for(K.unshift(...P),K.push(...D),I=K.length,S=Promise.resolve(h);j<I;)S=S.then(K[j++],K[j++]);return S}I=P.length;let ne=h;for(;j<I;){const K=P[j++],G=P[j++];try{ne=K(ne)}catch(Z){G.call(this,Z);break}}try{S=Jp.call(this,ne)}catch(K){return Promise.reject(K)}for(j=0,I=D.length;j<I;)S=S.then(D[j++],D[j++]);return S}getUri(u){u=Qa(this.defaults,u);const h=Yg(u.baseURL,u.url,u.allowAbsoluteUrls);return Zg(h,u.params,u.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(u){Ya.prototype[u]=function(h,p){return this.request(Qa(p||{},{method:u,url:h,data:(p||{}).data}))}});Ee.forEach(["post","put","patch"],function(u){function h(p){return function(y,v,P){return this.request(Qa(P||{},{method:u,headers:p?{"Content-Type":"multipart/form-data"}:{},url:y,data:v}))}}Ya.prototype[u]=h(),Ya.prototype[u+"Form"]=h(!0)});let _x=class r0{constructor(u){if(typeof u!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(y){h=y});const p=this;this.promise.then(_=>{if(!p._listeners)return;let y=p._listeners.length;for(;y-- >0;)p._listeners[y](_);p._listeners=null}),this.promise.then=_=>{let y;const v=new Promise(P=>{p.subscribe(P),y=P}).then(_);return v.cancel=function(){p.unsubscribe(y)},v},u(function(y,v,P){p.reason||(p.reason=new Gl(y,v,P),h(p.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]}unsubscribe(u){if(!this._listeners)return;const h=this._listeners.indexOf(u);h!==-1&&this._listeners.splice(h,1)}toAbortSignal(){const u=new AbortController,h=p=>{u.abort(p)};return this.subscribe(h),u.signal.unsubscribe=()=>this.unsubscribe(h),u.signal}static source(){let u;return{token:new r0(function(_){u=_}),cancel:u}}};function yx(o){return function(h){return o.apply(null,h)}}function vx(o){return Ee.isObject(o)&&o.isAxiosError===!0}const Kd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Kd).forEach(([o,u])=>{Kd[u]=o});function i0(o){const u=new Ya(o),h=Rg(Ya.prototype.request,u);return Ee.extend(h,Ya.prototype,u,{allOwnKeys:!0}),Ee.extend(h,u,null,{allOwnKeys:!0}),h.create=function(_){return i0(Qa(o,_))},h}const gn=i0(Iu);gn.Axios=Ya;gn.CanceledError=Gl;gn.CancelToken=_x;gn.isCancel=Xg;gn.VERSION=n0;gn.toFormData=Gc;gn.AxiosError=Ct;gn.Cancel=gn.CanceledError;gn.all=function(u){return Promise.all(u)};gn.spread=yx;gn.isAxiosError=vx;gn.mergeConfig=Qa;gn.AxiosHeaders=Fr;gn.formToJSON=o=>$g(Ee.isHTMLForm(o)?new FormData(o):o);gn.getAdapter=t0.getAdapter;gn.HttpStatusCode=Kd;gn.default=gn;const{Axios:xb,AxiosError:wb,CanceledError:bb,isCancel:Cb,CancelToken:Lb,VERSION:kb,all:Eb,Cancel:Sb,isAxiosError:Pb,spread:Mb,toFormData:Bb,AxiosHeaders:jb,HttpStatusCode:Tb,formToJSON:Db,getAdapter:Ab,mergeConfig:Rb}=gn,ht=gn.create({baseURL:"/api/v1"});ht.interceptors.request.use(o=>{const u=localStorage.getItem("token");return u&&(o.headers.Authorization=`Bearer ${u}`),o},o=>Promise.reject(o));ht.interceptors.response.use(o=>o,o=>(!window.location.pathname.includes("/driver-register")&&o.response&&(o.response.status===401||o.response.status===403)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",console.error("Auth Error. Logging out.")),Promise.reject(o)));const xx=async(o,u)=>{try{return(await ht.post("/auth/login",{login:o,password:u})).data}catch(h){throw new Error(h.response?.data?.message||" .   .")}},wx=async o=>{try{return(await ht.post("/auth/driver/sms/request",{phoneNumber:o})).data}catch(u){throw new Error(u.response?.data?.message||"   SMS")}},bx=async(o,u)=>{try{return(await ht.post("/auth/driver/sms/verify-code",{phoneNumber:o,code:u})).data}catch(h){throw new Error(h.response?.data?.message||" ")}},Cx=async(o,u={})=>{try{const h=new FormData;return h.append("request",JSON.stringify(o)),u.avatar&&h.append("avatar",u.avatar),u.driverLicenseFront&&h.append("driverLicenseFront",u.driverLicenseFront),u.driverLicenseBack&&h.append("driverLicenseBack",u.driverLicenseBack),u.techPassportFront&&h.append("techPassportFront",u.techPassportFront),u.techPassportBack&&h.append("techPassportBack",u.techPassportBack),u.insurance&&h.append("insurance",u.insurance),u.carFront&&h.append("carFront",u.carFront),u.carBack&&h.append("carBack",u.carBack),u.carLeft&&h.append("carLeft",u.carLeft),u.carRight&&h.append("carRight",u.carRight),u.carInteriorFront&&h.append("carInteriorFront",u.carInteriorFront),u.carInteriorBack&&h.append("carInteriorBack",u.carInteriorBack),(await ht.post("/auth/driver/register",h)).data}catch(h){throw console.error("Registration error:",h),new Error(h.response?.data?.message||" ")}},s0=U.createContext(null),Lx=({children:o})=>{const[u,h]=U.useState(null),[p,_]=U.useState(null),[y,v]=U.useState(!1),[P,B]=U.useState(!0),D=Uc();U.useEffect(()=>{const ne=localStorage.getItem("token"),K=localStorage.getItem("user");ne&&K&&(_(ne),h(JSON.parse(K)),v(!0)),B(!1)},[]);const I={user:u,token:p,isAuthenticated:y,isLoading:P,login:async(ne,K)=>{try{const G=await xx(ne,K);_(G.token),h({id:G.userId,fullName:G.fullName,role:G.role}),v(!0),localStorage.setItem("token",G.token),localStorage.setItem("user",JSON.stringify({id:G.userId,fullName:G.fullName,role:G.role})),D("/")}catch(G){throw console.error("Login error:",G),G}},logout:()=>{h(null),_(null),v(!1),localStorage.removeItem("token"),localStorage.removeItem("user"),D("/login")}};return c.jsx(s0.Provider,{value:I,children:!P&&o})},Kc=()=>U.useContext(s0),kx=()=>{const[o,u]=U.useState(""),[h,p]=U.useState(""),[_,y]=U.useState(""),[v,P]=U.useState(!1),{login:B,isAuthenticated:D}=Kc();if(D)return c.jsx(Nr,{to:"/",replace:!0});const S=async j=>{j.preventDefault(),y(""),P(!0);try{await B(o,h)}catch(I){y(I.message),P(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs("form",{onSubmit:S,className:"login-form",children:[c.jsx("h2",{children:""}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"login",children:""}),c.jsx("input",{type:"text",id:"login",value:o,onChange:j=>u(j.target.value),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:""}),c.jsx("input",{type:"password",id:"password",value:h,onChange:j=>p(j.target.value),required:!0})]}),_&&c.jsx("p",{className:"error-message",children:_}),c.jsx("button",{type:"submit",disabled:v,children:v?"...":""})]})})};function Ex(o,u){o.terminate=function(){const h=()=>{};this.onerror=h,this.onmessage=h,this.onopen=h;const p=new Date,_=Math.random().toString().substring(2,8),y=this.onclose;this.onclose=v=>{const P=new Date().getTime()-p.getTime();u(`Discarded socket (#${_})  closed after ${P}ms, with code/reason: ${v.code}/${v.reason}`)},this.close(),y?.call(o,{code:4001,reason:`Quick discarding socket (#${_}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Eu={LF:`
`,NULL:"\0"};class Qo{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(u){const{command:h,headers:p,body:_,binaryBody:y,escapeHeaderValues:v,skipContentLengthHeader:P}=u;this.command=h,this.headers=Object.assign({},p||{}),y?(this._binaryBody=y,this.isBinaryBody=!0):(this._body=_||"",this.isBinaryBody=!1),this.escapeHeaderValues=v||!1,this.skipContentLengthHeader=P||!1}static fromRawFrame(u,h){const p={},_=y=>y.replace(/^\s+|\s+$/g,"");for(const y of u.headers.reverse()){y.indexOf(":");const v=_(y[0]);let P=_(y[1]);h&&u.command!=="CONNECT"&&u.command!=="CONNECTED"&&(P=Qo.hdrValueUnEscape(P)),p[v]=P}return new Qo({command:u.command,headers:p,binaryBody:u.binaryBody,escapeHeaderValues:h})}toString(){return this.serializeCmdAndHeaders()}serialize(){const u=this.serializeCmdAndHeaders();return this.isBinaryBody?Qo.toUnit8Array(u,this._binaryBody).buffer:u+this._body+Eu.NULL}serializeCmdAndHeaders(){const u=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const h of Object.keys(this.headers||{})){const p=this.headers[h];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?u.push(`${h}:${Qo.hdrValueEscape(`${p}`)}`):u.push(`${h}:${p}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&u.push(`content-length:${this.bodyLength()}`),u.join(Eu.LF)+Eu.LF+Eu.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const u=this.binaryBody;return u?u.length:0}static sizeOfUTF8(u){return u?new TextEncoder().encode(u).length:0}static toUnit8Array(u,h){const p=new TextEncoder().encode(u),_=new Uint8Array([0]),y=new Uint8Array(p.length+h.length+_.length);return y.set(p),y.set(h,p.length),y.set(_,p.length+h.length),y}static marshall(u){return new Qo(u).serialize()}static hdrValueEscape(u){return u.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(u){return u.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const Qp=0,Cc=10,Lc=13,Sx=58;class Px{constructor(u,h){this.onFrame=u,this.onIncomingPing=h,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(u,h=!1){let p;if(typeof u=="string"?p=this._encoder.encode(u):p=new Uint8Array(u),h&&p[p.length-1]!==0){const _=new Uint8Array(p.length+1);_.set(p,0),_[p.length]=0,p=_}for(let _=0;_<p.length;_++){const y=p[_];this._onByte(y)}}_collectFrame(u){if(u!==Qp&&u!==Lc){if(u===Cc){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(u)}}_collectCommand(u){if(u!==Lc){if(u===Cc){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(u)}}_collectHeaders(u){if(u!==Lc){if(u===Cc){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(u)}}_reinjectByte(u){this._onByte(u)}_collectHeaderKey(u){if(u===Sx){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(u)}_collectHeaderValue(u){if(u!==Lc){if(u===Cc){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(u)}}_setupCollectBody(){const u=this._results.headers.filter(h=>h[0]==="content-length")[0];u?(this._bodyBytesRemaining=parseInt(u[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(u){if(u===Qp){this._retrievedBody();return}this._consumeByte(u)}_collectBodyFixedSize(u){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(u)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(u){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",u)}this._initState()}_consumeByte(u){this._token.push(u)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const u=new Uint8Array(this._token);return this._token=[],u}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var ea;(function(o){o[o.CONNECTING=0]="CONNECTING",o[o.OPEN=1]="OPEN",o[o.CLOSING=2]="CLOSING",o[o.CLOSED=3]="CLOSED"})(ea||(ea={}));var Zi;(function(o){o[o.ACTIVE=0]="ACTIVE",o[o.DEACTIVATING=1]="DEACTIVATING",o[o.INACTIVE=2]="INACTIVE"})(Zi||(Zi={}));var Fc;(function(o){o[o.LINEAR=0]="LINEAR",o[o.EXPONENTIAL=1]="EXPONENTIAL"})(Fc||(Fc={}));var ju;(function(o){o.Interval="interval",o.Worker="worker"})(ju||(ju={}));class Mx{constructor(u,h=ju.Interval,p){this._interval=u,this._strategy=h,this._debug=p,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(u){this.stop(),this.shouldUseWorker()?this.runWorker(u):this.runInterval(u)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===ju.Worker}runWorker(u){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=h=>u(h.data))}runInterval(u){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const h=Date.now();this._timer=setInterval(()=>{u(Date.now()-h)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class gr{constructor(u){this.versions=u}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(u=>`v${u.replace(".","")}.stomp`)}}gr.V1_0="1.0";gr.V1_1="1.1";gr.V1_2="1.2";gr.default=new gr([gr.V1_2,gr.V1_1,gr.V1_0]);class Bx{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(u,h,p){this._client=u,this._webSocket=h,this._connected=!1,this._serverFrameHandlers={CONNECTED:_=>{this.debug(`connected to server ${_.headers.server}`),this._connected=!0,this._connectedVersion=_.headers.version,this._connectedVersion===gr.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(_.headers),this.onConnect(_)},MESSAGE:_=>{const y=_.headers.subscription,v=this._subscriptions[y]||this.onUnhandledMessage,P=_,B=this,D=this._connectedVersion===gr.V1_2?P.headers.ack:P.headers["message-id"];P.ack=(S={})=>B.ack(D,y,S),P.nack=(S={})=>B.nack(D,y,S),v(P)},RECEIPT:_=>{const y=this._receiptWatchers[_.headers["receipt-id"]];y?(y(_),delete this._receiptWatchers[_.headers["receipt-id"]]):this.onUnhandledReceipt(_)},ERROR:_=>{this.onStompError(_)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=p.debug,this.stompVersions=p.stompVersions,this.connectHeaders=p.connectHeaders,this.disconnectHeaders=p.disconnectHeaders,this.heartbeatIncoming=p.heartbeatIncoming,this.heartbeatToleranceMultiplier=p.heartbeatGracePeriods,this.heartbeatOutgoing=p.heartbeatOutgoing,this.splitLargeFrames=p.splitLargeFrames,this.maxWebSocketChunkSize=p.maxWebSocketChunkSize,this.forceBinaryWSFrames=p.forceBinaryWSFrames,this.logRawCommunication=p.logRawCommunication,this.appendMissingNULLonIncoming=p.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=p.discardWebsocketOnCommFailure,this.onConnect=p.onConnect,this.onDisconnect=p.onDisconnect,this.onStompError=p.onStompError,this.onWebSocketClose=p.onWebSocketClose,this.onWebSocketError=p.onWebSocketError,this.onUnhandledMessage=p.onUnhandledMessage,this.onUnhandledReceipt=p.onUnhandledReceipt,this.onUnhandledFrame=p.onUnhandledFrame,this.onHeartbeatReceived=p.onHeartbeatReceived,this.onHeartbeatLost=p.onHeartbeatLost}start(){const u=new Px(h=>{const p=Qo.fromRawFrame(h,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${p}`),(this._serverFrameHandlers[p.command]||this.onUnhandledFrame)(p)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=h=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const p=h.data instanceof ArrayBuffer?new TextDecoder().decode(h.data):h.data;this.debug(`<<< ${p}`)}u.parseChunk(h.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=h=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(h)},this._webSocket.onerror=h=>{this.onWebSocketError(h)},this._webSocket.onopen=()=>{const h=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),h["accept-version"]=this.stompVersions.supportedVersions(),h["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:h})}}_setupHeartbeat(u){if(u.version!==gr.V1_1&&u.version!==gr.V1_2||!u["heart-beat"])return;const[h,p]=u["heart-beat"].split(",").map(_=>parseInt(_,10));if(this.heartbeatOutgoing!==0&&p!==0){const _=Math.max(this.heartbeatOutgoing,p);this.debug(`send PING every ${_}ms`),this._pinger=new Mx(_,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===ea.OPEN&&(this._webSocket.send(Eu.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&h!==0){const _=Math.max(this.heartbeatIncoming,h);this.debug(`check PONG every ${_}ms`),this._ponger=setInterval(()=>{const y=Date.now()-this._lastServerActivityTS;y>_*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${y}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},_)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===ea.CONNECTING||this._webSocket.readyState===ea.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&Ex(this._webSocket,u=>this.debug(u)),this._webSocket.terminate()}_transmit(u){const{command:h,headers:p,body:_,binaryBody:y,skipContentLengthHeader:v}=u,P=new Qo({command:h,headers:p,body:_,binaryBody:y,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:v});let B=P.serialize();if(this.logRawCommunication?this.debug(`>>> ${B}`):this.debug(`>>> ${P}`),this.forceBinaryWSFrames&&typeof B=="string"&&(B=new TextEncoder().encode(B)),typeof B!="string"||!this.splitLargeFrames)this._webSocket.send(B);else{let D=B;for(;D.length>0;){const S=D.substring(0,this.maxWebSocketChunkSize);D=D.substring(this.maxWebSocketChunkSize),this._webSocket.send(S),this.debug(`chunk sent = ${S.length}, remaining = ${D.length}`)}}}dispose(){if(this.connected)try{const u=Object.assign({},this.disconnectHeaders);u.receipt||(u.receipt=`close-${this._counter++}`),this.watchForReceipt(u.receipt,h=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(h)}),this._transmit({command:"DISCONNECT",headers:u})}catch(u){this.debug(`Ignoring error during disconnect ${u}`)}else(this._webSocket.readyState===ea.CONNECTING||this._webSocket.readyState===ea.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(u){const{destination:h,headers:p,body:_,binaryBody:y,skipContentLengthHeader:v}=u,P=Object.assign({destination:h},p);this._transmit({command:"SEND",headers:P,body:_,binaryBody:y,skipContentLengthHeader:v})}watchForReceipt(u,h){this._receiptWatchers[u]=h}subscribe(u,h,p={}){p=Object.assign({},p),p.id||(p.id=`sub-${this._counter++}`),p.destination=u,this._subscriptions[p.id]=h,this._transmit({command:"SUBSCRIBE",headers:p});const _=this;return{id:p.id,unsubscribe(y){return _.unsubscribe(p.id,y)}}}unsubscribe(u,h={}){h=Object.assign({},h),delete this._subscriptions[u],h.id=u,this._transmit({command:"UNSUBSCRIBE",headers:h})}begin(u){const h=u||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:h}});const p=this;return{id:h,commit(){p.commit(h)},abort(){p.abort(h)}}}commit(u){this._transmit({command:"COMMIT",headers:{transaction:u}})}abort(u){this._transmit({command:"ABORT",headers:{transaction:u}})}ack(u,h,p={}){p=Object.assign({},p),this._connectedVersion===gr.V1_2?p.id=u:p["message-id"]=u,p.subscription=h,this._transmit({command:"ACK",headers:p})}nack(u,h,p={}){return p=Object.assign({},p),this._connectedVersion===gr.V1_2?p.id=u:p["message-id"]=u,p.subscription=h,this._transmit({command:"NACK",headers:p})}}class o0{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(u){this._disconnectHeaders=u,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Zi.ACTIVE}_changeState(u){this.state=u,this.onChangeState(u)}constructor(u={}){this.stompVersions=gr.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=Fc.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=ju.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Zi.INACTIVE;const h=()=>{};this.debug=h,this.beforeConnect=h,this.onConnect=h,this.onDisconnect=h,this.onUnhandledMessage=h,this.onUnhandledReceipt=h,this.onUnhandledFrame=h,this.onHeartbeatReceived=h,this.onHeartbeatLost=h,this.onStompError=h,this.onWebSocketClose=h,this.onWebSocketError=h,this.logRawCommunication=!1,this.onChangeState=h,this.connectHeaders={},this._disconnectHeaders={},this.configure(u)}configure(u){Object.assign(this,u),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const u=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Zi.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Zi.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{u()})):u()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const u=this._createWebSocket();this._stompHandler=new Bx(this,u,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:h=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(h)},onDisconnect:h=>{this.onDisconnect(h)},onStompError:h=>{this.onStompError(h)},onWebSocketClose:h=>{this._stompHandler=void 0,this.state===Zi.DEACTIVATING&&this._changeState(Zi.INACTIVE),this.onWebSocketClose(h),this.active&&this._schedule_reconnect()},onWebSocketError:h=>{this.onWebSocketError(h)},onUnhandledMessage:h=>{this.onUnhandledMessage(h)},onUnhandledReceipt:h=>{this.onUnhandledReceipt(h)},onUnhandledFrame:h=>{this.onUnhandledFrame(h)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let u;if(this.webSocketFactory)u=this.webSocketFactory();else if(this.brokerURL)u=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return u.binaryType="arraybuffer",u}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Fc.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(u={}){const h=u.force||!1,p=this.active;let _;if(this.state===Zi.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Zi.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==ea.CLOSED){const y=this._stompHandler.onWebSocketClose;_=new Promise((v,P)=>{this._stompHandler.onWebSocketClose=B=>{y(B),v()}})}else return this._changeState(Zi.INACTIVE),Promise.resolve();return h?this._stompHandler?.discardWebsocket():p&&this._disposeStompHandler(),_}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(u){this._checkConnection(),this._stompHandler.publish(u)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(u,h){this._checkConnection(),this._stompHandler.watchForReceipt(u,h)}subscribe(u,h,p={}){return this._checkConnection(),this._stompHandler.subscribe(u,h,p)}unsubscribe(u,h={}){this._checkConnection(),this._stompHandler.unsubscribe(u,h)}begin(u){return this._checkConnection(),this._stompHandler.begin(u)}commit(u){this._checkConnection(),this._stompHandler.commit(u)}abort(u){this._checkConnection(),this._stompHandler.abort(u)}ack(u,h,p={}){this._checkConnection(),this._stompHandler.ack(u,h,p)}nack(u,h,p={}){this._checkConnection(),this._stompHandler.nack(u,h,p)}}var Hh={exports:{}},kc={},em;function jx(){return em||(em=1,Ze.crypto&&Ze.crypto.getRandomValues?kc.randomBytes=function(o){var u=new Uint8Array(o);return Ze.crypto.getRandomValues(u),u}:kc.randomBytes=function(o){for(var u=new Array(o),h=0;h<o;h++)u[h]=Math.floor(Math.random()*256);return u}),kc}var Wh,tm;function Zl(){if(tm)return Wh;tm=1;var o=jx(),u="abcdefghijklmnopqrstuvwxyz012345";return Wh={string:function(h){for(var p=u.length,_=o.randomBytes(h),y=[],v=0;v<h;v++)y.push(u.substr(_[v]%p,1));return y.join("")},number:function(h){return Math.floor(Math.random()*h)},numberString:function(h){var p=(""+(h-1)).length,_=new Array(p+1).join("0");return(_+this.number(h)).slice(-p)}},Wh}var nm;function na(){return nm||(nm=1,(function(o){var u=Zl(),h={},p=!1,_=Ze.chrome&&Ze.chrome.app&&Ze.chrome.app.runtime;o.exports={attachEvent:function(v,P){typeof Ze.addEventListener<"u"?Ze.addEventListener(v,P,!1):Ze.document&&Ze.attachEvent&&(Ze.document.attachEvent("on"+v,P),Ze.attachEvent("on"+v,P))},detachEvent:function(v,P){typeof Ze.addEventListener<"u"?Ze.removeEventListener(v,P,!1):Ze.document&&Ze.detachEvent&&(Ze.document.detachEvent("on"+v,P),Ze.detachEvent("on"+v,P))},unloadAdd:function(v){if(_)return null;var P=u.string(8);return h[P]=v,p&&setTimeout(this.triggerUnloadCallbacks,0),P},unloadDel:function(v){v in h&&delete h[v]},triggerUnloadCallbacks:function(){for(var v in h)h[v](),delete h[v]}};var y=function(){p||(p=!0,o.exports.triggerUnloadCallbacks())};_||o.exports.attachEvent("unload",y)})(Hh)),Hh.exports}var qh,rm;function Tx(){return rm||(rm=1,qh=function(u,h){if(h=h.split(":")[0],u=+u,!u)return!1;switch(h){case"http":case"ws":return u!==80;case"https":case"wss":return u!==443;case"ftp":return u!==21;case"gopher":return u!==70;case"file":return!1}return u!==0}),qh}var Ec={},im;function Dx(){if(im)return Ec;im=1;var o=Object.prototype.hasOwnProperty,u;function h(v){try{return decodeURIComponent(v.replace(/\+/g," "))}catch{return null}}function p(v){try{return encodeURIComponent(v)}catch{return null}}function _(v){for(var P=/([^=?#&]+)=?([^&]*)/g,B={},D;D=P.exec(v);){var S=h(D[1]),j=h(D[2]);S===null||j===null||S in B||(B[S]=j)}return B}function y(v,P){P=P||"";var B=[],D,S;typeof P!="string"&&(P="?");for(S in v)if(o.call(v,S)){if(D=v[S],!D&&(D===null||D===u||isNaN(D))&&(D=""),S=p(S),D=p(D),S===null||D===null)continue;B.push(S+"="+D)}return B.length?P+B.join("&"):""}return Ec.stringify=y,Ec.parse=_,Ec}var Vh,sm;function a0(){if(sm)return Vh;sm=1;var o=Tx(),u=Dx(),h=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,p=/[\n\r\t]/g,_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,y=/:\d+$/,v=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,P=/^[a-zA-Z]:/;function B(F){return(F||"").toString().replace(h,"")}var D=[["#","hash"],["?","query"],function(te,X){return I(X.protocol)?te.replace(/\\/g,"/"):te},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],S={hash:1,query:1};function j(F){var te;typeof window<"u"?te=window:typeof Ze<"u"?te=Ze:typeof self<"u"?te=self:te={};var X=te.location||{};F=F||X;var Y={},Pe=typeof F,_e;if(F.protocol==="blob:")Y=new G(unescape(F.pathname),{});else if(Pe==="string"){Y=new G(F,{});for(_e in S)delete Y[_e]}else if(Pe==="object"){for(_e in F)_e in S||(Y[_e]=F[_e]);Y.slashes===void 0&&(Y.slashes=_.test(F.href))}return Y}function I(F){return F==="file:"||F==="ftp:"||F==="http:"||F==="https:"||F==="ws:"||F==="wss:"}function ne(F,te){F=B(F),F=F.replace(p,""),te=te||{};var X=v.exec(F),Y=X[1]?X[1].toLowerCase():"",Pe=!!X[2],_e=!!X[3],ae=0,ve;return Pe?_e?(ve=X[2]+X[3]+X[4],ae=X[2].length+X[3].length):(ve=X[2]+X[4],ae=X[2].length):_e?(ve=X[3]+X[4],ae=X[3].length):ve=X[4],Y==="file:"?ae>=2&&(ve=ve.slice(2)):I(Y)?ve=X[4]:Y?Pe&&(ve=ve.slice(2)):ae>=2&&I(te.protocol)&&(ve=X[4]),{protocol:Y,slashes:Pe||I(Y),slashesCount:ae,rest:ve}}function K(F,te){if(F==="")return te;for(var X=(te||"/").split("/").slice(0,-1).concat(F.split("/")),Y=X.length,Pe=X[Y-1],_e=!1,ae=0;Y--;)X[Y]==="."?X.splice(Y,1):X[Y]===".."?(X.splice(Y,1),ae++):ae&&(Y===0&&(_e=!0),X.splice(Y,1),ae--);return _e&&X.unshift(""),(Pe==="."||Pe==="..")&&X.push(""),X.join("/")}function G(F,te,X){if(F=B(F),F=F.replace(p,""),!(this instanceof G))return new G(F,te,X);var Y,Pe,_e,ae,ve,oe,De=D.slice(),Xe=typeof te,Ne=this,vt=0;for(Xe!=="object"&&Xe!=="string"&&(X=te,te=null),X&&typeof X!="function"&&(X=u.parse),te=j(te),Pe=ne(F||"",te),Y=!Pe.protocol&&!Pe.slashes,Ne.slashes=Pe.slashes||Y&&te.slashes,Ne.protocol=Pe.protocol||te.protocol||"",F=Pe.rest,(Pe.protocol==="file:"&&(Pe.slashesCount!==2||P.test(F))||!Pe.slashes&&(Pe.protocol||Pe.slashesCount<2||!I(Ne.protocol)))&&(De[3]=[/(.*)/,"pathname"]);vt<De.length;vt++){if(ae=De[vt],typeof ae=="function"){F=ae(F,Ne);continue}_e=ae[0],oe=ae[1],_e!==_e?Ne[oe]=F:typeof _e=="string"?(ve=_e==="@"?F.lastIndexOf(_e):F.indexOf(_e),~ve&&(typeof ae[2]=="number"?(Ne[oe]=F.slice(0,ve),F=F.slice(ve+ae[2])):(Ne[oe]=F.slice(ve),F=F.slice(0,ve)))):(ve=_e.exec(F))&&(Ne[oe]=ve[1],F=F.slice(0,ve.index)),Ne[oe]=Ne[oe]||Y&&ae[3]&&te[oe]||"",ae[4]&&(Ne[oe]=Ne[oe].toLowerCase())}X&&(Ne.query=X(Ne.query)),Y&&te.slashes&&Ne.pathname.charAt(0)!=="/"&&(Ne.pathname!==""||te.pathname!=="")&&(Ne.pathname=K(Ne.pathname,te.pathname)),Ne.pathname.charAt(0)!=="/"&&I(Ne.protocol)&&(Ne.pathname="/"+Ne.pathname),o(Ne.port,Ne.protocol)||(Ne.host=Ne.hostname,Ne.port=""),Ne.username=Ne.password="",Ne.auth&&(ve=Ne.auth.indexOf(":"),~ve?(Ne.username=Ne.auth.slice(0,ve),Ne.username=encodeURIComponent(decodeURIComponent(Ne.username)),Ne.password=Ne.auth.slice(ve+1),Ne.password=encodeURIComponent(decodeURIComponent(Ne.password))):Ne.username=encodeURIComponent(decodeURIComponent(Ne.auth)),Ne.auth=Ne.password?Ne.username+":"+Ne.password:Ne.username),Ne.origin=Ne.protocol!=="file:"&&I(Ne.protocol)&&Ne.host?Ne.protocol+"//"+Ne.host:"null",Ne.href=Ne.toString()}function Z(F,te,X){var Y=this;switch(F){case"query":typeof te=="string"&&te.length&&(te=(X||u.parse)(te)),Y[F]=te;break;case"port":Y[F]=te,o(te,Y.protocol)?te&&(Y.host=Y.hostname+":"+te):(Y.host=Y.hostname,Y[F]="");break;case"hostname":Y[F]=te,Y.port&&(te+=":"+Y.port),Y.host=te;break;case"host":Y[F]=te,y.test(te)?(te=te.split(":"),Y.port=te.pop(),Y.hostname=te.join(":")):(Y.hostname=te,Y.port="");break;case"protocol":Y.protocol=te.toLowerCase(),Y.slashes=!X;break;case"pathname":case"hash":if(te){var Pe=F==="pathname"?"/":"#";Y[F]=te.charAt(0)!==Pe?Pe+te:te}else Y[F]=te;break;case"username":case"password":Y[F]=encodeURIComponent(te);break;case"auth":var _e=te.indexOf(":");~_e?(Y.username=te.slice(0,_e),Y.username=encodeURIComponent(decodeURIComponent(Y.username)),Y.password=te.slice(_e+1),Y.password=encodeURIComponent(decodeURIComponent(Y.password))):Y.username=encodeURIComponent(decodeURIComponent(te))}for(var ae=0;ae<D.length;ae++){var ve=D[ae];ve[4]&&(Y[ve[1]]=Y[ve[1]].toLowerCase())}return Y.auth=Y.password?Y.username+":"+Y.password:Y.username,Y.origin=Y.protocol!=="file:"&&I(Y.protocol)&&Y.host?Y.protocol+"//"+Y.host:"null",Y.href=Y.toString(),Y}function Se(F){(!F||typeof F!="function")&&(F=u.stringify);var te,X=this,Y=X.host,Pe=X.protocol;Pe&&Pe.charAt(Pe.length-1)!==":"&&(Pe+=":");var _e=Pe+(X.protocol&&X.slashes||I(X.protocol)?"//":"");return X.username?(_e+=X.username,X.password&&(_e+=":"+X.password),_e+="@"):X.password?(_e+=":"+X.password,_e+="@"):X.protocol!=="file:"&&I(X.protocol)&&!Y&&X.pathname!=="/"&&(_e+="@"),(Y[Y.length-1]===":"||y.test(X.hostname)&&!X.port)&&(Y+=":"),_e+=Y+X.pathname,te=typeof X.query=="object"?F(X.query):X.query,te&&(_e+=te.charAt(0)!=="?"?"?"+te:te),X.hash&&(_e+=X.hash),_e}return G.prototype={set:Z,toString:Se},G.extractProtocol=ne,G.location=j,G.trimLeft=B,G.qs=u,Vh=G,Vh}var Gh,om;function yi(){if(om)return Gh;om=1;var o=a0();return Gh={getOrigin:function(u){if(!u)return null;var h=new o(u);if(h.protocol==="file:")return null;var p=h.port;return p||(p=h.protocol==="https:"?"443":"80"),h.protocol+"//"+h.hostname+":"+p},isOriginEqual:function(u,h){var p=this.getOrigin(u)===this.getOrigin(h);return p},isSchemeEqual:function(u,h){return u.split(":")[0]===h.split(":")[0]},addPath:function(u,h){var p=u.split("?");return p[0]+h+(p[1]?"?"+p[1]:"")},addQuery:function(u,h){return u+(u.indexOf("?")===-1?"?"+h:"&"+h)},isLoopbackAddr:function(u){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(u)||/^\[::1\]$/.test(u)}},Gh}var Sc={exports:{}},am;function zt(){return am||(am=1,typeof Object.create=="function"?Sc.exports=function(u,h){h&&(u.super_=h,u.prototype=Object.create(h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:Sc.exports=function(u,h){if(h){u.super_=h;var p=function(){};p.prototype=h.prototype,u.prototype=new p,u.prototype.constructor=u}}),Sc.exports}var Zh={},Kh,lm;function l0(){if(lm)return Kh;lm=1;function o(){this._listeners={}}return o.prototype.addEventListener=function(u,h){u in this._listeners||(this._listeners[u]=[]);var p=this._listeners[u];p.indexOf(h)===-1&&(p=p.concat([h])),this._listeners[u]=p},o.prototype.removeEventListener=function(u,h){var p=this._listeners[u];if(p){var _=p.indexOf(h);if(_!==-1){p.length>1?this._listeners[u]=p.slice(0,_).concat(p.slice(_+1)):delete this._listeners[u];return}}},o.prototype.dispatchEvent=function(){var u=arguments[0],h=u.type,p=arguments.length===1?[u]:Array.apply(null,arguments);if(this["on"+h]&&this["on"+h].apply(this,p),h in this._listeners)for(var _=this._listeners[h],y=0;y<_.length;y++)_[y].apply(this,p)},Kh=o,Kh}var um;function _r(){if(um)return Zh;um=1;var o=zt(),u=l0();function h(){u.call(this)}return o(h,u),h.prototype.removeAllListeners=function(p){p?delete this._listeners[p]:this._listeners={}},h.prototype.once=function(p,_){var y=this,v=!1;function P(){y.removeListener(p,P),v||(v=!0,_.apply(this,arguments))}this.on(p,P)},h.prototype.emit=function(){var p=arguments[0],_=this._listeners[p];if(_){for(var y=arguments.length,v=new Array(y-1),P=1;P<y;P++)v[P-1]=arguments[P];for(var B=0;B<_.length;B++)_[B].apply(this,v)}},h.prototype.on=h.prototype.addListener=u.prototype.addEventListener,h.prototype.removeListener=u.prototype.removeEventListener,Zh.EventEmitter=h,Zh}var Pc={exports:{}},cm;function Ax(){if(cm)return Pc.exports;cm=1;var o=Ze.WebSocket||Ze.MozWebSocket;return o?Pc.exports=function(h){return new o(h)}:Pc.exports=void 0,Pc.exports}var $h,hm;function Rx(){if(hm)return $h;hm=1;var o=na(),u=yi(),h=zt(),p=_r().EventEmitter,_=Ax(),y=function(){};function v(P,B,D){if(!v.enabled())throw new Error("Transport created when disabled");p.call(this);var S=this,j=u.addPath(P,"/websocket");j.slice(0,5)==="https"?j="wss"+j.slice(5):j="ws"+j.slice(4),this.url=j,this.ws=new _(this.url,[],D),this.ws.onmessage=function(I){y("message event",I.data),S.emit("message",I.data)},this.unloadRef=o.unloadAdd(function(){S.ws.close()}),this.ws.onclose=function(I){y("close event",I.code,I.reason),S.emit("close",I.code,I.reason),S._cleanup()},this.ws.onerror=function(I){S.emit("close",1006,"WebSocket connection broken"),S._cleanup()}}return h(v,p),v.prototype.send=function(P){var B="["+P+"]";this.ws.send(B)},v.prototype.close=function(){var P=this.ws;this._cleanup(),P&&P.close()},v.prototype._cleanup=function(){var P=this.ws;P&&(P.onmessage=P.onclose=P.onerror=null),o.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},v.enabled=function(){return!!_},v.transportName="websocket",v.roundTrips=2,$h=v,$h}var Xh,dm;function Ox(){if(dm)return Xh;dm=1;var o=zt(),u=_r().EventEmitter,h=function(){};function p(_,y){u.call(this),this.sendBuffer=[],this.sender=y,this.url=_}return o(p,u),p.prototype.send=function(_){this.sendBuffer.push(_),this.sendStop||this.sendSchedule()},p.prototype.sendScheduleWait=function(){var _=this,y;this.sendStop=function(){_.sendStop=null,clearTimeout(y)},y=setTimeout(function(){_.sendStop=null,_.sendSchedule()},25)},p.prototype.sendSchedule=function(){h("sendSchedule",this.sendBuffer.length);var _=this;if(this.sendBuffer.length>0){var y="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,y,function(v){_.sendStop=null,v?(_.emit("close",v.code||1006,"Sending error: "+v),_.close()):_.sendScheduleWait()}),this.sendBuffer=[]}},p.prototype._cleanup=function(){this.removeAllListeners()},p.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Xh=p,Xh}var Jh,fm;function Nx(){if(fm)return Jh;fm=1;var o=zt(),u=_r().EventEmitter,h=function(){};function p(_,y,v){u.call(this),this.Receiver=_,this.receiveUrl=y,this.AjaxObject=v,this._scheduleReceiver()}return o(p,u),p.prototype._scheduleReceiver=function(){var _=this,y=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);y.on("message",function(v){_.emit("message",v)}),y.once("close",function(v,P){h("close",v,P,_.pollIsClosing),_.poll=y=null,_.pollIsClosing||(P==="network"?_._scheduleReceiver():(_.emit("close",v||1006,P),_.removeAllListeners()))})},p.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Jh=p,Jh}var Yh,pm;function u0(){if(pm)return Yh;pm=1;var o=zt(),u=yi(),h=Ox(),p=Nx();function _(y,v,P,B,D){var S=u.addPath(y,v),j=this;h.call(this,y,P),this.poll=new p(B,S,D),this.poll.on("message",function(I){j.emit("message",I)}),this.poll.once("close",function(I,ne){j.poll=null,j.emit("close",I,ne),j.close()})}return o(_,h),_.prototype.close=function(){h.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Yh=_,Yh}var Qh,mm;function Kl(){if(mm)return Qh;mm=1;var o=zt(),u=yi(),h=u0();function p(y){return function(v,P,B){var D={};typeof P=="string"&&(D.headers={"Content-type":"text/plain"});var S=u.addPath(v,"/xhr_send"),j=new y("POST",S,P,D);return j.once("finish",function(I){if(j=null,I!==200&&I!==204)return B(new Error("http status "+I));B()}),function(){j.close(),j=null;var I=new Error("Aborted");I.code=1e3,B(I)}}}function _(y,v,P,B){h.call(this,y,v,p(B),P,B)}return o(_,h),Qh=_,Qh}var ed,gm;function $c(){if(gm)return ed;gm=1;var o=zt(),u=_r().EventEmitter;function h(p,_){u.call(this);var y=this;this.bufferPosition=0,this.xo=new _("POST",p,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(v,P){y._chunkHandler(v,P),y.xo=null;var B=v===200?"network":"permanent";y.emit("close",null,B),y._cleanup()})}return o(h,u),h.prototype._chunkHandler=function(p,_){if(!(p!==200||!_))for(var y=-1;;this.bufferPosition+=y+1){var v=_.slice(this.bufferPosition);if(y=v.indexOf(`
`),y===-1)break;var P=v.slice(0,y);P&&this.emit("message",P)}},h.prototype._cleanup=function(){this.removeAllListeners()},h.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},ed=h,ed}var td,_m;function c0(){if(_m)return td;_m=1;var o=_r().EventEmitter,u=zt(),h=na(),p=yi(),_=Ze.XMLHttpRequest,y=function(){};function v(D,S,j,I){var ne=this;o.call(this),setTimeout(function(){ne._start(D,S,j,I)},0)}u(v,o),v.prototype._start=function(D,S,j,I){var ne=this;try{this.xhr=new _}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}S=p.addQuery(S,"t="+ +new Date),this.unloadRef=h.unloadAdd(function(){ne._cleanup(!0)});try{this.xhr.open(D,S,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){y("xhr timeout"),ne.emit("finish",0,""),ne._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!I||!I.noCredentials)&&v.supportsCORS&&(this.xhr.withCredentials=!0),I&&I.headers)for(var K in I.headers)this.xhr.setRequestHeader(K,I.headers[K]);this.xhr.onreadystatechange=function(){if(ne.xhr){var G=ne.xhr,Z,Se;switch(y("readyState",G.readyState),G.readyState){case 3:try{Se=G.status,Z=G.responseText}catch{}Se===1223&&(Se=204),Se===200&&Z&&Z.length>0&&ne.emit("chunk",Se,Z);break;case 4:Se=G.status,Se===1223&&(Se=204),(Se===12005||Se===12029)&&(Se=0),y("finish",Se,G.responseText),ne.emit("finish",Se,G.responseText),ne._cleanup(!1);break}}};try{ne.xhr.send(j)}catch{ne.emit("finish",0,""),ne._cleanup(!1)}},v.prototype._cleanup=function(D){if(this.xhr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),D)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},v.prototype.close=function(){this._cleanup(!0)},v.enabled=!!_;var P=["Active"].concat("Object").join("X");!v.enabled&&P in Ze&&(_=function(){try{return new Ze[P]("Microsoft.XMLHTTP")}catch{return null}},v.enabled=!!new _);var B=!1;try{B="withCredentials"in new _}catch{}return v.supportsCORS=B,td=v,td}var nd,ym;function Xc(){if(ym)return nd;ym=1;var o=zt(),u=c0();function h(p,_,y,v){u.call(this,p,_,y,v)}return o(h,u),h.enabled=u.enabled&&u.supportsCORS,nd=h,nd}var rd,vm;function Fu(){if(vm)return rd;vm=1;var o=zt(),u=c0();function h(p,_,y){u.call(this,p,_,y,{noCredentials:!0})}return o(h,u),h.enabled=u.enabled,rd=h,rd}var id,xm;function zu(){return xm||(xm=1,id={isOpera:function(){return Ze.navigator&&/opera/i.test(Ze.navigator.userAgent)},isKonqueror:function(){return Ze.navigator&&/konqueror/i.test(Ze.navigator.userAgent)},hasDomain:function(){if(!Ze.document)return!0;try{return!!Ze.document.domain}catch{return!1}}}),id}var sd,wm;function Ix(){if(wm)return sd;wm=1;var o=zt(),u=Kl(),h=$c(),p=Xc(),_=Fu(),y=zu();function v(P){if(!_.enabled&&!p.enabled)throw new Error("Transport created when disabled");u.call(this,P,"/xhr_streaming",h,p)}return o(v,u),v.enabled=function(P){return P.nullOrigin||y.isOpera()?!1:p.enabled},v.transportName="xhr-streaming",v.roundTrips=2,v.needBody=!!Ze.document,sd=v,sd}var od,bm;function cf(){if(bm)return od;bm=1;var o=_r().EventEmitter,u=zt(),h=na(),p=zu(),_=yi(),y=function(){};function v(P,B,D){var S=this;o.call(this),setTimeout(function(){S._start(P,B,D)},0)}return u(v,o),v.prototype._start=function(P,B,D){var S=this,j=new Ze.XDomainRequest;B=_.addQuery(B,"t="+ +new Date),j.onerror=function(){S._error()},j.ontimeout=function(){S._error()},j.onprogress=function(){y("progress",j.responseText),S.emit("chunk",200,j.responseText)},j.onload=function(){S.emit("finish",200,j.responseText),S._cleanup(!1)},this.xdr=j,this.unloadRef=h.unloadAdd(function(){S._cleanup(!0)});try{this.xdr.open(P,B),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(D)}catch{this._error()}},v.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},v.prototype._cleanup=function(P){if(this.xdr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,P)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},v.prototype.close=function(){this._cleanup(!0)},v.enabled=!!(Ze.XDomainRequest&&p.hasDomain()),od=v,od}var ad,Cm;function h0(){if(Cm)return ad;Cm=1;var o=zt(),u=Kl(),h=$c(),p=cf();function _(y){if(!p.enabled)throw new Error("Transport created when disabled");u.call(this,y,"/xhr_streaming",h,p)}return o(_,u),_.enabled=function(y){return y.cookie_needed||y.nullOrigin?!1:p.enabled&&y.sameScheme},_.transportName="xdr-streaming",_.roundTrips=2,ad=_,ad}var ld,Lm;function d0(){return Lm||(Lm=1,ld=Ze.EventSource),ld}var ud,km;function Fx(){if(km)return ud;km=1;var o=zt(),u=_r().EventEmitter,h=d0(),p=function(){};function _(y){u.call(this);var v=this,P=this.es=new h(y);P.onmessage=function(B){p("message",B.data),v.emit("message",decodeURI(B.data))},P.onerror=function(B){p("error",P.readyState);var D=P.readyState!==2?"network":"permanent";v._cleanup(),v._close(D)}}return o(_,u),_.prototype.abort=function(){this._cleanup(),this._close("user")},_.prototype._cleanup=function(){var y=this.es;y&&(y.onmessage=y.onerror=null,y.close(),this.es=null)},_.prototype._close=function(y){var v=this;setTimeout(function(){v.emit("close",null,y),v.removeAllListeners()},200)},ud=_,ud}var cd,Em;function Sm(){if(Em)return cd;Em=1;var o=zt(),u=Kl(),h=Fx(),p=Xc(),_=d0();function y(v){if(!y.enabled())throw new Error("Transport created when disabled");u.call(this,v,"/eventsource",h,p)}return o(y,u),y.enabled=function(){return!!_},y.transportName="eventsource",y.roundTrips=2,cd=y,cd}var hd,Pm;function f0(){return Pm||(Pm=1,hd="1.6.1"),hd}var dd={exports:{}},Mm;function Uu(){return Mm||(Mm=1,(function(o){var u=na(),h=zu();o.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){o.exports.WPrefix in Ze||(Ze[o.exports.WPrefix]={})},postMessage:function(p,_){Ze.parent!==Ze&&Ze.parent.postMessage(JSON.stringify({windowId:o.exports.currentWindowId,type:p,data:_||""}),"*")},createIframe:function(p,_){var y=Ze.document.createElement("iframe"),v,P,B=function(){clearTimeout(v);try{y.onload=null}catch{}y.onerror=null},D=function(){y&&(B(),setTimeout(function(){y&&y.parentNode.removeChild(y),y=null},0),u.unloadDel(P))},S=function(I){y&&(D(),_(I))},j=function(I,ne){setTimeout(function(){try{y&&y.contentWindow&&y.contentWindow.postMessage(I,ne)}catch{}},0)};return y.src=p,y.style.display="none",y.style.position="absolute",y.onerror=function(){S("onerror")},y.onload=function(){clearTimeout(v),v=setTimeout(function(){S("onload timeout")},2e3)},Ze.document.body.appendChild(y),v=setTimeout(function(){S("timeout")},15e3),P=u.unloadAdd(D),{post:j,cleanup:D,loaded:B}},createHtmlfile:function(p,_){var y=["Active"].concat("Object").join("X"),v=new Ze[y]("htmlfile"),P,B,D,S=function(){clearTimeout(P),D.onerror=null},j=function(){v&&(S(),u.unloadDel(B),D.parentNode.removeChild(D),D=v=null,CollectGarbage())},I=function(G){v&&(j(),_(G))},ne=function(G,Z){try{setTimeout(function(){D&&D.contentWindow&&D.contentWindow.postMessage(G,Z)},0)}catch{}};v.open(),v.write('<html><script>document.domain="'+Ze.document.domain+'";<\/script></html>'),v.close(),v.parentWindow[o.exports.WPrefix]=Ze[o.exports.WPrefix];var K=v.createElement("div");return v.body.appendChild(K),D=v.createElement("iframe"),K.appendChild(D),D.src=p,D.onerror=function(){I("onerror")},P=setTimeout(function(){I("timeout")},15e3),B=u.unloadAdd(j),{post:ne,cleanup:j,loaded:S}}},o.exports.iframeEnabled=!1,Ze.document&&(o.exports.iframeEnabled=(typeof Ze.postMessage=="function"||typeof Ze.postMessage=="object")&&!h.isKonqueror())})(dd)),dd.exports}var fd,Bm;function p0(){if(Bm)return fd;Bm=1;var o=zt(),u=_r().EventEmitter,h=f0(),p=yi(),_=Uu(),y=na(),v=Zl(),P=function(){};function B(D,S,j){if(!B.enabled())throw new Error("Transport created when disabled");u.call(this);var I=this;this.origin=p.getOrigin(j),this.baseUrl=j,this.transUrl=S,this.transport=D,this.windowId=v.string(8);var ne=p.addPath(j,"/iframe.html")+"#"+this.windowId;this.iframeObj=_.createIframe(ne,function(K){I.emit("close",1006,"Unable to load an iframe ("+K+")"),I.close()}),this.onmessageCallback=this._message.bind(this),y.attachEvent("message",this.onmessageCallback)}return o(B,u),B.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){y.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},B.prototype._message=function(D){if(P("message",D.data),!p.isOriginEqual(D.origin,this.origin)){P("not same origin",D.origin,this.origin);return}var S;try{S=JSON.parse(D.data)}catch{P("bad json",D.data);return}if(S.windowId!==this.windowId){P("mismatched window id",S.windowId,this.windowId);return}switch(S.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([h,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",S.data);break;case"c":var j;try{j=JSON.parse(S.data)}catch{P("bad json",S.data);return}this.emit("close",j[0],j[1]),this.close();break}},B.prototype.postMessage=function(D,S){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:D,data:S||""}),this.origin)},B.prototype.send=function(D){this.postMessage("m",D)},B.enabled=function(){return _.iframeEnabled},B.transportName="iframe",B.roundTrips=2,fd=B,fd}var pd,jm;function hf(){return jm||(jm=1,pd={isObject:function(o){var u=typeof o;return u==="function"||u==="object"&&!!o},extend:function(o){if(!this.isObject(o))return o;for(var u,h,p=1,_=arguments.length;p<_;p++){u=arguments[p];for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])}return o}}),pd}var md,Tm;function gd(){if(Tm)return md;Tm=1;var o=zt(),u=p0(),h=hf();return md=function(p){function _(y,v){u.call(this,p.transportName,y,v)}return o(_,u),_.enabled=function(y,v){if(!Ze.document)return!1;var P=h.extend({},v);return P.sameOrigin=!0,p.enabled(P)&&u.enabled()},_.transportName="iframe-"+p.transportName,_.needBody=!0,_.roundTrips=u.roundTrips+p.roundTrips-1,_.facadeTransport=p,_},md}var _d,Dm;function zx(){if(Dm)return _d;Dm=1;var o=zt(),u=Uu(),h=yi(),p=_r().EventEmitter,_=Zl(),y=function(){};function v(B){p.call(this);var D=this;u.polluteGlobalNamespace(),this.id="a"+_.string(6),B=h.addQuery(B,"c="+decodeURIComponent(u.WPrefix+"."+this.id)),y("using htmlfile",v.htmlfileEnabled);var S=v.htmlfileEnabled?u.createHtmlfile:u.createIframe;Ze[u.WPrefix][this.id]={start:function(){D.iframeObj.loaded()},message:function(j){D.emit("message",j)},stop:function(){D._cleanup(),D._close("network")}},this.iframeObj=S(B,function(){D._cleanup(),D._close("permanent")})}o(v,p),v.prototype.abort=function(){this._cleanup(),this._close("user")},v.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete Ze[u.WPrefix][this.id]},v.prototype._close=function(B){this.emit("close",null,B),this.removeAllListeners()},v.htmlfileEnabled=!1;var P=["Active"].concat("Object").join("X");if(P in Ze)try{v.htmlfileEnabled=!!new Ze[P]("htmlfile")}catch{}return v.enabled=v.htmlfileEnabled||u.iframeEnabled,_d=v,_d}var yd,Am;function Rm(){if(Am)return yd;Am=1;var o=zt(),u=zx(),h=Fu(),p=Kl();function _(y){if(!u.enabled)throw new Error("Transport created when disabled");p.call(this,y,"/htmlfile",u,h)}return o(_,p),_.enabled=function(y){return u.enabled&&y.sameOrigin},_.transportName="htmlfile",_.roundTrips=2,yd=_,yd}var vd,Om;function Nm(){if(Om)return vd;Om=1;var o=zt(),u=Kl(),h=$c(),p=Xc(),_=Fu();function y(v){if(!_.enabled&&!p.enabled)throw new Error("Transport created when disabled");u.call(this,v,"/xhr",h,p)}return o(y,u),y.enabled=function(v){return v.nullOrigin?!1:_.enabled&&v.sameOrigin?!0:p.enabled},y.transportName="xhr-polling",y.roundTrips=2,vd=y,vd}var xd,Im;function Ux(){if(Im)return xd;Im=1;var o=zt(),u=Kl(),h=h0(),p=$c(),_=cf();function y(v){if(!_.enabled)throw new Error("Transport created when disabled");u.call(this,v,"/xhr",p,_)}return o(y,u),y.enabled=h.enabled,y.transportName="xdr-polling",y.roundTrips=2,xd=y,xd}var wd,Fm;function Hx(){if(Fm)return wd;Fm=1;var o=Uu(),u=Zl(),h=zu(),p=yi(),_=zt(),y=_r().EventEmitter,v=function(){};function P(B){var D=this;y.call(this),o.polluteGlobalNamespace(),this.id="a"+u.string(6);var S=p.addQuery(B,"c="+encodeURIComponent(o.WPrefix+"."+this.id));Ze[o.WPrefix][this.id]=this._callback.bind(this),this._createScript(S),this.timeoutId=setTimeout(function(){D._abort(new Error("JSONP script loaded abnormally (timeout)"))},P.timeout)}return _(P,y),P.prototype.abort=function(){if(Ze[o.WPrefix][this.id]){var B=new Error("JSONP user aborted read");B.code=1e3,this._abort(B)}},P.timeout=35e3,P.scriptErrorTimeout=1e3,P.prototype._callback=function(B){this._cleanup(),!this.aborting&&(B&&this.emit("message",B),this.emit("close",null,"network"),this.removeAllListeners())},P.prototype._abort=function(B){this._cleanup(),this.aborting=!0,this.emit("close",B.code,B.message),this.removeAllListeners()},P.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var B=this.script;B.parentNode.removeChild(B),B.onreadystatechange=B.onerror=B.onload=B.onclick=null,this.script=null}delete Ze[o.WPrefix][this.id]},P.prototype._scriptError=function(){var B=this;this.errorTimer||(this.errorTimer=setTimeout(function(){B.loadedOkay||B._abort(new Error("JSONP script loaded abnormally (onerror)"))},P.scriptErrorTimeout))},P.prototype._createScript=function(B){var D=this,S=this.script=Ze.document.createElement("script"),j;if(S.id="a"+u.string(8),S.src=B,S.type="text/javascript",S.charset="UTF-8",S.onerror=this._scriptError.bind(this),S.onload=function(){D._abort(new Error("JSONP script loaded abnormally (onload)"))},S.onreadystatechange=function(){if(v("onreadystatechange",S.readyState),/loaded|closed/.test(S.readyState)){if(S&&S.htmlFor&&S.onclick){D.loadedOkay=!0;try{S.onclick()}catch{}}S&&D._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof S.async>"u"&&Ze.document.attachEvent)if(h.isOpera())j=this.script2=Ze.document.createElement("script"),j.text="try{var a = document.getElementById('"+S.id+"'); if(a)a.onerror();}catch(x){};",S.async=j.async=!1;else{try{S.htmlFor=S.id,S.event="onclick"}catch{}S.async=!0}typeof S.async<"u"&&(S.async=!0);var I=Ze.document.getElementsByTagName("head")[0];I.insertBefore(S,I.firstChild),j&&I.insertBefore(j,I.firstChild)},wd=P,wd}var bd,zm;function Wx(){if(zm)return bd;zm=1;var o=Zl(),u=yi(),h=function(){},p,_;function y(P){try{return Ze.document.createElement('<iframe name="'+P+'">')}catch{var B=Ze.document.createElement("iframe");return B.name=P,B}}function v(){p=Ze.document.createElement("form"),p.style.display="none",p.style.position="absolute",p.method="POST",p.enctype="application/x-www-form-urlencoded",p.acceptCharset="UTF-8",_=Ze.document.createElement("textarea"),_.name="d",p.appendChild(_),Ze.document.body.appendChild(p)}return bd=function(P,B,D){p||v();var S="a"+o.string(8);p.target=S,p.action=u.addQuery(u.addPath(P,"/jsonp_send"),"i="+S);var j=y(S);j.id=S,j.style.display="none",p.appendChild(j);try{_.value=B}catch{}p.submit();var I=function(ne){j.onerror&&(j.onreadystatechange=j.onerror=j.onload=null,setTimeout(function(){j.parentNode.removeChild(j),j=null},500),_.value="",D(ne))};return j.onerror=function(){I()},j.onload=function(){I()},j.onreadystatechange=function(ne){h("onreadystatechange",S,j.readyState),j.readyState==="complete"&&I()},function(){I(new Error("Aborted"))}},bd}var Cd,Um;function qx(){if(Um)return Cd;Um=1;var o=zt(),u=u0(),h=Hx(),p=Wx();function _(y){if(!_.enabled())throw new Error("Transport created when disabled");u.call(this,y,"/jsonp",p,h)}return o(_,u),_.enabled=function(){return!!Ze.document},_.transportName="jsonp-polling",_.roundTrips=1,_.needBody=!0,Cd=_,Cd}var Ld,Hm;function Vx(){return Hm||(Hm=1,Ld=[Rx(),Ix(),h0(),Sm(),gd()(Sm()),Rm(),gd()(Rm()),Nm(),Ux(),gd()(Nm()),qx()]),Ld}var Wm={},qm;function Gx(){if(qm)return Wm;qm=1;var o=Array.prototype,u=Object.prototype,h=Function.prototype,p=String.prototype,_=o.slice,y=u.toString,v=function(_e){return u.toString.call(_e)==="[object Function]"},P=function(ae){return y.call(ae)==="[object Array]"},B=function(ae){return y.call(ae)==="[object String]"},D=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),S;D?S=function(_e,ae,ve,oe){!oe&&ae in _e||Object.defineProperty(_e,ae,{configurable:!0,enumerable:!1,writable:!0,value:ve})}:S=function(_e,ae,ve,oe){!oe&&ae in _e||(_e[ae]=ve)};var j=function(_e,ae,ve){for(var oe in ae)u.hasOwnProperty.call(ae,oe)&&S(_e,oe,ae[oe],ve)},I=function(_e){if(_e==null)throw new TypeError("can't convert "+_e+" to object");return Object(_e)};function ne(_e){var ae=+_e;return ae!==ae?ae=0:ae!==0&&ae!==1/0&&ae!==-1/0&&(ae=(ae>0||-1)*Math.floor(Math.abs(ae))),ae}function K(_e){return _e>>>0}function G(){}j(h,{bind:function(ae){var ve=this;if(!v(ve))throw new TypeError("Function.prototype.bind called on incompatible "+ve);for(var oe=_.call(arguments,1),De=function(){if(this instanceof jt){var Oe=ve.apply(this,oe.concat(_.call(arguments)));return Object(Oe)===Oe?Oe:this}else return ve.apply(ae,oe.concat(_.call(arguments)))},Xe=Math.max(0,ve.length-oe.length),Ne=[],vt=0;vt<Xe;vt++)Ne.push("$"+vt);var jt=Function("binder","return function ("+Ne.join(",")+"){ return binder.apply(this, arguments); }")(De);return ve.prototype&&(G.prototype=ve.prototype,jt.prototype=new G,G.prototype=null),jt}}),j(Array,{isArray:P});var Z=Object("a"),Se=Z[0]!=="a"||!(0 in Z),F=function(ae){var ve=!0,oe=!0;return ae&&(ae.call("foo",function(De,Xe,Ne){typeof Ne!="object"&&(ve=!1)}),ae.call([1],function(){oe=typeof this=="string"},"x")),!!ae&&ve&&oe};j(o,{forEach:function(ae){var ve=I(this),oe=Se&&B(this)?this.split(""):ve,De=arguments[1],Xe=-1,Ne=oe.length>>>0;if(!v(ae))throw new TypeError;for(;++Xe<Ne;)Xe in oe&&ae.call(De,oe[Xe],Xe,ve)}},!F(o.forEach));var te=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;j(o,{indexOf:function(ae){var ve=Se&&B(this)?this.split(""):I(this),oe=ve.length>>>0;if(!oe)return-1;var De=0;for(arguments.length>1&&(De=ne(arguments[1])),De=De>=0?De:Math.max(0,oe+De);De<oe;De++)if(De in ve&&ve[De]===ae)return De;return-1}},te);var X=p.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var _e=/()??/.exec("")[1]===void 0;p.split=function(ae,ve){var oe=this;if(ae===void 0&&ve===0)return[];if(y.call(ae)!=="[object RegExp]")return X.call(this,ae,ve);var De=[],Xe=(ae.ignoreCase?"i":"")+(ae.multiline?"m":"")+(ae.extended?"x":"")+(ae.sticky?"y":""),Ne=0,vt,jt,Oe,it;for(ae=new RegExp(ae.source,Xe+"g"),oe+="",_e||(vt=new RegExp("^"+ae.source+"$(?!\\s)",Xe)),ve=ve===void 0?-1>>>0:K(ve);(jt=ae.exec(oe))&&(Oe=jt.index+jt[0].length,!(Oe>Ne&&(De.push(oe.slice(Ne,jt.index)),!_e&&jt.length>1&&jt[0].replace(vt,function(){for(var be=1;be<arguments.length-2;be++)arguments[be]===void 0&&(jt[be]=void 0)}),jt.length>1&&jt.index<oe.length&&o.push.apply(De,jt.slice(1)),it=jt[0].length,Ne=Oe,De.length>=ve)));)ae.lastIndex===jt.index&&ae.lastIndex++;return Ne===oe.length?(it||!ae.test(""))&&De.push(""):De.push(oe.slice(Ne)),De.length>ve?De.slice(0,ve):De}})():"0".split(void 0,0).length&&(p.split=function(ae,ve){return ae===void 0&&ve===0?[]:X.call(this,ae,ve)});var Y=p.substr,Pe="".substr&&"0b".substr(-1)!=="b";return j(p,{substr:function(ae,ve){return Y.call(this,ae<0&&(ae=this.length+ae)<0?0:ae,ve)}},Pe),Wm}var kd,Vm;function Zx(){if(Vm)return kd;Vm=1;var o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,u,h=function(p){var _,y={},v=[];for(_=0;_<65536;_++)v.push(String.fromCharCode(_));return p.lastIndex=0,v.join("").replace(p,function(P){return y[P]="\\u"+("0000"+P.charCodeAt(0).toString(16)).slice(-4),""}),p.lastIndex=0,y};return kd={quote:function(p){var _=JSON.stringify(p);return o.lastIndex=0,o.test(_)?(u||(u=h(o)),_.replace(o,function(y){return u[y]})):_}},kd}var Ed,Gm;function Kx(){if(Gm)return Ed;Gm=1;var o=function(){};return Ed=function(u){return{filterToEnabled:function(h,p){var _={main:[],facade:[]};return h?typeof h=="string"&&(h=[h]):h=[],u.forEach(function(y){if(y&&!(y.transportName==="websocket"&&p.websocket===!1)){if(h.length&&h.indexOf(y.transportName)===-1){o("not in whitelist",y.transportName);return}y.enabled(p)?(o("enabled",y.transportName),_.main.push(y),y.facadeTransport&&_.facade.push(y.facadeTransport)):o("disabled",y.transportName)}}),_}}},Ed}var Sd,Zm;function $x(){if(Zm)return Sd;Zm=1;var o={};return["log","debug","warn"].forEach(function(u){var h;try{h=Ze.console&&Ze.console[u]&&Ze.console[u].apply}catch{}o[u]=h?function(){return Ze.console[u].apply(Ze.console,arguments)}:u==="log"?function(){}:o.log}),Sd=o,Sd}var Pd,Km;function df(){if(Km)return Pd;Km=1;function o(u){this.type=u}return o.prototype.initEvent=function(u,h,p){return this.type=u,this.bubbles=h,this.cancelable=p,this.timeStamp=+new Date,this},o.prototype.stopPropagation=function(){},o.prototype.preventDefault=function(){},o.CAPTURING_PHASE=1,o.AT_TARGET=2,o.BUBBLING_PHASE=3,Pd=o,Pd}var Md,$m;function m0(){return $m||($m=1,Md=Ze.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),Md}var Bd,Xm;function Xx(){if(Xm)return Bd;Xm=1;var o=zt(),u=df();function h(){u.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return o(h,u),Bd=h,Bd}var jd,Jm;function Jx(){if(Jm)return jd;Jm=1;var o=zt(),u=df();function h(p){u.call(this),this.initEvent("message",!1,!1),this.data=p}return o(h,u),jd=h,jd}var Td,Ym;function Yx(){if(Ym)return Td;Ym=1;var o=_r().EventEmitter,u=zt();function h(){var p=this;o.call(this),this.to=setTimeout(function(){p.emit("finish",200,"{}")},h.timeout)}return u(h,o),h.prototype.close=function(){clearTimeout(this.to)},h.timeout=2e3,Td=h,Td}var Dd,Qm;function g0(){if(Qm)return Dd;Qm=1;var o=_r().EventEmitter,u=zt(),h=hf();function p(_,y){o.call(this);var v=this,P=+new Date;this.xo=new y("GET",_),this.xo.once("finish",function(B,D){var S,j;if(B===200){if(j=+new Date-P,D)try{S=JSON.parse(D)}catch{}h.isObject(S)||(S={})}v.emit("finish",S,j),v.removeAllListeners()})}return u(p,o),p.prototype.close=function(){this.removeAllListeners(),this.xo.close()},Dd=p,Dd}var Ad,eg;function _0(){if(eg)return Ad;eg=1;var o=zt(),u=_r().EventEmitter,h=Fu(),p=g0();function _(y){var v=this;u.call(this),this.ir=new p(y,h),this.ir.once("finish",function(P,B){v.ir=null,v.emit("message",JSON.stringify([P,B]))})}return o(_,u),_.transportName="iframe-info-receiver",_.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Ad=_,Ad}var Rd,tg;function Qx(){if(tg)return Rd;tg=1;var o=_r().EventEmitter,u=zt(),h=na(),p=p0(),_=_0();function y(v,P){var B=this;o.call(this);var D=function(){var S=B.ifr=new p(_.transportName,P,v);S.once("message",function(j){if(j){var I;try{I=JSON.parse(j)}catch{B.emit("finish"),B.close();return}var ne=I[0],K=I[1];B.emit("finish",ne,K)}B.close()}),S.once("close",function(){B.emit("finish"),B.close()})};Ze.document.body?D():h.attachEvent("load",D)}return u(y,o),y.enabled=function(){return p.enabled()},y.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},Rd=y,Rd}var Od,ng;function e4(){if(ng)return Od;ng=1;var o=_r().EventEmitter,u=zt(),h=yi(),p=cf(),_=Xc(),y=Fu(),v=Yx(),P=Qx(),B=g0();function D(S,j){var I=this;o.call(this),setTimeout(function(){I.doXhr(S,j)},0)}return u(D,o),D._getReceiver=function(S,j,I){return I.sameOrigin?new B(j,y):_.enabled?new B(j,_):p.enabled&&I.sameScheme?new B(j,p):P.enabled()?new P(S,j):new B(j,v)},D.prototype.doXhr=function(S,j){var I=this,ne=h.addPath(S,"/info");this.xo=D._getReceiver(S,ne,j),this.timeoutRef=setTimeout(function(){I._cleanup(!1),I.emit("finish")},D.timeout),this.xo.once("finish",function(K,G){I._cleanup(!0),I.emit("finish",K,G)})},D.prototype._cleanup=function(S){clearTimeout(this.timeoutRef),this.timeoutRef=null,!S&&this.xo&&this.xo.close(),this.xo=null},D.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},D.timeout=8e3,Od=D,Od}var Nd,rg;function t4(){if(rg)return Nd;rg=1;var o=Uu();function u(h){this._transport=h,h.on("message",this._transportMessage.bind(this)),h.on("close",this._transportClose.bind(this))}return u.prototype._transportClose=function(h,p){o.postMessage("c",JSON.stringify([h,p]))},u.prototype._transportMessage=function(h){o.postMessage("t",h)},u.prototype._send=function(h){this._transport.send(h)},u.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Nd=u,Nd}var Id,ig;function n4(){if(ig)return Id;ig=1;var o=yi(),u=na(),h=t4(),p=_0(),_=Uu(),y=m0(),v=function(){};return Id=function(P,B){var D={};B.forEach(function(j){j.facadeTransport&&(D[j.facadeTransport.transportName]=j.facadeTransport)}),D[p.transportName]=p;var S;P.bootstrap_iframe=function(){var j;_.currentWindowId=y.hash.slice(1);var I=function(ne){if(ne.source===parent&&(typeof S>"u"&&(S=ne.origin),ne.origin===S)){var K;try{K=JSON.parse(ne.data)}catch{v("bad json",ne.data);return}if(K.windowId===_.currentWindowId)switch(K.type){case"s":var G;try{G=JSON.parse(K.data)}catch{v("bad json",K.data);break}var Z=G[0],Se=G[1],F=G[2],te=G[3];if(Z!==P.version)throw new Error('Incompatible SockJS! Main site uses: "'+Z+'", the iframe: "'+P.version+'".');if(!o.isOriginEqual(F,y.href)||!o.isOriginEqual(te,y.href))throw new Error("Can't connect to different domain from within an iframe. ("+y.href+", "+F+", "+te+")");j=new h(new D[Se](F,te));break;case"m":j._send(K.data);break;case"c":j&&j._close(),j=null;break}}};u.attachEvent("message",I),_.postMessage("s")}},Id}var Fd,sg;function r4(){if(sg)return Fd;sg=1,Gx();var o=a0(),u=zt(),h=Zl(),p=Zx(),_=yi(),y=na(),v=Kx(),P=hf(),B=zu(),D=$x(),S=df(),j=l0(),I=m0(),ne=Xx(),K=Jx(),G=e4(),Z=function(){},Se;function F(X,Y,Pe){if(!(this instanceof F))return new F(X,Y,Pe);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");j.call(this),this.readyState=F.CONNECTING,this.extensions="",this.protocol="",Pe=Pe||{},Pe.protocols_whitelist&&D.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=Pe.transports,this._transportOptions=Pe.transportOptions||{},this._timeout=Pe.timeout||0;var _e=Pe.sessionId||8;if(typeof _e=="function")this._generateSessionId=_e;else if(typeof _e=="number")this._generateSessionId=function(){return h.string(_e)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=Pe.server||h.numberString(1e3);var ae=new o(X);if(!ae.host||!ae.protocol)throw new SyntaxError("The URL '"+X+"' is invalid");if(ae.hash)throw new SyntaxError("The URL must not contain a fragment");if(ae.protocol!=="http:"&&ae.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ae.protocol+"' is not allowed.");var ve=ae.protocol==="https:";if(I.protocol==="https:"&&!ve&&!_.isLoopbackAddr(ae.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");Y?Array.isArray(Y)||(Y=[Y]):Y=[];var oe=Y.sort();oe.forEach(function(Xe,Ne){if(!Xe)throw new SyntaxError("The protocols entry '"+Xe+"' is invalid.");if(Ne<oe.length-1&&Xe===oe[Ne+1])throw new SyntaxError("The protocols entry '"+Xe+"' is duplicated.")});var De=_.getOrigin(I.href);this._origin=De?De.toLowerCase():null,ae.set("pathname",ae.pathname.replace(/\/+$/,"")),this.url=ae.href,Z("using url",this.url),this._urlInfo={nullOrigin:!B.hasDomain(),sameOrigin:_.isOriginEqual(this.url,I.href),sameScheme:_.isSchemeEqual(this.url,I.href)},this._ir=new G(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}u(F,j);function te(X){return X===1e3||X>=3e3&&X<=4999}return F.prototype.close=function(X,Y){if(X&&!te(X))throw new Error("InvalidAccessError: Invalid code");if(Y&&Y.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===F.CLOSING||this.readyState===F.CLOSED)){var Pe=!0;this._close(X||1e3,Y||"Normal closure",Pe)}},F.prototype.send=function(X){if(typeof X!="string"&&(X=""+X),this.readyState===F.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===F.OPEN&&this._transport.send(p.quote(X))},F.version=f0(),F.CONNECTING=0,F.OPEN=1,F.CLOSING=2,F.CLOSED=3,F.prototype._receiveInfo=function(X,Y){if(this._ir=null,!X){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(Y),this._transUrl=X.base_url?X.base_url:this.url,X=P.extend(X,this._urlInfo);var Pe=Se.filterToEnabled(this._transportsWhitelist,X);this._transports=Pe.main,Z(this._transports.length+" enabled transports"),this._connect()},F.prototype._connect=function(){for(var X=this._transports.shift();X;X=this._transports.shift()){if(Z("attempt",X.transportName),X.needBody&&(!Ze.document.body||typeof Ze.document.readyState<"u"&&Ze.document.readyState!=="complete"&&Ze.document.readyState!=="interactive")){this._transports.unshift(X),y.attachEvent("load",this._connect.bind(this));return}var Y=Math.max(this._timeout,this._rto*X.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),Y);var Pe=_.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),_e=this._transportOptions[X.transportName],ae=new X(Pe,this._transUrl,_e);ae.on("message",this._transportMessage.bind(this)),ae.once("close",this._transportClose.bind(this)),ae.transportName=X.transportName,this._transport=ae;return}this._close(2e3,"All transports failed",!1)},F.prototype._transportTimeout=function(){this.readyState===F.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},F.prototype._transportMessage=function(X){var Y=this,Pe=X.slice(0,1),_e=X.slice(1),ae;switch(Pe){case"o":this._open();return;case"h":this.dispatchEvent(new S("heartbeat")),Z("heartbeat",this.transport);return}if(_e)try{ae=JSON.parse(_e)}catch{}if(!(typeof ae>"u"))switch(Pe){case"a":Array.isArray(ae)&&ae.forEach(function(ve){Z("message",Y.transport),Y.dispatchEvent(new K(ve))});break;case"m":Z("message",this.transport),this.dispatchEvent(new K(ae));break;case"c":Array.isArray(ae)&&ae.length===2&&this._close(ae[0],ae[1],!0);break}},F.prototype._transportClose=function(X,Y){if(Z("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!te(X)&&X!==2e3&&this.readyState===F.CONNECTING){this._connect();return}this._close(X,Y)},F.prototype._open=function(){Z("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===F.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=F.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new S("open")),Z("connected",this.transport)):this._close(1006,"Server lost session")},F.prototype._close=function(X,Y,Pe){Z("_close",this.transport,X,Y,Pe,this.readyState);var _e=!1;if(this._ir&&(_e=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===F.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=F.CLOSING,setTimeout((function(){this.readyState=F.CLOSED,_e&&this.dispatchEvent(new S("error"));var ae=new ne("close");ae.wasClean=Pe||!1,ae.code=X||1e3,ae.reason=Y,this.dispatchEvent(ae),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},F.prototype.countRTO=function(X){return X>100?4*X:300+X},Fd=function(X){return Se=v(X),n4()(F,X),F},Fd}var zd,og;function i4(){if(og)return zd;og=1;var o=Vx();return zd=r4()(o),"_sockjs_onload"in Ze&&setTimeout(Ze._sockjs_onload,1),zd}var s4=i4();const y0=Tu(s4),o4=async()=>{try{return(await ht.get("/admin/orders/active")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},a4=async()=>{try{return(await ht.get("/admin/orders/archive")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},l4=async o=>{try{return(await ht.get("/admin/orders/archive/search",{params:{phone:o}})).data}catch(u){throw new Error(u.response?.data?.message||"   ")}},u4=async o=>{try{return(await ht.post(`/admin/orders/${o}/cancel`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},c4=async(o,u)=>{try{return(await ht.post(`/admin/orders/${o}/assign`,null,{params:{driverId:u}})).data}catch(h){throw new Error(h.response?.data?.message||"  ")}},h4=async()=>{try{return(await ht.get("/admin/drivers")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},d4=async()=>{try{return(await ht.get(`/admin/drivers/location-map?t=${new Date().getTime()}`)).data}catch(o){return console.error("    :",o),[]}},f4=async(o,u,h)=>{try{const p=new FormData;return p.append("request",JSON.stringify(o)),u&&p.append("file",u),h&&Object.keys(h).forEach(y=>{const v=h[y];v&&(y==="carFile"?p.append("carPhoto",v):p.append(y,v))}),(await ht.post("/admin/drivers",p,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(p){throw new Error(p.response?.data?.message||"   ")}},p4=async(o,u,h,p)=>{try{const _=new FormData;return _.append("request",JSON.stringify(u)),h&&_.append("file",h),p&&Object.keys(p).forEach(v=>{const P=p[v];P&&(v==="carFile"?_.append("carPhoto",P):_.append(v,P))}),(await ht.put(`/admin/drivers/${o}`,_,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(_){throw new Error(_.response?.data?.message||"   ")}},m4=async o=>{try{return(await ht.delete(`/admin/drivers/${o}`)).data}catch(u){throw new Error(u.response?.data?.message||"   ")}},g4=async o=>{try{return(await ht.patch(`/admin/drivers/${o}/block`)).data}catch(u){throw new Error(u.response?.data?.message||" ")}},_4=async(o,u)=>{try{return(await ht.post(`/admin/drivers/${o}/temp-block`,{durationHours:u})).data}catch(h){throw new Error(h.response?.data?.message||"  ")}},y4=async o=>{try{return(await ht.patch(`/admin/drivers/${o}/unblock`)).data}catch(u){throw new Error(u.response?.data?.message||" ")}},v4=async(o,u,h)=>{try{return(await ht.post(`/admin/drivers/${o}/activity`,{points:u,reason:h})).data}catch(p){throw new Error(p.response?.data?.message||"  ")}},x4=async()=>{try{return(await ht.get("/admin/drivers/cars/pending")).data}catch(o){throw new Error(o.response?.data?.message||"   ")}},w4=async o=>{try{return(await ht.post(`/admin/drivers/cars/${o}/approve`)).data}catch(u){throw new Error(u.response?.data?.message||"   ")}},b4=async(o,u)=>{try{return(await ht.post(`/admin/drivers/cars/${o}/reject`,u,{headers:{"Content-Type":"text/plain"}})).data}catch(h){throw new Error(h.response?.data?.message||"   ")}},ag=async(o,u)=>(await ht.put(`/admin/drivers/cars/${o}`,u)).data,C4=async()=>{try{return(await ht.get("/admin/drivers/pending-registration")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},L4=async(o,u)=>{try{return(await ht.post(`/admin/drivers/${o}/approve-registration`,u)).data}catch(h){throw new Error(h.response?.data?.message||"   ")}},k4=async(o,u)=>{try{return(await ht.post(`/admin/drivers/${o}/reject-registration`,u,{headers:{"Content-Type":"text/plain"}})).data}catch(h){throw new Error(h.response?.data?.message||"   ")}},v0=async()=>(await ht.get("/admin/settings")).data,E4=async(o,u)=>{const h=new FormData;return h.append("key",o),h.append("file",u),(await ht.post("/admin/settings/upload",h)).data.url},S4=async o=>{await ht.post("/admin/settings/save",o)};function P4(o,u){const h=U.useRef();U.useEffect(()=>{h.current=o},[o]),U.useEffect(()=>{function p(){h.current()}{let _=setInterval(p,u);return()=>clearInterval(_)}},[u])}function x0(o,u){const h=U.useRef(u);U.useEffect(function(){u!==h.current&&o.attributionControl!=null&&(h.current!=null&&o.attributionControl.removeAttribution(h.current),u!=null&&o.attributionControl.addAttribution(u)),h.current=u},[o,u])}const M4=1;function B4(o){return Object.freeze({__version:M4,map:o})}function ff(o,u){return Object.freeze({...o,...u})}const w0=U.createContext(null),b0=w0.Provider;function Jc(){const o=U.useContext(w0);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function C0(o){function u(h,p){const{instance:_,context:y}=o(h).current;return U.useImperativeHandle(p,()=>_),h.children==null?null:Mu.createElement(b0,{value:y},h.children)}return U.forwardRef(u)}function j4(o){function u(h,p){const[_,y]=U.useState(!1),{instance:v}=o(h,y).current;U.useImperativeHandle(p,()=>v),U.useEffect(function(){_&&v.update()},[v,_,h.children]);const P=v._contentNode;return P?qy.createPortal(h.children,P):null}return U.forwardRef(u)}function T4(o){function u(h,p){const{instance:_}=o(h).current;return U.useImperativeHandle(p,()=>_),null}return U.forwardRef(u)}function pf(o,u){const h=U.useRef();U.useEffect(function(){return u!=null&&o.instance.on(u),h.current=u,function(){h.current!=null&&o.instance.off(h.current),h.current=null}},[o,u])}function Yc(o,u){const h=o.pane??u.pane;return h?{...o,pane:h}:o}function D4(o,u){return function(p,_){const y=Jc(),v=o(Yc(p,y),y);return x0(y.map,p.attribution),pf(v.current,p.eventHandlers),u(v.current,y,p,_),v}}var Su={exports:{}};var A4=Su.exports,lg;function R4(){return lg||(lg=1,(function(o,u){(function(h,p){p(u)})(A4,(function(h){var p="1.9.4";function _(t){var s,f,w,M;for(f=1,w=arguments.length;f<w;f++){M=arguments[f];for(s in M)t[s]=M[s]}return t}var y=Object.create||(function(){function t(){}return function(s){return t.prototype=s,new t}})();function v(t,s){var f=Array.prototype.slice;if(t.bind)return t.bind.apply(t,f.call(arguments,1));var w=f.call(arguments,2);return function(){return t.apply(s,w.length?w.concat(f.call(arguments)):arguments)}}var P=0;function B(t){return"_leaflet_id"in t||(t._leaflet_id=++P),t._leaflet_id}function D(t,s,f){var w,M,N,ee;return ee=function(){w=!1,M&&(N.apply(f,M),M=!1)},N=function(){w?M=arguments:(t.apply(f,arguments),setTimeout(ee,s),w=!0)},N}function S(t,s,f){var w=s[1],M=s[0],N=w-M;return t===w&&f?t:((t-M)%N+N)%N+M}function j(){return!1}function I(t,s){if(s===!1)return t;var f=Math.pow(10,s===void 0?6:s);return Math.round(t*f)/f}function ne(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function K(t){return ne(t).split(/\s+/)}function G(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?y(t.options):{});for(var f in s)t.options[f]=s[f];return t.options}function Z(t,s,f){var w=[];for(var M in t)w.push(encodeURIComponent(f?M.toUpperCase():M)+"="+encodeURIComponent(t[M]));return(!s||s.indexOf("?")===-1?"?":"&")+w.join("&")}var Se=/\{ *([\w_ -]+) *\}/g;function F(t,s){return t.replace(Se,function(f,w){var M=s[w];if(M===void 0)throw new Error("No value provided for variable "+f);return typeof M=="function"&&(M=M(s)),M})}var te=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function X(t,s){for(var f=0;f<t.length;f++)if(t[f]===s)return f;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Pe(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var _e=0;function ae(t){var s=+new Date,f=Math.max(0,16-(s-_e));return _e=s+f,window.setTimeout(t,f)}var ve=window.requestAnimationFrame||Pe("RequestAnimationFrame")||ae,oe=window.cancelAnimationFrame||Pe("CancelAnimationFrame")||Pe("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function De(t,s,f){if(f&&ve===ae)t.call(s);else return ve.call(window,v(t,s))}function Xe(t){t&&oe.call(window,t)}var Ne={__proto__:null,extend:_,create:y,bind:v,get lastId(){return P},stamp:B,throttle:D,wrapNum:S,falseFn:j,formatNum:I,trim:ne,splitWords:K,setOptions:G,getParamString:Z,template:F,isArray:te,indexOf:X,emptyImageUrl:Y,requestFn:ve,cancelFn:oe,requestAnimFrame:De,cancelAnimFrame:Xe};function vt(){}vt.extend=function(t){var s=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,w=y(f);w.constructor=s,s.prototype=w;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(s[M]=this[M]);return t.statics&&_(s,t.statics),t.includes&&(jt(t.includes),_.apply(null,[w].concat(t.includes))),_(w,t),delete w.statics,delete w.includes,w.options&&(w.options=f.options?y(f.options):{},_(w.options,t.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,ee=w._initHooks.length;N<ee;N++)w._initHooks[N].call(this)}},s},vt.include=function(t){var s=this.prototype.options;return _(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},vt.mergeOptions=function(t){return _(this.prototype.options,t),this},vt.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),f=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function jt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=te(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Oe={on:function(t,s,f){if(typeof t=="object")for(var w in t)this._on(w,t[w],s);else{t=K(t);for(var M=0,N=t.length;M<N;M++)this._on(t[M],s,f)}return this},off:function(t,s,f){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var w in t)this._off(w,t[w],s);else{t=K(t);for(var M=arguments.length===1,N=0,ee=t.length;N<ee;N++)M?this._off(t[N]):this._off(t[N],s,f)}return this},_on:function(t,s,f,w){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,f)===!1){f===this&&(f=void 0);var M={fn:s,ctx:f};w&&(M.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(M)}},_off:function(t,s,f){var w,M,N;if(this._events&&(w=this._events[t],!!w)){if(arguments.length===1){if(this._firingCount)for(M=0,N=w.length;M<N;M++)w[M].fn=j;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var ee=this._listens(t,s,f);if(ee!==!1){var me=w[ee];this._firingCount&&(me.fn=j,this._events[t]=w=w.slice()),w.splice(ee,1)}}},fire:function(t,s,f){if(!this.listens(t,f))return this;var w=_({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var M=this._events[t];if(M){this._firingCount=this._firingCount+1||1;for(var N=0,ee=M.length;N<ee;N++){var me=M[N],Ce=me.fn;me.once&&this.off(t,Ce,me.ctx),Ce.call(me.ctx||this,w)}this._firingCount--}}return f&&this._propagateEvent(w),this},listens:function(t,s,f,w){typeof t!="string"&&console.warn('"string" type argument expected');var M=s;typeof s!="function"&&(w=!!s,M=void 0,f=void 0);var N=this._events&&this._events[t];if(N&&N.length&&this._listens(t,M,f)!==!1)return!0;if(w){for(var ee in this._eventParents)if(this._eventParents[ee].listens(t,s,f,w))return!0}return!1},_listens:function(t,s,f){if(!this._events)return!1;var w=this._events[t]||[];if(!s)return!!w.length;f===this&&(f=void 0);for(var M=0,N=w.length;M<N;M++)if(w[M].fn===s&&w[M].ctx===f)return M;return!1},once:function(t,s,f){if(typeof t=="object")for(var w in t)this._on(w,t[w],s,!0);else{t=K(t);for(var M=0,N=t.length;M<N;M++)this._on(t[M],s,f,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[B(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[B(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,_({layer:t.target,propagatedFrom:t.target},t),!0)}};Oe.addEventListener=Oe.on,Oe.removeEventListener=Oe.clearAllEventListeners=Oe.off,Oe.addOneTimeEventListener=Oe.once,Oe.fireEvent=Oe.fire,Oe.hasEventListeners=Oe.listens;var it=vt.extend(Oe);function be(t,s,f){this.x=f?Math.round(t):t,this.y=f?Math.round(s):s}var nt=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};be.prototype={clone:function(){return new be(this.x,this.y)},add:function(t){return this.clone()._add(je(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(je(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new be(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new be(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(t){t=je(t);var s=t.x-this.x,f=t.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(t){return t=je(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=je(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function je(t,s,f){return t instanceof be?t:te(t)?new be(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new be(t.x,t.y):new be(t,s,f)}function ue(t,s){if(t)for(var f=s?[t,s]:t,w=0,M=f.length;w<M;w++)this.extend(f[w])}ue.prototype={extend:function(t){var s,f;if(!t)return this;if(t instanceof be||typeof t[0]=="number"||"x"in t)s=f=je(t);else if(t=Be(t),s=t.min,f=t.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(t){return je((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return je(this.min.x,this.max.y)},getTopRight:function(){return je(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,f;return typeof t[0]=="number"||t instanceof be?t=je(t):t=Be(t),t instanceof ue?(s=t.min,f=t.max):s=f=t,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(t){t=Be(t);var s=this.min,f=this.max,w=t.min,M=t.max,N=M.x>=s.x&&w.x<=f.x,ee=M.y>=s.y&&w.y<=f.y;return N&&ee},overlaps:function(t){t=Be(t);var s=this.min,f=this.max,w=t.min,M=t.max,N=M.x>s.x&&w.x<f.x,ee=M.y>s.y&&w.y<f.y;return N&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,f=this.max,w=Math.abs(s.x-f.x)*t,M=Math.abs(s.y-f.y)*t;return Be(je(s.x-w,s.y-M),je(f.x+w,f.y+M))},equals:function(t){return t?(t=Be(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Be(t,s){return!t||t instanceof ue?t:new ue(t,s)}function ut(t,s){if(t)for(var f=s?[t,s]:t,w=0,M=f.length;w<M;w++)this.extend(f[w])}ut.prototype={extend:function(t){var s=this._southWest,f=this._northEast,w,M;if(t instanceof Qe)w=t,M=t;else if(t instanceof ut){if(w=t._southWest,M=t._northEast,!w||!M)return this}else return t?this.extend(Ye(t)||tt(t)):this;return!s&&!f?(this._southWest=new Qe(w.lat,w.lng),this._northEast=new Qe(M.lat,M.lng)):(s.lat=Math.min(w.lat,s.lat),s.lng=Math.min(w.lng,s.lng),f.lat=Math.max(M.lat,f.lat),f.lng=Math.max(M.lng,f.lng)),this},pad:function(t){var s=this._southWest,f=this._northEast,w=Math.abs(s.lat-f.lat)*t,M=Math.abs(s.lng-f.lng)*t;return new ut(new Qe(s.lat-w,s.lng-M),new Qe(f.lat+w,f.lng+M))},getCenter:function(){return new Qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Qe||"lat"in t?t=Ye(t):t=tt(t);var s=this._southWest,f=this._northEast,w,M;return t instanceof ut?(w=t.getSouthWest(),M=t.getNorthEast()):w=M=t,w.lat>=s.lat&&M.lat<=f.lat&&w.lng>=s.lng&&M.lng<=f.lng},intersects:function(t){t=tt(t);var s=this._southWest,f=this._northEast,w=t.getSouthWest(),M=t.getNorthEast(),N=M.lat>=s.lat&&w.lat<=f.lat,ee=M.lng>=s.lng&&w.lng<=f.lng;return N&&ee},overlaps:function(t){t=tt(t);var s=this._southWest,f=this._northEast,w=t.getSouthWest(),M=t.getNorthEast(),N=M.lat>s.lat&&w.lat<f.lat,ee=M.lng>s.lng&&w.lng<f.lng;return N&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=tt(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function tt(t,s){return t instanceof ut?t:new ut(t,s)}function Qe(t,s,f){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,f!==void 0&&(this.alt=+f)}Qe.prototype={equals:function(t,s){if(!t)return!1;t=Ye(t);var f=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return f<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+I(this.lat,t)+", "+I(this.lng,t)+")"},distanceTo:function(t){return kt.distance(this,Ye(t))},wrap:function(){return kt.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,f=s/Math.cos(Math.PI/180*this.lat);return tt([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new Qe(this.lat,this.lng,this.alt)}};function Ye(t,s,f){return t instanceof Qe?t:te(t)&&typeof t[0]!="object"?t.length===3?new Qe(t[0],t[1],t[2]):t.length===2?new Qe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Qe(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new Qe(t,s,f)}var Pt={latLngToPoint:function(t,s){var f=this.projection.project(t),w=this.scale(s);return this.transformation._transform(f,w)},pointToLatLng:function(t,s){var f=this.scale(s),w=this.transformation.untransform(t,f);return this.projection.unproject(w)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(t),w=this.transformation.transform(s.min,f),M=this.transformation.transform(s.max,f);return new ue(w,M)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,f=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,w=t.alt;return new Qe(f,s,w)},wrapLatLngBounds:function(t){var s=t.getCenter(),f=this.wrapLatLng(s),w=s.lat-f.lat,M=s.lng-f.lng;if(w===0&&M===0)return t;var N=t.getSouthWest(),ee=t.getNorthEast(),me=new Qe(N.lat-w,N.lng-M),Ce=new Qe(ee.lat-w,ee.lng-M);return new ut(me,Ce)}},kt=_({},Pt,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var f=Math.PI/180,w=t.lat*f,M=s.lat*f,N=Math.sin((s.lat-t.lat)*f/2),ee=Math.sin((s.lng-t.lng)*f/2),me=N*N+Math.cos(w)*Math.cos(M)*ee*ee,Ce=2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me));return this.R*Ce}}),Rt=6378137,vn={R:Rt,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,f=this.MAX_LATITUDE,w=Math.max(Math.min(f,t.lat),-f),M=Math.sin(w*s);return new be(this.R*t.lng*s,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(t){var s=180/Math.PI;return new Qe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:(function(){var t=Rt*Math.PI;return new ue([-t,-t],[t,t])})()};function Ji(t,s,f,w){if(te(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=f,this._d=w}Ji.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new be((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function Yi(t,s,f,w){return new Ji(t,s,f,w)}var Qi=_({},kt,{code:"EPSG:3857",projection:vn,transformation:(function(){var t=.5/(Math.PI*vn.R);return Yi(t,.5,-t,.5)})()}),uo=_({},Qi,{code:"EPSG:900913"});function ia(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function sa(t,s){var f="",w,M,N,ee,me,Ce;for(w=0,N=t.length;w<N;w++){for(me=t[w],M=0,ee=me.length;M<ee;M++)Ce=me[M],f+=(M?"L":"M")+Ce.x+" "+Ce.y;f+=s?st.svg?"z":"x":""}return f||"M0 0"}var es=document.documentElement.style,vi="ActiveXObject"in window,co=vi&&!document.addEventListener,ts="msLaunchUri"in navigator&&!("documentMode"in document),$r=xn("webkit"),ho=xn("android"),oa=xn("android 2")||xn("android 3"),el=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tl=ho&&xn("Google")&&el<537&&!("AudioNode"in window),fo=!!window.opera,po=!ts&&xn("chrome"),As=xn("gecko")&&!$r&&!fo&&!vi,aa=!po&&xn("safari"),xi=xn("phantom"),ns="OTransition"in es,rs=navigator.platform.indexOf("Win")===0,la=vi&&"transition"in es,Rs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oa,is="MozPerspective"in es,mo=!window.L_DISABLE_3D&&(la||Rs||is)&&!ns&&!xi,zr=typeof orientation<"u"||xn("mobile"),ua=zr&&$r,ca=zr&&Rs,Os=!window.PointerEvent&&window.MSPointerEvent,wi=!!(window.PointerEvent||Os),bi="ontouchstart"in window||!!window.TouchEvent,nl=!window.L_NO_TOUCH&&(bi||wi),rl=zr&&fo,ha=zr&&As,da=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,il=(function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",j,s),window.removeEventListener("testPassiveEventSupport",j,s)}catch{}return t})(),fa=(function(){return!!document.createElement("canvas").getContext})(),go=!!(document.createElementNS&&ia("svg").createSVGRect),ss=!!go&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),pa=!go&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),Ns=navigator.platform.indexOf("Mac")===0,Xl=navigator.platform.indexOf("Linux")===0;function xn(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var st={ie:vi,ielt9:co,edge:ts,webkit:$r,android:ho,android23:oa,androidStock:tl,opera:fo,chrome:po,gecko:As,safari:aa,phantom:xi,opera12:ns,win:rs,ie3d:la,webkit3d:Rs,gecko3d:is,any3d:mo,mobile:zr,mobileWebkit:ua,mobileWebkit3d:ca,msPointer:Os,pointer:wi,touch:nl,touchNative:bi,mobileOpera:rl,mobileGecko:ha,retina:da,passiveEvents:il,canvas:fa,svg:go,vml:pa,inlineSvg:ss,mac:Ns,linux:Xl},Is=st.msPointer?"MSPointerDown":"pointerdown",_o=st.msPointer?"MSPointerMove":"pointermove",ma=st.msPointer?"MSPointerUp":"pointerup",sl=st.msPointer?"MSPointerCancel":"pointercancel",ga={touchstart:Is,touchmove:_o,touchend:ma,touchcancel:sl},Xr={touchstart:Xt,touchmove:yo,touchend:yo,touchcancel:yo},Ci={},_a=!1;function Jl(t,s,f){return s==="touchstart"&&ya(),Xr[s]?(f=Xr[s].bind(this,f),t.addEventListener(ga[s],f,!1),f):(console.warn("wrong event specified:",s),j)}function ol(t,s,f){if(!ga[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(ga[s],f,!1)}function al(t){Ci[t.pointerId]=t}function ll(t){Ci[t.pointerId]&&(Ci[t.pointerId]=t)}function Fs(t){delete Ci[t.pointerId]}function ya(){_a||(document.addEventListener(Is,al,!0),document.addEventListener(_o,ll,!0),document.addEventListener(ma,Fs,!0),document.addEventListener(sl,Fs,!0),_a=!0)}function yo(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in Ci)s.touches.push(Ci[f]);s.changedTouches=[s],t(s)}}function Xt(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Jt(s),yo(t,s)}function Yl(t){var s={},f,w;for(w in t)f=t[w],s[w]=f&&f.bind?f.bind(t):f;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var va=200;function ul(t,s){t.addEventListener("dblclick",s);var f=0,w;function M(N){if(N.detail!==1){w=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var ee=Ei(N);if(!(ee.some(function(Ce){return Ce instanceof HTMLLabelElement&&Ce.attributes.for})&&!ee.some(function(Ce){return Ce instanceof HTMLInputElement||Ce instanceof HTMLSelectElement}))){var me=Date.now();me-f<=va?(w++,w===2&&s(Yl(N))):w=1,f=me}}}return t.addEventListener("click",M),{dblclick:s,simDblclick:M}}function vo(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var xa=us(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),os=us(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zs=os==="webkitTransition"||os==="OTransition"?os+"End":"transitionend";function er(t){return typeof t=="string"?document.getElementById(t):t}function Jr(t,s){var f=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(t,null);f=w?w[s]:null}return f==="auto"?null:f}function xt(t,s,f){var w=document.createElement(t);return w.className=s||"",f&&f.appendChild(w),w}function Gt(t){var s=t.parentNode;s&&s.removeChild(t)}function Us(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function as(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function Ur(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function ls(t,s){if(t.classList!==void 0)return t.classList.contains(s);var f=xo(t);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function gt(t,s){if(t.classList!==void 0)for(var f=K(s),w=0,M=f.length;w<M;w++)t.classList.add(f[w]);else if(!ls(t,s)){var N=xo(t);wa(t,(N?N+" ":"")+s)}}function qt(t,s){t.classList!==void 0?t.classList.remove(s):wa(t,ne((" "+xo(t)+" ").replace(" "+s+" "," ")))}function wa(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function xo(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Pn(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&cl(t,s)}function cl(t,s){var f=!1,w="DXImageTransform.Microsoft.Alpha";try{f=t.filters.item(w)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):t.style.filter+=" progid:"+w+"(opacity="+s+")"}function us(t){for(var s=document.documentElement.style,f=0;f<t.length;f++)if(t[f]in s)return t[f];return!1}function tr(t,s,f){var w=s||new be(0,0);t.style[xa]=(st.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(f?" scale("+f+")":"")}function en(t,s){t._leaflet_pos=s,st.any3d?tr(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function yr(t){return t._leaflet_pos||new be(0,0)}var Bt,cs,wo;if("onselectstart"in document)Bt=function(){mt(window,"selectstart",Jt)},cs=function(){Dt(window,"selectstart",Jt)};else{var Li=us(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bt=function(){if(Li){var t=document.documentElement.style;wo=t[Li],t[Li]="none"}},cs=function(){Li&&(document.documentElement.style[Li]=wo,wo=void 0)}}function bo(){mt(window,"dragstart",Jt)}function Co(){Dt(window,"dragstart",Jt)}var Hs,Ws;function hs(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(nr(),Hs=t,Ws=t.style.outlineStyle,t.style.outlineStyle="none",mt(window,"keydown",nr))}function nr(){Hs&&(Hs.style.outlineStyle=Ws,Hs=void 0,Ws=void 0,Dt(window,"keydown",nr))}function Hr(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function vr(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var qs={__proto__:null,TRANSFORM:xa,TRANSITION:os,TRANSITION_END:zs,get:er,getStyle:Jr,create:xt,remove:Gt,empty:Us,toFront:as,toBack:Ur,hasClass:ls,addClass:gt,removeClass:qt,setClass:wa,getClass:xo,setOpacity:Pn,testProp:us,setTransform:tr,setPosition:en,getPosition:yr,get disableTextSelection(){return Bt},get enableTextSelection(){return cs},disableImageDrag:bo,enableImageDrag:Co,preventOutline:hs,restoreOutline:nr,getSizedParentNode:Hr,getScale:vr};function mt(t,s,f,w){if(s&&typeof s=="object")for(var M in s)Ca(t,M,s[M],f);else{s=K(s);for(var N=0,ee=s.length;N<ee;N++)Ca(t,s[N],f,w)}return this}var hn="_leaflet_events";function Dt(t,s,f,w){if(arguments.length===1)ba(t),delete t[hn];else if(s&&typeof s=="object")for(var M in s)Lo(t,M,s[M],f);else if(s=K(s),arguments.length===2)ba(t,function(me){return X(s,me)!==-1});else for(var N=0,ee=s.length;N<ee;N++)Lo(t,s[N],f,w);return this}function ba(t,s){for(var f in t[hn]){var w=f.split(/\d/)[0];(!s||s(w))&&Lo(t,w,null,null,f)}}var ki={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ca(t,s,f,w){var M=s+B(f)+(w?"_"+B(w):"");if(t[hn]&&t[hn][M])return this;var N=function(me){return f.call(w||t,me||window.event)},ee=N;!st.touchNative&&st.pointer&&s.indexOf("touch")===0?N=Jl(t,s,N):st.touch&&s==="dblclick"?N=ul(t,N):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(ki[s]||s,N,st.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(N=function(me){me=me||window.event,ds(t,me)&&ee(me)},t.addEventListener(ki[s],N,!1)):t.addEventListener(s,ee,!1):t.attachEvent("on"+s,N),t[hn]=t[hn]||{},t[hn][M]=N}function Lo(t,s,f,w,M){M=M||s+B(f)+(w?"_"+B(w):"");var N=t[hn]&&t[hn][M];if(!N)return this;!st.touchNative&&st.pointer&&s.indexOf("touch")===0?ol(t,s,N):st.touch&&s==="dblclick"?vo(t,N):"removeEventListener"in t?t.removeEventListener(ki[s]||s,N,!1):t.detachEvent("on"+s,N),t[hn][M]=null}function xr(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ko(t){return Ca(t,"wheel",xr),this}function Vs(t){return mt(t,"mousedown touchstart dblclick contextmenu",xr),t._leaflet_disable_click=!0,this}function Jt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function rr(t){return Jt(t),xr(t),this}function Ei(t){if(t.composedPath)return t.composedPath();for(var s=[],f=t.target;f;)s.push(f),f=f.parentNode;return s}function Yr(t,s){if(!s)return new be(t.clientX,t.clientY);var f=vr(s),w=f.boundingClientRect;return new be((t.clientX-w.left)/f.x-s.clientLeft,(t.clientY-w.top)/f.y-s.clientTop)}var Ql=st.linux&&st.chrome?window.devicePixelRatio:st.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hl(t){return st.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ql:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ds(t,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==t;)f=f.parentNode}catch{return!1}return f!==t}var Et={__proto__:null,on:mt,off:Dt,stopPropagation:xr,disableScrollPropagation:ko,disableClickPropagation:Vs,preventDefault:Jt,stop:rr,getPropagationPath:Ei,getMousePosition:Yr,getWheelDelta:hl,isExternalTarget:ds,addListener:mt,removeListener:Dt},fs=it.extend({run:function(t,s,f,w){this.stop(),this._el=t,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=yr(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=De(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var f=this._startPos.add(this._offset.multiplyBy(t));s&&f._round(),en(this._el,f),this.fire("step")},_complete:function(){Xe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),bt=it.extend({options:{crs:Qi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=G(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(Ye(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=os&&st.any3d&&!st.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,zs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(Ye(t),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=_({animate:f.animate},f.zoom),f.pan=_({animate:f.animate,duration:f.duration},f.pan));var w=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,f.zoom):this._tryAnimatedPan(t,f.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(st.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,f){var w=this.getZoomScale(s),M=this.getSize().divideBy(2),N=t instanceof be?t:this.latLngToContainerPoint(t),ee=N.subtract(M).multiplyBy(1-1/w),me=this.containerPointToLatLng(M.add(ee));return this.setView(me,s,{zoom:f})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():tt(t);var f=je(s.paddingTopLeft||s.padding||[0,0]),w=je(s.paddingBottomRight||s.padding||[0,0]),M=this.getBoundsZoom(t,!1,f.add(w));if(M=typeof s.maxZoom=="number"?Math.min(s.maxZoom,M):M,M===1/0)return{center:t.getCenter(),zoom:M};var N=w.subtract(f).divideBy(2),ee=this.project(t.getSouthWest(),M),me=this.project(t.getNorthEast(),M),Ce=this.unproject(ee.add(me).divideBy(2).add(N),M);return{center:Ce,zoom:M}},fitBounds:function(t,s){if(t=tt(t),!t.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(t,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=je(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){gt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,f){if(f=f||{},f.animate===!1||!st.any3d)return this.setView(t,s,f);this._stop();var w=this.project(this.getCenter()),M=this.project(t),N=this.getSize(),ee=this._zoom;t=Ye(t),s=s===void 0?ee:s;var me=Math.max(N.x,N.y),Ce=me*this.getZoomScale(ee,s),Te=M.distanceTo(w)||1,Ke=1.42,dt=Ke*Ke;function wt($e){var oi=$e?-1:1,Oa=$e?Ce:me,ai=Ce*Ce-me*me+oi*dt*dt*Te*Te,Vt=2*Oa*dt*Te,li=ai/Vt,an=Math.sqrt(li*li+1)-li,Ln=an<1e-9?-18:Math.log(an);return Ln}function on($e){return(Math.exp($e)-Math.exp(-$e))/2}function nn($e){return(Math.exp($e)+Math.exp(-$e))/2}function In($e){return on($e)/nn($e)}var Tn=wt(0);function ks($e){return me*(nn(Tn)/nn(Tn+Ke*$e))}function Ra($e){return me*(nn(Tn)*In(Tn+Ke*$e)-on(Tn))/dt}function Sr($e){return 1-Math.pow(1-$e,1.5)}var Fn=Date.now(),rn=(wt(1)-Tn)/Ke,cr=f.duration?1e3*f.duration:1e3*rn*.8;function _n(){var $e=(Date.now()-Fn)/cr,oi=Sr($e)*rn;$e<=1?(this._flyToFrame=De(_n,this),this._move(this.unproject(w.add(M.subtract(w).multiplyBy(Ra(oi)/Te)),ee),this.getScaleZoom(me/ks(oi),ee),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),_n.call(this),this},flyToBounds:function(t,s){var f=this._getBoundsCenterZoom(t,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(t){return t=tt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var f=this.getCenter(),w=this._limitCenter(f,this._zoom,tt(t));return f.equals(w)||this.panTo(w,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var f=je(s.paddingTopLeft||s.padding||[0,0]),w=je(s.paddingBottomRight||s.padding||[0,0]),M=this.project(this.getCenter()),N=this.project(t),ee=this.getPixelBounds(),me=Be([ee.min.add(f),ee.max.subtract(w)]),Ce=me.getSize();if(!me.contains(N)){this._enforcingBounds=!0;var Te=N.subtract(me.getCenter()),Ke=me.extend(N).getSize().subtract(Ce);M.x+=Te.x<0?-Ke.x:Ke.x,M.y+=Te.y<0?-Ke.y:Ke.y,this.panTo(this.unproject(M),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=_({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),w=s.divideBy(2).round(),M=f.divideBy(2).round(),N=w.subtract(M);return!N.x&&!N.y?this:(t.animate&&t.pan?this.panBy(N):(t.pan&&this._rawPanBy(N),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=_({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=v(this._handleGeolocationResponse,this),f=v(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,t):navigator.geolocation.getCurrentPosition(s,f,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,f=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,f=t.coords.longitude,w=new Qe(s,f),M=w.toBounds(t.coords.accuracy*2),N=this._locateOptions;if(N.setView){var ee=this.getBoundsZoom(M);this.setView(w,N.maxZoom?Math.min(ee,N.maxZoom):ee)}var me={latlng:w,bounds:M,timestamp:t.timestamp};for(var Ce in t.coords)typeof t.coords[Ce]=="number"&&(me[Ce]=t.coords[Ce]);this.fire("locationfound",me)}},addHandler:function(t,s){if(!s)return this;var f=this[t]=new s(this);return this._handlers.push(f),this.options[t]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Xe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Gt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var f="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),w=xt("div",f,s||this._mapPane);return t&&(this._panes[t]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),f=this.unproject(t.getTopRight());return new ut(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,f){t=tt(t),f=je(f||[0,0]);var w=this.getZoom()||0,M=this.getMinZoom(),N=this.getMaxZoom(),ee=t.getNorthWest(),me=t.getSouthEast(),Ce=this.getSize().subtract(f),Te=Be(this.project(me,w),this.project(ee,w)).getSize(),Ke=st.any3d?this.options.zoomSnap:1,dt=Ce.x/Te.x,wt=Ce.y/Te.y,on=s?Math.max(dt,wt):Math.min(dt,wt);return w=this.getScaleZoom(on,w),Ke&&(w=Math.round(w/(Ke/100))*(Ke/100),w=s?Math.ceil(w/Ke)*Ke:Math.floor(w/Ke)*Ke),Math.max(M,Math.min(N,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new be(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var f=this._getTopLeftPoint(t,s);return new ue(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(t)/f.scale(s)},getScaleZoom:function(t,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var w=f.zoom(t*f.scale(s));return isNaN(w)?1/0:w},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(Ye(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(je(t),s)},layerPointToLatLng:function(t){var s=je(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(Ye(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Ye(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(tt(t))},distance:function(t,s){return this.options.crs.distance(Ye(t),Ye(s))},containerPointToLayerPoint:function(t){return je(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return je(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(je(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ye(t)))},mouseEventToContainerPoint:function(t){return Yr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=er(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(s,"scroll",this._onScroll,this),this._containerId=B(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&st.any3d,gt(t,"leaflet-container"+(st.touch?" leaflet-touch":"")+(st.retina?" leaflet-retina":"")+(st.ielt9?" leaflet-oldie":"")+(st.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Jr(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),en(this._mapPane,new be(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(gt(t.markerPane,"leaflet-zoom-hide"),gt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,f){en(this._mapPane,new be(0,0));var w=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var M=this._zoom!==s;this._moveStart(M,f)._move(t,s)._moveEnd(M),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,f,w){s===void 0&&(s=this._zoom);var M=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),w?f&&f.pinch&&this.fire("zoom",f):((M||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Xe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){en(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[B(this._container)]=this;var s=t?Dt:mt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),st.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Xe(this._resizeRequest),this._resizeRequest=De(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var f=[],w,M=s==="mouseout"||s==="mouseover",N=t.target||t.srcElement,ee=!1;N;){if(w=this._targets[B(N)],w&&(s==="click"||s==="preclick")&&this._draggableMoved(w)){ee=!0;break}if(w&&w.listens(s,!0)&&(M&&!ds(N,t)||(f.push(w),M))||N===this._container)break;N=N.parentNode}return!f.length&&!ee&&!M&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var f=t.type;f==="mousedown"&&hs(s),this._fireDOMEvent(t,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,f){if(t.type==="click"){var w=_({},t);w.type="preclick",this._fireDOMEvent(w,w.type,f)}var M=this._findEventTargets(t,s);if(f){for(var N=[],ee=0;ee<f.length;ee++)f[ee].listens(s,!0)&&N.push(f[ee]);M=N.concat(M)}if(M.length){s==="contextmenu"&&Jt(t);var me=M[0],Ce={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Te=me.getLatLng&&(!me._radius||me._radius<=10);Ce.containerPoint=Te?this.latLngToContainerPoint(me.getLatLng()):this.mouseEventToContainerPoint(t),Ce.layerPoint=this.containerPointToLayerPoint(Ce.containerPoint),Ce.latlng=Te?me.getLatLng():this.layerPointToLatLng(Ce.layerPoint)}for(ee=0;ee<M.length;ee++)if(M[ee].fire(s,Ce,!0),Ce.originalEvent._stopped||M[ee].options.bubblingMouseEvents===!1&&X(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return yr(this._mapPane)||new be(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var f=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var f=this.getSize()._divideBy(2);return this.project(t,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,f){var w=this._getNewPixelOrigin(f,s);return this.project(t,s)._subtract(w)},_latLngBoundsToNewLayerBounds:function(t,s,f){var w=this._getNewPixelOrigin(f,s);return Be([this.project(t.getSouthWest(),s)._subtract(w),this.project(t.getNorthWest(),s)._subtract(w),this.project(t.getSouthEast(),s)._subtract(w),this.project(t.getNorthEast(),s)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,f){if(!f)return t;var w=this.project(t,s),M=this.getSize().divideBy(2),N=new ue(w.subtract(M),w.add(M)),ee=this._getBoundsOffset(N,f,s);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?t:this.unproject(w.add(ee),s)},_limitOffset:function(t,s){if(!s)return t;var f=this.getPixelBounds(),w=new ue(f.min.add(t),f.max.add(t));return t.add(this._getBoundsOffset(w,s))},_getBoundsOffset:function(t,s,f){var w=Be(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),M=w.min.subtract(t.min),N=w.max.subtract(t.max),ee=this._rebound(M.x,-N.x),me=this._rebound(M.y,-N.y);return new be(ee,me)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),f=this.getMaxZoom(),w=st.any3d?this.options.zoomSnap:1;return w&&(t=Math.round(t/w)*w),Math.max(s,Math.min(f,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var f=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var t=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var f=xa,w=this._proxy.style[f];tr(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),w===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();tr(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(s),M=this._getCenterOffset(t)._divideBy(1-1/w);return f.animate!==!0&&!this.getSize().contains(M)?!1:(De(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,f,w){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qr(t,s){return new bt(t,s)}var Mn=vt.extend({options:{position:"topright"},initialize:function(t){G(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),f=this.getPosition(),w=t._controlCorners[f];return gt(s,"leaflet-control"),f.indexOf("bottom")!==-1?w.insertBefore(s,w.firstChild):w.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ei=function(t){return new Mn(t)};bt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",f=this._controlContainer=xt("div",s+"control-container",this._container);function w(M,N){var ee=s+M+" "+s+N;t[M+N]=xt("div",ee,f)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Gt(this._controlCorners[t]);Gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gs=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,f,w){return f<w?-1:w<f?1:0}},initialize:function(t,s,f){G(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in t)this._addLayer(t[w],w);for(w in s)this._addLayer(s[w],w,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Mn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(B(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=xt("div",t),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Vs(s),ko(s);var w=this._section=xt("section",t+"-list");f&&(this._map.on("click",this.collapse,this),mt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=xt("a",t+"-toggle",s);M.href="#",M.title="Layers",M.setAttribute("role","button"),mt(M,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Jt(N),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=xt("div",t+"-base",w),this._separator=xt("div",t+"-separator",w),this._overlaysList=xt("div",t+"-overlays",w),s.appendChild(w)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&B(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,f){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(v(function(w,M){return this.options.sortFunction(w.layer,M.layer,w.name,M.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Us(this._baseLayersList),Us(this._overlaysList),this._layerControlInputs=[];var t,s,f,w,M=0;for(f=0;f<this._layers.length;f++)w=this._layers[f],this._addItem(w),s=s||w.overlay,t=t||!w.overlay,M+=w.overlay?0:1;return this.options.hideSingleBase&&(t=t&&M>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(B(t.target)),f=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(t,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=f,w.firstChild},_addItem:function(t){var s=document.createElement("label"),f=this._map.hasLayer(t.layer),w;t.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=f):w=this._createRadioElement("leaflet-base-layers_"+B(this),f),this._layerControlInputs.push(w),w.layerId=B(t.layer),mt(w,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+t.name;var N=document.createElement("span");s.appendChild(N),N.appendChild(w),N.appendChild(M);var ee=t.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,f,w=[],M=[];this._handlingClick=!0;for(var N=t.length-1;N>=0;N--)s=t[N],f=this._getLayer(s.layerId).layer,s.checked?w.push(f):s.checked||M.push(f);for(N=0;N<M.length;N++)this._map.hasLayer(M[N])&&this._map.removeLayer(M[N]);for(N=0;N<w.length;N++)this._map.hasLayer(w[N])||this._map.addLayer(w[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,f,w=this._map.getZoom(),M=t.length-1;M>=0;M--)s=t[M],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&w<f.options.minZoom||f.options.maxZoom!==void 0&&w>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,mt(t,"click",Jt),this.expand();var s=this;setTimeout(function(){Dt(t,"click",Jt),s._preventClick=!1})}}),Si=function(t,s,f){return new Gs(t,s,f)},ps=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",f=xt("div",s+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,f,w,M){var N=xt("a",f,w);return N.innerHTML=t,N.href="#",N.title=s,N.setAttribute("role","button"),N.setAttribute("aria-label",s),Vs(N),mt(N,"click",rr),mt(N,"click",M,this),mt(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";qt(this._zoomInButton,s),qt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(gt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(gt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});bt.mergeOptions({zoomControl:!0}),bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ps,this.addControl(this.zoomControl))});var Wr=function(t){return new ps(t)},wn=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",f=xt("div",s),w=this.options;return this._addScales(w,s+"-line",f),t.on(w.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),f},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,f){t.metric&&(this._mScale=xt("div",s,f)),t.imperial&&(this._iScale=xt("div",s,f))},_update:function(){var t=this._map,s=t.getSize().y/2,f=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/t)},_updateImperial:function(t){var s=t*3.2808399,f,w,M;s>5280?(f=s/5280,w=this._getRoundNum(f),this._updateScale(this._iScale,w+" mi",w/f)):(M=this._getRoundNum(s),this._updateScale(this._iScale,M+" ft",M/s))},_updateScale:function(t,s,f){t.style.width=Math.round(this.options.maxWidth*f)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),f=t/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),ir=function(t){return new wn(t)},La='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Pi=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(st.inlineSvg?La+" ":"")+"Leaflet</a>"},initialize:function(t){G(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),Vs(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),t.length&&f.push(t.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});bt.mergeOptions({attributionControl:!0}),bt.addInitHook(function(){this.options.attributionControl&&new Pi().addTo(this)});var eu=function(t){return new Pi(t)};Mn.Layers=Gs,Mn.Zoom=ps,Mn.Scale=wn,Mn.Attribution=Pi,ei.layers=Si,ei.zoom=Wr,ei.scale=ir,ei.attribution=eu;var Hn=vt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(t,s){return t.addHandler(s,this),this};var ka={Events:Oe},ms=st.touch?"touchstart mousedown":"mousedown",sr=it.extend({options:{clickTolerance:3},initialize:function(t,s,f,w){G(this,w),this._element=t,this._dragStartTarget=s||t,this._preventOutline=f},enable:function(){this._enabled||(mt(this._dragStartTarget,ms,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sr._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,ms,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ls(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){sr._dragging===this&&this.finishDrag();return}if(!(sr._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(sr._dragging=this,this._preventOutline&&hs(this._element),bo(),Bt(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,f=Hr(this._element);this._startPoint=new be(s.clientX,s.clientY),this._startPos=yr(this._element),this._parentScale=vr(f);var w=t.type==="mousedown";mt(document,w?"mousemove":"touchmove",this._onMove,this),mt(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,f=new be(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Jt(t),this._moved||(this.fire("dragstart"),this._moved=!0,gt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),en(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){qt(document.body,"leaflet-dragging"),this._lastTarget&&(qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Co(),cs();var s=this._moved&&this._moving;this._moving=!1,sr._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Ea(t,s,f){var w,M=[1,4,2,8],N,ee,me,Ce,Te,Ke,dt,wt;for(N=0,Ke=t.length;N<Ke;N++)t[N]._code=qn(t[N],s);for(me=0;me<4;me++){for(dt=M[me],w=[],N=0,Ke=t.length,ee=Ke-1;N<Ke;ee=N++)Ce=t[N],Te=t[ee],Ce._code&dt?Te._code&dt||(wt=Zs(Te,Ce,dt,s,f),wt._code=qn(wt,s),w.push(wt)):(Te._code&dt&&(wt=Zs(Te,Ce,dt,s,f),wt._code=qn(wt,s),w.push(wt)),w.push(Ce));t=w}return t}function dl(t,s){var f,w,M,N,ee,me,Ce,Te,Ke;if(!t||t.length===0)throw new Error("latlngs not passed");Vn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var dt=Ye([0,0]),wt=tt(t),on=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());on<1700&&(dt=Eo(t));var nn=t.length,In=[];for(f=0;f<nn;f++){var Tn=Ye(t[f]);In.push(s.project(Ye([Tn.lat-dt.lat,Tn.lng-dt.lng])))}for(me=Ce=Te=0,f=0,w=nn-1;f<nn;w=f++)M=In[f],N=In[w],ee=M.y*N.x-N.y*M.x,Ce+=(M.x+N.x)*ee,Te+=(M.y+N.y)*ee,me+=ee*3;me===0?Ke=In[0]:Ke=[Ce/me,Te/me];var ks=s.unproject(je(Ke));return Ye([ks.lat+dt.lat,ks.lng+dt.lng])}function Eo(t){for(var s=0,f=0,w=0,M=0;M<t.length;M++){var N=Ye(t[M]);s+=N.lat,f+=N.lng,w++}return Ye([s/w,f/w])}var tu={__proto__:null,clipPolygon:Ea,polygonCenter:dl,centroid:Eo};function tn(t,s){if(!s||!t.length)return t.slice();var f=s*s;return t=Sa(t,f),t=gs(t,f),t}function Bn(t,s,f){return Math.sqrt(Mi(t,s,f,!0))}function nu(t,s,f){return Mi(t,s,f)}function gs(t,s){var f=t.length,w=typeof Uint8Array<"u"?Uint8Array:Array,M=new w(f);M[0]=M[f-1]=1,ti(t,M,s,0,f-1);var N,ee=[];for(N=0;N<f;N++)M[N]&&ee.push(t[N]);return ee}function ti(t,s,f,w,M){var N=0,ee,me,Ce;for(me=w+1;me<=M-1;me++)Ce=Mi(t[me],t[w],t[M],!0),Ce>N&&(ee=me,N=Ce);N>f&&(s[ee]=1,ti(t,s,f,w,ee),ti(t,s,f,ee,M))}function Sa(t,s){for(var f=[t[0]],w=1,M=0,N=t.length;w<N;w++)pl(t[w],t[M])>s&&(f.push(t[w]),M=w);return M<N-1&&f.push(t[N-1]),f}var Wn;function fl(t,s,f,w,M){var N=w?Wn:qn(t,f),ee=qn(s,f),me,Ce,Te;for(Wn=ee;;){if(!(N|ee))return[t,s];if(N&ee)return!1;me=N||ee,Ce=Zs(t,s,me,f,M),Te=qn(Ce,f),me===N?(t=Ce,N=Te):(s=Ce,ee=Te)}}function Zs(t,s,f,w,M){var N=s.x-t.x,ee=s.y-t.y,me=w.min,Ce=w.max,Te,Ke;return f&8?(Te=t.x+N*(Ce.y-t.y)/ee,Ke=Ce.y):f&4?(Te=t.x+N*(me.y-t.y)/ee,Ke=me.y):f&2?(Te=Ce.x,Ke=t.y+ee*(Ce.x-t.x)/N):f&1&&(Te=me.x,Ke=t.y+ee*(me.x-t.x)/N),new be(Te,Ke,M)}function qn(t,s){var f=0;return t.x<s.min.x?f|=1:t.x>s.max.x&&(f|=2),t.y<s.min.y?f|=4:t.y>s.max.y&&(f|=8),f}function pl(t,s){var f=s.x-t.x,w=s.y-t.y;return f*f+w*w}function Mi(t,s,f,w){var M=s.x,N=s.y,ee=f.x-M,me=f.y-N,Ce=ee*ee+me*me,Te;return Ce>0&&(Te=((t.x-M)*ee+(t.y-N)*me)/Ce,Te>1?(M=f.x,N=f.y):Te>0&&(M+=ee*Te,N+=me*Te)),ee=t.x-M,me=t.y-N,w?ee*ee+me*me:new be(M,N)}function Vn(t){return!te(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ml(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(t)}function Ks(t,s){var f,w,M,N,ee,me,Ce,Te;if(!t||t.length===0)throw new Error("latlngs not passed");Vn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ke=Ye([0,0]),dt=tt(t),wt=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());wt<1700&&(Ke=Eo(t));var on=t.length,nn=[];for(f=0;f<on;f++){var In=Ye(t[f]);nn.push(s.project(Ye([In.lat-Ke.lat,In.lng-Ke.lng])))}for(f=0,w=0;f<on-1;f++)w+=nn[f].distanceTo(nn[f+1])/2;if(w===0)Te=nn[0];else for(f=0,N=0;f<on-1;f++)if(ee=nn[f],me=nn[f+1],M=ee.distanceTo(me),N+=M,N>w){Ce=(N-w)/M,Te=[me.x-Ce*(me.x-ee.x),me.y-Ce*(me.y-ee.y)];break}var Tn=s.unproject(je(Te));return Ye([Tn.lat+Ke.lat,Tn.lng+Ke.lng])}var Pa={__proto__:null,simplify:tn,pointToSegmentDistance:Bn,closestPointOnSegment:nu,clipSegment:fl,_getEdgeIntersection:Zs,_getBitCode:qn,_sqClosestPointOnSegment:Mi,isFlat:Vn,_flat:ml,polylineCenter:Ks},Ma={project:function(t){return new be(t.lng,t.lat)},unproject:function(t){return new Qe(t.y,t.x)},bounds:new ue([-180,-90],[180,90])},So={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,f=this.R,w=t.lat*s,M=this.R_MINOR/f,N=Math.sqrt(1-M*M),ee=N*Math.sin(w),me=Math.tan(Math.PI/4-w/2)/Math.pow((1-ee)/(1+ee),N/2);return w=-f*Math.log(Math.max(me,1e-10)),new be(t.lng*s*f,w)},unproject:function(t){for(var s=180/Math.PI,f=this.R,w=this.R_MINOR/f,M=Math.sqrt(1-w*w),N=Math.exp(-t.y/f),ee=Math.PI/2-2*Math.atan(N),me=0,Ce=.1,Te;me<15&&Math.abs(Ce)>1e-7;me++)Te=M*Math.sin(ee),Te=Math.pow((1-Te)/(1+Te),M/2),Ce=Math.PI/2-2*Math.atan(N*Te)-ee,ee+=Ce;return new Qe(ee*s,t.x*s/f)}},ru={__proto__:null,LonLat:Ma,Mercator:So,SphericalMercator:vn},gl=_({},kt,{code:"EPSG:3395",projection:So,transformation:(function(){var t=.5/(Math.PI*So.R);return Yi(t,.5,-t,.5)})()}),_l=_({},kt,{code:"EPSG:4326",projection:Ma,transformation:Yi(1/180,1,-1/180,.5)}),Po=_({},Pt,{projection:Ma,transformation:Yi(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var f=s.lng-t.lng,w=s.lat-t.lat;return Math.sqrt(f*f+w*w)},infinite:!0});Pt.Earth=kt,Pt.EPSG3395=gl,Pt.EPSG3857=Qi,Pt.EPSG900913=uo,Pt.EPSG4326=_l,Pt.Simple=Po;var jn=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[B(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[B(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});bt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=B(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=B(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return B(t)in this._layers},eachLayer:function(t,s){for(var f in this._layers)t.call(s,this._layers[f]);return this},_addLayers:function(t){t=t?te(t)?t:[t]:[];for(var s=0,f=t.length;s<f;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[B(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=B(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,f=this._getZoomSpan();for(var w in this._zoomBoundLayers){var M=this._zoomBoundLayers[w].options;t=M.minZoom===void 0?t:Math.min(t,M.minZoom),s=M.maxZoom===void 0?s:Math.max(s,M.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var or=jn.extend({initialize:function(t,s){G(this,s),this._layers={};var f,w;if(t)for(f=0,w=t.length;f<w;f++)this.addLayer(t[f])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),f,w;for(f in this._layers)w=this._layers[f],w[t]&&w[t].apply(w,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var f in this._layers)t.call(s,this._layers[f]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return B(t)}}),_s=function(t,s){return new or(t,s)},qr=or.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),or.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),or.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ut;for(var s in this._layers){var f=this._layers[s];t.extend(f.getBounds?f.getBounds():f.getLatLng())}return t}}),yl=function(t,s){return new qr(t,s)},Bi=vt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){G(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var f=this._getIconUrl(t);if(!f){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(w,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(t,s){var f=this.options,w=f[s+"Size"];typeof w=="number"&&(w=[w,w]);var M=je(w),N=je(s==="shadow"&&f.shadowAnchor||f.iconAnchor||M&&M.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(f.className||""),N&&(t.style.marginLeft=-N.x+"px",t.style.marginTop=-N.y+"px"),M&&(t.style.width=M.x+"px",t.style.height=M.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return st.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function vl(t){return new Bi(t)}var ys=Bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ys.imagePath!="string"&&(ys.imagePath=this._detectIconPath()),(this.options.imagePath||ys.imagePath)+Bi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(f,w,M){var N=w.exec(f);return N&&N[M]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=xt("div","leaflet-default-icon-path",document.body),s=Jr(t,"background-image")||Jr(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ba=Hn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new sr(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),gt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,f=s._map,w=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,N=yr(s._icon),ee=f.getPixelBounds(),me=f.getPixelOrigin(),Ce=Be(ee.min._subtract(me).add(M),ee.max._subtract(me).subtract(M));if(!Ce.contains(N)){var Te=je((Math.max(Ce.max.x,N.x)-Ce.max.x)/(ee.max.x-Ce.max.x)-(Math.min(Ce.min.x,N.x)-Ce.min.x)/(ee.min.x-Ce.min.x),(Math.max(Ce.max.y,N.y)-Ce.max.y)/(ee.max.y-Ce.max.y)-(Math.min(Ce.min.y,N.y)-Ce.min.y)/(ee.min.y-Ce.min.y)).multiplyBy(w);f.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),en(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=De(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Xe(this._panRequest),this._panRequest=De(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,f=s._shadow,w=yr(s._icon),M=s._map.layerPointToLatLng(w);f&&en(f,w),s._latlng=M,t.latlng=M,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Xe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),wr=jn.extend({options:{icon:new ys,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){G(this,s),this._latlng=Ye(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=Ye(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=t.icon.createIcon(this._icon),w=!1;f!==this._icon&&(this._icon&&this._removeIcon(),w=!0,t.title&&(f.title=t.title),f.tagName==="IMG"&&(f.alt=t.alt||"")),gt(f,s),t.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(f,"focus",this._panOnFocus,this);var M=t.icon.createShadow(this._shadow),N=!1;M!==this._shadow&&(this._removeShadow(),N=!0),M&&(gt(M,s),M.alt=""),this._shadow=M,t.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&N&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Gt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&en(this._icon,t),this._shadow&&en(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ba)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ba(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Pn(this._icon,t),this._shadow&&Pn(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,f=s.iconSize?je(s.iconSize):je(0,0),w=s.iconAnchor?je(s.iconAnchor):je(0,0);t.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:f.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $s(t,s){return new wr(t,s)}var dn=jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return G(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vs=dn.extend({options:{fill:!0,radius:10},initialize:function(t,s){G(this,s),this._latlng=Ye(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=Ye(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return dn.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,f=this._clickTolerance(),w=[t+f,s+f];this._pxBounds=new ue(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xs(t,s){return new vs(t,s)}var Mo=vs.extend({initialize:function(t,s,f){if(typeof s=="number"&&(s=_({},f,{radius:s})),G(this,s),this._latlng=Ye(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ut(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:dn.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,f=this._map,w=f.options.crs;if(w.distance===kt.distance){var M=Math.PI/180,N=this._mRadius/kt.R/M,ee=f.project([s+N,t]),me=f.project([s-N,t]),Ce=ee.add(me).divideBy(2),Te=f.unproject(Ce).lat,Ke=Math.acos((Math.cos(N*M)-Math.sin(s*M)*Math.sin(Te*M))/(Math.cos(s*M)*Math.cos(Te*M)))/M;(isNaN(Ke)||Ke===0)&&(Ke=N/Math.cos(Math.PI/180*s)),this._point=Ce.subtract(f.getPixelOrigin()),this._radius=isNaN(Ke)?0:Ce.x-f.project([Te,t-Ke]).x,this._radiusY=Ce.y-ee.y}else{var dt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(dt).x}this._updateBounds()}});function Js(t,s,f){return new Mo(t,s,f)}var bn=dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){G(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,f=null,w=Mi,M,N,ee=0,me=this._parts.length;ee<me;ee++)for(var Ce=this._parts[ee],Te=1,Ke=Ce.length;Te<Ke;Te++){M=Ce[Te-1],N=Ce[Te];var dt=w(t,M,N,!0);dt<s&&(s=dt,f=w(t,M,N))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ks(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=Ye(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ut,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],f=Vn(t),w=0,M=t.length;w<M;w++)f?(s[w]=Ye(t[w]),this._bounds.extend(s[w])):s[w]=this._convertLatLngs(t[w]);return s},_project:function(){var t=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new be(t,t);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,f){var w=t[0]instanceof Qe,M=t.length,N,ee;if(w){for(ee=[],N=0;N<M;N++)ee[N]=this._map.latLngToLayerPoint(t[N]),f.extend(ee[N]);s.push(ee)}else for(N=0;N<M;N++)this._projectLatlngs(t[N],s,f)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,w,M,N,ee,me,Ce;for(f=0,M=0,N=this._rings.length;f<N;f++)for(Ce=this._rings[f],w=0,ee=Ce.length;w<ee-1;w++)me=fl(Ce[w],Ce[w+1],t,w,!0),me&&(s[M]=s[M]||[],s[M].push(me[0]),(me[1]!==Ce[w+1]||w===ee-2)&&(s[M].push(me[1]),M++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,f=0,w=t.length;f<w;f++)t[f]=tn(t[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var f,w,M,N,ee,me,Ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,N=this._parts.length;f<N;f++)for(me=this._parts[f],w=0,ee=me.length,M=ee-1;w<ee;M=w++)if(!(!s&&w===0)&&Bn(t,me[M],me[w])<=Ce)return!0;return!1}});function br(t,s){return new bn(t,s)}bn._flat=ml;var Cr=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=bn.prototype._convertLatLngs.call(this,t),f=s.length;return f>=2&&s[0]instanceof Qe&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(t){bn.prototype._setLatLngs.call(this,t),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,f=new be(s,s);if(t=new ue(t.min.subtract(f),t.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,M=this._rings.length,N;w<M;w++)N=Ea(this._rings[w],t,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,f,w,M,N,ee,me,Ce,Te;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(N=0,Ce=this._parts.length;N<Ce;N++)for(f=this._parts[N],ee=0,Te=f.length,me=Te-1;ee<Te;me=ee++)w=f[ee],M=f[me],w.y>t.y!=M.y>t.y&&t.x<(M.x-w.x)*(t.y-w.y)/(M.y-w.y)+w.x&&(s=!s);return s||bn.prototype._containsPoint.call(this,t,!0)}});function iu(t,s){return new Cr(t,s)}var Lr=qr.extend({initialize:function(t,s){G(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=te(t)?t:t.features,f,w,M;if(s){for(f=0,w=s.length;f<w;f++)M=s[f],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var N=this.options;if(N.filter&&!N.filter(t))return this;var ee=Cn(t,N);return ee?(ee.feature=To(t),ee.defaultOptions=ee.options,this.resetStyle(ee),N.onEachFeature&&N.onEachFeature(t,ee),this.addLayer(ee)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=_({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function Cn(t,s){var f=t.type==="Feature"?t.geometry:t,w=f?f.coordinates:null,M=[],N=s&&s.pointToLayer,ee=s&&s.coordsToLatLng||ji,me,Ce,Te,Ke;if(!w&&!f)return null;switch(f.type){case"Point":return me=ee(w),kr(N,t,me,s);case"MultiPoint":for(Te=0,Ke=w.length;Te<Ke;Te++)me=ee(w[Te]),M.push(kr(N,t,me,s));return new qr(M);case"LineString":case"MultiLineString":return Ce=xs(w,f.type==="LineString"?0:1,ee),new bn(Ce,s);case"Polygon":case"MultiPolygon":return Ce=xs(w,f.type==="Polygon"?1:2,ee),new Cr(Ce,s);case"GeometryCollection":for(Te=0,Ke=f.geometries.length;Te<Ke;Te++){var dt=Cn({geometry:f.geometries[Te],type:"Feature",properties:t.properties},s);dt&&M.push(dt)}return new qr(M);case"FeatureCollection":for(Te=0,Ke=f.features.length;Te<Ke;Te++){var wt=Cn(f.features[Te],s);wt&&M.push(wt)}return new qr(M);default:throw new Error("Invalid GeoJSON object.")}}function kr(t,s,f,w){return t?t(s,f):new wr(f,w&&w.markersInheritOptions&&w)}function ji(t){return new Qe(t[1],t[0],t[2])}function xs(t,s,f){for(var w=[],M=0,N=t.length,ee;M<N;M++)ee=s?xs(t[M],s-1,f):(f||ji)(t[M]),w.push(ee);return w}function Bo(t,s){return t=Ye(t),t.alt!==void 0?[I(t.lng,s),I(t.lat,s),I(t.alt,s)]:[I(t.lng,s),I(t.lat,s)]}function jo(t,s,f,w){for(var M=[],N=0,ee=t.length;N<ee;N++)M.push(s?jo(t[N],Vn(t[N])?0:s-1,f,w):Bo(t[N],w));return!s&&f&&M.length>0&&M.push(M[0].slice()),M}function ws(t,s){return t.feature?_({},t.feature,{geometry:s}):To(s)}function To(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ys={toGeoJSON:function(t){return ws(this,{type:"Point",coordinates:Bo(this.getLatLng(),t)})}};wr.include(Ys),Mo.include(Ys),vs.include(Ys),bn.include({toGeoJSON:function(t){var s=!Vn(this._latlngs),f=jo(this._latlngs,s?1:0,!1,t);return ws(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),Cr.include({toGeoJSON:function(t){var s=!Vn(this._latlngs),f=s&&!Vn(this._latlngs[0]),w=jo(this._latlngs,f?2:s?1:0,!0,t);return s||(w=[w]),ws(this,{type:(f?"Multi":"")+"Polygon",coordinates:w})}}),or.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(t).geometry.coordinates)}),ws(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var f=s==="GeometryCollection",w=[];return this.eachLayer(function(M){if(M.toGeoJSON){var N=M.toGeoJSON(t);if(f)w.push(N.geometry);else{var ee=To(N);ee.type==="FeatureCollection"?w.push.apply(w,ee.features):w.push(ee)}}}),f?ws(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function xl(t,s){return new Lr(t,s)}var ar=xl,ni=jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,f){this._url=t,this._bounds=tt(s),G(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&as(this._image),this},bringToBack:function(){return this._map&&Ur(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=tt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:xt("img");if(gt(s,"leaflet-image-layer"),this._zoomAnimated&&gt(s,"leaflet-zoom-animated"),this.options.className&&gt(s,this.options.className),s.onselectstart=j,s.onmousemove=j,s.onload=v(this.fire,this,"load"),s.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;tr(this._image,f,s)},_reset:function(){var t=this._image,s=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();en(t,s.min),t.style.width=f.x+"px",t.style.height=f.y+"px"},_updateOpacity:function(){Pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ja=function(t,s,f){return new ni(t,s,f)},Ta=ni.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:xt("video");if(gt(s,"leaflet-image-layer"),this._zoomAnimated&&gt(s,"leaflet-zoom-animated"),this.options.className&&gt(s,this.options.className),s.onselectstart=j,s.onmousemove=j,s.onloadeddata=v(this.fire,this,"load"),t){for(var f=s.getElementsByTagName("source"),w=[],M=0;M<f.length;M++)w.push(f[M].src);this._url=f.length>0?w:[s.src];return}te(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var ee=xt("source");ee.src=this._url[N],s.appendChild(ee)}}});function wl(t,s,f){return new Ta(t,s,f)}var Do=ni.extend({_initImage:function(){var t=this._image=this._url;gt(t,"leaflet-image-layer"),this._zoomAnimated&&gt(t,"leaflet-zoom-animated"),this.options.className&&gt(t,this.options.className),t.onselectstart=j,t.onmousemove=j}});function Ao(t,s,f){return new Do(t,s,f)}var lr=jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof Qe||te(t))?(this._latlng=Ye(t),G(this,s)):(G(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Pn(this._container,1),this.bringToFront(),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Pn(this._container,0),this._removeTimeout=setTimeout(v(Gt,void 0,this._container),200)):Gt(this._container),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Ye(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&as(this._container),this},bringToBack:function(){return this._map&&Ur(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof qr){s=null;var f=this._source._layers;for(var w in f)if(f[w]._map){s=f[w];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=je(this.options.offset),f=this._getAnchor();this._zoomAnimated?en(this._container,t.add(f)):s=s.add(t).add(f);var w=this._containerBottom=-s.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=w+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});bt.include({_initOverlay:function(t,s,f,w){var M=s;return M instanceof t||(M=new t(w).setContent(s)),f&&M.setLatLng(f),M}}),jn.include({_initOverlay:function(t,s,f,w){var M=f;return M instanceof t?(G(M,w),M._source=this):(M=s&&!w?s:new t(w,this),M.setContent(f)),M}});var Ro=lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,lr.prototype.openOn.call(this,t)},onAdd:function(t){lr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dn||this._source.on("preclick",xr))},onRemove:function(t){lr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dn||this._source.off("preclick",xr))},getEvents:function(){var t=lr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=xt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=xt("div",t+"-content-wrapper",s);if(this._contentNode=xt("div",t+"-content",f),Vs(s),ko(this._contentNode),mt(s,"contextmenu",xr),this._tipContainer=xt("div",t+"-tip-container",s),this._tip=xt("div",t+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=xt("a",t+"-close-button",s);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',mt(w,"click",function(M){Jt(M),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var f=t.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var w=t.offsetHeight,M=this.options.maxHeight,N="leaflet-popup-scrolled";M&&w>M?(s.height=M+"px",gt(t,N)):qt(t,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),f=this._getAnchor();en(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(Jr(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,w=this._containerWidth,M=new be(this._containerLeft,-f-this._containerBottom);M._add(yr(this._container));var N=t.layerPointToContainerPoint(M),ee=je(this.options.autoPanPadding),me=je(this.options.autoPanPaddingTopLeft||ee),Ce=je(this.options.autoPanPaddingBottomRight||ee),Te=t.getSize(),Ke=0,dt=0;N.x+w+Ce.x>Te.x&&(Ke=N.x+w-Te.x+Ce.x),N.x-Ke-me.x<0&&(Ke=N.x-me.x),N.y+f+Ce.y>Te.y&&(dt=N.y+f-Te.y+Ce.y),N.y-dt-me.y<0&&(dt=N.y-me.y),(Ke||dt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Ke,dt]))}},_getAnchor:function(){return je(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gn=function(t,s){return new Ro(t,s)};bt.mergeOptions({closePopupOnClick:!0}),bt.include({openPopup:function(t,s,f){return this._initOverlay(Ro,t,s,f).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),jn.include({bindPopup:function(t,s){return this._popup=this._initOverlay(Ro,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof qr||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){rr(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Er=lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){lr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){lr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=lr.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+B(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,f,w=this._map,M=this._container,N=w.latLngToContainerPoint(w.getCenter()),ee=w.layerPointToContainerPoint(t),me=this.options.direction,Ce=M.offsetWidth,Te=M.offsetHeight,Ke=je(this.options.offset),dt=this._getAnchor();me==="top"?(s=Ce/2,f=Te):me==="bottom"?(s=Ce/2,f=0):me==="center"?(s=Ce/2,f=Te/2):me==="right"?(s=0,f=Te/2):me==="left"?(s=Ce,f=Te/2):ee.x<N.x?(me="right",s=0,f=Te/2):(me="left",s=Ce+(Ke.x+dt.x)*2,f=Te/2),t=t.subtract(je(s,f,!0)).add(Ke).add(dt),qt(M,"leaflet-tooltip-right"),qt(M,"leaflet-tooltip-left"),qt(M,"leaflet-tooltip-top"),qt(M,"leaflet-tooltip-bottom"),gt(M,"leaflet-tooltip-"+me),en(M,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Pn(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return je(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qs=function(t,s){return new Er(t,s)};bt.include({openTooltip:function(t,s,f){return this._initOverlay(Er,t,s,f).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),jn.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Er,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof qr||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(mt(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),mt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,f,w;this._tooltip.options.sticky&&t.originalEvent&&(f=this._map.mouseEventToContainerPoint(t.originalEvent),w=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(s)}});var eo=Bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Us(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var w=je(f.bgPos);s.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Oo(t){return new eo(t)}Bi.Default=ys;var ri=jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:st.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){G(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Gt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ur(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=D(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof be?t:new be(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,f=-t(-1/0,1/0),w=0,M=s.length,N;w<M;w++)N=s[w].style.zIndex,s[w]!==this._container&&N&&(f=t(f,+N));isFinite(f)&&(this.options.zIndex=f+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!st.ielt9){Pn(this._container,this.options.opacity);var t=+new Date,s=!1,f=!1;for(var w in this._tiles){var M=this._tiles[w];if(!(!M.current||!M.loaded)){var N=Math.min(1,(t-M.loaded)/200);Pn(M.el,N),N<1?s=!0:(M.active?f=!0:this._onOpaqueTile(M),M.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(Xe(this._fadeFrame),this._fadeFrame=De(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===t?(this._levels[f].el.style.zIndex=s-Math.abs(t-f),this._onUpdateLevel(f)):(Gt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var w=this._levels[t],M=this._map;return w||(w=this._levels[t]={},w.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=s,w.origin=M.project(M.unproject(M.getPixelOrigin()),t).round(),w.zoom=t,this._setZoomTransform(w,M.getCenter(),M.getZoom()),j(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var t,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var w=s.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Gt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,f,w){var M=Math.floor(t/2),N=Math.floor(s/2),ee=f-1,me=new be(+M,+N);me.z=+ee;var Ce=this._tileCoordsToKey(me),Te=this._tiles[Ce];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),ee>w?this._retainParent(M,N,ee,w):!1)},_retainChildren:function(t,s,f,w){for(var M=2*t;M<2*t+2;M++)for(var N=2*s;N<2*s+2;N++){var ee=new be(M,N);ee.z=f+1;var me=this._tileCoordsToKey(ee),Ce=this._tiles[me];if(Ce&&Ce.active){Ce.retain=!0;continue}else Ce&&Ce.loaded&&(Ce.retain=!0);f+1<w&&this._retainChildren(M,N,f+1,w)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,f,w){var M=Math.round(s);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var N=this.options.updateWhenZooming&&M!==this._tileZoom;(!w||N)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(t),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],t,s)},_setZoomTransform:function(t,s,f){var w=this._map.getZoomScale(f,t.zoom),M=t.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(s,f)).round();st.any3d?tr(t.el,M,w):en(t.el,M)},_resetGrid:function(){var t=this._map,s=t.options.crs,f=this._tileSize=this.getTileSize(),w=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],w).x/f.x),Math.ceil(t.project([0,s.wrapLng[1]],w).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],w).y/f.x),Math.ceil(t.project([s.wrapLat[1],0],w).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),w=s.getZoomScale(f,this._tileZoom),M=s.project(t,this._tileZoom).floor(),N=s.getSize().divideBy(w*2);return new ue(M.subtract(N),M.add(N))},_update:function(t){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(t),M=this._pxBoundsToTileRange(w),N=M.getCenter(),ee=[],me=this.options.keepBuffer,Ce=new ue(M.getBottomLeft().subtract([me,-me]),M.getTopRight().add([me,-me]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var Ke=this._tiles[Te].coords;(Ke.z!==this._tileZoom||!Ce.contains(new be(Ke.x,Ke.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(t,f);return}for(var dt=M.min.y;dt<=M.max.y;dt++)for(var wt=M.min.x;wt<=M.max.x;wt++){var on=new be(wt,dt);if(on.z=this._tileZoom,!!this._isValidTile(on)){var nn=this._tiles[this._tileCoordsToKey(on)];nn?nn.current=!0:ee.push(on)}}if(ee.sort(function(Tn,ks){return Tn.distanceTo(N)-ks.distanceTo(N)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var In=document.createDocumentFragment();for(wt=0;wt<ee.length;wt++)this._addTile(ee[wt],In);this._level.el.appendChild(In)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(t.x<f.min.x||t.x>f.max.x)||!s.wrapLat&&(t.y<f.min.y||t.y>f.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(t);return tt(this.options.bounds).overlaps(w)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,f=this.getTileSize(),w=t.scaleBy(f),M=w.add(f),N=s.unproject(w,t.z),ee=s.unproject(M,t.z);return[N,ee]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),f=new ut(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),f=new be(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(t){var s=this._tiles[t];s&&(Gt(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){gt(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=j,t.onmousemove=j,st.ielt9&&this.options.opacity<1&&Pn(t,this.options.opacity)},_addTile:function(t,s){var f=this._getTilePos(t),w=this._tileCoordsToKey(t),M=this.createTile(this._wrapCoords(t),v(this._tileReady,this,t));this._initTile(M),this.createTile.length<2&&De(v(this._tileReady,this,t,null,M)),en(M,f),this._tiles[w]={el:M,coords:t,current:!0},s.appendChild(M),this.fire("tileloadstart",{tile:M,coords:t})},_tileReady:function(t,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:t});var w=this._tileCoordsToKey(t);f=this._tiles[w],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Pn(f.el,0),Xe(this._fadeFrame),this._fadeFrame=De(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(gt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),st.ielt9||!this._map._fadeAnimated?De(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new be(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new ue(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function bs(t){return new ri(t)}var ii=ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=G(this,s),s.detectRetina&&st.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var f=document.createElement("img");return mt(f,"load",v(this._tileOnLoad,this,s,f)),mt(f,"error",v(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(t),f},getTileUrl:function(t){var s={r:st.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=f),s["-y"]=f}return F(this._url,_(s,this.options))},_tileOnLoad:function(t,s){st.ielt9?setTimeout(v(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,f){var w=this.options.errorTileUrl;w&&s.getAttribute("src")!==w&&(s.src=w),t(f,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,w=this.options.zoomOffset;return f&&(t=s-t),t+w},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=j,s.onerror=j,!s.complete)){s.src=Y;var f=this._tiles[t].coords;Gt(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",Y),ri.prototype._removeTile.call(this,t)},_tileReady:function(t,s,f){if(!(!this._map||f&&f.getAttribute("src")===Y))return ri.prototype._tileReady.call(this,t,s,f)}});function No(t,s){return new ii(t,s)}var Ti=ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var f=_({},this.defaultWmsParams);for(var w in s)w in this.options||(f[w]=s[w]);s=G(this,s);var M=s.detectRetina&&st.retina?2:1,N=this.getTileSize();f.width=N.x*M,f.height=N.y*M,this.wmsParams=f},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ii.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),f=this._crs,w=Be(f.project(s[0]),f.project(s[1])),M=w.min,N=w.max,ee=(this._wmsVersion>=1.3&&this._crs===_l?[M.y,M.x,N.y,N.x]:[M.x,M.y,N.x,N.y]).join(","),me=ii.prototype.getTileUrl.call(this,t);return me+Z(this.wmsParams,me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(t,s){return _(this.wmsParams,t),s||this.redraw(),this}});function Da(t,s){return new Ti(t,s)}ii.WMS=Ti,No.wms=Da;var Zn=jn.extend({options:{padding:.1},initialize:function(t){G(this,t),B(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var f=this._map.getZoomScale(s,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,s),N=w.multiplyBy(-f).add(M).subtract(this._map._getNewPixelOrigin(t,s));st.any3d?tr(this._container,N,f):en(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new ue(f,f.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Aa=Zn.extend({options:{tolerance:0},getEvents:function(){var t=Zn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");mt(t,"mousemove",this._onMouseMove,this),mt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Xe(this._redrawRequest),delete this._ctx,Gt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var t=this._bounds,s=this._container,f=t.getSize(),w=st.retina?2:1;en(s,t.min),s.width=w*f.x,s.height=w*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",st.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[B(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,f=s.next,w=s.prev;f?f.prev=w:this._drawLast=w,w?w.next=f:this._drawFirst=f,delete t._order,delete this._layers[B(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),f=[],w,M;for(M=0;M<s.length;M++){if(w=Number(s[M]),isNaN(w))return;f.push(w)}t.options._dashArray=f}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||De(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)t=w.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var f,w,M,N,ee=t._parts,me=ee.length,Ce=this._ctx;if(me){for(Ce.beginPath(),f=0;f<me;f++){for(w=0,M=ee[f].length;w<M;w++)N=ee[f][w],Ce[w?"lineTo":"moveTo"](N.x,N.y);s&&Ce.closePath()}this._fillStroke(Ce,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,f=this._ctx,w=Math.max(Math.round(t._radius),1),M=(Math.max(Math.round(t._radiusY),1)||w)/w;M!==1&&(f.save(),f.scale(1,M)),f.beginPath(),f.arc(s.x,s.y/M,w,0,Math.PI*2,!1),M!==1&&f.restore(),this._fillStroke(f,t)}},_fillStroke:function(t,s){var f=s.options;f.fill&&(t.globalAlpha=f.fillOpacity,t.fillStyle=f.fillColor||f.color,t.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=f.opacity,t.lineWidth=f.weight,t.strokeStyle=f.color,t.lineCap=f.lineCap,t.lineJoin=f.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),f,w,M=this._drawFirst;M;M=M.next)f=M.layer,f.options.interactive&&f._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(f))&&(w=f);this._fireEvent(w?[w]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(qt(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var f,w,M=this._drawFirst;M;M=M.next)f=M.layer,f.options.interactive&&f._containsPoint(s)&&(w=f);w!==this._hoveredLayer&&(this._handleMouseOut(t),w&&(gt(this._container,"leaflet-interactive"),this._fireEvent([w],t,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,f){this._map._fireDOMEvent(s,f||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var f=s.next,w=s.prev;if(f)f.prev=w;else return;w?w.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var f=s.next,w=s.prev;if(w)w.next=f;else return;f?f.prev=w:w&&(this._drawLast=w),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function ur(t){return st.canvas?new Aa(t):null}var Yt=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),bl={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=Yt("shape");gt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=Yt("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[B(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;Gt(s),t.removeInteractiveTarget(s),delete this._layers[B(t)]},_updateStyle:function(t){var s=t._stroke,f=t._fill,w=t.options,M=t._container;M.stroked=!!w.stroke,M.filled=!!w.fill,w.stroke?(s||(s=t._stroke=Yt("stroke")),M.appendChild(s),s.weight=w.weight+"px",s.color=w.color,s.opacity=w.opacity,w.dashArray?s.dashStyle=te(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=w.lineCap.replace("butt","flat"),s.joinstyle=w.lineJoin):s&&(M.removeChild(s),t._stroke=null),w.fill?(f||(f=t._fill=Yt("fill")),M.appendChild(f),f.color=w.fillColor||w.color,f.opacity=w.fillOpacity):f&&(M.removeChild(f),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),f=Math.round(t._radius),w=Math.round(t._radiusY||f);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+w+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){as(t._container)},_bringToBack:function(t){Ur(t._container)}},Nn=st.vml?Yt:ia,Di=Zn.extend({_initContainer:function(){this._container=Nn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Gt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zn.prototype._update.call(this);var t=this._bounds,s=t.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),en(f,t.min),f.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=Nn("path");t.options.className&&gt(s,t.options.className),t.options.interactive&&gt(s,"leaflet-interactive"),this._updateStyle(t),this._layers[B(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Gt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[B(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,f=t.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,sa(t._parts,s))},_updateCircle:function(t){var s=t._point,f=Math.max(Math.round(t._radius),1),w=Math.max(Math.round(t._radiusY),1)||f,M="a"+f+","+w+" 0 1,0 ",N=t._empty()?"M0 0":"M"+(s.x-f)+","+s.y+M+f*2+",0 "+M+-f*2+",0 ";this._setPath(t,N)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){as(t._path)},_bringToBack:function(t){Ur(t._path)}});st.vml&&Di.include(bl);function si(t){return st.svg||st.vml?new Di(t):null}bt.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&ur(t)||si(t)}});var Cl=Cr.extend({initialize:function(t,s){Cr.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=tt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function su(t,s){return new Cl(t,s)}Di.create=Nn,Di.pointsToPath=sa,Lr.geometryToLayer=Cn,Lr.coordsToLatLng=ji,Lr.coordsToLatLngs=xs,Lr.latLngToCoords=Bo,Lr.latLngsToCoords=jo,Lr.getFeature=ws,Lr.asFeature=To,bt.mergeOptions({boxZoom:!0});var Cs=Hn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bt(),bo(),this._startPoint=this._map.mouseEventToContainerPoint(t),mt(document,{contextmenu:rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new ue(this._point,this._startPoint),f=s.getSize();en(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Gt(this._box),qt(this._container,"leaflet-crosshair")),cs(),Co(),Dt(document,{contextmenu:rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var s=new ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bt.addInitHook("addHandler","boxZoom",Cs),bt.mergeOptions({doubleClickZoom:!0});var Ai=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,f=s.getZoom(),w=s.options.zoomDelta,M=t.originalEvent.shiftKey?f-w:f+w;s.options.doubleClickZoom==="center"?s.setZoom(M):s.setZoomAround(t.containerPoint,M)}});bt.addInitHook("addHandler","doubleClickZoom",Ai),bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Io=Hn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new sr(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qt(this._map._container,"leaflet-grab"),qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=tt(this._map.options.maxBounds);this._offsetLimit=Be(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),f=this._initialWorldOffset,w=this._draggable._newPos.x,M=(w-s+f)%t+s-f,N=(w+s+f)%t-s-f,ee=Math.abs(M+f)<Math.abs(N+f)?M:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(t){var s=this._map,f=s.options,w=!f.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),w)s.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,ee=f.easeLinearity,me=M.multiplyBy(ee/N),Ce=me.distanceTo([0,0]),Te=Math.min(f.inertiaMaxSpeed,Ce),Ke=me.multiplyBy(Te/Ce),dt=Te/(f.inertiaDeceleration*ee),wt=Ke.multiplyBy(-dt/2).round();!wt.x&&!wt.y?s.fire("moveend"):(wt=s._limitOffset(wt,s.options.maxBounds),De(function(){s.panBy(wt,{duration:dt,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});bt.addInitHook("addHandler","dragging",Io),bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fo=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),mt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,f=t.scrollTop||s.scrollTop,w=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(w,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},f=this.keyCodes,w,M;for(w=0,M=f.left.length;w<M;w++)s[f.left[w]]=[-1*t,0];for(w=0,M=f.right.length;w<M;w++)s[f.right[w]]=[t,0];for(w=0,M=f.down.length;w<M;w++)s[f.down[w]]=[0,t];for(w=0,M=f.up.length;w<M;w++)s[f.up[w]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},f=this.keyCodes,w,M;for(w=0,M=f.zoomIn.length;w<M;w++)s[f.zoomIn[w]]=t;for(w=0,M=f.zoomOut.length;w<M;w++)s[f.zoomOut[w]]=-t},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,f=this._map,w;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(w=this._panKeys[s],t.shiftKey&&(w=je(w).multiplyBy(3)),f.options.maxBounds&&(w=f._limitOffset(je(w),f.options.maxBounds)),f.options.worldCopyJump){var M=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(w)));f.panTo(M)}else f.panBy(w)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;rr(t)}}});bt.addInitHook("addHandler","keyboard",Fo),bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var It=Hn.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=hl(t),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var w=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),w),rr(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),f=this._map.options.zoomSnap||0;t._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,N=f?Math.ceil(M/f)*f:M,ee=t._limitZoom(s+(this._delta>0?N:-N))-s;this._delta=0,this._startTime=null,ee&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+ee):t.setZoomAround(this._lastMousePos,s+ee))}});bt.addInitHook("addHandler","scrollWheelZoom",It);var fn=600;bt.mergeOptions({tapHold:st.touchNative&&st.safari&&st.mobile,tapTolerance:15});var to=Hn.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new be(s.clientX,s.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",Jt),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),fn),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Dt(document,"touchend",Jt),Dt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new be(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var f=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});bt.addInitHook("addHandler","tapHold",to),bt.mergeOptions({touchZoom:st.touch,bounceAtZoomLimits:!0});var Ls=Hn.extend({addHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(t.touches[0]),w=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(w)._divideBy(2))),this._startDist=f.distanceTo(w),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),Jt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(t.touches[0]),w=s.mouseEventToContainerPoint(t.touches[1]),M=f.distanceTo(w)/this._startDist;if(this._zoom=s.getScaleZoom(M,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&M<1||this._zoom>s.getMaxZoom()&&M>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var N=f._add(w)._divideBy(2)._subtract(this._centerPoint);if(M===1&&N.x===0&&N.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Xe(this._animRequest);var ee=v(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=De(ee,this,!0),Jt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Xe(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bt.addInitHook("addHandler","touchZoom",Ls),bt.BoxZoom=Cs,bt.DoubleClickZoom=Ai,bt.Drag=Io,bt.Keyboard=Fo,bt.ScrollWheelZoom=It,bt.TapHold=to,bt.TouchZoom=Ls,h.Bounds=ue,h.Browser=st,h.CRS=Pt,h.Canvas=Aa,h.Circle=Mo,h.CircleMarker=vs,h.Class=vt,h.Control=Mn,h.DivIcon=eo,h.DivOverlay=lr,h.DomEvent=Et,h.DomUtil=qs,h.Draggable=sr,h.Evented=it,h.FeatureGroup=qr,h.GeoJSON=Lr,h.GridLayer=ri,h.Handler=Hn,h.Icon=Bi,h.ImageOverlay=ni,h.LatLng=Qe,h.LatLngBounds=ut,h.Layer=jn,h.LayerGroup=or,h.LineUtil=Pa,h.Map=bt,h.Marker=wr,h.Mixin=ka,h.Path=dn,h.Point=be,h.PolyUtil=tu,h.Polygon=Cr,h.Polyline=bn,h.Popup=Ro,h.PosAnimation=fs,h.Projection=ru,h.Rectangle=Cl,h.Renderer=Zn,h.SVG=Di,h.SVGOverlay=Do,h.TileLayer=ii,h.Tooltip=Er,h.Transformation=Ji,h.Util=Ne,h.VideoOverlay=Ta,h.bind=v,h.bounds=Be,h.canvas=ur,h.circle=Js,h.circleMarker=Xs,h.control=ei,h.divIcon=Oo,h.extend=_,h.featureGroup=yl,h.geoJSON=xl,h.geoJson=ar,h.gridLayer=bs,h.icon=vl,h.imageOverlay=ja,h.latLng=Ye,h.latLngBounds=tt,h.layerGroup=_s,h.map=Qr,h.marker=$s,h.point=je,h.polygon=iu,h.polyline=br,h.popup=Gn,h.rectangle=su,h.setOptions=G,h.stamp=B,h.svg=si,h.svgOverlay=Ao,h.tileLayer=No,h.tooltip=Qs,h.transformation=Yi,h.version=p,h.videoOverlay=wl;var Ll=window.L;h.noConflict=function(){return window.L=Ll,this},window.L=h}))})(Su,Su.exports)),Su.exports}var ra=R4();const Ds=Tu(ra);function $l(o,u,h){return Object.freeze({instance:o,context:u,container:h})}function Qc(o,u){return u==null?function(p,_){const y=U.useRef();return y.current||(y.current=o(p,_)),y}:function(p,_){const y=U.useRef();y.current||(y.current=o(p,_));const v=U.useRef(p),{instance:P}=y.current;return U.useEffect(function(){v.current!==p&&(u(P,p,v.current),v.current=p)},[P,p,_]),y}}function L0(o,u){U.useEffect(function(){return(u.layerContainer??u.map).addLayer(o.instance),function(){u.layerContainer?.removeLayer(o.instance),u.map.removeLayer(o.instance)}},[u,o])}function k0(o){return function(h){const p=Jc(),_=o(Yc(h,p),p);return x0(p.map,h.attribution),pf(_.current,h.eventHandlers),L0(_.current,p),_}}function O4(o,u){const h=U.useRef();U.useEffect(function(){if(u.pathOptions!==h.current){const _=u.pathOptions??{};o.instance.setStyle(_),h.current=_}},[o,u])}function N4(o){return function(h){const p=Jc(),_=o(Yc(h,p),p);return pf(_.current,h.eventHandlers),L0(_.current,p),O4(_.current,h),_}}function I4(o,u){const h=Qc(o,u),p=k0(h);return C0(p)}function E0(o,u){const h=Qc(o),p=D4(h,u);return j4(p)}function S0(o,u){const h=Qc(o,u),p=N4(h);return C0(p)}function F4(o,u){const h=Qc(o,u),p=k0(h);return T4(p)}function z4(o,u,h){const{opacity:p,zIndex:_}=u;p!=null&&p!==h.opacity&&o.setOpacity(p),_!=null&&_!==h.zIndex&&o.setZIndex(_)}function mf(){return Jc().map}function $d(){return $d=Object.assign||function(o){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(o[p]=h[p])}return o},$d.apply(this,arguments)}function U4({bounds:o,boundsOptions:u,center:h,children:p,className:_,id:y,placeholder:v,style:P,whenReady:B,zoom:D,...S},j){const[I]=U.useState({className:_,id:y,style:P}),[ne,K]=U.useState(null);U.useImperativeHandle(j,()=>ne?.map??null,[ne]);const G=U.useCallback(Se=>{if(Se!==null&&ne===null){const F=new ra.Map(Se,S);h!=null&&D!=null?F.setView(h,D):o!=null&&F.fitBounds(o,u),B!=null&&F.whenReady(B),K(B4(F))}},[]);U.useEffect(()=>()=>{ne?.map.remove()},[ne]);const Z=ne?Mu.createElement(b0,{value:ne},p):v??null;return Mu.createElement("div",$d({},I,{ref:G}),Z)}const gf=U.forwardRef(U4),Xa=I4(function({position:u,...h},p){const _=new ra.Marker(u,h);return $l(_,ff(p,{overlayContainer:_}))},function(u,h,p){h.position!==p.position&&u.setLatLng(h.position),h.icon!=null&&h.icon!==p.icon&&u.setIcon(h.icon),h.zIndexOffset!=null&&h.zIndexOffset!==p.zIndexOffset&&u.setZIndexOffset(h.zIndexOffset),h.opacity!=null&&h.opacity!==p.opacity&&u.setOpacity(h.opacity),u.dragging!=null&&h.draggable!==p.draggable&&(h.draggable===!0?u.dragging.enable():u.dragging.disable())}),ug=S0(function({positions:u,...h},p){const _=new ra.Polygon(u,h);return $l(_,ff(p,{overlayContainer:_}))},function(u,h,p){h.positions!==p.positions&&u.setLatLngs(h.positions)}),P0=S0(function({positions:u,...h},p){const _=new ra.Polyline(u,h);return $l(_,ff(p,{overlayContainer:_}))},function(u,h,p){h.positions!==p.positions&&u.setLatLngs(h.positions)}),Ja=E0(function(u,h){const p=new ra.Popup(u,h.overlayContainer);return $l(p,h)},function(u,h,{position:p},_){U.useEffect(function(){const{instance:v}=u;function P(D){D.popup===v&&(v.update(),_(!0))}function B(D){D.popup===v&&_(!1)}return h.map.on({popupopen:P,popupclose:B}),h.overlayContainer==null?(p!=null&&v.setLatLng(p),v.openOn(h.map)):h.overlayContainer.bindPopup(v),function(){h.map.off({popupopen:P,popupclose:B}),h.overlayContainer?.unbindPopup(),h.map.removeLayer(v)}},[u,h,_,p])}),_f=F4(function({url:u,...h},p){const _=new ra.TileLayer(u,Yc(h,p));return $l(_,p)},function(u,h,p){z4(u,h,p);const{url:_}=h;_!=null&&_!==p.url&&u.setUrl(_)}),cg=E0(function(u,h){const p=new ra.Tooltip(u,h.overlayContainer);return $l(p,h)},function(u,h,{position:p},_){U.useEffect(function(){const v=h.overlayContainer;if(v==null)return;const{instance:P}=u,B=S=>{S.tooltip===P&&(p!=null&&P.setLatLng(p),P.update(),_(!0))},D=S=>{S.tooltip===P&&_(!1)};return v.on({tooltipopen:B,tooltipclose:D}),v.bindTooltip(P),function(){v.off({tooltipopen:B,tooltipclose:D}),v._map!=null&&v.unbindTooltip()}},[u,h,_,p])});var Ud={exports:{}},hg;function H4(){return hg||(hg=1,(function(o){var u={};function h(y){return Math.floor(Math.abs(y)+.5)*(y>=0?1:-1)}function p(y,v,P){y=h(y*P),v=h(v*P);var B=(y-v)*2;B<0&&(B=-B-1);for(var D="";B>=32;)D+=String.fromCharCode((32|B&31)+63),B/=32;return D+=String.fromCharCode((B|0)+63),D}u.decode=function(y,v){for(var P=0,B=0,D=0,S=[],j=0,I=0,ne=null,K,G,Z=Math.pow(10,Number.isInteger(v)?v:5);P<y.length;){ne=null,j=1,I=0;do ne=y.charCodeAt(P++)-63,I+=(ne&31)*j,j*=32;while(ne>=32);K=I&1?(-I-1)/2:I/2,j=1,I=0;do ne=y.charCodeAt(P++)-63,I+=(ne&31)*j,j*=32;while(ne>=32);G=I&1?(-I-1)/2:I/2,B+=K,D+=G,S.push([B/Z,D/Z])}return S},u.encode=function(y,v){if(!y.length)return"";for(var P=Math.pow(10,Number.isInteger(v)?v:5),B=p(y[0][0],0,P)+p(y[0][1],0,P),D=1;D<y.length;D++){var S=y[D],j=y[D-1];B+=p(S[0],j[0],P),B+=p(S[1],j[1],P)}return B};function _(y){for(var v=[],P=0;P<y.length;P++){var B=y[P].slice();v.push([B[1],B[0]])}return v}u.fromGeoJSON=function(y,v){if(y&&y.type==="Feature"&&(y=y.geometry),!y||y.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return u.encode(_(y.coordinates),v)},u.toGeoJSON=function(y,v){var P=u.decode(y,v);return{type:"LineString",coordinates:_(P)}},o.exports&&(o.exports=u)})(Ud)),Ud.exports}var W4=H4();const M0=Tu(W4),q4=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),V4=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),G4=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),Z4=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),K4=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-gold.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),B0=o=>{const u=o.latitude??o.lat??o.currentLatitude??null,h=o.longitude??o.lng??o.currentLongitude??null;return{lat:u,lng:h}},$4=o=>{switch(o){case"SCHEDULED":return"";case"REQUESTED":return" ";case"OFFERING":return"";case"ACCEPTED":return" ";case"DRIVER_ARRIVED":return" ";case"IN_PROGRESS":return" ";case"COMPLETED":return"";case"CANCELLED":return"";default:return o}},X4=o=>o?new Date(o).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"",J4=o=>o?new Date(o).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"",Y4=({selectedOrder:o,drivers:u})=>{const h=mf(),p=U.useRef(!1);return U.useEffect(()=>{const _=[];if(o&&o.originLat&&o.destLat?(_.push([o.originLat,o.originLng]),_.push([o.destLat,o.destLng]),o.stops&&o.stops.forEach(y=>{y.lat&&_.push([y.lat,y.lng])})):!p.current&&u&&u.length>0&&(u.forEach(y=>{const{lat:v,lng:P}=B0(y);v&&P&&v!==0&&_.push([v,P])}),_.length>0&&(p.current=!0)),_.length>0)try{h.fitBounds(_,{padding:[80,80],maxZoom:15})}catch{}},[o,u,h]),null},Q4=({drivers:o,selectedOrder:u,customOnlineIcon:h})=>{const p=[50.45,30.52];let _=null;if(u)if(u.googleRoutePolyline)try{_=M0.decode(u.googleRoutePolyline)}catch{}else u.originLat&&u.destLat&&(_=[[u.originLat,u.originLng]],u.stops&&u.stops.forEach(v=>_.push([v.lat,v.lng])),_.push([u.destLat,u.destLng]));const y=Array.isArray(o)?o:[];return c.jsxs(gf,{center:p,zoom:11,style:{height:"100%",width:"100%"},children:[c.jsx(_f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),!u&&y.map(v=>{const{lat:P,lng:B}=B0(v);if(P===null||B===null||P===0)return null;let D;if(v.isOnline){if(D=q4,h){const[S,j]=h.options.iconSize;S>0&&j>0&&(D=h)}}else D=V4;return c.jsx(Xa,{position:[P,B],icon:D,children:c.jsxs(Ja,{children:[c.jsx("strong",{children:v.fullName}),c.jsx("br",{}),"ID: ",v.id,c.jsx("br",{}),v.isOnline?"  ":"  (  )"]})},`driver-${v.id}-${P}-${B}`)}),u&&c.jsxs(c.Fragment,{children:[c.jsx(Xa,{position:[u.originLat,u.originLng],icon:G4,children:c.jsxs(Ja,{children:[": ",u.fromAddress]})}),u.stops?.map((v,P)=>c.jsx(Xa,{position:[v.lat,v.lng],icon:K4,children:c.jsx(Ja,{children:v.address})},P)),c.jsx(Xa,{position:[u.destLat,u.destLng],icon:Z4,children:c.jsxs(Ja,{children:[": ",u.toAddress]})}),_&&c.jsx(P0,{positions:_,color:"blue"})]}),c.jsx(Y4,{selectedOrder:u,drivers:y})]})},ew=({orders:o,onCancel:u,onAssign:h,onSelectOrder:p,selectedOrderId:_})=>c.jsxs("div",{className:"orders-list",children:[o.length===0&&c.jsx("p",{style:{padding:"1.5rem",textAlign:"center",color:"#888"},children:" ."}),o.map(y=>c.jsxs("div",{className:`order-card ${_===y.id?"selected":""}`,onClick:()=>p(y),children:[c.jsxs("div",{className:"order-card-header",children:[c.jsxs("h4",{children:["#",y.id," (",y.tariffName,")"]}),c.jsx("span",{className:`status status-${y.status}`,children:$4(y.status)})]}),y.status==="SCHEDULED"&&y.scheduledAt&&c.jsxs("div",{className:"scheduled-time-badge",children:[" ",X4(y.scheduledAt)]}),c.jsxs("div",{className:"order-card-body",children:[y.status==="SCHEDULED"&&c.jsxs("div",{style:{marginBottom:"8px",color:"#d9480f",fontWeight:"bold",background:"#fff4e6",padding:"4px",borderRadius:"4px",display:"inline-block"},children:["  : ",J4(y.scheduledAt)]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",y.client.fullName," (",y.client.userPhone,")"]}),c.jsxs("div",{className:"route-details",style:{marginTop:"5px"},children:[c.jsxs("div",{children:[" ",y.fromAddress]}),c.jsxs("div",{children:[" ",y.toAddress]})]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",Math.round(y.price),"  ",y.paymentMethod==="CARD"?"":""]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",y.driver?y.driver.fullName:y.status==="SCHEDULED"?" ":"..."]})]}),c.jsxs("div",{className:"order-card-actions",children:[y.status==="REQUESTED"&&c.jsx("button",{className:"btn-primary",onClick:v=>{v.stopPropagation(),h(y.id)},children:""}),c.jsx("button",{className:"btn-danger",onClick:v=>{v.stopPropagation(),u(y.id)},children:""})]})]},y.id))]}),tw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState([]),[_,y]=U.useState(null),[v,P]=U.useState(""),[B,D]=U.useState("ACTIVE"),[S,j]=U.useState("ALL"),[I,ne]=U.useState(null),K=U.useRef(null);U.useEffect(()=>{(async()=>{try{const ve=await v0();if(ve&&ve.driver_map_icon){let oe=parseInt(ve.driver_map_icon_width),De=parseInt(ve.driver_map_icon_height);oe||(oe=40),De||(De=40);const Xe=`${ve.driver_map_icon}?t=${new Date().getTime()}`,Ne=new Ds.Icon({iconUrl:Xe,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[oe,De],iconAnchor:[oe/2,De/2],popupAnchor:[0,-(De/2)],shadowSize:[oe+5,De+5]});ne(Ne)}}catch(ve){console.error("   :",ve)}})()},[]);const G=async()=>{try{const ae=await o4();u(ae.sort((ve,oe)=>oe.id-ve.id))}catch{}},Z=async()=>{try{const ae=await d4();p(ae||[])}catch(ae){console.error(ae)}};U.useEffect(()=>{G(),Z();const ae=new y0("http://localhost:8080/ws-taxi"),ve=new o0({webSocketFactory:()=>ae,reconnectDelay:5e3,onConnect:()=>{console.log("Connected to Dispatcher WebSocket"),ve.subscribe("/topic/admin/orders",oe=>{const De=JSON.parse(oe.body);Se(De)})},onStompError:oe=>{console.error("WS Error:",oe)}});return ve.activate(),K.current=ve,()=>{K.current&&K.current.deactivate()}},[]);const Se=ae=>{ae.action==="ADD"?u(ve=>{const oe=ve.findIndex(De=>De.id===ae.orderId);if(oe!==-1){const De=[...ve];return De[oe]=ae.order,De}return[ae.order,...ve]}):ae.action==="REMOVE"&&u(ve=>ve.filter(oe=>oe.id!==ae.orderId))};P4(Z,5e3);const F=async ae=>{if(window.confirm(` #${ae}?`))try{await u4(ae),_?.id===ae&&y(null)}catch(ve){alert(ve.message)}},te=async ae=>{const ve=prompt("ID :");if(ve)try{await c4(ae,parseInt(ve))}catch(oe){alert(oe.message)}},X=o.filter(ae=>{const ve=ae.client.phoneNumber.includes(v)||ae.id.toString().includes(v);if(B==="SCHEDULED")return ve&&ae.status==="SCHEDULED";{if(ae.status==="SCHEDULED")return!1;let oe=!0;return S==="REQUESTED"?oe=ae.status==="REQUESTED":S==="ACTIVE"&&(oe=["ACCEPTED","DRIVER_ARRIVED","IN_PROGRESS","OFFERING"].includes(ae.status)),ve&&oe}}),Y=h.length,Pe=h.filter(ae=>ae.isOnline).length,_e=Y-Pe;return c.jsxs("div",{className:"active-orders-layout",children:[c.jsxs("div",{className:"orders-list-container",children:[c.jsxs("div",{className:"tabs-container",children:[c.jsx("button",{className:`tab-button ${B==="ACTIVE"?"active":""}`,onClick:()=>D("ACTIVE"),children:""}),c.jsx("button",{className:`tab-button ${B==="SCHEDULED"?"active":""}`,onClick:()=>D("SCHEDULED"),children:""})]}),c.jsxs("div",{className:"orders-list-header",style:{flexDirection:"column",gap:"10px"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:c.jsxs("h3",{children:[B==="SCHEDULED"?"":" "," (",X.length,")"]})}),c.jsxs("div",{style:{display:"flex",gap:"5px",width:"100%"},children:[c.jsx("input",{type:"text",placeholder:" (, ID)...",value:v,onChange:ae=>P(ae.target.value),style:{flex:1}}),B==="ACTIVE"&&c.jsxs("select",{value:S,onChange:ae=>j(ae.target.value),children:[c.jsx("option",{value:"ALL",children:""}),c.jsx("option",{value:"REQUESTED",children:""}),c.jsx("option",{value:"ACTIVE",children:" "})]})]})]}),c.jsx(ew,{orders:X,onCancel:F,onAssign:te,onSelectOrder:y,selectedOrderId:_?.id})]}),c.jsxs("div",{className:"map-container",children:[c.jsxs("div",{className:"orders-list-header",children:[_?c.jsxs("h3",{children:[" #",_.id]}):c.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[c.jsx("h3",{style:{margin:0},children:":"}),c.jsxs("span",{style:{color:"green",fontWeight:"bold"},children:[" ",Pe]}),c.jsxs("span",{style:{color:"gray",fontWeight:"bold"},children:[" ",_e]})]}),_&&c.jsx("button",{onClick:()=>y(null),children:""})]}),c.jsx(Q4,{drivers:h,selectedOrder:_,customOnlineIcon:I})]})]})},nw=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),rw=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),iw=new Ds.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-gold.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),sw=({order:o})=>{const u=mf();return U.useEffect(()=>{if(o&&o.originLat&&o.destLat){const h=[[o.originLat,o.originLng],[o.destLat,o.destLng]];o.stops&&o.stops.length>0&&o.stops.forEach(p=>{p.lat&&p.lng&&h.push([p.lat,p.lng])});try{u.fitBounds(h,{padding:[50,50]})}catch{}}},[o,u]),null},Mc=o=>o?new Date(o).toLocaleString("uk-UA",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}):"",dg=()=>new Date().toISOString().split("T")[0],ow=()=>{const[o,u]=U.useState([]),[h,p]=U.useState([]),[_,y]=U.useState(!0),[v,P]=U.useState(""),[B,D]=U.useState(""),[S,j]=U.useState(null),[I,ne]=U.useState(dg()),[K,G]=U.useState(dg()),[Z,Se]=U.useState({completed:0,cancelled:0,total:0,sum:0}),F=async()=>{try{y(!0),P("");const Pe=(await a4()).sort((_e,ae)=>ae.id-_e.id);u(Pe)}catch(Y){P(Y.message)}finally{y(!1)}};U.useEffect(()=>{F()},[]),U.useEffect(()=>{if(!o.length){p([]),Se({completed:0,cancelled:0,total:0,sum:0});return}let Y=o;if(B&&(Y=Y.filter(ve=>ve.client.phoneNumber.includes(B))),I&&K){const ve=new Date(I);ve.setHours(0,0,0,0);const oe=new Date(K);oe.setHours(23,59,59,999),Y=Y.filter(De=>{const Xe=new Date(De.createdAt);return Xe>=ve&&Xe<=oe})}p(Y);let Pe=0,_e=0,ae=0;Y.forEach(ve=>{ve.status==="COMPLETED"?(Pe++,ae+=ve.price):ve.status==="CANCELLED"&&_e++}),Se({completed:Pe,cancelled:_e,total:Y.length,sum:ae})},[o,B,I,K]);const te=async Y=>{if(Y.preventDefault(),!B){F();return}try{y(!0),P("");const Pe=await l4(B);u(Pe)}catch(Pe){P(Pe.message)}finally{y(!1)}},X=Y=>{if(Y===-1){ne(""),G("");return}const Pe=new Date,_e=new Date;Y===0||(Y===1?(_e.setDate(_e.getDate()-1),Pe.setDate(Pe.getDate()-1)):_e.setDate(_e.getDate()-Y)),ne(_e.toISOString().split("T")[0]),G(Pe.toISOString().split("T")[0])};if(S){let Y=null;if(S.googleRoutePolyline)try{Y=M0.decode(S.googleRoutePolyline)}catch{}const Pe=S.status==="CANCELLED";let _e=0,ae=0;return S.distanceMeters&&S.distanceMeters>0&&(_e=S.distanceMeters/1e3,ae=S.price/_e),c.jsxs("div",{className:"detail-view-container",style:{padding:"20px",height:"calc(100vh - 80px)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[c.jsxs("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[c.jsx("button",{onClick:()=>j(null),className:"btn-secondary",style:{padding:"8px 20px",fontSize:"16px",cursor:"pointer"},children:" "}),c.jsxs("h2",{children:[" #",S.id]}),c.jsx("span",{style:{backgroundColor:Pe?"#d32f2f":"#388e3c",color:"#fff",padding:"8px 16px",borderRadius:"6px",fontWeight:"bold",fontSize:"1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:Pe?"":""})]}),c.jsxs("div",{style:{display:"flex",gap:"20px",flex:1,minHeight:0},children:[c.jsx("div",{style:{flex:"0 0 400px",overflowY:"auto",paddingRight:"5px"},children:c.jsxs("div",{className:"order-card",style:{cursor:"default",backgroundColor:"#fff",border:"1px solid #ddd",height:"auto"},children:[c.jsxs("div",{className:"info-group",style:{marginBottom:"15px"},children:[c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.client.fullName]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.client.phoneNumber]}),c.jsx("hr",{style:{margin:"10px 0",border:"0",borderTop:"1px solid #eee"}}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.driver?`${S.driver.fullName} (${S.driver.carPlateNumber})`:""]}),c.jsxs("p",{children:[c.jsx("strong",{children:":"})," ",S.tariffName]})]}),c.jsxs("div",{style:{backgroundColor:"#f9f9f9",padding:"10px",borderRadius:"5px",marginBottom:"15px"},children:[c.jsxs("p",{children:[" ",c.jsx("strong",{children:":"})," ",Mc(S.createdAt)]}),c.jsxs("p",{children:[" ",c.jsx("strong",{children:":"})," ",Mc(S.completedAt)]})]}),c.jsxs("div",{className:"route-details",style:{marginBottom:"15px"},children:[c.jsxs("div",{children:[" ",c.jsx("b",{children:":"})," ",S.fromAddress]}),S.stops&&S.stops.map((ve,oe)=>c.jsxs("div",{style:{marginLeft:"15px",color:"#666"},children:[" ",c.jsx("i",{children:ve.address})]},oe)),c.jsxs("div",{style:{marginTop:"5px"},children:[" ",c.jsx("b",{children:":"})," ",S.toAddress]})]}),c.jsxs("div",{style:{fontSize:"1.1em",marginBottom:"15px"},children:[c.jsxs("p",{children:[" ",c.jsx("strong",{children:":"})," ",Math.round(S.price)," "]}),_e>0&&c.jsxs("p",{style:{fontSize:"0.85em",color:"#666",marginTop:"4px"},children:[" ",_e.toFixed(1),"   ",c.jsxs("strong",{children:[ae.toFixed(2)," /"]})]}),S.addedValue>0&&c.jsxs("p",{style:{color:"#d32f2f"},children:[" : +",Math.round(S.addedValue)," "]}),c.jsxs("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"5px"},children:[": ",S.paymentMethod==="CARD"?" ":" "]})]}),S.services&&S.services.length>0&&c.jsxs("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"5px"},children:[c.jsx("strong",{children:" :"}),c.jsx("ul",{style:{margin:"5px 0 0 20px",padding:0},children:S.services.map(ve=>c.jsxs("li",{children:[ve.name," (",Math.round(ve.price)," )"]},ve.id))})]}),S.comment&&c.jsxs("div",{style:{padding:"10px",backgroundColor:"#fff3cd",borderRadius:"5px",border:"1px solid #ffeeba"},children:[c.jsx("strong",{children:" :"}),c.jsx("br",{}),S.comment]})]})}),c.jsx("div",{style:{flex:1,borderRadius:"10px",overflow:"hidden",border:"1px solid #ccc",position:"relative"},children:c.jsxs(gf,{center:[50.45,30.52],zoom:11,style:{height:"100%",width:"100%"},children:[c.jsx(_f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),S.originLat&&c.jsx(Xa,{position:[S.originLat,S.originLng],icon:nw,children:c.jsxs(Ja,{children:[": ",S.fromAddress]})}),S.destLat&&c.jsx(Xa,{position:[S.destLat,S.destLng],icon:rw,children:c.jsxs(Ja,{children:[": ",S.toAddress]})}),S.stops&&S.stops.map((ve,oe)=>c.jsx(Xa,{position:[ve.lat,ve.lng],icon:iw,children:c.jsx(Ja,{children:ve.address})},oe)),Y&&c.jsx(P0,{positions:Y,color:"blue",weight:4}),c.jsx(sw,{order:S})]})})]})]})}return _&&o.length===0?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[c.jsx("h2",{style:{margin:0},children:" "}),c.jsx("div",{style:{fontSize:"0.9em",color:"#666"},children:"      "})]}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ddd"},children:[c.jsxs("div",{style:{flex:2,minWidth:"300px"},children:[c.jsx("h4",{style:{marginTop:0,marginBottom:"10px"},children:"   "}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[c.jsx("input",{type:"date",value:I,onChange:Y=>ne(Y.target.value),style:{padding:"6px",borderRadius:"4px",border:"1px solid #ccc"}}),c.jsx("span",{style:{alignSelf:"center"},children:""}),c.jsx("input",{type:"date",value:K,onChange:Y=>G(Y.target.value),style:{padding:"6px",borderRadius:"4px",border:"1px solid #ccc"}})]}),c.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"15px",flexWrap:"wrap"},children:[c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>X(0),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>X(1),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>X(7),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>X(30),children:""}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px"},onClick:()=>X(90),children:"3 ."}),c.jsx("button",{className:"btn-secondary",style:{fontSize:"0.8rem",padding:"4px 8px",backgroundColor:"#6c757d",color:"white"},onClick:()=>X(-1),children:"  "})]}),c.jsxs("form",{onSubmit:te,style:{display:"flex",gap:"10px"},children:[c.jsx("input",{type:"text",placeholder:"   ...",className:"search-input",value:B,onChange:Y=>D(Y.target.value),style:{flex:1}}),c.jsx("button",{type:"submit",className:"btn-primary",children:""})]})]}),c.jsxs("div",{style:{flex:1,minWidth:"200px",backgroundColor:"#fff",padding:"15px",borderRadius:"8px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[c.jsx("h4",{style:{marginTop:0,marginBottom:"10px",color:"#333"},children:"   "}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"0.95rem"},children:[c.jsxs("div",{children:[" : ",c.jsx("strong",{children:Z.total})]}),c.jsxs("div",{style:{color:"#388e3c"},children:[" : ",c.jsx("strong",{children:Z.completed})]}),c.jsxs("div",{style:{color:"#d32f2f"},children:[" : ",c.jsx("strong",{children:Z.cancelled})]}),c.jsx("hr",{style:{width:"100%",border:"0",borderTop:"1px solid #eee",margin:"5px 0"}}),c.jsxs("div",{style:{fontSize:"1.1rem"},children:[" : ",c.jsxs("strong",{children:[Math.round(Z.sum)," "]})]})]})]})]}),v&&c.jsx("div",{className:"error-message",children:v}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:". "}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:h.length>0?h.map(Y=>c.jsxs("tr",{onDoubleClick:()=>j(Y),style:{cursor:"pointer"},title:"   ",className:"archive-row",children:[c.jsx("td",{children:Y.id}),c.jsx("td",{children:c.jsx("span",{style:{color:Y.status==="CANCELLED"?"red":"green",fontWeight:"bold",fontSize:"0.9em"},children:Y.status==="CANCELLED"?"":""})}),c.jsx("td",{style:{fontSize:"0.85em"},children:Mc(Y.createdAt)}),c.jsx("td",{style:{fontSize:"0.85em"},children:Mc(Y.completedAt)}),c.jsx("td",{children:Y.client.phoneNumber}),c.jsx("td",{children:Y.driver?Y.driver.fullName:""}),c.jsx("td",{children:Y.fromAddress}),c.jsx("td",{style:{fontSize:"0.85em",color:"#555",fontStyle:"italic",maxWidth:"150px"},children:Y.formattedWaypoints?Y.formattedWaypoints:""}),c.jsx("td",{children:Y.toAddress}),c.jsx("td",{children:c.jsxs("strong",{children:[Math.round(Y.price)," "]})})]},Y.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"10",style:{textAlign:"center",padding:"20px"},children:"     ."})})})]})})]})},aw=()=>{const[o,u]=U.useState("active"),{user:h}=Kc();return h?h.role==="DISPATCHER"||h.role==="ADMINISTRATOR"?c.jsxs("div",{className:"orders-page-container",children:[c.jsxs("div",{className:"view-switcher",children:[c.jsx("button",{className:o==="active"?"active":"",onClick:()=>u("active"),children:" "}),c.jsx("button",{className:o==="archive"?"active":"",onClick:()=>u("archive"),children:" "})]}),c.jsx("div",{className:"orders-content",children:o==="active"?c.jsx(tw,{}):c.jsx(ow,{})})]}):c.jsx("h2",{style:{padding:"20px",color:"red"},children:" :   "}):c.jsx("div",{style:{padding:"20px"},children:"  ..."})},yf=async()=>{try{return(await ht.get("/admin/tariffs")).data}catch(o){throw new Error(o.response?.data?.message||"Failed to load tariffs")}},lw=async(o,u)=>{const h=new FormData;h.append("request",JSON.stringify(o)),u&&h.append("file",u);try{return(await ht.post("/admin/tariffs",h)).data}catch(p){throw new Error(p.response?.data?.message||"Error creating tariff")}},uw=async(o,u,h)=>{const p=new FormData;p.append("request",JSON.stringify(u)),h&&p.append("file",h);try{return(await ht.put(`/admin/tariffs/${o}`,p)).data}catch(_){throw new Error(_.response?.data?.message||"Error updating tariff")}},cw=async o=>{try{return(await ht.delete(`/admin/tariffs/${o}`)).data}catch(u){throw new Error(u.response?.data?.message||"Error deleting tariff")}},ta=({isOpen:o,onClose:u,title:h,children:p})=>(U.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[o]),o?c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:h}),c.jsx("button",{className:"modal-close-btn",onClick:u,children:""})]}),c.jsx("div",{className:"modal-body",children:p})]})}):null),hw=({initialData:o,availableTariffs:u,onSubmit:h,onCancel:p,isLoading:_})=>{const[y,v]=U.useState({fullName:"",phoneNumber:"",password:"",email:"",rnokpp:"",driverLicense:"",make:"",model:"",color:"",plateNumber:"",vin:"",year:new Date().getFullYear(),carType:"",tariffIds:[]}),[P,B]=U.useState(null),[D,S]=U.useState(null),[j,I]=U.useState({techPassportFront:null,techPassportBack:null,insurancePhoto:null,photoFront:null,photoBack:null,photoLeft:null,photoRight:null,photoSeatsFront:null,photoSeatsBack:null}),ne=!!o;U.useEffect(()=>{ne&&v({fullName:o.fullName||"",phoneNumber:o.phoneNumber||"",password:"",email:o.email||"",rnokpp:o.rnokpp||"",driverLicense:o.driverLicense||"",make:o.car?.make||"",model:o.car?.model||"",color:o.car?.color||"",plateNumber:o.car?.plateNumber||"",vin:o.car?.vin||"",year:o.car?.year||new Date().getFullYear(),carType:o.car?.carType||"",tariffIds:o.allowedTariffs?o.allowedTariffs.map(Y=>Y.id):[]})},[o,ne]);const K=Y=>{const{name:Pe,value:_e}=Y.target;v(ae=>({...ae,[Pe]:_e}))},G=Y=>{const Pe=parseInt(Y.target.value);v(_e=>Y.target.checked?{..._e,tariffIds:[..._e.tariffIds,Pe]}:{..._e,tariffIds:_e.tariffIds.filter(ae=>ae!==Pe)})},Z=Y=>{Y.target.files&&Y.target.files[0]&&B(Y.target.files[0])},Se=Y=>{Y.target.files&&Y.target.files[0]&&S(Y.target.files[0])},F=Y=>{const{name:Pe,files:_e}=Y.target;_e&&_e[0]&&I(ae=>({...ae,[Pe]:_e[0]}))},te=Y=>{Y.preventDefault();const Pe={...y,year:parseInt(y.year)};ne&&(delete Pe.password,delete Pe.phoneNumber);const _e={carFile:D,...j};h(Pe,P,_e)},X=(Y,Pe,_e=" ")=>{let ae=null;return Y?ae=URL.createObjectURL(Y):ne&&Pe&&(ae=Pe),c.jsx("div",{className:"image-preview-box",children:ae?c.jsx("img",{src:ae,alt:"Preview"}):c.jsx("span",{children:_e})})};return c.jsxs("form",{className:"app-form",onSubmit:te,autoComplete:"off",children:[c.jsx("input",{type:"text",style:{display:"none"}}),c.jsx("input",{type:"password",style:{display:"none"}}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"photo-column",children:[c.jsx("label",{children:" "}),X(P,o?.photoUrl," "),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",onChange:Z,accept:"image/*",style:{display:"none"}})," "]})]}),c.jsxs("div",{className:"fields-column",children:[c.jsx("h3",{className:"full-width",children:" "}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"fullName",value:y.fullName,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"phoneNumber",value:y.phoneNumber,onChange:K,required:!0,disabled:ne})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email *"}),c.jsx("input",{type:"email",name:"email",value:y.email,onChange:K,required:!0})]}),!ne&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{type:"password",name:"password",value:y.password,onChange:K,required:!0,minLength:6})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"rnokpp",value:y.rnokpp,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  *"}),c.jsx("input",{name:"driverLicense",value:y.driverLicense,onChange:K,required:!0})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsxs("div",{className:"photo-column",children:[c.jsx("label",{children:"  ()"}),X(D,o?.car?.photoUrl," "),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",onChange:Se,accept:"image/*",style:{display:"none"}})," "]})]}),c.jsxs("div",{className:"fields-column",children:[c.jsx("h3",{className:"full-width",children:" "}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"make",value:y.make,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"model",value:y.model,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:".  *"}),c.jsx("input",{name:"plateNumber",value:y.plateNumber,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  *"}),c.jsxs("select",{name:"carType",value:y.carType,onChange:K,required:!0,children:[c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" *"}),c.jsx("input",{name:"color",value:y.color,onChange:K,required:!0,placeholder:"#FFFFFF  "})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  *"}),c.jsx("input",{type:"number",name:"year",value:y.year,onChange:K,required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"VIN  *"}),c.jsx("input",{name:"vin",value:y.vin,onChange:K,required:!0})]})]})]}),c.jsxs("div",{className:"form-section",style:{flexDirection:"column"},children:[c.jsx("h3",{children:"  "}),c.jsxs("div",{className:"docs-grid",children:[c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:".  ()"}),X(j.techPassportFront,o?.car?.techPassportFront),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"techPassportFront",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:".  ()"}),X(j.techPassportBack,o?.car?.techPassportBack),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"techPassportBack",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" ()"}),X(j.insurancePhoto,o?.car?.insurancePhoto),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"insurancePhoto",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),X(j.photoFront,o?.car?.photoFront),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoFront",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),X(j.photoBack,o?.car?.photoBack),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoBack",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),X(j.photoLeft,o?.car?.photoLeft),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoLeft",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" "}),X(j.photoRight,o?.car?.photoRight),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoRight",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" ()"}),X(j.photoSeatsFront,o?.car?.photoSeatsFront),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoSeatsFront",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]}),c.jsxs("div",{className:"doc-item",children:[c.jsx("label",{children:" ()"}),X(j.photoSeatsBack,o?.car?.photoSeatsBack),c.jsxs("label",{className:"custom-file-upload",children:[c.jsx("input",{type:"file",name:"photoSeatsBack",onChange:F,accept:"image/*",style:{display:"none"}}),""]})]})]})]}),c.jsxs("div",{className:"form-section",style:{flexDirection:"column"},children:[c.jsx("h3",{children:" "}),c.jsx("div",{className:"checkbox-group",children:u.length>0?u.map(Y=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",value:Y.id,checked:y.tariffIds.includes(Y.id),onChange:G}),Y.name]},Y.id)):c.jsx("p",{children:"  "})})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:p,disabled:_,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:_,children:_?"...":ne?"":""})]})]})},dw=o=>{const u=o??1e3;return u>=701?{color:"#2e7d32",bg:"#e8f5e9",label:" ()",barColor:"#4CAF50"}:u>=401?{color:"#f9a825",bg:"#fffde7",label:" ()",barColor:"#FFC107"}:u>=1?{color:"#c62828",bg:"#ffebee",label:" ()",barColor:"#F44336"}:{color:"#fff",bg:"#333",label:"",barColor:"#000"}},fw=({driverId:o,currentScore:u,onUpdate:h})=>{const[p,_]=U.useState(""),[y,v]=U.useState(""),[P,B]=U.useState(!1),D=async S=>{if(S.preventDefault(),!p||!y)return alert("   ");B(!0);try{const j=await v4(o,parseInt(p),y);h(j),_(""),v(""),alert("  !")}catch(j){alert(j.message||" ")}finally{B(!1)}};return c.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#fafafa",borderRadius:"8px",border:"1px solid #eee"},children:[c.jsx("h4",{style:{marginTop:0,marginBottom:"10px",fontSize:"16px"},children:"   "}),c.jsxs("form",{onSubmit:D,style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:" (+/-)"}),c.jsx("input",{type:"number",placeholder:"-50  10",value:p,onChange:S=>_(S.target.value),required:!0,style:{width:"100px",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:1},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:" "}),c.jsx("input",{type:"text",placeholder:":      ",value:y,onChange:S=>v(S.target.value),required:!0,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsx("div",{style:{display:"flex",alignItems:"end"},children:c.jsx("button",{type:"submit",disabled:P,className:"btn-primary",style:{height:"35px",marginTop:"auto"},children:P?"...":""})})]})]})},pw=({driver:o,isOpen:u,onClose:h,onDriverUpdated:p})=>{const[_,y]=U.useState(!0);if(!u||!o)return null;const v=dw(o.activityScore),P=F=>{const te=Math.round(F);return"".repeat(te)+"".repeat(5-te)},B={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#f4f4f9",zIndex:2e3,overflowY:"auto",display:"flex",flexDirection:"column"},D={backgroundColor:"#1E1E1E",color:"#fff",padding:"15px 30px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:10,boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},S={padding:"40px",maxWidth:"1000px",margin:"0 auto",width:"100%",boxSizing:"border-box"},j={backgroundColor:"#fff",borderRadius:"8px",padding:"25px",marginBottom:"30px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},I={borderBottom:"2px solid #eee",paddingBottom:"10px",marginBottom:"20px",color:"#333",marginTop:0,fontSize:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},ne={display:"flex",marginBottom:"12px",borderBottom:"1px dashed #eee",paddingBottom:"8px"},K={fontWeight:"bold",width:"200px",color:"#555"},G={color:"#000",fontWeight:"500"},Z=({label:F,url:te})=>c.jsxs("div",{style:{marginRight:"20px",marginBottom:"20px",textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"12px",color:"#555",marginBottom:"8px",fontWeight:"bold"},children:F}),te?c.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:te,alt:F,style:{width:"160px",height:"110px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd",cursor:"zoom-in"}})}):c.jsx("div",{style:{width:"160px",height:"110px",background:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"12px",borderRadius:"8px",border:"1px dashed #ccc"},children:""})]}),Se=o.cars||(o.car?[o.car]:[]);return c.jsxs("div",{style:B,children:[c.jsxs("div",{style:D,children:[c.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold"},children:["  : ",c.jsx("span",{style:{color:"#4CAF50"},children:o.fullName})]}),c.jsx("button",{style:{background:"#e74c3c",color:"#fff",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},onClick:h,children:" "})]}),c.jsxs("div",{style:S,children:[c.jsxs("div",{style:j,children:[c.jsx("h3",{style:I,children:" "}),c.jsxs("div",{style:{display:"flex",gap:"40px",alignItems:"flex-start"},children:[c.jsxs("div",{style:{flexShrink:0,textAlign:"center"},children:[o.photoUrl?c.jsx("img",{src:o.photoUrl,alt:"Avatar",style:{width:"150px",height:"150px",borderRadius:"50%",objectFit:"cover",border:"4px solid #fff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}}):c.jsx("div",{style:{width:"150px",height:"150px",background:"#ddd",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:" "}),c.jsx("div",{style:{marginTop:"15px"},children:c.jsx("span",{style:{padding:"5px 10px",borderRadius:"15px",background:o.isOnline?"#e8f5e9":"#ffebee",color:o.isOnline?"#2e7d32":"#c62828",fontWeight:"bold"},children:o.isOnline?" ONLINE":" OFFLINE"})})]}),c.jsxs("div",{style:{flexGrow:1},children:[c.jsxs("div",{style:ne,children:[c.jsx("span",{style:K,children:"ID  :"})," ",c.jsx("span",{style:G,children:o.id})]}),c.jsxs("div",{style:ne,children:[c.jsx("span",{style:K,children:" :"})," ",c.jsx("span",{style:G,children:o.phoneNumber})]}),c.jsxs("div",{style:ne,children:[c.jsx("span",{style:K,children:"Email:"})," ",c.jsx("span",{style:G,children:o.email||"-"})]}),c.jsxs("div",{style:ne,children:[c.jsx("span",{style:K,children:":"})," ",c.jsx("span",{style:G,children:o.rnokpp||"-"})]}),c.jsxs("div",{style:ne,children:[c.jsx("span",{style:K,children:":"})," ",c.jsx("span",{style:G,children:o.driverLicense||"-"})]}),c.jsxs("div",{style:ne,children:[c.jsx("span",{style:K,children:" :"}),o.isBlocked?c.jsx("span",{style:{color:"red",fontWeight:"bold"},children:""}):o.tempBlockExpiresAt?c.jsxs("span",{style:{color:"orange",fontWeight:"bold"},children:["  ",new Date(o.tempBlockExpiresAt).toLocaleString()]}):c.jsx("span",{style:{color:"green"},children:""})]})]})]})]}),c.jsxs("div",{style:j,children:[c.jsx("h3",{style:I,children:"   "}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[c.jsx("div",{style:{fontSize:"48px",fontWeight:"bold",color:"#FFD700",textShadow:"1px 1px 2px rgba(0,0,0,0.1)"},children:o.rating?o.rating.toFixed(2):"5.00"}),c.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[c.jsx("div",{style:{fontSize:"24px",color:"#FFD700",letterSpacing:"2px"},children:P(o.rating||5)}),c.jsxs("div",{style:{color:"#666",fontSize:"14px",marginTop:"4px"},children:["  ",o.ratingCount||0," "]})]})]})]}),c.jsxs("div",{style:j,children:[c.jsx("h3",{style:I,children:"  "}),c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:v.color},children:[o.activityScore!==void 0?o.activityScore:1e3,c.jsx("span",{style:{fontSize:"16px",color:"#666",fontWeight:"normal"},children:" / 1000"})]}),c.jsx("div",{style:{display:"inline-block",marginTop:"5px",padding:"4px 12px",borderRadius:"12px",backgroundColor:v.bg,color:v.color,fontWeight:"bold",border:`1px solid ${v.color}`},children:v.label})]}),c.jsx("div",{style:{width:"60%",background:"#eee",height:"20px",borderRadius:"10px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${Math.max(0,Math.min((o.activityScore||1e3)/10,100))}%`,height:"100%",background:v.barColor,transition:"width 0.5s ease-in-out"}})})]}),c.jsx(fw,{driverId:o.id,currentScore:o.activityScore,onUpdate:p})]}),c.jsxs("div",{style:j,children:[c.jsxs("div",{style:{...I,cursor:"pointer",marginBottom:_?"20px":"0",borderBottom:_?"2px solid #eee":"none"},onClick:()=>y(!_),children:[c.jsxs("span",{children:["   (",Se.length,")"]}),c.jsx("span",{style:{fontSize:"18px",color:"#666"},children:_?"":""})]}),_&&c.jsx("div",{children:Se.length>0?Se.map((F,te)=>c.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",marginBottom:"20px",backgroundColor:F.status==="ACTIVE"?"#f0fdf4":"#fafafa",borderLeft:F.status==="ACTIVE"?"5px solid #4CAF50":"1px solid #ddd"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:[c.jsxs("div",{children:[c.jsxs("h3",{style:{margin:"0 0 5px 0",fontSize:"18px"},children:[F.make," ",F.model,F.status==="ACTIVE"&&c.jsx("span",{style:{color:"green",marginLeft:"10px",fontSize:"14px",fontWeight:"normal"},children:"()"})]}),c.jsxs("div",{style:{fontSize:"12px",color:"#777"},children:["ID: ",F.id]})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("div",{style:{background:"#333",color:"#fff",padding:"4px 12px",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",letterSpacing:"1px"},children:F.plateNumber}),c.jsx("div",{style:{marginTop:"5px",fontSize:"12px",fontWeight:"bold",color:F.status==="REJECTED"?"red":F.status==="PENDING"?"orange":"green"},children:F.status})]})]}),F.status==="REJECTED"&&F.rejectionReason&&c.jsxs("div",{style:{background:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:[c.jsx("strong",{children:"  :"})," ",F.rejectionReason]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"10px",marginBottom:"20px",fontSize:"14px"},children:[c.jsxs("div",{children:[": ",c.jsx("b",{children:F.color})]}),c.jsxs("div",{children:[" : ",c.jsx("b",{children:F.year})]}),c.jsxs("div",{children:[" : ",c.jsx("b",{children:F.carType})]}),c.jsxs("div",{children:["VIN-: ",c.jsx("b",{children:F.vin||" "})]})]}),c.jsxs("div",{style:{background:"#fff",padding:"15px",borderRadius:"8px",border:"1px solid #eee"},children:[c.jsx("h5",{style:{marginTop:0,marginBottom:"10px",color:"#1976D2",borderBottom:"1px solid #e3f2fd",paddingBottom:"5px"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(Z,{label:".  ()",url:F.techPassportFront}),c.jsx(Z,{label:".  ()",url:F.techPassportBack}),c.jsx(Z,{label:"",url:F.insurancePhoto})]}),c.jsx("h5",{style:{marginTop:"15px",marginBottom:"10px",color:"#388E3C",borderBottom:"1px solid #e8f5e9",paddingBottom:"5px"},children:" ' ( )"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(Z,{label:"",url:F.photoFront}),c.jsx(Z,{label:"",url:F.photoBack}),c.jsx(Z,{label:"",url:F.photoLeft}),c.jsx(Z,{label:"",url:F.photoRight})]}),c.jsx("h5",{style:{marginTop:"15px",marginBottom:"10px",color:"#F57C00",borderBottom:"1px solid #fff3e0",paddingBottom:"5px"},children:" ' ()"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(Z,{label:" ()",url:F.photoSeatsFront}),c.jsx(Z,{label:" ()",url:F.photoSeatsBack})]})]})]},F.id||te)):c.jsx("p",{style:{color:"#999",textAlign:"center",padding:"20px"},children:"  "})})]}),c.jsxs("div",{style:j,children:[c.jsx("h3",{style:I,children:" "}),c.jsx("div",{children:o.allowedTariffs&&o.allowedTariffs.length>0?o.allowedTariffs.map(F=>c.jsx("span",{style:{display:"inline-block",background:"#e3f2fd",color:"#1565c0",padding:"8px 16px",borderRadius:"20px",marginRight:"10px",marginBottom:"10px",fontSize:"14px",fontWeight:"bold",border:"1px solid #90caf9"},children:F.name},F.id)):"  "})]})]})]})},mw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,y]=U.useState(""),[v,P]=U.useState(""),[B,D]=U.useState([]),[S,j]=U.useState(!1),[I,ne]=U.useState(null),[K,G]=U.useState(!1),[Z,Se]=U.useState(null),F=async()=>{try{p(!0),y("");const[Oe,it]=await Promise.all([h4(),yf()]);u(Oe),D(it)}catch(Oe){y(Oe.message)}finally{p(!1)}};U.useEffect(()=>{F()},[]);const te=U.useMemo(()=>v?o.filter(Oe=>Oe.phoneNumber.includes(v)||Oe.fullName.toLowerCase().includes(v.toLowerCase())):o,[o,v]),X=()=>{ne(null),j(!0)},Y=(Oe,it)=>{it.stopPropagation(),ne(Oe),j(!0)},Pe=()=>{j(!1),ne(null)},_e=Oe=>{Se(Oe)},ae=()=>{Se(null)},ve=Oe=>{Xe(Oe),Se(Oe)},oe=async(Oe,it,be)=>{G(!0),y("");try{I?await p4(I.id,Oe,it,be):await f4(Oe,it,be),Pe(),F()}catch(nt){y(nt.message)}finally{G(!1)}},De=async(Oe,it)=>{if(it.stopPropagation(),window.confirm(" ,    ?"))try{await m4(Oe),F()}catch(be){y(be.message)}},Xe=Oe=>{u(it=>it.map(be=>be.id===Oe.id?Oe:be))},Ne=async(Oe,it)=>{it.stopPropagation();const be=prompt("   ?","24");if(be&&!isNaN(be))try{const nt=await _4(Oe,parseInt(be));Xe(nt)}catch(nt){y(nt.message)}},vt=async(Oe,it)=>{if(it.stopPropagation(),window.confirm("  ?"))try{const be=await g4(Oe);Xe(be)}catch(be){y(be.message)}},jt=async(Oe,it)=>{if(it.stopPropagation(),window.confirm(" ?"))try{const be=await y4(Oe);Xe(be)}catch(be){y(be.message)}};return h?c.jsx("div",{children:"..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["  (",te.length,")"]}),c.jsxs("div",{className:"controls",children:[c.jsx("input",{type:"text",placeholder:" (  )...",className:"search-input",value:v,onChange:Oe=>P(Oe.target.value)}),c.jsx("button",{className:"btn-primary",onClick:X,children:"+  "})]})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:""}),c.jsx("th",{children:" "}),c.jsx("th",{children:" ()"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:"./."}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:te.length>0?te.map(Oe=>c.jsxs("tr",{onDoubleClick:()=>_e(Oe),style:{cursor:"pointer"},title:"   ",className:"table-row-hover",children:[c.jsx("td",{children:Oe.id}),c.jsx("td",{children:Oe.photoUrl?c.jsx("img",{src:Oe.photoUrl,alt:"Foto",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"#ccc"}})}),c.jsx("td",{children:Oe.fullName}),c.jsx("td",{children:Oe.phoneNumber}),c.jsx("td",{children:Oe.email||"-"}),c.jsx("td",{children:c.jsx("span",{className:Oe.isOnline?"status-online":"status-offline",children:Oe.isOnline?"ON":"OFF"})}),c.jsx("td",{children:Oe.isBlocked?c.jsx("strong",{style:{color:"red"},children:"BLOCK"}):Oe.tempBlockExpiresAt?c.jsxs("small",{style:{color:"orange"},children:[" ",new Date(Oe.tempBlockExpiresAt).toLocaleTimeString()]}):c.jsx("span",{style:{color:"green"},children:""})}),c.jsx("td",{children:Oe.car?.photoUrl?c.jsx("img",{src:Oe.car.photoUrl,alt:"Car",style:{width:"60px",height:"40px",borderRadius:"4px",objectFit:"cover"}}):c.jsx("span",{style:{color:"#ccc"},children:""})}),c.jsx("td",{children:Oe.car?.carType||""}),c.jsx("td",{children:Oe.car?`${Oe.car.make} ${Oe.car.model}`:""}),c.jsx("td",{children:Oe.car?.plateNumber||""}),c.jsxs("td",{children:[c.jsx("button",{className:"btn-secondary",onClick:it=>Y(Oe,it),style:{marginRight:"5px"},children:"Edit"}),c.jsx("button",{className:"btn-danger",onClick:it=>De(Oe.id,it),children:"Del"})]}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",gap:"2px"},children:[c.jsx("button",{className:"btn-secondary",onClick:it=>Ne(Oe.id,it),title:"",children:"T"}),c.jsx("button",{className:"btn-danger",onClick:it=>vt(Oe.id,it),title:"",children:"P"}),c.jsx("button",{className:"btn-primary",onClick:it=>jt(Oe.id,it),title:"",children:"U"})]})})]},Oe.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"13",children:"  ."})})})]})}),c.jsx(ta,{isOpen:S,onClose:Pe,title:I?" ":"  ",children:c.jsx(hw,{initialData:I,availableTariffs:B,onSubmit:oe,onCancel:Pe,isLoading:K})}),c.jsx(pw,{driver:Z,isOpen:!!Z,onClose:ae,onDriverUpdated:ve})]})},gw=async()=>{try{return(await ht.get("/admin/clients")).data}catch(o){throw new Error(o.response?.data?.message||"    ")}},j0=async o=>{try{return(await ht.patch(`/admin/clients/${o}/block`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},T0=async o=>{try{return(await ht.patch(`/admin/clients/${o}/unblock`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},_w=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,y]=U.useState(""),[v,P]=U.useState(""),B=async()=>{try{p(!0),y("");const I=await gw();u(I)}catch(I){y(I.message)}finally{p(!1)}};U.useEffect(()=>{B()},[]);const D=U.useMemo(()=>v?o.filter(I=>I.phoneNumber.includes(v)):o,[o,v]),S=I=>{u(ne=>ne.map(K=>K.id===I.id?I:K))},j=async I=>{const ne=I.isBlocked?T0:j0,K=I.isBlocked?"":"";if(window.confirm(` ,   ${K}  ${I.fullName}?`))try{y("");const G=await ne(I.id);S(G)}catch(G){y(G.message)}};return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["  (",D.length,")"]}),c.jsx("div",{className:"controls",children:c.jsx("input",{type:"text",placeholder:"  ...",className:"search-input",value:v,onChange:I=>P(I.target.value)})})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:D.length>0?D.map(I=>c.jsxs("tr",{children:[c.jsx("td",{children:I.id}),c.jsx("td",{children:I.fullName}),c.jsx("td",{children:I.phoneNumber}),c.jsx("td",{children:I.isBlocked?c.jsx("strong",{style:{color:"red"},children:""}):c.jsx("span",{style:{color:"green"},children:""})}),c.jsx("td",{children:c.jsx("button",{className:I.isBlocked?"btn-primary":"btn-danger",onClick:()=>j(I),children:I.isBlocked?"":""})})]},I.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"5",children:"  ."})})})]})})]})},yw=({initialData:o,onSubmit:u,onCancel:h,isLoading:p})=>{const[_,y]=U.useState({name:"",basePrice:0,pricePerKm:0,pricePerKmOutCity:0,freeWaitingMinutes:3,pricePerWaitingMinute:0,isActive:!0}),[v,P]=U.useState(null),[B,D]=U.useState(null),S=o!==null;U.useEffect(()=>{S?(y({name:o.name,basePrice:o.basePrice,pricePerKm:o.pricePerKm,pricePerKmOutCity:o.pricePerKmOutCity||0,freeWaitingMinutes:o.freeWaitingMinutes,pricePerWaitingMinute:o.pricePerWaitingMinute,isActive:o.isActive}),D(o.imageUrl)):(y({name:"",basePrice:0,pricePerKm:0,pricePerKmOutCity:0,freeWaitingMinutes:3,pricePerWaitingMinute:0,isActive:!0}),D(null)),P(null)},[o,S]);const j=K=>{const{name:G,value:Z,type:Se,checked:F}=K.target;y(te=>({...te,[G]:Se==="checkbox"?F:Z}))},I=K=>{K.target.files&&K.target.files[0]&&P(K.target.files[0])},ne=K=>{K.preventDefault();const G={..._,basePrice:parseFloat(_.basePrice),pricePerKm:parseFloat(_.pricePerKm),pricePerKmOutCity:parseFloat(_.pricePerKmOutCity),freeWaitingMinutes:parseInt(_.freeWaitingMinutes),pricePerWaitingMinute:parseFloat(_.pricePerWaitingMinute)};u(G,v)};return c.jsxs("form",{onSubmit:ne,className:"entity-form",children:[c.jsxs("fieldset",{className:"full-width",children:[c.jsx("legend",{children:"Tariff Details"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tariff Name"}),c.jsx("input",{type:"text",name:"name",value:_.name,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Base Price"}),c.jsx("input",{type:"number",step:"0.01",name:"basePrice",value:_.basePrice,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Price per 1 km (City)"}),c.jsx("input",{type:"number",step:"0.01",name:"pricePerKm",value:_.pricePerKm,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Price per 1 km (Out of City)"}),c.jsx("input",{type:"number",step:"0.01",name:"pricePerKmOutCity",value:_.pricePerKmOutCity,onChange:j,required:!0,style:{borderColor:"#ff9800"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Free waiting (min)"}),c.jsx("input",{type:"number",name:"freeWaitingMinutes",value:_.freeWaitingMinutes,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Price per waiting min"}),c.jsx("input",{type:"number",step:"0.01",name:"pricePerWaitingMinute",value:_.pricePerWaitingMinute,onChange:j,required:!0})]}),c.jsxs("div",{className:"form-group checkbox-label",style:{alignItems:"center"},children:[c.jsx("input",{type:"checkbox",name:"isActive",checked:_.isActive,onChange:j}),c.jsx("label",{children:"Tariff Active"})]})]})]}),c.jsxs("fieldset",{className:"full-width",children:[c.jsx("legend",{children:"Tariff Icon (PNG)"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Upload new icon (optional)"}),c.jsx("input",{type:"file",name:"file",onChange:I,accept:"image/png, image/jpeg"}),S&&B&&!v&&c.jsxs("div",{style:{marginTop:"10px"},children:[c.jsx("p",{children:"Current Icon:"}),c.jsx("img",{src:B,alt:_.name,style:{width:"50px",height:"50px",objectFit:"cover"}})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:h,disabled:p,children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":"Save"})]})]})},vw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,y]=U.useState(""),[v,P]=U.useState(!1),[B,D]=U.useState(null),[S,j]=U.useState(!1),I=async()=>{try{p(!0),y("");const F=await yf();u(F)}catch(F){y(F.message)}finally{p(!1)}};U.useEffect(()=>{I()},[]);const ne=()=>{D(null),P(!0)},K=F=>{D(F),P(!0)},G=()=>{P(!1),D(null)},Z=async(F,te)=>{j(!0),y("");try{B?await uw(B.id,F,te):await lw(F,te),G(),I()}catch(X){y(X.message)}finally{j(!1)}},Se=async F=>{if(window.confirm("Are you sure? This will delete the tariff and its image."))try{await cw(F),I()}catch(te){y(te.message)}};return h?c.jsx("div",{children:"Loading tariffs..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["Tariff Settings (",o.length,")"]}),c.jsx("div",{className:"controls",children:c.jsx("button",{className:"btn-primary",onClick:ne,children:"+ Create Tariff"})})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Icon"})," ",c.jsx("th",{children:"ID"}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Base Price"}),c.jsx("th",{children:"Price/km"}),c.jsx("th",{children:"Out City $/km"}),c.jsx("th",{children:"Free Wait (min)"}),c.jsx("th",{children:"Wait Price/min"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:o.length>0?o.map(F=>c.jsxs("tr",{children:[c.jsx("td",{children:F.imageUrl?c.jsx("img",{src:F.imageUrl,alt:F.name,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"4px"}}):"N/A"}),c.jsx("td",{children:F.id}),c.jsx("td",{children:c.jsx("strong",{children:F.name})}),c.jsx("td",{children:c.jsx("span",{className:F.isActive?"status-online":"status-offline",children:F.isActive?"ACTIVE":"OFF"})}),c.jsx("td",{children:F.basePrice.toFixed(2)}),c.jsx("td",{children:F.pricePerKm.toFixed(2)}),c.jsx("td",{style:{color:"#e65100",fontWeight:"bold"},children:F.pricePerKmOutCity?F.pricePerKmOutCity.toFixed(2):"-"}),c.jsxs("td",{children:[F.freeWaitingMinutes," min"]}),c.jsx("td",{children:F.pricePerWaitingMinute.toFixed(2)}),c.jsxs("td",{children:[c.jsx("button",{className:"btn-secondary",onClick:()=>K(F),children:"Edit"}),c.jsx("button",{className:"btn-danger",onClick:()=>Se(F.id),children:"Delete"})]})]},F.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"9",children:"No tariffs found. Create the first one."})})})]})}),c.jsx(ta,{isOpen:v,onClose:G,title:B?"Edit Tariff":"Create New Tariff",children:c.jsx(yw,{initialData:B,onSubmit:Z,onCancel:G,isLoading:S})})]})},xw=async()=>{try{return(await ht.get("/admin/dispatchers")).data}catch(o){throw new Error(o.response?.data?.message||"   ")}},ww=async o=>{try{return(await ht.post("/admin/dispatchers",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},bw=async(o,u)=>{try{return(await ht.put(`/admin/dispatchers/${o}`,u)).data}catch(h){throw new Error(h.response?.data?.message||"  ")}},Cw=async o=>{try{return(await ht.delete(`/admin/dispatchers/${o}`)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},Lw=({initialData:o,onSubmit:u,onCancel:h,isLoading:p})=>{const[_,y]=U.useState({userLogin:"",fullName:"",password:""}),v=o!==null;U.useEffect(()=>{y(v?{userLogin:o.userLogin,fullName:o.fullName,password:""}:{userLogin:"",fullName:"",password:""})},[o,v]);const P=D=>{const{name:S,value:j}=D.target;y(I=>({...I,[S]:j}))},B=D=>{D.preventDefault();const S={..._};if(!v&&!S.password){alert("    ");return}v&&S.password===""&&(S.password=null),u(S)};return c.jsxs("form",{onSubmit:B,className:"entity-form",children:[c.jsxs("fieldset",{className:"full-width",children:[c.jsx("legend",{children:" "}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsx("input",{type:"text",name:"userLogin",value:_.userLogin,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  ()"}),c.jsx("input",{type:"text",name:"fullName",value:_.fullName,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:""}),c.jsx("input",{type:"password",name:"password",value:_.password,onChange:P,placeholder:v?"( ,   )":" 6 ",minLength:v?0:6})]})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:h,disabled:p,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"...":""})]})]})},kw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,y]=U.useState(""),[v,P]=U.useState(!1),[B,D]=U.useState(null),[S,j]=U.useState(!1),I=async()=>{try{p(!0),y("");const X=await xw();u(X)}catch(X){y(X.message)}finally{p(!1)}};U.useEffect(()=>{I()},[]);const ne=()=>{D(null),P(!0)},K=X=>{D(X),P(!0)},G=()=>{P(!1),D(null)},Z=async X=>{j(!0),y("");try{B?await bw(B.id,X):await ww(X),G(),I()}catch(Y){y(Y.message)}finally{j(!1)}},Se=async X=>{if(window.confirm(" ,     ?"))try{await Cw(X),I()}catch(Y){y(Y.message)}},F=X=>{u(Y=>Y.map(Pe=>Pe.id===X.id?{...Pe,isBlocked:X.isBlocked}:Pe))},te=async X=>{const Y=X.isBlocked?T0:j0,Pe=X.isBlocked?"":"";if(window.confirm(` ,   ${Pe}  ${X.fullName}?`))try{y("");const _e=await Y(X.id);F(_e)}catch(_e){y(_e.message)}};return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["  (",o.length,")"]}),c.jsx("div",{className:"controls",children:c.jsx("button",{className:"btn-primary",onClick:ne,children:"+  "})})]}),_&&c.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:_}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:"  ()"}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:o.length>0?o.map(X=>c.jsxs("tr",{children:[c.jsx("td",{children:X.id}),c.jsx("td",{children:X.userLogin}),c.jsx("td",{children:X.fullName}),c.jsx("td",{children:X.isBlocked?c.jsx("strong",{style:{color:"red"},children:""}):c.jsx("span",{style:{color:"green"},children:""})}),c.jsxs("td",{children:[c.jsx("button",{className:"btn-secondary",onClick:()=>K(X),children:"."}),c.jsx("button",{className:X.isBlocked?"btn-primary":"btn-danger",onClick:()=>te(X),children:X.isBlocked?".":"."}),c.jsx("button",{className:"btn-danger",onClick:()=>Se(X.id),children:""})]})]},X.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"5",children:"  ."})})})]})}),c.jsx(ta,{isOpen:v,onClose:G,title:B?" ":" ",children:c.jsx(Lw,{initialData:B,onSubmit:Z,onCancel:G,isLoading:S})})]})},Ew=async()=>{try{return(await ht.get("/admin/promos")).data}catch(o){throw new Error(o.response?.data?.message||"   ")}},Sw=async o=>{try{return(await ht.post("/admin/promos",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},Pw=async o=>{try{await ht.delete(`/admin/promos/${o}`)}catch(u){throw new Error(u.response?.data?.message||"  ")}},Mw=async()=>{try{return(await ht.get("/admin/promocodes")).data}catch(o){return console.warn("GET /admin/promocodes error:",o),[]}},Bw=async o=>{try{return(await ht.post("/admin/promocodes",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},jw=async o=>{try{await ht.delete(`/admin/promocodes/${o}`)}catch(u){throw new Error(u.response?.data?.message||"  ")}},Tw=({onSubmit:o,onCancel:u,isLoading:h})=>{const[p,_]=U.useState([]),[y,v]=U.useState({title:"",description:"",requiredRides:1,requiredDistanceKm:0,discountPercent:10,requiredTariffId:"",isOneTime:!0,maxDiscountAmount:"",activeDaysDuration:""});U.useEffect(()=>{yf().then(_).catch(console.error)},[]);const P=D=>{const{name:S,value:j,type:I,checked:ne}=D.target,K=I==="checkbox"?ne:j;v(G=>({...G,[S]:K}))},B=D=>{D.preventDefault();const S={title:y.title,description:y.description,requiredRides:parseInt(y.requiredRides),requiredDistanceKm:parseFloat(y.requiredDistanceKm)||0,discountPercent:parseFloat(y.discountPercent),requiredTariffId:y.requiredTariffId?parseInt(y.requiredTariffId):null,isOneTime:y.isOneTime,maxDiscountAmount:y.maxDiscountAmount?parseFloat(y.maxDiscountAmount):null,activeDaysDuration:y.activeDaysDuration?parseInt(y.activeDaysDuration):null};o(S)};return c.jsxs("form",{onSubmit:B,className:"entity-form",children:[c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",name:"title",placeholder:":  ",value:y.title,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",name:"description",placeholder:":  5 ",value:y.description,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group-row",style:{display:"flex",gap:"10px"},children:[c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{children:" ()"}),c.jsx("input",{type:"number",name:"requiredRides",min:"0",placeholder:"0 =  ",value:y.requiredRides,onChange:P})]}),c.jsxs("div",{className:"form-group",style:{flex:1},children:[c.jsx("label",{children:"  ()"}),c.jsx("input",{type:"number",name:"requiredDistanceKm",min:"0",step:"0.1",placeholder:"0 =  ",value:y.requiredDistanceKm,onChange:P})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  (%)"}),c.jsx("input",{type:"number",name:"discountPercent",min:"1",max:"100",value:y.discountPercent,onChange:P,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:".   ()"}),c.jsx("input",{type:"number",name:"maxDiscountAmount",min:"0",placeholder:" =  ",value:y.maxDiscountAmount,onChange:P}),c.jsx("small",{style:{color:"#666",fontSize:"0.8rem"},children:" ,   "})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  ()"}),c.jsxs("select",{name:"requiredTariffId",value:y.requiredTariffId,onChange:P,style:{padding:"0.6rem",borderRadius:"4px",border:"1px solid #ccc"},children:[c.jsx("option",{value:"",children:" - () "}),p.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))]})]}),c.jsxs("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("input",{type:"checkbox",name:"isOneTime",id:"isOneTime",checked:y.isOneTime,onChange:P,style:{width:"20px",height:"20px"}}),c.jsx("label",{htmlFor:"isOneTime",style:{marginBottom:0,cursor:"pointer"},children:"  ?"})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:u,disabled:h,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"...":""})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"   ()"}),c.jsx("input",{type:"number",name:"activeDaysDuration",min:"1",placeholder:" = ",value:y.activeDaysDuration,onChange:P}),c.jsx("small",{style:{color:"#666"},children:"    ,     ."})]})]})},Dw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,y]=U.useState(!1),[v,P]=U.useState(!1),B=async()=>{try{p(!0);const j=await Ew();u(j)}catch(j){alert(j.message)}finally{p(!1)}};U.useEffect(()=>{B()},[]);const D=async j=>{try{P(!0),await Sw(j),y(!1),B()}catch(I){alert(I.message)}finally{P(!1)}},S=async j=>{if(window.confirm("  ?     ."))try{await Pw(j),B()}catch(I){alert(I.message)}};return c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("h2",{children:" "}),c.jsx("button",{className:"btn-primary",onClick:()=>y(!0),children:"+  "})]}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:" "}),c.jsx("th",{children:". "}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:o.length>0?o.map(j=>c.jsxs("tr",{children:[c.jsx("td",{children:j.id}),c.jsx("td",{children:c.jsx("strong",{children:j.title})}),c.jsx("td",{children:j.description}),c.jsx("td",{children:j.requiredDistanceMeters>0?c.jsxs("span",{style:{color:"#2196F3",fontWeight:"bold"},children:[(j.requiredDistanceMeters/1e3).toFixed(1)," "]}):c.jsxs("span",{children:[j.requiredRides," "]})}),c.jsx("td",{children:j.requiredTariff?c.jsx("span",{className:"status-online",children:j.requiredTariff.name}):" - "}),c.jsxs("td",{children:[j.discountPercent,"%"]}),c.jsx("td",{style:{textAlign:"center"},children:j.activeDaysDuration&&j.activeDaysDuration>0?c.jsxs("span",{className:"badge badge-warning",style:{background:"#fff3cd",color:"#856404",padding:"4px 8px",borderRadius:"4px",fontSize:"0.9em"},children:[j.activeDaysDuration," ."]}):c.jsx("span",{style:{color:"#aaa"},children:""})}),c.jsx("td",{children:j.maxDiscountAmount?c.jsxs("span",{children:[" ",j.maxDiscountAmount," "]}):c.jsx("span",{style:{color:"#aaa"},children:""})}),c.jsx("td",{children:c.jsx("button",{className:"btn-danger",onClick:()=>S(j.id),children:""})})]},j.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"9",children:" .  !"})})})]})}),c.jsx(ta,{isOpen:_,onClose:()=>y(!1),title:" ",children:c.jsx(Tw,{onSubmit:D,onCancel:()=>y(!1),isLoading:v})})]})},Aw=({isOpen:o,onClose:u,onSuccess:h})=>{const[p,_]=U.useState({code:"",discountPercent:"",maxDiscountAmount:"",usageLimit:"",activeDays:"",durationHours:""}),[y,v]=U.useState(!1);if(!o)return null;const P=D=>{_({...p,[D.target.name]:D.target.value})},B=async D=>{D.preventDefault(),v(!0);try{const S={code:p.code,discountPercent:parseFloat(p.discountPercent),maxDiscountAmount:p.maxDiscountAmount?parseFloat(p.maxDiscountAmount):null,usageLimit:p.usageLimit?parseInt(p.usageLimit):null,activeDays:p.activeDays?parseInt(p.activeDays):null,durationHours:p.durationHours?parseInt(p.durationHours):null};await Bw(S),h(),u(),_({code:"",discountPercent:"",maxDiscountAmount:"",usageLimit:"",activeDays:""})}catch(S){alert(S.message)}finally{v(!1)}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" "}),c.jsx("button",{className:"close-btn",onClick:u,children:""})]}),c.jsxs("form",{onSubmit:B,className:"modal-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" (. SUMMER25)"}),c.jsx("input",{name:"code",value:p.code,onChange:P,required:!0,style:{textTransform:"uppercase",fontWeight:"bold"},placeholder:" ..."})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" (%)"}),c.jsx("input",{type:"number",name:"discountPercent",value:p.discountPercent,onChange:P,required:!0,min:"1",max:"100"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:".  ()"}),c.jsx("input",{type:"number",name:"maxDiscountAmount",value:p.maxDiscountAmount,onChange:P,placeholder:""})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"  ()"}),c.jsx("input",{type:"number",name:"activeDays",value:p.activeDays,onChange:P,placeholder:""})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"   ()"}),c.jsx("input",{type:"number",name:"durationHours",value:p.durationHours,onChange:P,placeholder:". 24 (  )"}),c.jsx("small",{style:{color:"#666"},children:"    ,      ."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"number",name:"usageLimit",value:p.usageLimit,onChange:P,placeholder:""})]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",onClick:u,className:"cancel-btn",children:""}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:y,children:y?"...":""})]})]})]})})},Rw=()=>{const[o,u]=U.useState(!1),[h,p]=U.useState([]),_=async()=>{const v=await Mw();p(Array.isArray(v)?v:[])};U.useEffect(()=>{_()},[]);const y=async v=>{if(window.confirm(" ,     ?     ,    ."))try{await jw(v),_()}catch(P){alert(P.message)}};return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"page-header",children:[c.jsx("h1",{children:""}),c.jsx("button",{className:"add-btn",onClick:()=>u(!0),children:"+  "})]}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:". "}),c.jsx("th",{children:"  "}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})," "]})}),c.jsx("tbody",{children:h.length>0?h.map(v=>c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold",color:"#2563eb"},children:v.code}),c.jsxs("td",{children:[v.discountPercent,"%"]}),c.jsx("td",{children:v.maxDiscountAmount?`${v.maxDiscountAmount} `:""}),c.jsx("td",{children:v.activationDurationHours?`${v.activationDurationHours} .`:""}),c.jsx("td",{children:v.usageLimit?v.usageLimit:""}),c.jsx("td",{children:v.usedCount}),c.jsx("td",{children:c.jsx("button",{className:"delete-btn",onClick:()=>y(v.id),style:{backgroundColor:"#ffebee",color:"#d32f2f",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:""})})]},v.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"20px"},children:"   ..."})})})]})}),c.jsx(Aw,{isOpen:o,onClose:()=>u(!1),onSuccess:_})]})},Ow=async()=>{try{return(await ht.get("/admin/news")).data}catch(o){throw new Error(o.response?.data?.message||"  ")}},Nw=async o=>{try{return(await ht.post("/admin/news",o)).data}catch(u){throw new Error(u.response?.data?.message||"  ")}},Iw=async o=>{try{await ht.delete(`/admin/news/${o}`)}catch(u){throw new Error(u.response?.data?.message||"  ")}},Fw=({onSubmit:o,onCancel:u,isLoading:h})=>{const[p,_]=U.useState({title:"",content:""}),y=P=>{const{name:B,value:D}=P.target;_(S=>({...S,[B]:D}))},v=P=>{if(P.preventDefault(),!p.title||!p.content){alert(" ,   ");return}o(p)};return c.jsxs("form",{onSubmit:v,className:"promo-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("input",{type:"text",name:"title",value:p.title,onChange:y,placeholder:".  ",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:" "}),c.jsx("textarea",{name:"content",value:p.content,onChange:y,placeholder:"    ...",rows:"5",required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:u,disabled:h,children:""}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"...":""})]})]})},zw=({sosList:o,setSosList:u})=>{const[h,p]=U.useState([]),[_,y]=U.useState(!0),[v,P]=U.useState(!1),[B,D]=U.useState(!1),S=async()=>{try{y(!0);const G=await Ow();p(G)}catch(G){console.error(G)}finally{y(!1)}};U.useEffect(()=>{S()},[]);const j=async G=>{try{D(!0),await Nw(G),P(!1),S()}catch(Z){alert(Z.message)}finally{D(!1)}},I=async G=>{if(window.confirm("  ?"))try{await Iw(G),S()}catch(Z){alert(Z.message)}},ne=()=>{window.confirm("  ?")&&u&&u([])},K=o||[];return c.jsxs("div",{className:"table-page-container",style:{display:"flex",gap:"20px",height:"100%",alignItems:"stretch"},children:[c.jsxs("div",{style:{flex:65,display:"flex",flexDirection:"column"},children:[c.jsxs("div",{className:"table-header",children:[c.jsx("h2",{children:"   "}),c.jsx("button",{className:"btn-primary",onClick:()=>P(!0),children:"+ "})]}),c.jsx("div",{className:"table-container",style:{flex:1},children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{style:{width:"100px"},children:""}),c.jsx("th",{style:{width:"180px"},children:""}),c.jsx("th",{children:""}),c.jsx("th",{style:{width:"80px"},children:""})]})}),c.jsx("tbody",{children:_?c.jsx("tr",{children:c.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"..."})}):h.length>0?h.map(G=>c.jsxs("tr",{children:[c.jsx("td",{style:{color:"#666",fontSize:"0.85em"},children:G.date}),c.jsx("td",{style:{fontWeight:"bold",color:"#2196F3"},children:G.title}),c.jsx("td",{style:{whiteSpace:"pre-wrap",fontSize:"0.9em"},children:G.content}),c.jsx("td",{children:c.jsx("button",{className:"delete-btn",onClick:()=>I(G.id),children:"X"})})]},G.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:" "})})})]})})]}),c.jsxs("div",{style:{flex:35,display:"flex",flexDirection:"column",backgroundColor:"#ffebee",border:"2px solid #ef5350",borderRadius:"8px",padding:"10px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[c.jsx("h2",{style:{color:"#d32f2f",margin:0,fontSize:"1.2em"},children:" SOS "}),K.length>0&&c.jsx("button",{onClick:ne,style:{background:"#d32f2f",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",cursor:"pointer"},children:""})]}),c.jsx("div",{style:{overflowY:"auto",flex:1},children:K.length===0?c.jsxs("div",{style:{textAlign:"center",color:"#b71c1c",marginTop:"20px",opacity:.6},children:[c.jsx("h3",{children:""}),c.jsx("p",{children:"  "})]}):K.map((G,Z)=>c.jsxs("div",{style:{backgroundColor:"white",padding:"12px",marginBottom:"8px",borderRadius:"6px",boxShadow:"0 2px 4px rgba(0,0,0,0.15)",borderLeft:"5px solid #d32f2f"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[c.jsx("strong",{style:{fontSize:"1.1em"},children:G.driverName}),c.jsx("span",{style:{color:"#d32f2f",fontWeight:"bold"},children:G.timestamp})]}),c.jsxs("div",{style:{fontSize:"0.9em",color:"#333"},children:[" ",G.carNumber," ",c.jsx("br",{})," ",c.jsx("a",{href:`tel:${G.phone}`,children:G.phone})]}),c.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${G.lat},${G.lng}`,target:"_blank",rel:"noreferrer",style:{display:"block",textAlign:"center",background:"#d32f2f",color:"white",textDecoration:"none",padding:"6px",borderRadius:"4px",marginTop:"8px",fontSize:"0.9em"},children:"   "})]},Z))})]}),c.jsx(ta,{isOpen:v,onClose:()=>P(!1),title:" ",children:c.jsx(Fw,{onSubmit:j,onCancel:()=>P(!1),isLoading:B})})]})},vf="http://localhost:8080/api/v1/admin/services",xf=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}),Uw=async()=>{const o=await fetch(vf,{headers:xf()});if(!o.ok){const u=await o.text();throw console.error("Error fetching services:",o.status,u),new Error("  ")}return await o.json()},Hw=async o=>{const u=await fetch(vf,{method:"POST",headers:xf(),body:JSON.stringify(o)});if(!u.ok){const h=await u.text();throw console.error("Error creating service:",u.status,h),new Error("  ")}return await u.json()},Ww=async o=>{const u=await fetch(`${vf}/${o}`,{method:"DELETE",headers:xf()});if(!u.ok){const h=await u.text();throw console.error("Error deleting service:",u.status,h),new Error("  ")}},qw=({onSubmit:o,onCancel:u,isLoading:h})=>{const[p,_]=U.useState(""),[y,v]=U.useState(""),P=B=>{B.preventDefault();let D=parseFloat(y);(y==="-"||isNaN(D)||y==="")&&(D=0),o({name:p,price:D})};return c.jsxs("form",{onSubmit:P,children:[c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:" "}),c.jsx("input",{type:"text",value:p,onChange:B=>_(B.target.value),placeholder:": ",required:!0,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:" ()"}),c.jsx("input",{type:"text",value:y,onChange:B=>v(B.target.value),placeholder:"   '-'  ",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),c.jsx("small",{style:{color:"#666"},children:'  "-" = '})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[c.jsx("button",{type:"button",onClick:u,disabled:h,style:{padding:"8px 16px",backgroundColor:"#e0e0e0",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),c.jsx("button",{type:"submit",disabled:h,style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:h?"not-allowed":"pointer",opacity:h?.7:1},children:h?"...":""})]})]})},Vw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,y]=U.useState(!1),[v,P]=U.useState(!1),B=async()=>{try{p(!0);const j=await Uw();u(j)}catch(j){console.error(j),alert("   ")}finally{p(!1)}};U.useEffect(()=>{B()},[]);const D=async j=>{try{P(!0),await Hw(j),y(!1),B()}catch(I){alert(I.message)}finally{P(!1)}},S=async j=>{if(window.confirm("  ?"))try{await Ww(j),B()}catch(I){alert(I.message)}};return c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("h2",{children:" "}),c.jsx("button",{className:"btn-primary",onClick:()=>y(!0),children:"+  "})]}),c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:" "}),c.jsx("th",{style:{width:"150px"},children:""}),c.jsx("th",{style:{width:"100px"},children:""})]})}),c.jsx("tbody",{children:h?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",style:{textAlign:"center"},children:"..."})}):o.length>0?o.map(j=>c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"500"},children:j.name}),c.jsx("td",{children:j.price===0?c.jsx("span",{style:{backgroundColor:"#e8f5e9",color:"#2e7d32",padding:"4px 8px",borderRadius:"12px",fontSize:"0.85em",fontWeight:"bold"},children:""}):c.jsxs("span",{style:{fontWeight:"bold"},children:[j.price," "]})}),c.jsx("td",{children:c.jsx("button",{className:"delete-btn",onClick:()=>S(j.id),style:{backgroundColor:"#ffebee",color:"#d32f2f",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},children:""})})]},j.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"3",style:{textAlign:"center",padding:"20px"},children:"  "})})})]})}),c.jsx(ta,{isOpen:_,onClose:()=>y(!1),title:" ",children:c.jsx(qw,{onSubmit:D,onCancel:()=>y(!1),isLoading:v})})]})},Gw=()=>{const[o,u]=U.useState({}),[h,p]=U.useState(!1);U.useEffect(()=>{_()},[]);const _=async()=>{try{const v=await v0();u(v)}catch(v){console.error(" :",v)}},y=async(v,P,B,D)=>{p(!0);try{const S={};if(P){const j=await E4(v,P);S[v]=j}S[`${v}_width`]=B.toString(),S[`${v}_height`]=D.toString(),await S4(S),u(j=>({...j,...S})),alert(" !")}catch(S){alert(": "+S.message)}finally{p(!1)}};return c.jsxs("div",{className:"page-container",children:[c.jsx("div",{className:"page-header",children:c.jsx("h2",{children:"  "})}),c.jsxs("div",{className:"settings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:[c.jsx(fg,{title:"   ()",description:"   .",settingKey:"driver_map_icon",settingsData:o,onSave:y,loading:h}),c.jsx(fg,{title:"   ()",description:"   .",settingKey:"client_car_icon",settingsData:o,onSave:y,loading:h})]})]})},fg=({title:o,description:u,settingKey:h,settingsData:p,onSave:_,loading:y})=>{const[v,P]=U.useState(null),[B,D]=U.useState(null),[S,j]=U.useState(p[`${h}_width`]||40),[I,ne]=U.useState(p[`${h}_height`]||40);U.useEffect(()=>{p[`${h}_width`]&&j(p[`${h}_width`]),p[`${h}_height`]&&ne(p[`${h}_height`])},[p,h]);const K=Z=>{const Se=Z.target.files[0];Se&&(D(Se),P(URL.createObjectURL(Se)))},G=p[h];return c.jsxs("div",{className:"card",style:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[c.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"5px"},children:o}),c.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginBottom:"15px"},children:u}),c.jsx("input",{type:"file",accept:"image/*",onChange:K,style:{marginBottom:"15px"}}),c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:" (px):"}),c.jsx("input",{type:"number",value:S,onChange:Z=>j(Z.target.value),style:{width:"100%",padding:"5px",marginTop:"5px"}})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:" (px):"}),c.jsx("input",{type:"number",value:I,onChange:Z=>ne(Z.target.value),style:{width:"100%",padding:"5px",marginTop:"5px"}})]})]}),c.jsx("div",{style:{height:"150px",border:"2px dashed #ccc",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",background:"#f9f9f9",overflow:"hidden"},children:v||G?c.jsx("img",{src:v||G,alt:"Preview",style:{width:`${S}px`,height:`${I}px`,objectFit:"contain",border:"1px solid red"}}):c.jsx("span",{style:{color:"#999",fontSize:"0.8rem"},children:" "})}),c.jsx("button",{className:"btn-primary",style:{marginTop:"15px",width:"100%"},onClick:()=>_(h,B,S,I),disabled:y,children:y?"...":""})]})};var pg={},mg;function Zw(){return mg||(mg=1,(()=>{var o=Object.create,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,_=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,v=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports),P=(r,i,a,d)=>{if(i&&typeof i=="object"||typeof i=="function")for(let g of p(i))!y.call(r,g)&&g!==a&&u(r,g,{get:()=>i[g],enumerable:!(d=h(i,g))||d.enumerable});return r},B=(r,i,a)=>(a=r!=null?o(_(r)):{},P(i||!r||!r.__esModule?u(a,"default",{value:r,enumerable:!0}):a,r)),D=v((r,i)=>{function a(){this.__data__=[],this.size=0}i.exports=a}),S=v((r,i)=>{function a(d,g){return d===g||d!==d&&g!==g}i.exports=a}),j=v((r,i)=>{var a=S();function d(g,x){for(var k=g.length;k--;)if(a(g[k][0],x))return k;return-1}i.exports=d}),I=v((r,i)=>{var a=j(),d=Array.prototype,g=d.splice;function x(k){var E=this.__data__,T=a(E,k);if(T<0)return!1;var A=E.length-1;return T==A?E.pop():g.call(E,T,1),--this.size,!0}i.exports=x}),ne=v((r,i)=>{var a=j();function d(g){var x=this.__data__,k=a(x,g);return k<0?void 0:x[k][1]}i.exports=d}),K=v((r,i)=>{var a=j();function d(g){return a(this.__data__,g)>-1}i.exports=d}),G=v((r,i)=>{var a=j();function d(g,x){var k=this.__data__,E=a(k,g);return E<0?(++this.size,k.push([g,x])):k[E][1]=x,this}i.exports=d}),Z=v((r,i)=>{var a=D(),d=I(),g=ne(),x=K(),k=G();function E(T){var A=-1,W=T==null?0:T.length;for(this.clear();++A<W;){var q=T[A];this.set(q[0],q[1])}}E.prototype.clear=a,E.prototype.delete=d,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,i.exports=E}),Se=v((r,i)=>{var a=Z();function d(){this.__data__=new a,this.size=0}i.exports=d}),F=v((r,i)=>{function a(d){var g=this.__data__,x=g.delete(d);return this.size=g.size,x}i.exports=a}),te=v((r,i)=>{function a(d){return this.__data__.get(d)}i.exports=a}),X=v((r,i)=>{function a(d){return this.__data__.has(d)}i.exports=a}),Y=v((r,i)=>{var a=typeof Ze=="object"&&Ze&&Ze.Object===Object&&Ze;i.exports=a}),Pe=v((r,i)=>{var a=Y(),d=typeof self=="object"&&self&&self.Object===Object&&self,g=a||d||Function("return this")();i.exports=g}),_e=v((r,i)=>{var a=Pe(),d=a.Symbol;i.exports=d}),ae=v((r,i)=>{var a=_e(),d=Object.prototype,g=d.hasOwnProperty,x=d.toString,k=a?a.toStringTag:void 0;function E(T){var A=g.call(T,k),W=T[k];try{T[k]=void 0;var q=!0}catch{}var le=x.call(T);return q&&(A?T[k]=W:delete T[k]),le}i.exports=E}),ve=v((r,i)=>{var a=Object.prototype,d=a.toString;function g(x){return d.call(x)}i.exports=g}),oe=v((r,i)=>{var a=_e(),d=ae(),g=ve(),x="[object Null]",k="[object Undefined]",E=a?a.toStringTag:void 0;function T(A){return A==null?A===void 0?k:x:E&&E in Object(A)?d(A):g(A)}i.exports=T}),De=v((r,i)=>{function a(d){var g=typeof d;return d!=null&&(g=="object"||g=="function")}i.exports=a}),Xe=v((r,i)=>{var a=oe(),d=De(),g="[object AsyncFunction]",x="[object Function]",k="[object GeneratorFunction]",E="[object Proxy]";function T(A){if(!d(A))return!1;var W=a(A);return W==x||W==k||W==g||W==E}i.exports=T}),Ne=v((r,i)=>{var a=Pe(),d=a["__core-js_shared__"];i.exports=d}),vt=v((r,i)=>{var a=Ne(),d=(function(){var x=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""})();function g(x){return!!d&&d in x}i.exports=g}),jt=v((r,i)=>{var a=Function.prototype,d=a.toString;function g(x){if(x!=null){try{return d.call(x)}catch{}try{return x+""}catch{}}return""}i.exports=g}),Oe=v((r,i)=>{var a=Xe(),d=vt(),g=De(),x=jt(),k=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,T=Function.prototype,A=Object.prototype,W=T.toString,q=A.hasOwnProperty,le=RegExp("^"+W.call(q).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function he(Me){if(!g(Me)||d(Me))return!1;var Re=a(Me)?le:E;return Re.test(x(Me))}i.exports=he}),it=v((r,i)=>{function a(d,g){return d?.[g]}i.exports=a}),be=v((r,i)=>{var a=Oe(),d=it();function g(x,k){var E=d(x,k);return a(E)?E:void 0}i.exports=g}),nt=v((r,i)=>{var a=be(),d=Pe(),g=a(d,"Map");i.exports=g}),je=v((r,i)=>{var a=be(),d=a(Object,"create");i.exports=d}),ue=v((r,i)=>{var a=je();function d(){this.__data__=a?a(null):{},this.size=0}i.exports=d}),Be=v((r,i)=>{function a(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g}i.exports=a}),ut=v((r,i)=>{var a=je(),d="__lodash_hash_undefined__",g=Object.prototype,x=g.hasOwnProperty;function k(E){var T=this.__data__;if(a){var A=T[E];return A===d?void 0:A}return x.call(T,E)?T[E]:void 0}i.exports=k}),tt=v((r,i)=>{var a=je(),d=Object.prototype,g=d.hasOwnProperty;function x(k){var E=this.__data__;return a?E[k]!==void 0:g.call(E,k)}i.exports=x}),Qe=v((r,i)=>{var a=je(),d="__lodash_hash_undefined__";function g(x,k){var E=this.__data__;return this.size+=this.has(x)?0:1,E[x]=a&&k===void 0?d:k,this}i.exports=g}),Ye=v((r,i)=>{var a=ue(),d=Be(),g=ut(),x=tt(),k=Qe();function E(T){var A=-1,W=T==null?0:T.length;for(this.clear();++A<W;){var q=T[A];this.set(q[0],q[1])}}E.prototype.clear=a,E.prototype.delete=d,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,i.exports=E}),Pt=v((r,i)=>{var a=Ye(),d=Z(),g=nt();function x(){this.size=0,this.__data__={hash:new a,map:new(g||d),string:new a}}i.exports=x}),kt=v((r,i)=>{function a(d){var g=typeof d;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?d!=="__proto__":d===null}i.exports=a}),Rt=v((r,i)=>{var a=kt();function d(g,x){var k=g.__data__;return a(x)?k[typeof x=="string"?"string":"hash"]:k.map}i.exports=d}),vn=v((r,i)=>{var a=Rt();function d(g){var x=a(this,g).delete(g);return this.size-=x?1:0,x}i.exports=d}),Ji=v((r,i)=>{var a=Rt();function d(g){return a(this,g).get(g)}i.exports=d}),Yi=v((r,i)=>{var a=Rt();function d(g){return a(this,g).has(g)}i.exports=d}),Qi=v((r,i)=>{var a=Rt();function d(g,x){var k=a(this,g),E=k.size;return k.set(g,x),this.size+=k.size==E?0:1,this}i.exports=d}),uo=v((r,i)=>{var a=Pt(),d=vn(),g=Ji(),x=Yi(),k=Qi();function E(T){var A=-1,W=T==null?0:T.length;for(this.clear();++A<W;){var q=T[A];this.set(q[0],q[1])}}E.prototype.clear=a,E.prototype.delete=d,E.prototype.get=g,E.prototype.has=x,E.prototype.set=k,i.exports=E}),ia=v((r,i)=>{var a=Z(),d=nt(),g=uo(),x=200;function k(E,T){var A=this.__data__;if(A instanceof a){var W=A.__data__;if(!d||W.length<x-1)return W.push([E,T]),this.size=++A.size,this;A=this.__data__=new g(W)}return A.set(E,T),this.size=A.size,this}i.exports=k}),sa=v((r,i)=>{var a=Z(),d=Se(),g=F(),x=te(),k=X(),E=ia();function T(A){var W=this.__data__=new a(A);this.size=W.size}T.prototype.clear=d,T.prototype.delete=g,T.prototype.get=x,T.prototype.has=k,T.prototype.set=E,i.exports=T}),es=v((r,i)=>{var a=be(),d=(function(){try{var g=a(Object,"defineProperty");return g({},"",{}),g}catch{}})();i.exports=d}),vi=v((r,i)=>{var a=es();function d(g,x,k){x=="__proto__"&&a?a(g,x,{configurable:!0,enumerable:!0,value:k,writable:!0}):g[x]=k}i.exports=d}),co=v((r,i)=>{var a=vi(),d=S();function g(x,k,E){(E!==void 0&&!d(x[k],E)||E===void 0&&!(k in x))&&a(x,k,E)}i.exports=g}),ts=v((r,i)=>{function a(d){return function(g,x,k){for(var E=-1,T=Object(g),A=k(g),W=A.length;W--;){var q=A[d?W:++E];if(x(T[q],q,T)===!1)break}return g}}i.exports=a}),$r=v((r,i)=>{var a=ts(),d=a();i.exports=d}),ho=v((r,i)=>{var a=Pe(),d=typeof r=="object"&&r&&!r.nodeType&&r,g=d&&typeof i=="object"&&i&&!i.nodeType&&i,x=g&&g.exports===d,k=x?a.Buffer:void 0,E=k?k.allocUnsafe:void 0;function T(A,W){if(W)return A.slice();var q=A.length,le=E?E(q):new A.constructor(q);return A.copy(le),le}i.exports=T}),oa=v((r,i)=>{var a=Pe(),d=a.Uint8Array;i.exports=d}),el=v((r,i)=>{var a=oa();function d(g){var x=new g.constructor(g.byteLength);return new a(x).set(new a(g)),x}i.exports=d}),tl=v((r,i)=>{var a=el();function d(g,x){var k=x?a(g.buffer):g.buffer;return new g.constructor(k,g.byteOffset,g.length)}i.exports=d}),fo=v((r,i)=>{function a(d,g){var x=-1,k=d.length;for(g||(g=Array(k));++x<k;)g[x]=d[x];return g}i.exports=a}),po=v((r,i)=>{var a=De(),d=Object.create,g=(function(){function x(){}return function(k){if(!a(k))return{};if(d)return d(k);x.prototype=k;var E=new x;return x.prototype=void 0,E}})();i.exports=g}),As=v((r,i)=>{function a(d,g){return function(x){return d(g(x))}}i.exports=a}),aa=v((r,i)=>{var a=As(),d=a(Object.getPrototypeOf,Object);i.exports=d}),xi=v((r,i)=>{var a=Object.prototype;function d(g){var x=g&&g.constructor,k=typeof x=="function"&&x.prototype||a;return g===k}i.exports=d}),ns=v((r,i)=>{var a=po(),d=aa(),g=xi();function x(k){return typeof k.constructor=="function"&&!g(k)?a(d(k)):{}}i.exports=x}),rs=v((r,i)=>{function a(d){return d!=null&&typeof d=="object"}i.exports=a}),la=v((r,i)=>{var a=oe(),d=rs(),g="[object Arguments]";function x(k){return d(k)&&a(k)==g}i.exports=x}),Rs=v((r,i)=>{var a=la(),d=rs(),g=Object.prototype,x=g.hasOwnProperty,k=g.propertyIsEnumerable,E=a((function(){return arguments})())?a:function(T){return d(T)&&x.call(T,"callee")&&!k.call(T,"callee")};i.exports=E}),is=v((r,i)=>{var a=Array.isArray;i.exports=a}),mo=v((r,i)=>{var a=9007199254740991;function d(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=a}i.exports=d}),zr=v((r,i)=>{var a=Xe(),d=mo();function g(x){return x!=null&&d(x.length)&&!a(x)}i.exports=g}),ua=v((r,i)=>{var a=zr(),d=rs();function g(x){return d(x)&&a(x)}i.exports=g}),ca=v((r,i)=>{function a(){return!1}i.exports=a}),Os=v((r,i)=>{var a=Pe(),d=ca(),g=typeof r=="object"&&r&&!r.nodeType&&r,x=g&&typeof i=="object"&&i&&!i.nodeType&&i,k=x&&x.exports===g,E=k?a.Buffer:void 0,T=E?E.isBuffer:void 0,A=T||d;i.exports=A}),wi=v((r,i)=>{var a=oe(),d=aa(),g=rs(),x="[object Object]",k=Function.prototype,E=Object.prototype,T=k.toString,A=E.hasOwnProperty,W=T.call(Object);function q(le){if(!g(le)||a(le)!=x)return!1;var he=d(le);if(he===null)return!0;var Me=A.call(he,"constructor")&&he.constructor;return typeof Me=="function"&&Me instanceof Me&&T.call(Me)==W}i.exports=q}),bi=v((r,i)=>{var a=oe(),d=mo(),g=rs(),x="[object Arguments]",k="[object Array]",E="[object Boolean]",T="[object Date]",A="[object Error]",W="[object Function]",q="[object Map]",le="[object Number]",he="[object Object]",Me="[object RegExp]",Re="[object Set]",Ve="[object String]",Ue="[object WeakMap]",H="[object ArrayBuffer]",de="[object DataView]",ke="[object Float32Array]",He="[object Float64Array]",Fe="[object Int8Array]",We="[object Int16Array]",R="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",re="[object Uint16Array]",Q="[object Uint32Array]",J={};J[ke]=J[He]=J[Fe]=J[We]=J[R]=J[z]=J[V]=J[re]=J[Q]=!0,J[x]=J[k]=J[H]=J[E]=J[de]=J[T]=J[A]=J[W]=J[q]=J[le]=J[he]=J[Me]=J[Re]=J[Ve]=J[Ue]=!1;function pe(se){return g(se)&&d(se.length)&&!!J[a(se)]}i.exports=pe}),nl=v((r,i)=>{function a(d){return function(g){return d(g)}}i.exports=a}),rl=v((r,i)=>{var a=Y(),d=typeof r=="object"&&r&&!r.nodeType&&r,g=d&&typeof i=="object"&&i&&!i.nodeType&&i,x=g&&g.exports===d,k=x&&a.process,E=(function(){try{var T=g&&g.require&&g.require("util").types;return T||k&&k.binding&&k.binding("util")}catch{}})();i.exports=E}),ha=v((r,i)=>{var a=bi(),d=nl(),g=rl(),x=g&&g.isTypedArray,k=x?d(x):a;i.exports=k}),da=v((r,i)=>{function a(d,g){if(!(g==="constructor"&&typeof d[g]=="function")&&g!="__proto__")return d[g]}i.exports=a}),il=v((r,i)=>{var a=vi(),d=S(),g=Object.prototype,x=g.hasOwnProperty;function k(E,T,A){var W=E[T];(!(x.call(E,T)&&d(W,A))||A===void 0&&!(T in E))&&a(E,T,A)}i.exports=k}),fa=v((r,i)=>{var a=il(),d=vi();function g(x,k,E,T){var A=!E;E||(E={});for(var W=-1,q=k.length;++W<q;){var le=k[W],he=T?T(E[le],x[le],le,E,x):void 0;he===void 0&&(he=x[le]),A?d(E,le,he):a(E,le,he)}return E}i.exports=g}),go=v((r,i)=>{function a(d,g){for(var x=-1,k=Array(d);++x<d;)k[x]=g(x);return k}i.exports=a}),ss=v((r,i)=>{var a=9007199254740991,d=/^(?:0|[1-9]\d*)$/;function g(x,k){var E=typeof x;return k=k??a,!!k&&(E=="number"||E!="symbol"&&d.test(x))&&x>-1&&x%1==0&&x<k}i.exports=g}),pa=v((r,i)=>{var a=go(),d=Rs(),g=is(),x=Os(),k=ss(),E=ha(),T=Object.prototype,A=T.hasOwnProperty;function W(q,le){var he=g(q),Me=!he&&d(q),Re=!he&&!Me&&x(q),Ve=!he&&!Me&&!Re&&E(q),Ue=he||Me||Re||Ve,H=Ue?a(q.length,String):[],de=H.length;for(var ke in q)(le||A.call(q,ke))&&!(Ue&&(ke=="length"||Re&&(ke=="offset"||ke=="parent")||Ve&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||k(ke,de)))&&H.push(ke);return H}i.exports=W}),Ns=v((r,i)=>{function a(d){var g=[];if(d!=null)for(var x in Object(d))g.push(x);return g}i.exports=a}),Xl=v((r,i)=>{var a=De(),d=xi(),g=Ns(),x=Object.prototype,k=x.hasOwnProperty;function E(T){if(!a(T))return g(T);var A=d(T),W=[];for(var q in T)q=="constructor"&&(A||!k.call(T,q))||W.push(q);return W}i.exports=E}),xn=v((r,i)=>{var a=pa(),d=Xl(),g=zr();function x(k){return g(k)?a(k,!0):d(k)}i.exports=x}),st=v((r,i)=>{var a=fa(),d=xn();function g(x){return a(x,d(x))}i.exports=g}),Is=v((r,i)=>{var a=co(),d=ho(),g=tl(),x=fo(),k=ns(),E=Rs(),T=is(),A=ua(),W=Os(),q=Xe(),le=De(),he=wi(),Me=ha(),Re=da(),Ve=st();function Ue(H,de,ke,He,Fe,We,R){var z=Re(H,ke),V=Re(de,ke),re=R.get(V);if(re){a(H,ke,re);return}var Q=We?We(z,V,ke+"",H,de,R):void 0,J=Q===void 0;if(J){var pe=T(V),se=!pe&&W(V),fe=!pe&&!se&&Me(V);Q=V,pe||se||fe?T(z)?Q=z:A(z)?Q=x(z):se?(J=!1,Q=d(V,!0)):fe?(J=!1,Q=g(V,!0)):Q=[]:he(V)||E(V)?(Q=z,E(z)?Q=Ve(z):(!le(z)||q(z))&&(Q=k(V))):J=!1}J&&(R.set(V,Q),Fe(Q,V,He,We,R),R.delete(V)),a(H,ke,Q)}i.exports=Ue}),_o=v((r,i)=>{var a=sa(),d=co(),g=$r(),x=Is(),k=De(),E=xn(),T=da();function A(W,q,le,he,Me){W!==q&&g(q,function(Re,Ve){if(Me||(Me=new a),k(Re))x(W,q,Ve,le,A,he,Me);else{var Ue=he?he(T(W,Ve),Re,Ve+"",W,q,Me):void 0;Ue===void 0&&(Ue=Re),d(W,Ve,Ue)}},E)}i.exports=A}),ma=v((r,i)=>{function a(d){return d}i.exports=a}),sl=v((r,i)=>{function a(d,g,x){switch(x.length){case 0:return d.call(g);case 1:return d.call(g,x[0]);case 2:return d.call(g,x[0],x[1]);case 3:return d.call(g,x[0],x[1],x[2])}return d.apply(g,x)}i.exports=a}),ga=v((r,i)=>{var a=sl(),d=Math.max;function g(x,k,E){return k=d(k===void 0?x.length-1:k,0),function(){for(var T=arguments,A=-1,W=d(T.length-k,0),q=Array(W);++A<W;)q[A]=T[k+A];A=-1;for(var le=Array(k+1);++A<k;)le[A]=T[A];return le[k]=E(q),a(x,this,le)}}i.exports=g}),Xr=v((r,i)=>{function a(d){return function(){return d}}i.exports=a}),Ci=v((r,i)=>{var a=Xr(),d=es(),g=ma(),x=d?function(k,E){return d(k,"toString",{configurable:!0,enumerable:!1,value:a(E),writable:!0})}:g;i.exports=x}),_a=v((r,i)=>{var a=800,d=16,g=Date.now;function x(k){var E=0,T=0;return function(){var A=g(),W=d-(A-T);if(T=A,W>0){if(++E>=a)return arguments[0]}else E=0;return k.apply(void 0,arguments)}}i.exports=x}),Jl=v((r,i)=>{var a=Ci(),d=_a(),g=d(a);i.exports=g}),ol=v((r,i)=>{var a=ma(),d=ga(),g=Jl();function x(k,E){return g(d(k,E,a),k+"")}i.exports=x}),al=v((r,i)=>{var a=S(),d=zr(),g=ss(),x=De();function k(E,T,A){if(!x(A))return!1;var W=typeof T;return(W=="number"?d(A)&&g(T,A.length):W=="string"&&T in A)?a(A[T],E):!1}i.exports=k}),ll=v((r,i)=>{var a=ol(),d=al();function g(x){return a(function(k,E){var T=-1,A=E.length,W=A>1?E[A-1]:void 0,q=A>2?E[2]:void 0;for(W=x.length>3&&typeof W=="function"?(A--,W):void 0,q&&d(E[0],E[1],q)&&(W=A<3?void 0:W,A=1),k=Object(k);++T<A;){var le=E[T];le&&x(k,le,T,W)}return k})}i.exports=g}),Fs=v((r,i)=>{var a=_o(),d=ll(),g=d(function(x,k,E){a(x,k,E)});i.exports=g}),ya=v((r,i)=>{var a=oe(),d=rs(),g="[object Symbol]";function x(k){return typeof k=="symbol"||d(k)&&a(k)==g}i.exports=x}),yo=v((r,i)=>{var a=is(),d=ya(),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/;function k(E,T){if(a(E))return!1;var A=typeof E;return A=="number"||A=="symbol"||A=="boolean"||E==null||d(E)?!0:x.test(E)||!g.test(E)||T!=null&&E in Object(T)}i.exports=k}),Xt=v((r,i)=>{var a=uo(),d="Expected a function";function g(x,k){if(typeof x!="function"||k!=null&&typeof k!="function")throw new TypeError(d);var E=function(){var T=arguments,A=k?k.apply(this,T):T[0],W=E.cache;if(W.has(A))return W.get(A);var q=x.apply(this,T);return E.cache=W.set(A,q)||W,q};return E.cache=new(g.Cache||a),E}g.Cache=a,i.exports=g}),Yl=v((r,i)=>{var a=Xt(),d=500;function g(x){var k=a(x,function(T){return E.size===d&&E.clear(),T}),E=k.cache;return k}i.exports=g}),va=v((r,i)=>{var a=Yl(),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,x=a(function(k){var E=[];return k.charCodeAt(0)===46&&E.push(""),k.replace(d,function(T,A,W,q){E.push(W?q.replace(g,"$1"):A||T)}),E});i.exports=x}),ul=v((r,i)=>{function a(d,g){for(var x=-1,k=d==null?0:d.length,E=Array(k);++x<k;)E[x]=g(d[x],x,d);return E}i.exports=a}),vo=v((r,i)=>{var a=_e(),d=ul(),g=is(),x=ya(),k=a?a.prototype:void 0,E=k?k.toString:void 0;function T(A){if(typeof A=="string")return A;if(g(A))return d(A,T)+"";if(x(A))return E?E.call(A):"";var W=A+"";return W=="0"&&1/A==-1/0?"-0":W}i.exports=T}),xa=v((r,i)=>{var a=vo();function d(g){return g==null?"":a(g)}i.exports=d}),os=v((r,i)=>{var a=is(),d=yo(),g=va(),x=xa();function k(E,T){return a(E)?E:d(E,T)?[E]:g(x(E))}i.exports=k}),zs=v((r,i)=>{var a=ya();function d(g){if(typeof g=="string"||a(g))return g;var x=g+"";return x=="0"&&1/g==-1/0?"-0":x}i.exports=d}),er=v((r,i)=>{var a=os(),d=zs();function g(x,k){k=a(k,x);for(var E=0,T=k.length;x!=null&&E<T;)x=x[d(k[E++])];return E&&E==T?x:void 0}i.exports=g}),Jr=v((r,i)=>{var a=er();function d(g,x,k){var E=g==null?void 0:a(g,x);return E===void 0?k:E}i.exports=d}),xt=v((r,i)=>{(function(a,d){typeof r=="object"&&typeof i<"u"?i.exports=d():(a=a||self).RBush=d()})(r,function(){function a(H,de,ke,He,Fe){(function We(R,z,V,re,Q){for(;re>V;){if(re-V>600){var J=re-V+1,pe=z-V+1,se=Math.log(J),fe=.5*Math.exp(2*se/3),xe=.5*Math.sqrt(se*fe*(J-fe)/J)*(pe-J/2<0?-1:1),ye=Math.max(V,Math.floor(z-pe*fe/J+xe)),Ae=Math.min(re,Math.floor(z+(J-pe)*fe/J+xe));We(R,z,ye,Ae,Q)}var ot=R[z],at=V,_t=re;for(d(R,V,z),Q(R[re],ot)>0&&d(R,V,re);at<_t;){for(d(R,at,_t),at++,_t--;Q(R[at],ot)<0;)at++;for(;Q(R[_t],ot)>0;)_t--}Q(R[V],ot)===0?d(R,V,_t):d(R,++_t,re),_t<=z&&(V=_t+1),z<=_t&&(re=_t-1)}})(H,de,ke||0,He||H.length-1,Fe||g)}function d(H,de,ke){var He=H[de];H[de]=H[ke],H[ke]=He}function g(H,de){return H<de?-1:H>de?1:0}var x=function(H){H===void 0&&(H=9),this._maxEntries=Math.max(4,H),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function k(H,de,ke){if(!ke)return de.indexOf(H);for(var He=0;He<de.length;He++)if(ke(H,de[He]))return He;return-1}function E(H,de){T(H,0,H.children.length,de,H)}function T(H,de,ke,He,Fe){Fe||(Fe=Ve(null)),Fe.minX=1/0,Fe.minY=1/0,Fe.maxX=-1/0,Fe.maxY=-1/0;for(var We=de;We<ke;We++){var R=H.children[We];A(Fe,H.leaf?He(R):R)}return Fe}function A(H,de){return H.minX=Math.min(H.minX,de.minX),H.minY=Math.min(H.minY,de.minY),H.maxX=Math.max(H.maxX,de.maxX),H.maxY=Math.max(H.maxY,de.maxY),H}function W(H,de){return H.minX-de.minX}function q(H,de){return H.minY-de.minY}function le(H){return(H.maxX-H.minX)*(H.maxY-H.minY)}function he(H){return H.maxX-H.minX+(H.maxY-H.minY)}function Me(H,de){return H.minX<=de.minX&&H.minY<=de.minY&&de.maxX<=H.maxX&&de.maxY<=H.maxY}function Re(H,de){return de.minX<=H.maxX&&de.minY<=H.maxY&&de.maxX>=H.minX&&de.maxY>=H.minY}function Ve(H){return{children:H,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ue(H,de,ke,He,Fe){for(var We=[de,ke];We.length;)if(!((ke=We.pop())-(de=We.pop())<=He)){var R=de+Math.ceil((ke-de)/He/2)*He;a(H,R,de,ke,Fe),We.push(de,R,R,ke)}}return x.prototype.all=function(){return this._all(this.data,[])},x.prototype.search=function(H){var de=this.data,ke=[];if(!Re(H,de))return ke;for(var He=this.toBBox,Fe=[];de;){for(var We=0;We<de.children.length;We++){var R=de.children[We],z=de.leaf?He(R):R;Re(H,z)&&(de.leaf?ke.push(R):Me(H,z)?this._all(R,ke):Fe.push(R))}de=Fe.pop()}return ke},x.prototype.collides=function(H){var de=this.data;if(!Re(H,de))return!1;for(var ke=[];de;){for(var He=0;He<de.children.length;He++){var Fe=de.children[He],We=de.leaf?this.toBBox(Fe):Fe;if(Re(H,We)){if(de.leaf||Me(H,We))return!0;ke.push(Fe)}}de=ke.pop()}return!1},x.prototype.load=function(H){if(!H||!H.length)return this;if(H.length<this._minEntries){for(var de=0;de<H.length;de++)this.insert(H[de]);return this}var ke=this._build(H.slice(),0,H.length-1,0);if(this.data.children.length)if(this.data.height===ke.height)this._splitRoot(this.data,ke);else{if(this.data.height<ke.height){var He=this.data;this.data=ke,ke=He}this._insert(ke,this.data.height-ke.height-1,!0)}else this.data=ke;return this},x.prototype.insert=function(H){return H&&this._insert(H,this.data.height-1),this},x.prototype.clear=function(){return this.data=Ve([]),this},x.prototype.remove=function(H,de){if(!H)return this;for(var ke,He,Fe,We=this.data,R=this.toBBox(H),z=[],V=[];We||z.length;){if(We||(We=z.pop(),He=z[z.length-1],ke=V.pop(),Fe=!0),We.leaf){var re=k(H,We.children,de);if(re!==-1)return We.children.splice(re,1),z.push(We),this._condense(z),this}Fe||We.leaf||!Me(We,R)?He?(ke++,We=He.children[ke],Fe=!1):We=null:(z.push(We),V.push(ke),ke=0,He=We,We=We.children[0])}return this},x.prototype.toBBox=function(H){return H},x.prototype.compareMinX=function(H,de){return H.minX-de.minX},x.prototype.compareMinY=function(H,de){return H.minY-de.minY},x.prototype.toJSON=function(){return this.data},x.prototype.fromJSON=function(H){return this.data=H,this},x.prototype._all=function(H,de){for(var ke=[];H;)H.leaf?de.push.apply(de,H.children):ke.push.apply(ke,H.children),H=ke.pop();return de},x.prototype._build=function(H,de,ke,He){var Fe,We=ke-de+1,R=this._maxEntries;if(We<=R)return E(Fe=Ve(H.slice(de,ke+1)),this.toBBox),Fe;He||(He=Math.ceil(Math.log(We)/Math.log(R)),R=Math.ceil(We/Math.pow(R,He-1))),(Fe=Ve([])).leaf=!1,Fe.height=He;var z=Math.ceil(We/R),V=z*Math.ceil(Math.sqrt(R));Ue(H,de,ke,V,this.compareMinX);for(var re=de;re<=ke;re+=V){var Q=Math.min(re+V-1,ke);Ue(H,re,Q,z,this.compareMinY);for(var J=re;J<=Q;J+=z){var pe=Math.min(J+z-1,Q);Fe.children.push(this._build(H,J,pe,He-1))}}return E(Fe,this.toBBox),Fe},x.prototype._chooseSubtree=function(H,de,ke,He){for(;He.push(de),!de.leaf&&He.length-1!==ke;){for(var Fe=1/0,We=1/0,R=void 0,z=0;z<de.children.length;z++){var V=de.children[z],re=le(V),Q=(J=H,pe=V,(Math.max(pe.maxX,J.maxX)-Math.min(pe.minX,J.minX))*(Math.max(pe.maxY,J.maxY)-Math.min(pe.minY,J.minY))-re);Q<We?(We=Q,Fe=re<Fe?re:Fe,R=V):Q===We&&re<Fe&&(Fe=re,R=V)}de=R||de.children[0]}var J,pe;return de},x.prototype._insert=function(H,de,ke){var He=ke?H:this.toBBox(H),Fe=[],We=this._chooseSubtree(He,this.data,de,Fe);for(We.children.push(H),A(We,He);de>=0&&Fe[de].children.length>this._maxEntries;)this._split(Fe,de),de--;this._adjustParentBBoxes(He,Fe,de)},x.prototype._split=function(H,de){var ke=H[de],He=ke.children.length,Fe=this._minEntries;this._chooseSplitAxis(ke,Fe,He);var We=this._chooseSplitIndex(ke,Fe,He),R=Ve(ke.children.splice(We,ke.children.length-We));R.height=ke.height,R.leaf=ke.leaf,E(ke,this.toBBox),E(R,this.toBBox),de?H[de-1].children.push(R):this._splitRoot(ke,R)},x.prototype._splitRoot=function(H,de){this.data=Ve([H,de]),this.data.height=H.height+1,this.data.leaf=!1,E(this.data,this.toBBox)},x.prototype._chooseSplitIndex=function(H,de,ke){for(var He,Fe,We,R,z,V,re,Q=1/0,J=1/0,pe=de;pe<=ke-de;pe++){var se=T(H,0,pe,this.toBBox),fe=T(H,pe,ke,this.toBBox),xe=(Fe=se,We=fe,R=void 0,z=void 0,V=void 0,re=void 0,R=Math.max(Fe.minX,We.minX),z=Math.max(Fe.minY,We.minY),V=Math.min(Fe.maxX,We.maxX),re=Math.min(Fe.maxY,We.maxY),Math.max(0,V-R)*Math.max(0,re-z)),ye=le(se)+le(fe);xe<Q?(Q=xe,He=pe,J=ye<J?ye:J):xe===Q&&ye<J&&(J=ye,He=pe)}return He||ke-de},x.prototype._chooseSplitAxis=function(H,de,ke){var He=H.leaf?this.compareMinX:W,Fe=H.leaf?this.compareMinY:q;this._allDistMargin(H,de,ke,He)<this._allDistMargin(H,de,ke,Fe)&&H.children.sort(He)},x.prototype._allDistMargin=function(H,de,ke,He){H.children.sort(He);for(var Fe=this.toBBox,We=T(H,0,de,Fe),R=T(H,ke-de,ke,Fe),z=he(We)+he(R),V=de;V<ke-de;V++){var re=H.children[V];A(We,H.leaf?Fe(re):re),z+=he(We)}for(var Q=ke-de-1;Q>=de;Q--){var J=H.children[Q];A(R,H.leaf?Fe(J):J),z+=he(R)}return z},x.prototype._adjustParentBBoxes=function(H,de,ke){for(var He=ke;He>=0;He--)A(de[He],H)},x.prototype._condense=function(H){for(var de=H.length-1,ke=void 0;de>=0;de--)H[de].children.length===0?de>0?(ke=H[de-1].children).splice(ke.indexOf(H[de]),1):this.clear():E(H[de],this.toBBox)},x})});Array.prototype.findIndex=Array.prototype.findIndex||function(r){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var i=Object(this),a=i.length>>>0,d=arguments[1],g=0;g<a;g++)if(r.call(d,i[g],g,i))return g;return-1},Array.prototype.find=Array.prototype.find||function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var i=Object(this),a=i.length>>>0,d=arguments[1],g=0;g<a;g++){var x=i[g];if(r.call(d,x,g,i))return x}},typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");r=Object(r);for(var i=1;i<arguments.length;i++){var a=arguments[i];if(a!=null)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(r[d]=a[d])}return r}),(function(r){r.forEach(function(i){i.hasOwnProperty("remove")||Object.defineProperty(i,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,i){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),d=a.length>>>0;if(d===0)return!1;var g=i|0,x=Math.max(g>=0?g:d-Math.abs(g),0);function k(E,T){return E===T||typeof E=="number"&&typeof T=="number"&&isNaN(E)&&isNaN(T)}for(;x<d;){if(k(a[x],r))return!0;x++}return!1}});var Gt={version:"2.19.0"},Us=B(Fs()),as={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Ur={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},ls={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},gt={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},qt={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},wa={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},xo={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Pn={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},cl={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},us={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},tr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},en={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},yr={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Bt={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},cs={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},wo={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},Li={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},bo={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},Co={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Hs={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Ws={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},hs={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},nr={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},Hr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},vr={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},qs={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},mt={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},hn=yr,Dt={en:as,de:Ur,it:ls,id:gt,ro:qt,ru:wa,es:xo,nl:Pn,fr:cl,pt:hn,pt_br:en,pt_pt:yr,zh:us,zh_tw:tr,pl:Bt,sv:cs,el:wo,hu:Li,da:bo,no:Co,fa:Hs,ua:Ws,tr:hs,cz:nr,ja:Hr,fi:vr,ko:qs,ky:mt},ba={_globalEditModeEnabled:!1,enableGlobalEditMode(r){let i={...r};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(a=>{this._isRelevantForEdit(a)&&a.pm.enable(i)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(r=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode(){let r=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let i in r){let a=r[i];this._isRelevantForEdit(a)&&a.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:r}){this._addedLayersEdit[L.stamp(r)]=r},_isRelevantForEdit(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},ki=ba,Ca={_globalDragModeEnabled:!1,enableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(i=>{this._isRelevantForDrag(i)&&i.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(i=>{i.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let r=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let i in r){let a=r[i];this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}},_layerAddedDrag({layer:r}){this._addedLayersDrag[L.stamp(r)]=r},_isRelevantForDrag(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},Lo=Ca,xr={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(r=>{this._isRelevantForRemoval(r)&&(r.pm.enabled()&&r.pm.disable(),r.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(r=>{r.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(r){let i=r.target;this._isRelevantForRemoval(i)&&!i.pm.dragging()&&(i.removeFrom(this.map.pm._getContainingLayer()),i.remove(),i instanceof L.LayerGroup?(this._fireRemoveLayerGroup(i),this._fireRemoveLayerGroup(this.map,i)):(i.pm._fireRemove(i),i.pm._fireRemove(this.map,i)))},_isRelevantForRemoval(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let r=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let i in r){let a=r[i];this._isRelevantForRemoval(a)&&(a.pm.enabled()&&a.pm.disable(),a.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:r}){this._addedLayersRemoval[L.stamp(r)]=r}},ko=xr,Vs={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{this._isRelevantForRotate(r)&&r.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(r=>r instanceof L.Polyline).forEach(r=>{r.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(r){return r.pm&&r instanceof L.Polyline&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let r=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let i in r){let a=r[i];this._isRelevantForRemoval(a)&&a.pm.enableRotate()}},_layerAddedRotate({layer:r}){this._addedLayersRotate[L.stamp(r)]=r}},Jt=Vs,rr=B(Fs()),Ei={_fireDrawStart(r="Draw",i={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,i)},_fireDrawEnd(r="Draw",i={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},r,i)},_fireCreate(r,i="Draw",a={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},i,a)},_fireCenterPlaced(r="Draw",i={}){let a=r==="Draw"?this._layer:void 0,d=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:d,latlng:this._layer.getLatLng()},r,i)},_fireCut(r,i,a,d="Draw",g={}){this.__fire(r,"pm:cut",{shape:this._shape,layer:i,originalLayer:a},d,g)},_fireEdit(r=this._layer,i="Edit",a={}){this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},i,a)},_fireEnable(r="Edit",i={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,i)},_fireDisable(r="Edit",i={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,i)},_fireUpdate(r="Edit",i={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,i)},_fireMarkerDragStart(r,i=void 0,a="Edit",d={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:i},a,d)},_fireMarkerDrag(r,i=void 0,a="Edit",d={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:i},a,d)},_fireMarkerDragEnd(r,i=void 0,a=void 0,d="Edit",g={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:i,intersectionReset:a},d,g)},_fireDragStart(r="Edit",i={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,i)},_fireDrag(r,i="Edit",a={}){this.__fire(this._layer,"pm:drag",{...r,shape:this.getShape()},i,a)},_fireDragEnd(r="Edit",i={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,i)},_fireDragEnable(r="Edit",i={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,i)},_fireDragDisable(r="Edit",i={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,i)},_fireRemove(r,i=r,a="Edit",d={}){this.__fire(r,"pm:remove",{layer:i,shape:this.getShape()},a,d)},_fireVertexAdded(r,i,a,d="Edit",g={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:i,latlng:a,shape:this.getShape()},d,g)},_fireVertexRemoved(r,i,a="Edit",d={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:i,shape:this.getShape()},a,d)},_fireVertexClick(r,i,a="Edit",d={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:i,shape:this.getShape()},a,d)},_fireIntersect(r,i=this._layer,a="Edit",d={}){this.__fire(i,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},a,d)},_fireLayerReset(r,i,a="Edit",d={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:i,shape:this.getShape()},a,d)},_fireChange(r,i="Edit",a={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},i,a)},_fireTextChange(r,i="Edit",a={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},i,a)},_fireTextFocus(r="Edit",i={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,i)},_fireTextBlur(r="Edit",i={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,i)},_fireSnapDrag(r,i,a="Snapping",d={}){this.__fire(r,"pm:snapdrag",i,a,d)},_fireSnap(r,i,a="Snapping",d={}){this.__fire(r,"pm:snap",i,a,d)},_fireUnsnap(r,i,a="Snapping",d={}){this.__fire(r,"pm:unsnap",i,a,d)},_fireRotationEnable(r,i,a="Rotation",d={}){this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,d)},_fireRotationDisable(r,i="Rotation",a={}){this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},i,a)},_fireRotationStart(r,i,a="Rotation",d={}){this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:i},a,d)},_fireRotation(r,i,a,d=this._rotationLayer,g="Rotation",x={}){this.__fire(r,"pm:rotate",{layer:d,helpLayer:this._layer,startAngle:this._startAngle,angle:d.pm.getAngle(),angleDiff:i,oldLatLngs:a,newLatLngs:d.getLatLngs()},g,x)},_fireRotationEnd(r,i,a,d="Rotation",g={}){this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:i,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},d,g)},_fireActionClick(r,i,a,d="Toolbar",g={}){this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:i,button:a},d,g)},_fireButtonClick(r,i,a="Toolbar",d={}){this.__fire(this._map,"pm:buttonclick",{btnName:r,button:i},a,d)},_fireLangChange(r,i,a,d,g="Global",x={}){this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:i,fallback:a,translations:d},g,x)},_fireGlobalDragModeToggled(r,i="Global",a={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},i,a)},_fireGlobalEditModeToggled(r,i="Global",a={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},i,a)},_fireGlobalRemovalModeToggled(r,i="Global",a={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},i,a)},_fireGlobalCutModeToggled(r="Global",i={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,i)},_fireGlobalDrawModeToggled(r="Global",i={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,i)},_fireGlobalRotateModeToggled(r="Global",i={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,i)},_fireRemoveLayerGroup(r,i=r,a="Edit",d={}){this.__fire(r,"pm:remove",{layer:i,shape:void 0},a,d)},_fireKeyeventEvent(r,i,a,d="Global",g={}){this.__fire(this.map,"pm:keyevent",{event:r,eventType:i,focusOn:a},d,g)},__fire(r,i,a,d,g={}){a=(0,rr.default)(a,g,{source:d}),L.PM.Utils._fireEvent(r,i,a)}},Yr=Ei,Ql=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),r.once("unload",this._unbindKeyListenerEvents,this)},_handleEscapeKey(r){let i=this.map.pm;return!i.getGlobalOptions().exitModeOnEscape||!(i.globalDrawModeEnabled()||i.globalEditModeEnabled()||i.globalDragModeEnabled()||i.globalRemovalModeEnabled()||i.globalRotateModeEnabled()||i.globalCutModeEnabled())?!1:(r.preventDefault(),i.globalDrawModeEnabled()&&i.disableDraw(),i.globalEditModeEnabled()&&i.disableGlobalEditMode(),i.globalDragModeEnabled()&&i.disableGlobalDragMode(),i.globalRemovalModeEnabled()&&i.disableGlobalRemovalMode(),i.globalRotateModeEnabled()&&i.disableGlobalRotateMode(),i.globalCutModeEnabled()&&i.disableGlobalCutMode(),!0)},_handleEnterKey(r){let i=this.map.pm;if(!i.getGlobalOptions().finishOnEnter)return!1;let a=i.Draw.getActiveShape();if(!a)return!1;let d=i.Draw[a];return!d||!d._finishShape||!this._canFinishShape(d,a)?!1:(r.preventDefault(),d._finishShape(),!0)},_canFinishShape(r,i){if(["Marker","CircleMarker","Text"].includes(i))return!1;if(i==="Rectangle")return r._startMarker!==void 0;if(i==="Circle")return r._centerMarker&&r._layerGroup?.hasLayer(r._centerMarker);if(r._layer&&r._layer.getLatLngs){let a=r._layer.getLatLngs();if(i==="Line")return(a.flat?a.flat():a).length>=2;if(i==="Polygon"||i==="Cut")return a.length>=3}return!1},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(r){let i="document";this.map.getContainer().contains(r.target)&&(i="map");let a={event:r,eventType:r.type,focusOn:i};this._lastEvents[r.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(r,r.type,i),r.type==="keydown"&&(r.key==="Escape"&&this._handleEscapeKey(r),r.key==="Enter"&&this._handleEnterKey(r))},_onBlur(r){r.altKey=!1;let i={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=i,this._lastEvents.current=i},getLastKeyEvent(r="current"){return this._lastEvents[r]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),hl=Ql,ds=B(Jr());function Et(r){let i=L.PM.activeLang;return(0,ds.default)(Dt[i],r)||(0,ds.default)(Dt.en,r)||r}function fs(r){for(let i=0;i<r.length;i+=1){let a=r[i];if(Array.isArray(a)){if(fs(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function bt(r){return r.reduce((i,a)=>{if(a.length!==0){let d=Array.isArray(a)?bt(a):a;Array.isArray(d)?d.length!==0&&i.push(d):i.push(d)}return i},[])}function Qr(r,i,a){let d={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:g,b:x,f:k}=d,E=r.lng,T=r.lat,A=a,W=Math.PI,q=i*W/180,le=Math.sin(q),he=Math.cos(q),Me=(1-k)*Math.tan(T*W/180),Re=1/Math.sqrt(1+Me*Me),Ve=Me*Re,Ue=Math.atan2(Me,he),H=Re*le,de=1-H*H,ke=de*(g*g-x*x)/(x*x),He=1+ke/16384*(4096+ke*(-768+ke*(320-175*ke))),Fe=ke/1024*(256+ke*(-128+ke*(74-47*ke))),We=A/(x*He),R=2*Math.PI,z,V,re;for(;Math.abs(We-R)>1e-12;){z=Math.cos(2*Ue+We),V=Math.sin(We),re=Math.cos(We);let Ae=Fe*V*(z+Fe/4*(re*(-1+2*z*z)-Fe/6*z*(-3+4*V*V)*(-3+4*z*z)));R=We,We=A/(x*He)+Ae}let Q=Ve*V-Re*re*he,J=Math.atan2(Ve*re+Re*V*he,(1-k)*Math.sqrt(H*H+Q*Q)),pe=Math.atan2(V*le,Re*re-Ve*V*he),se=k/16*de*(4+k*(4-3*de)),fe=pe-(1-se)*k*H*(We+se*V*(z+se*re*(-1+2*z*z))),xe=E+fe*180/W,ye=J*180/W;return L.latLng(xe,ye)}function Mn(r,i,a,d,g=!0){let x,k,E,T=[];for(let A=0;A<a;A+=1){if(g)x=A*360/a+d,k=Qr(r,x,i),E=L.latLng(k.lng,k.lat);else{let W=r.lat+Math.cos(2*A*Math.PI/a)*i,q=r.lng+Math.sin(2*A*Math.PI/a)*i;E=L.latLng(W,q)}T.push(E)}return T}function ei(r,i,a){i=(i+360)%360;let d=Math.PI/180,g=180/Math.PI,{R:x}=L.CRS.Earth,k=r.lng*d,E=r.lat*d,T=i*d,A=Math.sin(E),W=Math.cos(E),q=Math.cos(a/x),le=Math.sin(a/x),he=Math.asin(A*q+W*le*Math.cos(T)),Me=k+Math.atan2(Math.sin(T)*le*W,q-A*Math.sin(he));Me*=g;let Re=Me-360,Ve=Me<-180?Me+360:Me;return Me=Me>180?Re:Ve,L.latLng([he*g,Me])}function Gs(r,i,a){let d=r.latLngToContainerPoint(i),g=r.latLngToContainerPoint(a),x=Math.atan2(g.y-d.y,g.x-d.x)*180/Math.PI+90;return x+=x<0?360:0,x}function Si(r,i,a,d){let g=Gs(r,i,a);return ei(i,g,d)}function ps(r,i,a="asc"){if(!i||Object.keys(i).length===0)return(T,A)=>T-A;let d=Object.keys(i),g,x=d.length-1,k={};for(;x>=0;)g=d[x],k[g.toLowerCase()]=i[g],x-=1;function E(T){if(T instanceof L.Marker)return"Marker";if(T instanceof L.Circle)return"Circle";if(T instanceof L.CircleMarker)return"CircleMarker";if(T instanceof L.Rectangle)return"Rectangle";if(T instanceof L.Polygon)return"Polygon";if(T instanceof L.Polyline)return"Line"}return(T,A)=>{let W,q;if(W=E(T.layer).toLowerCase(),q=E(A.layer).toLowerCase(),!W||!q)return 0;let le=W in k?k[W]:Number.MAX_SAFE_INTEGER,he=q in k?k[q]:Number.MAX_SAFE_INTEGER,Me=0;return le<he?Me=-1:le>he&&(Me=1),a==="desc"?Me*-1:Me}}function Wr(r,i=r.getLatLngs()){return r instanceof L.Polygon?L.polygon(i).getLatLngs():L.polyline(i).getLatLngs()}function wn(r,i){if(i.options.crs?.projection?.MAX_LATITUDE){let a=i.options.crs?.projection?.MAX_LATITUDE;r.lat=Math.max(Math.min(a,r.lat),-a)}return r}function ir(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}function La(r,i){if(r=r.trim().toLowerCase(),i[r])return r;let a=r.replace(/[-_\s]/g,"_").match(/^([a-z]{2,3})(?:_([a-z]{2,3}))?$/);if(a){let d=[];a[2]&&d.push(`${a[1]}_${a[2]}`),d.push(a[1]);for(let g of d)if(i[g])return g}return r}var Pi=L.Class.extend({includes:[ki,Lo,ko,Jt,Yr],initialize(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=hl(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0,exitModeOnEscape:!1,finishOnEnter:!1},this.Keyboard._initKeyListener(r)},setLang(r="en",i,a="en"){r=La(r,Dt);let d=L.PM.activeLang;i&&(Dt[r]=(0,Us.default)(Dt[a],i)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(d,r,a,Dt[r])},addControls(r){this.Toolbar.addControls(r)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(r="Polygon",i){r==="Poly"&&(r="Polygon"),this.Draw.enable(r,i)},disableDraw(r="Polygon"){r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions(r,i={}){let a=i.ignoreShapes||[],d=i.merge||!1;this.map.pm.Draw.shapes.forEach(g=>{a.indexOf(g)===-1&&this.map.pm.Draw[g].setPathOptions(r,d)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(r){let i=(0,Us.default)(this.globalOptions,r);i.editable&&(i.resizeableCircleMarker=i.editable,delete i.editable);let a=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!i.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),a=!0);let d=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!i.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),d=!0),this.map.pm.Draw.shapes.forEach(g=>{this.map.pm.Draw[g].setOptions(i)}),a&&this.map.pm.Draw.CircleMarker.enable(),d&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(g=>{g.pm.setOptions(i)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=i,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(r=>{r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(r=!1){let i=L.PM.Utils.findLayers(this.map);if(!r)return i;let a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(d=>{a.addLayer(d)}),a},getGeomanDrawLayers(r=!1){let i=L.PM.Utils.findLayers(this.map).filter(d=>d._drawnByGeoman===!0);if(!r)return i;let a=L.featureGroup();return a._pmTempLayer=!0,i.forEach(d=>{a.addLayer(d)}),a},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(r){ir(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick(r){let i="";r.type==="touchstart"||r.type==="pointerdown"?i="mousedown":(r.type==="touchend"||r.type==="pointerup"||r.type==="touchcancel"||r.type==="pointercancel")&&(i="mouseup"),i&&ir(this.map)._onClick(this._createMouseEvent(i,r))},_createMouseEvent(r,i){let a,d=i.touches[0]||i.changedTouches[0];try{a=new MouseEvent(r,{bubbles:i.bubbles,cancelable:i.cancelable,view:i.view,detail:d.detail,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey,metaKey:i.metaKey,button:i.button,relatedTarget:i.relatedTarget})}catch{a=document.createEvent("MouseEvents"),a.initMouseEvent(r,i.bubbles,i.cancelable,i.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}return a}}),eu=Pi,Hn=L.Control.extend({includes:[Yr],options:{position:"topleft",disableByOtherButtons:!0},initialize(r){this._button=L.Util.extend({},this.options,r)},onAdd(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let r=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),r?r.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(r){return typeof r=="boolean"?this._button.toggleStatus=r:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(r){r&&r.preventDefault(),!this._button.disabled&&(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton(r){let i=this.options.position.indexOf("right")>-1?"pos-right":"",a=L.DomUtil.create("div",`button-container  ${i}`,this._container);r.title&&a.setAttribute("title",r.title);let d=L.DomUtil.create("a","leaflet-buttons-control-button",a);d.setAttribute("role","button"),d.setAttribute("tabindex","0"),d.href="#";let g=L.DomUtil.create("div",`leaflet-pm-actions-container ${i}`,a),x=r.actions,k={cancel:{text:Et("actions.cancel"),title:Et("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Et("actions.finish"),title:Et("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Et("actions.removeLastVertex"),title:Et("actions.removeLastVertex"),onClick(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:Et("actions.finish"),title:Et("actions.finish"),onClick(T){this._map.pm.Draw[r.jsClass]._finishShape(T)}}};r._preparedActions=x.map(T=>{let A=typeof T=="string"?T:T.name,W;if(k[A])W=k[A];else if(T.text)W=T;else return W;let q=L.DomUtil.create("a",`leaflet-pm-action ${i} action-${A}`,g);if(q.setAttribute("role","button"),q.setAttribute("tabindex","0"),q.href="#",W.title&&(q.title=W.title),q.innerHTML=W.text,L.DomEvent.disableClickPropagation(q),L.DomEvent.on(q,"click",L.DomEvent.stop),W._node=q,!r.disabled&&W.onClick){let le=he=>{he.preventDefault();let Me="",{buttons:Re}=this._map.pm.Toolbar;for(let Ve in Re)if(Re[Ve]._button===r){Me=Ve;break}this._fireActionClick(W,Me,r)};L.DomEvent.addListener(q,"click",le,this),L.DomEvent.addListener(q,"click",W.onClick,this),L.DomEvent.addListener(q,"click",()=>this._updateActiveAction(r))}return W}),this._updateActiveAction(r),r.toggleStatus&&L.DomUtil.addClass(a,"active");let E=L.DomUtil.create("div","control-icon",d);return r.iconUrl&&E.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(E,r.className),L.DomEvent.disableClickPropagation(d),L.DomEvent.on(d,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(d,"click",this._onBtnClick,this),L.DomEvent.addListener(d,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(d,"pm-disabled"),d.setAttribute("aria-disabled","true")),a},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let r="",{buttons:i}=this._map.pm.Toolbar;for(let a in i)if(i[a]._button===this._button){r=a;break}this._fireButtonClick(r,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let r="pm-disabled",i=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(i,r),i.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(i,r),i.setAttribute("aria-disabled","false"))},_updateActiveAction(r){r._preparedActions?.forEach(i=>{i?._node&&(i.isActive&&i.isActive.call(this)?L.DomUtil.addClass(i._node,"active-action"):L.DomUtil.removeClass(i._node,"active-action"))})}}),ka=Hn;L.Control.PMButton=ka;var ms=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(r){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(r)},reinit(){let r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(r){let i=`${r}Container`;return this[i]||(this[i]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${r} leaflet-bar leaflet-control`)),this[i]},getButtons(){return this.buttons},addControls(r=this.options){typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let r=this.getButtons(),i={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let a in r){let d=r[a];L.Util.setOptions(d,{className:i.geomanIcons[a]})}},removeControls(){let r=this.getButtons();for(let i in r)r[i].remove();this.isVisible=!1},deleteControl(r){let i=this._btnNameMapping(r);this.buttons[i]&&(this.buttons[i].remove(),delete this.buttons[i])},toggleControls(r=this.options){this.isVisible?this.removeControls():this.addControls(r)},_addButton(r,i){return this.buttons[r]=i,this.options[r]=!!this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons(r){for(let i in this.buttons){let a=this.buttons[i];a._button.disableByOtherButtons&&a!==r&&a.toggled()&&a._triggerClick()}},toggleButton(r,i,a=!0){r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode");let d=r;return a&&this.triggerClickOnToggledButtons(this.buttons[d]),this.buttons[d]?this.buttons[d].toggle(i):!1},_defineButtons(){let r={className:"control-icon leaflet-pm-icon-marker",title:Et("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},i={title:Et("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={className:"control-icon leaflet-pm-icon-polyline",title:Et("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},d={title:Et("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},g={title:Et("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},x={title:Et("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:Et("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},E={title:Et("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},T={title:Et("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},A={title:Et("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},W={title:Et("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},q={className:"control-icon leaflet-pm-icon-text",title:Et("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(le,he)=>{this.map.pm.Draw[he.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(r)),this._addButton("drawPolyline",new L.Control.PMButton(a)),this._addButton("drawRectangle",new L.Control.PMButton(x)),this._addButton("drawPolygon",new L.Control.PMButton(i)),this._addButton("drawCircle",new L.Control.PMButton(d)),this._addButton("drawCircleMarker",new L.Control.PMButton(g)),this._addButton("drawText",new L.Control.PMButton(q)),this._addButton("editMode",new L.Control.PMButton(k)),this._addButton("dragMode",new L.Control.PMButton(E)),this._addButton("cutPolygon",new L.Control.PMButton(T)),this._addButton("removalMode",new L.Control.PMButton(A)),this._addButton("rotateMode",new L.Control.PMButton(W))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let r=this.getButtons(),i=[];this.options.drawControls===!1&&(i=i.concat(Object.keys(r).filter(a=>!r[a]._button.tool))),this.options.editControls===!1&&(i=i.concat(Object.keys(r).filter(a=>r[a]._button.tool==="edit"))),this.options.optionsControls===!1&&(i=i.concat(Object.keys(r).filter(a=>r[a]._button.tool==="options"))),this.options.customControls===!1&&(i=i.concat(Object.keys(r).filter(a=>r[a]._button.tool==="custom")));for(let a in r)if(this.options[a]&&i.indexOf(a)===-1){let d=r[a]._button.tool;d||(d="draw"),r[a].setPosition(this._getBtnPosition(d)),r[a].addTo(this.map)}},_getBtnPosition(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition(r,i){this.options.positions[r]=i,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(r,i){if(i)typeof i!="object"&&(i={name:i});else throw new TypeError("Button has no name");let a=this._btnNameMapping(r);if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");let d=this.map.pm.Draw.createNewDrawInstance(i.name,a);i={...this.buttons[a]._button,...i};let g=this.createCustomControl(i);return{drawInstance:d,control:g}},createCustomControl(r){if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=()=>{}),r.afterClick||(r.afterClick=()=>{}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),(!r.block||r.block==="draw")&&(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className=`control-icon ${r.className}`):r.className="control-icon";let i={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:r.disableOtherButtons??!0,disableByOtherButtons:r.disableByOtherButtons??!0,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);let a=this._addButton(r.name,new L.Control.PMButton(i));return this.changeControlOrder(),a},controlExists(r){return!!this.getButton(r)},getButton(r){return this.getButtons()[r]},getButtonsInBlock(r){let i={};if(r)for(let a in this.getButtons()){let d=this.getButtons()[a];(d._button.tool===r||r==="draw"&&!d._button.tool)&&(i[a]=d)}return i},changeControlOrder(r=[]){let i=this._shapeMapping(),a=[];r.forEach(x=>{i[x]?a.push(i[x]):a.push(x)});let d=this.getButtons(),g={};a.forEach(x=>{d[x]&&(g[x]=d[x])}),Object.keys(d).filter(x=>!d[x]._button.tool||d[x]._button.tool==="draw").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).filter(x=>d[x]._button.tool==="edit").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).filter(x=>d[x]._button.tool==="options").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).filter(x=>d[x]._button.tool==="custom").forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),Object.keys(d).forEach(x=>{a.indexOf(x)===-1&&(g[x]=d[x])}),this.map.pm.Toolbar.buttons=g,this._showHideButtons()},getControlOrder(){let r=this.getButtons(),i=[];for(let a in r)i.push(a);return i},changeActionsOfControl(r,i){let a=this._btnNameMapping(r);if(!a)throw new TypeError("No name passed");if(!i)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=i,this.changeControlOrder()},setButtonDisabled(r,i){let a=this._btnNameMapping(r);i?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(r){let i=this._shapeMapping();return i[r]?i[r]:r}}),sr=ms,Ea=B(Fs()),dl={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(r){r.forEach(i=>{if(Array.isArray(i)){this._assignEvents(i);return}i.off("drag",this._handleSnapping,this),i.on("drag",this._handleSnapping,this),i.off("dragend",this._cleanupSnapping,this),i.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(r){if(r){let i=r.target;i._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(i=>{i.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(r){let i=r.target;if(i._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),r?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let a=this._calcClosestLayer(i.getLatLng(),this._snapList);if(Object.keys(a).length===0)return!1;let d=a.layer instanceof L.Marker||a.layer instanceof L.CircleMarker||!this.options.snapSegment,g;d?g=a.latlng:g=this._checkPrioritiySnapping(a);let x=this.options.snapDistance,k={marker:i,shape:this._shape,snapLatLng:g,segment:a.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:a.layer,distance:a.distance};if(this._fireSnapDrag(k.marker,k),this._fireSnapDrag(this._layer,k),a.distance<x){i._orgLatLng=i.getLatLng(),i.setLatLng(g),i._snapped=!0,i._snapInfo=k;let E=()=>{this._snapLatLng=g,this._fireSnap(i,k),this._fireSnap(this._layer,k)},T=this._snapLatLng||{},A=g||{};(T.lat!==A.lat||T.lng!==A.lng)&&E()}else this._snapLatLng&&(this._unsnap(k),i._snapped=!1,i._snapInfo=void 0,this._fireUnsnap(k.marker,k),this._fireUnsnap(this._layer,k));return!0},_createSnapList(){let r=[],i=[],a=this._map;a.off("layerremove",this._handleSnapLayerRemoval,this),a.on("layerremove",this._handleSnapLayerRemoval,this),a.eachLayer(d=>{if((d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&d.options.snapIgnore!==!0){if(d.options.snapIgnore===void 0&&(!L.PM.optIn&&d.options.pmIgnore===!0||L.PM.optIn&&d.options.pmIgnore!==!1))return;(d instanceof L.Circle||d instanceof L.CircleMarker)&&d.pm&&d.pm._hiddenPolyCircle?r.push(d.pm._hiddenPolyCircle):d instanceof L.ImageOverlay&&(d=L.rectangle(d.getBounds())),r.push(d);let g=L.polyline([],{color:"red",pmIgnore:!0});g._pmTempLayer=!0,i.push(g),(d instanceof L.Circle||d instanceof L.CircleMarker)&&i.push(g)}}),r=r.filter(d=>this._layer!==d),r=r.filter(d=>d._latlng||d._latlngs&&fs(d._latlngs)),r=r.filter(d=>!d._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let d=L.polyline([],{color:"red",pmIgnore:!0});d._pmTempLayer=!0,i.push(d)}),this._snapList=r.concat(this._otherSnapLayers)):this._snapList=r,this.debugIndicatorLines=i},_handleSnapLayerRemoval({layer:r}){if(!r._leaflet_id)return;let i=this._snapList.findIndex(a=>a._leaflet_id===r._leaflet_id);i>-1&&this._snapList.splice(i,1)},_calcClosestLayer(r,i){return this._calcClosestLayers(r,i,1)[0]},_calcClosestLayers(r,i,a=1){let d=[],g={};i.forEach((k,E)=>{if(k._parentCopy&&k._parentCopy===this._layer||k.getLatLngs?.().flat(5).length<2)return;let T=this._calcLayerDistances(r,k);if(T.distance=Math.floor(T.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[E]){let A=L.polyline([],{color:"red",pmIgnore:!0});A._pmTempLayer=!0,this.debugIndicatorLines[E]=A}this.debugIndicatorLines[E].setLatLngs([r,T.latlng])}a===1&&(g.distance===void 0||T.distance-5<=g.distance)?(T.distance+5<g.distance&&(d=[]),g=T,g.layer=k,d.push(g)):a!==1&&(g={},g=T,g.layer=k,d.push(g))}),a!==1&&(d=d.sort((k,E)=>k.distance-E.distance)),a===-1&&(a=d.length);let x=this._getClosestLayerByPriority(d,a);return L.Util.isArray(x)?x:[x]},_calcLayerDistances(r,i){let a=this._map,d=i instanceof L.Marker||i instanceof L.CircleMarker,g=i instanceof L.Polygon,x=r;if(d){let k=i.getLatLng();return{latlng:{...k},distance:this._getDistance(a,k,x)}}return this._calcLatLngDistances(x,i.getLatLngs(),a,g)},_calcLatLngDistances(r,i,a,d=!1){let g,x,k,E=T=>{T.forEach((A,W)=>{if(Array.isArray(A)){E(A);return}if(this.options.snapSegment){let q=A,le;d?le=W+1===T.length?0:W+1:le=W+1===T.length?void 0:W+1;let he=T[le];if(he){let Me=this._getDistanceToSegment(a,r,q,he);(x===void 0||Me<x)&&(x=Me,k=[q,he])}}else{let q=this._getDistance(a,r,A);(x===void 0||q<x)&&(x=q,g=A)}})};return E(i),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(a,r,k[0],k[1])},segment:k,distance:x}:{latlng:g,distance:x}},_getClosestLayerByPriority(r,i=1){r=r.sort((k,E)=>k._leaflet_id-E._leaflet_id);let a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],d=this._map.pm.globalOptions.snappingOrder||[],g=0,x={};return d.concat(a).forEach(k=>{x[k]||(g+=1,x[k]=g)}),r.sort(ps("instanceofShape",x)),i===1?r[0]||{}:r.slice(0,i)},_checkPrioritiySnapping(r){let i=this._map,a=r.segment[0],d=r.segment[1],g=r.latlng,x=g;if(this.options.snapVertex){let k=this._getDistance(i,a,g),E=this._getDistance(i,d,g),T=k<E?a:d,A=k<E?k:E;if(this.options.snapMiddle){let q=L.PM.Utils.calcMiddleLatLng(i,a,d),le=this._getDistance(i,q,g);le<k&&le<E&&(T=q,A=le)}let W=this.options.snapDistance;A<W&&(x=T)}return{...x}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(r,i,a,d){let g=r.getMaxZoom();g===1/0&&(g=r.getZoom());let x=r.project(i,g),k=r.project(a,g),E=r.project(d,g),T=L.LineUtil.closestPointOnSegment(x,k,E);return r.unproject(T,g)},_getDistanceToSegment(r,i,a,d){let g=r.latLngToContainerPoint(i),x=r.latLngToContainerPoint(a),k=r.latLngToContainerPoint(d);return L.LineUtil.pointToSegmentDistance(g,x,k)},_getDistance(r,i,a){return r.latLngToContainerPoint(i).distanceTo(r.latLngToContainerPoint(a))}},Eo=dl,tu=L.Class.extend({includes:[Eo,Yr],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(r){let i=new L.Icon.Default;i.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=i,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(a=>{this[a]=new L.PM.Draw[a](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(r,i=!1){i?this.options.pathOptions=(0,Ea.default)(this.options.pathOptions,r):this.options.pathOptions=r},getShapes(){return this.shapes},getShape(){return this._shape},enable(r,i){if(!r)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[r].enable(i)},disable(){this.shapes.forEach(r=>{this[r].disable()})},addControls(){this.shapes.forEach(r=>{this[r].addButton()})},getActiveShape(){let r;return this.shapes.forEach(i=>{this[i]._enabled&&(r=i)}),r},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let r=[];this._map.eachLayer(i=>{(i instanceof L.Polyline||i instanceof L.Marker||i instanceof L.Circle||i instanceof L.CircleMarker||i instanceof L.ImageOverlay)&&(i._pmTempLayer||r.push(i))}),this._enabled?r.forEach(i=>{L.PM.Utils.disablePopup(i)}):r.forEach(i=>{L.PM.Utils.enablePopup(i)})},createNewDrawInstance(r,i){let a=this._getShapeFromBtnName(i);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError(`There is no class L.PM.Draw.${a}`);return this[r]=new L.PM.Draw[a](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[i]&&this[r].setOptions(this[i].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName(r){let i={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return i[r]?i[r]:this[r]?this[r]._shape:r},_finishLayer(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp(r){r._drawnByGeoman=!0},_setPane(r,i){i==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),tn=tu;tn.Marker=tn.extend({initialize(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker",this._layerIsDragging=!1},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let i=r;i.target=this._hintMarker,this._handleSnapping(i)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(r){if(!r.latlng||this._layerIsDragging||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=new L.Marker(i,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var Bn=63710088e-1,nu={centimeters:Bn*100,centimetres:Bn*100,degrees:360/(2*Math.PI),feet:Bn*3.28084,inches:Bn*39.37,kilometers:Bn/1e3,kilometres:Bn/1e3,meters:Bn,metres:Bn,miles:Bn/1609.344,millimeters:Bn*1e3,millimetres:Bn*1e3,nauticalmiles:Bn/1852,radians:1,yards:Bn*1.0936};function gs(r,i,a={}){let d={type:"Feature"};return(a.id===0||a.id)&&(d.id=a.id),a.bbox&&(d.bbox=a.bbox),d.properties=i||{},d.geometry=r,d}function ti(r,i,a={}){if(!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!pl(r[0])||!pl(r[1]))throw new Error("coordinates must contain numbers");return gs({type:"Point",coordinates:r},i,a)}function Sa(r,i,a={}){if(r.length<2)throw new Error("coordinates must be an array of two or more positions");return gs({type:"LineString",coordinates:r},i,a)}function Wn(r,i={}){let a={type:"FeatureCollection"};return i.id&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.features=r,a}function fl(r,i="kilometers"){let a=nu[i];if(!a)throw new Error(i+" units is invalid");return r*a}function Zs(r){return r%(2*Math.PI)*180/Math.PI}function qn(r){return r%360*Math.PI/180}function pl(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function Mi(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}function Vn(r){let i,a,d={type:"FeatureCollection",features:[]};if(r.type==="Feature"?a=r.geometry:a=r,a.type==="LineString")i=[a.coordinates];else if(a.type==="MultiLineString")i=a.coordinates;else if(a.type==="MultiPolygon")i=[].concat(...a.coordinates);else if(a.type==="Polygon")i=a.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return i.forEach(g=>{i.forEach(x=>{for(let k=0;k<g.length-1;k++)for(let E=k;E<x.length-1;E++){if(g===x&&(Math.abs(k-E)===1||k===0&&E===g.length-2&&g[k][0]===g[g.length-1][0]&&g[k][1]===g[g.length-1][1]))continue;let T=ml(g[k][0],g[k][1],g[k+1][0],g[k+1][1],x[E][0],x[E][1],x[E+1][0],x[E+1][1]);T&&d.features.push(ti([T[0],T[1]]))}})}),d}function ml(r,i,a,d,g,x,k,E){let T,A,W,q,le,he={x:null,y:null,onLine1:!1,onLine2:!1};return T=(E-x)*(a-r)-(k-g)*(d-i),T===0?he.x!==null&&he.y!==null?he:!1:(A=i-x,W=r-g,q=(k-g)*A-(E-x)*W,le=(a-r)*A-(d-i)*W,A=q/T,W=le/T,he.x=r+A*(a-r),he.y=i+A*(d-i),A>=0&&A<=1&&(he.onLine1=!0),W>=0&&W<=1&&(he.onLine2=!0),he.onLine1&&he.onLine2?[he.x,he.y]:!1)}var Ks=Vn;tn.Line=tn.extend({initialize(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine(){let r=this._layer.getLatLngs();if(r.length>0){let i=r[r.length-1];this._hintline.setLatLngs([i,this._hintMarker.getLatLng()])}},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let i=this._layer._defaultShape().slice();i.push(this._hintMarker.getLatLng()),this._change(i)},hasSelfIntersection(){return Ks(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(r,i){let a=L.polyline(this._layer.getLatLngs());r&&(i||(i=this._hintMarker.getLatLng()),a.addLatLng(i));let d=Ks(a.toGeoJSON(15));this._doesSelfIntersect=d.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(d,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(r){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,r.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),d=a[a.length-1];if(i.equals(a[0])||a.length>0&&i.equals(d)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:i,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(i);let g=this._createMarker(i);this._setTooltipText(),this._setHintLineAfterNewVertex(i),this._fireVertexAdded(g,void 0,i,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)},_setHintLineAfterNewVertex(r){this._hintline.setLatLngs([r,r])},_removeLastVertex(){let r=this._markers;if(r.length<=1){this.disable();return}let i=this._layer.getLatLngs(),a=r[r.length-1],{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(r,a);r.pop(),this._layerGroup.removeLayer(a);let g=r[r.length-1],x=i.indexOf(g.getLatLng());i=i.slice(0,x+1),this._layer.setLatLngs(i),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,d,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=1)return;let i=L.polyline(r,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this.options.snappable&&this._cleanupSnapping();let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))},_createMarker(r){let i=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),i.on("click",this._finishShape,this),i},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),i="";r<=1?i=Et("tooltips.continueLine"):i=Et("tooltips.finishLine"),this._hintMarker.setTooltipContent(i)},_change(r){this._fireChange(r,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),tn.Polygon=tn.Line.extend({initialize(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker(r){let i=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._markers.push(i),this._layer.getLatLngs().flat().length===1?(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()):i.on("click",()=>1),i},_setTooltipText(){let{length:r}=this._layer.getLatLngs().flat(),i="";r<=2?i=Et("tooltips.continueLine"):i=Et("tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let i=L.polygon(r,this.options.pathOptions);this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._fireCreate(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))}}),tn.Rectangle=tn.extend({initialize(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let i=0;i<2;i+=1){let a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(i),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(a=>{L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(i)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Et("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}let i=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(i,"Draw")},_syncRectangleSize(){let r=wn(this._startMarker.getLatLng(),this._map),i=wn(this._hintMarker.getLatLng(),this._map),a=L.PM.Utils._getRotatedRectangle(r,i,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(a),this.options.cursorMarker&&this._styleMarkers){let d=[];a.forEach(g=>{!g.equals(r,1e-8)&&!g.equals(i,1e-8)&&d.push(g)}),d.forEach((g,x)=>{try{this._styleMarkers[x].setLatLng(g)}catch{}})}},_findCorners(){let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.options.rectangleAngle||0,this._map)},_finishShape(r){r?.latlng&&!this._hintMarker._snapped&&this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||a.equals(i))return;let d=L.rectangle([a,i],this.options.pathOptions);if(this.options.rectangleAngle){let x=L.PM.Utils._getRotatedRectangle(a,i,this.options.rectangleAngle||0,this._map);d.setLatLngs(x),d.pm&&d.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d);let g=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(g))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),tn.CircleMarker=tn.extend({initialize(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(r){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let i={};L.extend(i,this.options.templineStyle),i.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),i),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.disable()})},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_placeCenterMarker(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let i=this._hintMarker.getLatLng();this._centerMarker.setLatLng(i),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Et("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let r=this._centerMarker.getLatLng(),i=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,i])},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._distanceCalculation(r,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();let i=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(i,"Draw")},isRelevantMarker(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!r.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng(),a=new this._BaseCircleClass(i,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(a),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(r){r.pm&&this.options.markerEditable&&r.pm.enable()},_finishShape(r){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;r?.latlng&&!this._hintMarker._snapped&&this._hintMarker.setLatLng(r.latlng);let i=this._centerMarker.getLatLng(),a=this._defaultRadius;if(this.options[this._editableOption]){let k=this._hintMarker.getLatLng();a=this._distanceCalculation(i,k),this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?a=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(a=this.options[this._maxRadiusOption])}let d={...this.options.pathOptions,radius:a},g=new this._BaseCircleClass(i,d);this._setPane(g,"layerPane"),this._finishLayer(g),g.addTo(this._map.pm._getContainingLayer()),g.pm&&g.pm._updateHiddenPolyCircle(),this._fireCreate(g);let x=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(x))},_getNewDestinationOfHintMarker(){let r=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return r;let i=this._centerMarker.getLatLng(),a=this._distanceCalculation(i,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?r=Si(this._map,i,r,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(r=Si(this._map,i,r,this._getMaxDistanceInMeter()))}return r},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let r=this._centerMarker.getLatLng(),i=this._hintMarker.getLatLng(),a=this._distanceCalculation(r,i);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let r={};L.extend(r,this.options.templineStyle),this.options[this._editableOption]&&(r.radius=0),this._layer?.setStyle(r),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(r,i){return this._map.project(r).distanceTo(this._map.project(i))}}),tn.Circle=tn.CircleMarker.extend({initialize(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(r,i){return this._map.distance(r,i)}});var Pa=class{constructor(r=[],i=Ma){if(this.data=r,this.length=this.data.length,this.compare=i,this.length>0)for(let a=(this.length>>1)-1;a>=0;a--)this._down(a)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;let r=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),r}peek(){return this.data[0]}_up(r){let{data:i,compare:a}=this,d=i[r];for(;r>0;){let g=r-1>>1,x=i[g];if(a(d,x)>=0)break;i[r]=x,r=g}i[r]=d}_down(r){let{data:i,compare:a}=this,d=this.length>>1,g=i[r];for(;r<d;){let x=(r<<1)+1,k=i[x],E=x+1;if(E<this.length&&a(i[E],k)<0&&(x=E,k=i[E]),a(k,g)>=0)break;i[r]=k,r=x}i[r]=g}};function Ma(r,i){return r<i?-1:r>i?1:0}function So(r,i){return r.p.x>i.p.x?1:r.p.x<i.p.x?-1:r.p.y!==i.p.y?r.p.y>i.p.y?1:-1:1}function ru(r,i){return r.rightSweepEvent.p.x>i.rightSweepEvent.p.x?1:r.rightSweepEvent.p.x<i.rightSweepEvent.p.x?-1:r.rightSweepEvent.p.y!==i.rightSweepEvent.p.y?r.rightSweepEvent.p.y<i.rightSweepEvent.p.y?1:-1:1}var gl=class{constructor(r,i,a,d){this.p={x:r[0],y:r[1]},this.featureId=i,this.ringId=a,this.eventId=d,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(r){return this.p.x===r.p.x&&this.p.y===r.p.y}};function _l(r,i){if(r.type==="FeatureCollection"){let a=r.features;for(let d=0;d<a.length;d++)_s(a[d],i)}else _s(r,i)}var Po=0,jn=0,or=0;function _s(r,i){let a=r.type==="Feature"?r.geometry:r,d=a.coordinates;(a.type==="Polygon"||a.type==="MultiLineString")&&(d=[d]),a.type==="LineString"&&(d=[[d]]);for(let g=0;g<d.length;g++)for(let x=0;x<d[g].length;x++){let k=d[g][x][0],E=null;jn=jn+1;for(let T=0;T<d[g][x].length-1;T++){E=d[g][x][T+1];let A=new gl(k,Po,jn,or),W=new gl(E,Po,jn,or+1);A.otherEvent=W,W.otherEvent=A,So(A,W)>0?(W.isLeftEndpoint=!0,A.isLeftEndpoint=!1):(A.isLeftEndpoint=!0,W.isLeftEndpoint=!1),i.push(A),i.push(W),k=E,or=or+1}}Po=Po+1}var qr=class{constructor(r){this.leftSweepEvent=r,this.rightSweepEvent=r.otherEvent}};function yl(r,i){if(r===null||i===null||r.leftSweepEvent.ringId===i.leftSweepEvent.ringId&&(r.rightSweepEvent.isSamePoint(i.leftSweepEvent)||r.rightSweepEvent.isSamePoint(i.leftSweepEvent)||r.rightSweepEvent.isSamePoint(i.rightSweepEvent)||r.leftSweepEvent.isSamePoint(i.leftSweepEvent)||r.leftSweepEvent.isSamePoint(i.rightSweepEvent)))return!1;let a=r.leftSweepEvent.p.x,d=r.leftSweepEvent.p.y,g=r.rightSweepEvent.p.x,x=r.rightSweepEvent.p.y,k=i.leftSweepEvent.p.x,E=i.leftSweepEvent.p.y,T=i.rightSweepEvent.p.x,A=i.rightSweepEvent.p.y,W=(A-E)*(g-a)-(T-k)*(x-d),q=(T-k)*(d-E)-(A-E)*(a-k),le=(g-a)*(d-E)-(x-d)*(a-k);if(W===0)return!1;let he=q/W,Me=le/W;if(he>=0&&he<=1&&Me>=0&&Me<=1){let Re=a+he*(g-a),Ve=d+he*(x-d);return[Re,Ve]}return!1}function Bi(r,i){i=i||!1;let a=[],d=new Pa([],ru);for(;r.length;){let g=r.pop();if(g.isLeftEndpoint){let x=new qr(g);for(let k=0;k<d.data.length;k++){let E=d.data[k];if(i&&E.leftSweepEvent.featureId===g.featureId)continue;let T=yl(x,E);T!==!1&&a.push(T)}d.push(x)}else g.isLeftEndpoint===!1&&d.pop()}return a}function vl(r,i){let a=new Pa([],So);return _l(r,a),Bi(a,i)}var ys=vl,Ba=ys;function wr(r,i,a={}){let{removeDuplicates:d=!0,ignoreSelfIntersections:g=!0}=a,x=[];r.type==="FeatureCollection"?x=x.concat(r.features):r.type==="Feature"?x.push(r):(r.type==="LineString"||r.type==="Polygon"||r.type==="MultiLineString"||r.type==="MultiPolygon")&&x.push(gs(r)),i.type==="FeatureCollection"?x=x.concat(i.features):i.type==="Feature"?x.push(i):(i.type==="LineString"||i.type==="Polygon"||i.type==="MultiLineString"||i.type==="MultiPolygon")&&x.push(gs(i));let k=Ba(Wn(x),g),E=[];if(d){let T={};k.forEach(A=>{let W=A.join(",");T[W]||(T[W]=!0,E.push(A))})}else E=k;return Wn(E.map(T=>ti(T)))}var $s=wr,dn=B(xt(),1);function vs(r,i,a){if(r!==null)for(var d,g,x,k,E,T,A,W=0,q=0,le,he=r.type,Me=he==="FeatureCollection",Re=he==="Feature",Ve=Me?r.features.length:1,Ue=0;Ue<Ve;Ue++){A=Me?r.features[Ue].geometry:Re?r.geometry:r,le=A?A.type==="GeometryCollection":!1,E=le?A.geometries.length:1;for(var H=0;H<E;H++){var de=0,ke=0;if(k=le?A.geometries[H]:A,k!==null){T=k.coordinates;var He=k.type;switch(W=0,He){case null:break;case"Point":if(i(T,q,Ue,de,ke)===!1)return!1;q++,de++;break;case"LineString":case"MultiPoint":for(d=0;d<T.length;d++){if(i(T[d],q,Ue,de,ke)===!1)return!1;q++,He==="MultiPoint"&&de++}He==="LineString"&&de++;break;case"Polygon":case"MultiLineString":for(d=0;d<T.length;d++){for(g=0;g<T[d].length-W;g++){if(i(T[d][g],q,Ue,de,ke)===!1)return!1;q++}He==="MultiLineString"&&de++,He==="Polygon"&&ke++}He==="Polygon"&&de++;break;case"MultiPolygon":for(d=0;d<T.length;d++){for(ke=0,g=0;g<T[d].length;g++){for(x=0;x<T[d][g].length-W;x++){if(i(T[d][g][x],q,Ue,de,ke)===!1)return!1;q++}ke++}de++}break;case"GeometryCollection":for(d=0;d<k.geometries.length;d++)if(vs(k.geometries[d],i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Xs(r,i){if(r.type==="Feature")i(r,0);else if(r.type==="FeatureCollection")for(var a=0;a<r.features.length&&i(r.features[a],a)!==!1;a++);}function Mo(r,i,a){var d=a;return Xs(r,function(g,x){x===0&&a===void 0?d=g:d=i(d,g,x)}),d}function Js(r,i){var a,d,g,x,k,E,T,A,W,q,le=0,he=r.type==="FeatureCollection",Me=r.type==="Feature",Re=he?r.features.length:1;for(a=0;a<Re;a++){for(E=he?r.features[a].geometry:Me?r.geometry:r,A=he?r.features[a].properties:Me?r.properties:{},W=he?r.features[a].bbox:Me?r.bbox:void 0,q=he?r.features[a].id:Me?r.id:void 0,T=E?E.type==="GeometryCollection":!1,k=T?E.geometries.length:1,g=0;g<k;g++){if(x=T?E.geometries[g]:E,x===null){if(i(null,le,A,W,q)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(i(x,le,A,W,q)===!1)return!1;break}case"GeometryCollection":{for(d=0;d<x.geometries.length;d++)if(i(x.geometries[d],le,A,W,q)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}le++}}function bn(r,i){Js(r,function(a,d,g,x,k){var E=a===null?null:a.type;switch(E){case null:case"Point":case"LineString":case"Polygon":return i(gs(a,g,{bbox:x,id:k}),d,0)===!1?!1:void 0}var T;switch(E){case"MultiPoint":T="Point";break;case"MultiLineString":T="LineString";break;case"MultiPolygon":T="Polygon";break}for(var A=0;A<a.coordinates.length;A++){var W=a.coordinates[A],q={type:T,coordinates:W};if(i(gs(q,g),d,A)===!1)return!1}})}function br(r,i={}){if(r.bbox!=null&&i.recompute!==!0)return r.bbox;let a=[1/0,1/0,-1/0,-1/0];return vs(r,d=>{a[0]>d[0]&&(a[0]=d[0]),a[1]>d[1]&&(a[1]=d[1]),a[2]<d[0]&&(a[2]=d[0]),a[3]<d[1]&&(a[3]=d[1])}),a}function Cr(r){var i=new dn.default(r);return i.insert=function(a){if(a.type!=="Feature")throw new Error("invalid feature");return a.bbox=a.bbox?a.bbox:br(a),dn.default.prototype.insert.call(this,a)},i.load=function(a){var d=[];return Array.isArray(a)?a.forEach(function(g){if(g.type!=="Feature")throw new Error("invalid features");g.bbox=g.bbox?g.bbox:br(g),d.push(g)}):Xs(a,function(g){if(g.type!=="Feature")throw new Error("invalid features");g.bbox=g.bbox?g.bbox:br(g),d.push(g)}),dn.default.prototype.load.call(this,d)},i.remove=function(a,d){if(a.type!=="Feature")throw new Error("invalid feature");return a.bbox=a.bbox?a.bbox:br(a),dn.default.prototype.remove.call(this,a,d)},i.clear=function(){return dn.default.prototype.clear.call(this)},i.search=function(a){var d=dn.default.prototype.search.call(this,this.toBBox(a));return Wn(d)},i.collides=function(a){return dn.default.prototype.collides.call(this,this.toBBox(a))},i.all=function(){var a=dn.default.prototype.all.call(this);return Wn(a)},i.toJSON=function(){return dn.default.prototype.toJSON.call(this)},i.fromJSON=function(a){return dn.default.prototype.fromJSON.call(this,a)},i.toBBox=function(a){var d;if(a.bbox)d=a.bbox;else if(Array.isArray(a)&&a.length===4)d=a;else if(Array.isArray(a)&&a.length===6)d=[a[0],a[1],a[3],a[4]];else if(a.type==="Feature")d=br(a);else if(a.type==="FeatureCollection")d=br(a);else throw new Error("invalid geojson");return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},i}function iu(r,i){if(i=i??{},!Mi(i))throw new Error("options is invalid");var a=i.precision,d=i.coordinates,g=i.mutate;if(a=a==null||isNaN(a)?6:a,d=d==null||isNaN(d)?3:d,!r)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof d!="number")throw new Error("<coordinates> must be a number");(g===!1||g===void 0)&&(r=JSON.parse(JSON.stringify(r)));var x=Math.pow(10,a);return vs(r,function(k){Lr(k,x,d)}),r}function Lr(r,i,a){r.length>a&&r.splice(a,r.length);for(var d=0;d<r.length;d++)r[d]=Math.round(r[d]*i)/i;return r}function Cn(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return[...r.geometry.coordinates];if(r.type==="Point")return[...r.coordinates]}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return[...r];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function kr(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ji(r){return r.type==="Feature"?r.geometry:r}function xs(r,i){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Bo(r){if(!r)throw new Error("geojson is required");let i=[];return bn(r,a=>{jo(a,i)}),Wn(i)}function jo(r,i){let a=[],d=r.geometry;if(d!==null){switch(d.type){case"Polygon":a=kr(d);break;case"LineString":a=[kr(d)]}a.forEach(g=>{ws(g,r.properties).forEach(x=>{x.id=i.length,i.push(x)})})}}function ws(r,i){let a=[];return r.reduce((d,g)=>{let x=Sa([d,g],i);return x.bbox=To(d,g),a.push(x),g}),a}function To(r,i){let a=r[0],d=r[1],g=i[0],x=i[1],k=a<g?a:g,E=d<x?d:x,T=a>g?a:g,A=d>x?d:x;return[k,E,T,A]}function Ys(r,i,a={}){var d=Cn(r),g=Cn(i),x=qn(g[1]-d[1]),k=qn(g[0]-d[0]),E=qn(d[1]),T=qn(g[1]),A=Math.pow(Math.sin(x/2),2)+Math.pow(Math.sin(k/2),2)*Math.cos(E)*Math.cos(T);return fl(2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A)),a.units)}var xl=Object.defineProperty,ar=Object.defineProperties,ni=Object.getOwnPropertyDescriptors,ja=Object.getOwnPropertySymbols,Ta=Object.prototype.hasOwnProperty,wl=Object.prototype.propertyIsEnumerable,Do=(r,i,a)=>i in r?xl(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a,Ao=(r,i)=>{for(var a in i||(i={}))Ta.call(i,a)&&Do(r,a,i[a]);if(ja)for(var a of ja(i))wl.call(i,a)&&Do(r,a,i[a]);return r},lr=(r,i)=>ar(r,ni(i));function Ro(r,i,a={}){if(!r||!i)throw new Error("lines and pt are required arguments");let d=Cn(i),g=ti([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),x=0;return bn(r,function(k,E,T){let A=kr(k);for(let W=0;W<A.length-1;W++){let q=ti(A[W]),le=Cn(q),he=ti(A[W+1]),Me=Cn(he),Re=Ys(q,he,a),Ve,Ue;Me[0]===d[0]&&Me[1]===d[1]?[Ve,Ue]=[Me,!0]:le[0]===d[0]&&le[1]===d[1]?[Ve,Ue]=[le,!1]:[Ve,Ue]=bs(le,Me,d);let H=ti(Ve,{dist:Ys(i,Ve,a),multiFeatureIndex:T,location:x+Ys(q,Ve,a)});H.properties.dist<g.properties.dist&&(g=lr(Ao({},H),{properties:lr(Ao({},H.properties),{index:Ue?W+1:W})})),x+=Re}}),g}function Gn(r,i){let[a,d,g]=r,[x,k,E]=i;return a*x+d*k+g*E}function Er(r,i){let[a,d,g]=r,[x,k,E]=i;return[d*E-g*k,g*x-a*E,a*k-d*x]}function Qs(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2))}function eo(r){let i=Qs(r);return[r[0]/i,r[1]/i,r[2]/i]}function Oo(r){let i=qn(r[1]),a=qn(r[0]);return[Math.cos(i)*Math.cos(a),Math.cos(i)*Math.sin(a),Math.sin(i)]}function ri(r){let[i,a,d]=r,g=Math.min(Math.max(d,-1),1),x=Zs(Math.asin(g));return[Zs(Math.atan2(a,i)),x]}function bs(r,i,a){let d=Oo(r),g=Oo(i),x=Oo(a),k=Er(d,g);if(k[0]===0&&k[1]===0&&k[2]===0)return Gn(d,g)>0?[[...i],!0]:[[...a],!1];let E=Er(k,x);if(E[0]===0&&E[1]===0&&E[2]===0)return[[...i],!0];let T=Er(E,k),A=eo(T),W=[-A[0],-A[1],-A[2]],q=Gn(x,A)>Gn(x,W)?A:W,le=eo(k),he=Gn(Er(d,q),le),Me=Gn(Er(q,g),le);return he>=0&&Me>=0?[ri(q),!1]:Gn(d,x)>Gn(g,x)?[[...r],!1]:[[...i],!0]}function ii(r,i){if(!r)throw new Error("line is required");if(!i)throw new Error("splitter is required");var a=xs(r),d=xs(i);if(a!=="LineString")throw new Error("line must be LineString");if(d==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(d==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var g=iu(i,{precision:7});switch(d){case"Point":return Ti(r,g);case"MultiPoint":return No(r,g);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return No(r,wr(r,g,{ignoreSelfIntersections:!0}))}}function No(r,i){var a=[],d=Cr();return bn(i,function(g){if(a.forEach(function(E,T){E.id=T}),!a.length)a=Ti(r,g).features,d.load(Wn(a));else{var x=d.search(g);if(x.features.length){var k=Da(g,x);a=a.filter(function(E){return E.id!==k.id}),d.remove(k),Xs(Ti(k,g),function(E){a.push(E),d.insert(E)})}}}),Wn(a)}function Ti(r,i){var a=[],d=kr(r)[0],g=kr(r)[r.geometry.coordinates.length-1];if(Zn(d,Cn(i))||Zn(g,Cn(i)))return Wn([r]);var x=Cr(),k=Bo(r);x.load(k);var E=x.search(i);if(!E.features.length)return Wn([r]);var T=Da(i,E),A=[d],W=Mo(k,function(q,le,he){var Me=kr(le)[1],Re=Cn(i);return he===T.id?(q.push(Re),a.push(Sa(q)),Zn(Re,Me)?[Re]:[Re,Me]):(q.push(Me),q)},A);return W.length>1&&a.push(Sa(W)),Wn(a)}function Da(r,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var a,d=1/0;return Xs(i,function(g){var x=Ro(g,r),k=x.properties.dist;k<d&&(a=g,d=k)}),a}function Zn(r,i){return r[0]===i[0]&&r[1]===i[1]}var Aa=ii,ur=11102230246251565e-32,Yt=134217729,bl=(3+8*ur)*ur;function Nn(r,i,a,d,g){let x,k,E,T,A=i[0],W=d[0],q=0,le=0;W>A==W>-A?(x=A,A=i[++q]):(x=W,W=d[++le]);let he=0;if(q<r&&le<a)for(W>A==W>-A?(k=A+x,E=x-(k-A),A=i[++q]):(k=W+x,E=x-(k-W),W=d[++le]),x=k,E!==0&&(g[he++]=E);q<r&&le<a;)W>A==W>-A?(k=x+A,T=k-x,E=x-(k-T)+(A-T),A=i[++q]):(k=x+W,T=k-x,E=x-(k-T)+(W-T),W=d[++le]),x=k,E!==0&&(g[he++]=E);for(;q<r;)k=x+A,T=k-x,E=x-(k-T)+(A-T),A=i[++q],x=k,E!==0&&(g[he++]=E);for(;le<a;)k=x+W,T=k-x,E=x-(k-T)+(W-T),W=d[++le],x=k,E!==0&&(g[he++]=E);return(x!==0||he===0)&&(g[he++]=x),he}function Di(r,i){let a=i[0];for(let d=1;d<r;d++)a+=i[d];return a}function si(r){return new Float64Array(r)}var Cl=(3+16*ur)*ur,su=(2+12*ur)*ur,Cs=(9+64*ur)*ur*ur,Ai=si(4),Io=si(8),Fo=si(12),It=si(16),fn=si(4);function to(r,i,a,d,g,x,k){let E,T,A,W,q,le,he,Me,Re,Ve,Ue,H,de,ke,He,Fe,We,R,z=r-g,V=a-g,re=i-x,Q=d-x;ke=z*Q,le=Yt*z,he=le-(le-z),Me=z-he,le=Yt*Q,Re=le-(le-Q),Ve=Q-Re,He=Me*Ve-(ke-he*Re-Me*Re-he*Ve),Fe=re*V,le=Yt*re,he=le-(le-re),Me=re-he,le=Yt*V,Re=le-(le-V),Ve=V-Re,We=Me*Ve-(Fe-he*Re-Me*Re-he*Ve),Ue=He-We,q=He-Ue,Ai[0]=He-(Ue+q)+(q-We),H=ke+Ue,q=H-ke,de=ke-(H-q)+(Ue-q),Ue=de-Fe,q=de-Ue,Ai[1]=de-(Ue+q)+(q-Fe),R=H+Ue,q=R-H,Ai[2]=H-(R-q)+(Ue-q),Ai[3]=R;let J=Di(4,Ai),pe=su*k;if(J>=pe||-J>=pe||(q=r-z,E=r-(z+q)+(q-g),q=a-V,A=a-(V+q)+(q-g),q=i-re,T=i-(re+q)+(q-x),q=d-Q,W=d-(Q+q)+(q-x),E===0&&T===0&&A===0&&W===0)||(pe=Cs*k+bl*Math.abs(J),J+=z*W+Q*E-(re*A+V*T),J>=pe||-J>=pe))return J;ke=E*Q,le=Yt*E,he=le-(le-E),Me=E-he,le=Yt*Q,Re=le-(le-Q),Ve=Q-Re,He=Me*Ve-(ke-he*Re-Me*Re-he*Ve),Fe=T*V,le=Yt*T,he=le-(le-T),Me=T-he,le=Yt*V,Re=le-(le-V),Ve=V-Re,We=Me*Ve-(Fe-he*Re-Me*Re-he*Ve),Ue=He-We,q=He-Ue,fn[0]=He-(Ue+q)+(q-We),H=ke+Ue,q=H-ke,de=ke-(H-q)+(Ue-q),Ue=de-Fe,q=de-Ue,fn[1]=de-(Ue+q)+(q-Fe),R=H+Ue,q=R-H,fn[2]=H-(R-q)+(Ue-q),fn[3]=R;let se=Nn(4,Ai,4,fn,Io);ke=z*W,le=Yt*z,he=le-(le-z),Me=z-he,le=Yt*W,Re=le-(le-W),Ve=W-Re,He=Me*Ve-(ke-he*Re-Me*Re-he*Ve),Fe=re*A,le=Yt*re,he=le-(le-re),Me=re-he,le=Yt*A,Re=le-(le-A),Ve=A-Re,We=Me*Ve-(Fe-he*Re-Me*Re-he*Ve),Ue=He-We,q=He-Ue,fn[0]=He-(Ue+q)+(q-We),H=ke+Ue,q=H-ke,de=ke-(H-q)+(Ue-q),Ue=de-Fe,q=de-Ue,fn[1]=de-(Ue+q)+(q-Fe),R=H+Ue,q=R-H,fn[2]=H-(R-q)+(Ue-q),fn[3]=R;let fe=Nn(se,Io,4,fn,Fo);ke=E*W,le=Yt*E,he=le-(le-E),Me=E-he,le=Yt*W,Re=le-(le-W),Ve=W-Re,He=Me*Ve-(ke-he*Re-Me*Re-he*Ve),Fe=T*A,le=Yt*T,he=le-(le-T),Me=T-he,le=Yt*A,Re=le-(le-A),Ve=A-Re,We=Me*Ve-(Fe-he*Re-Me*Re-he*Ve),Ue=He-We,q=He-Ue,fn[0]=He-(Ue+q)+(q-We),H=ke+Ue,q=H-ke,de=ke-(H-q)+(Ue-q),Ue=de-Fe,q=de-Ue,fn[1]=de-(Ue+q)+(q-Fe),R=H+Ue,q=R-H,fn[2]=H-(R-q)+(Ue-q),fn[3]=R;let xe=Nn(fe,Fo,4,fn,It);return It[xe-1]}function Ls(r,i,a,d,g,x){let k=(i-x)*(a-g),E=(r-g)*(d-x),T=k-E,A=Math.abs(k+E);return Math.abs(T)>=Cl*A?T:-to(r,i,a,d,g,x,A)}function Ll(r,i){var a,d,g=0,x,k,E,T,A,W,q,le=r[0],he=r[1],Me=i.length;for(a=0;a<Me;a++){d=0;var Re=i[a],Ve=Re.length-1;if(W=Re[0],W[0]!==Re[Ve][0]&&W[1]!==Re[Ve][1])throw new Error("First and last coordinates in a ring must be the same");for(k=W[0]-le,E=W[1]-he,d;d<Ve;d++){if(q=Re[d+1],T=q[0]-le,A=q[1]-he,E===0&&A===0){if(T<=0&&k>=0||k<=0&&T>=0)return 0}else if(A>=0&&E<=0||A<=0&&E>=0){if(x=Ls(k,T,E,A,0,0),x===0)return 0;(x>0&&A>0&&E<=0||x<0&&A<=0&&E>0)&&g++}W=q,E=A,k=T}}return g%2!==0}function t(r,i,a={}){if(!r)throw new Error("point is required");if(!i)throw new Error("polygon is required");let d=Cn(r),g=ji(i),x=g.type,k=i.bbox,E=g.coordinates;if(k&&s(d,k)===!1)return!1;x==="Polygon"&&(E=[E]);let T=!1;for(var A=0;A<E.length;++A){let W=Ll(d,E[A]);if(W===0)return!a.ignoreBoundary;W&&(T=!0)}return T}function s(r,i){return i[0]<=r[0]&&i[1]<=r[1]&&i[2]>=r[0]&&i[3]>=r[1]}function f(r,i,a={}){let d=Cn(r),g=kr(i);for(let x=0;x<g.length-1;x++){let k=!1;if(a.ignoreEndVertices&&(x===0&&(k="start"),x===g.length-2&&(k="end"),x===0&&x+1===g.length-1&&(k="both")),w(g[x],g[x+1],d,k,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1}function w(r,i,a,d,g){let x=a[0],k=a[1],E=r[0],T=r[1],A=i[0],W=i[1],q=a[0]-E,le=a[1]-T,he=A-E,Me=W-T,Re=q*Me-le*he;if(g!==null){if(Math.abs(Re)>g)return!1}else if(Re!==0)return!1;if(Math.abs(he)===Math.abs(Me)&&Math.abs(he)===0)return d?!1:a[0]===r[0]&&a[1]===r[1];if(d){if(d==="start")return Math.abs(he)>=Math.abs(Me)?he>0?E<x&&x<=A:A<=x&&x<E:Me>0?T<k&&k<=W:W<=k&&k<T;if(d==="end")return Math.abs(he)>=Math.abs(Me)?he>0?E<=x&&x<A:A<x&&x<=E:Me>0?T<=k&&k<W:W<k&&k<=T;if(d==="both")return Math.abs(he)>=Math.abs(Me)?he>0?E<x&&x<A:A<x&&x<E:Me>0?T<k&&k<W:W<k&&k<T}else return Math.abs(he)>=Math.abs(Me)?he>0?E<=x&&x<=A:A<=x&&x<=E:Me>0?T<=k&&k<=W:W<=k&&k<=T;return!1}function M(r,i){let a=ji(r),d=ji(i),g=a.type,x=d.type,k=a.coordinates,E=d.coordinates;switch(g){case"Point":switch(x){case"Point":return nn(k,E);default:throw new Error("feature2 "+x+" geometry not supported")}case"MultiPoint":switch(x){case"Point":return ee(a,d);case"MultiPoint":return me(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}case"LineString":switch(x){case"Point":return f(d,a,{ignoreEndVertices:!0});case"LineString":return Ke(a,d);case"MultiPoint":return Ce(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}case"Polygon":switch(x){case"Point":return t(d,a,{ignoreBoundary:!0});case"LineString":return dt(a,d);case"Polygon":return wt(a,d);case"MultiPoint":return Te(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}case"MultiPolygon":switch(x){case"Polygon":return N(a,d);default:throw new Error("feature2 "+x+" geometry not supported")}default:throw new Error("feature1 "+g+" geometry not supported")}}function N(r,i){return r.coordinates.some(a=>wt({type:"Polygon",coordinates:a},i))}function ee(r,i){let a,d=!1;for(a=0;a<r.coordinates.length;a++)if(nn(r.coordinates[a],i.coordinates)){d=!0;break}return d}function me(r,i){for(let a of i.coordinates){let d=!1;for(let g of r.coordinates)if(nn(a,g)){d=!0;break}if(!d)return!1}return!0}function Ce(r,i){let a=!1;for(let d of i.coordinates)if(f(d,r,{ignoreEndVertices:!0})&&(a=!0),!f(d,r))return!1;return!!a}function Te(r,i){for(let a of i.coordinates)if(!t(a,r,{ignoreBoundary:!0}))return!1;return!0}function Ke(r,i){let a=!1;for(let d of i.coordinates)if(f({type:"Point",coordinates:d},r,{ignoreEndVertices:!0})&&(a=!0),!f({type:"Point",coordinates:d},r,{ignoreEndVertices:!1}))return!1;return a}function dt(r,i){let a=!1,d=0,g=br(r),x=br(i);if(!on(g,x))return!1;for(d;d<i.coordinates.length-1;d++){let k=In(i.coordinates[d],i.coordinates[d+1]);if(t({type:"Point",coordinates:k},r,{ignoreBoundary:!0})){a=!0;break}}return a}function wt(r,i){if(r.type==="Feature"&&r.geometry===null||i.type==="Feature"&&i.geometry===null)return!1;let a=br(r),d=br(i);if(!on(a,d))return!1;let g=ji(i).coordinates;for(let x of g)for(let k of x)if(!t(k,r))return!1;return!0}function on(r,i){return!(r[0]>i[0]||r[2]<i[2]||r[1]>i[1]||r[3]<i[3])}function nn(r,i){return r[0]===i[0]&&r[1]===i[1]}function In(r,i){return[(r[0]+i[0])/2,(r[1]+i[1])/2]}var Tn=M,ks=B(Jr()),Ra=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Sr=Math.ceil,Fn=Math.floor,rn="[BigNumber Error] ",cr=rn+"Number primitive has more than 15 significant digits: ",_n=1e14,$e=14,oi=9007199254740991,Oa=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ai=1e7,Vt=1e9;function li(r){var i,a,d,g=H.prototype={constructor:H,toString:null,valueOf:null},x=new H(1),k=20,E=4,T=-7,A=21,W=-1e7,q=1e7,le=!1,he=1,Me=0,Re={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ve="0123456789abcdefghijklmnopqrstuvwxyz",Ue=!0;function H(R,z){var V,re,Q,J,pe,se,fe,xe,ye=this;if(!(ye instanceof H))return new H(R,z);if(z==null){if(R&&R._isBigNumber===!0){ye.s=R.s,!R.c||R.e>q?ye.c=ye.e=null:R.e<W?ye.c=[ye.e=0]:(ye.e=R.e,ye.c=R.c.slice());return}if((se=typeof R=="number")&&R*0==0){if(ye.s=1/R<0?(R=-R,-1):1,R===~~R){for(J=0,pe=R;pe>=10;pe/=10,J++);J>q?ye.c=ye.e=null:(ye.e=J,ye.c=[R]);return}xe=String(R)}else{if(!Ra.test(xe=String(R)))return d(ye,xe,se);ye.s=xe.charCodeAt(0)==45?(xe=xe.slice(1),-1):1}(J=xe.indexOf("."))>-1&&(xe=xe.replace(".","")),(pe=xe.search(/e/i))>0?(J<0&&(J=pe),J+=+xe.slice(pe+1),xe=xe.substring(0,pe)):J<0&&(J=xe.length)}else{if(Ut(z,2,Ve.length,"Base"),z==10&&Ue)return ye=new H(R),Fe(ye,k+ye.e+1,E);if(xe=String(R),se=typeof R=="number"){if(R*0!=0)return d(ye,xe,se,z);if(ye.s=1/R<0?(xe=xe.slice(1),-1):1,H.DEBUG&&xe.replace(/^0\.0*|\./,"").length>15)throw Error(cr+R)}else ye.s=xe.charCodeAt(0)===45?(xe=xe.slice(1),-1):1;for(V=Ve.slice(0,z),J=pe=0,fe=xe.length;pe<fe;pe++)if(V.indexOf(re=xe.charAt(pe))<0){if(re=="."){if(pe>J){J=fe;continue}}else if(!Q&&(xe==xe.toUpperCase()&&(xe=xe.toLowerCase())||xe==xe.toLowerCase()&&(xe=xe.toUpperCase()))){Q=!0,pe=-1,J=0;continue}return d(ye,String(R),se,z)}se=!1,xe=a(xe,z,10,ye.s),(J=xe.indexOf("."))>-1?xe=xe.replace(".",""):J=xe.length}for(pe=0;xe.charCodeAt(pe)===48;pe++);for(fe=xe.length;xe.charCodeAt(--fe)===48;);if(xe=xe.slice(pe,++fe)){if(fe-=pe,se&&H.DEBUG&&fe>15&&(R>oi||R!==Fn(R)))throw Error(cr+ye.s*R);if((J=J-pe-1)>q)ye.c=ye.e=null;else if(J<W)ye.c=[ye.e=0];else{if(ye.e=J,ye.c=[],pe=(J+1)%$e,J<0&&(pe+=$e),pe<fe){for(pe&&ye.c.push(+xe.slice(0,pe)),fe-=$e;pe<fe;)ye.c.push(+xe.slice(pe,pe+=$e));pe=$e-(xe=xe.slice(pe)).length}else pe-=fe;for(;pe--;xe+="0");ye.c.push(+xe)}}else ye.c=[ye.e=0]}H.clone=li,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(R){var z,V;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(z="DECIMAL_PLACES")&&(V=R[z],Ut(V,0,Vt,z),k=V),R.hasOwnProperty(z="ROUNDING_MODE")&&(V=R[z],Ut(V,0,8,z),E=V),R.hasOwnProperty(z="EXPONENTIAL_AT")&&(V=R[z],V&&V.pop?(Ut(V[0],-Vt,0,z),Ut(V[1],0,Vt,z),T=V[0],A=V[1]):(Ut(V,-Vt,Vt,z),T=-(A=V<0?-V:V))),R.hasOwnProperty(z="RANGE"))if(V=R[z],V&&V.pop)Ut(V[0],-Vt,-1,z),Ut(V[1],1,Vt,z),W=V[0],q=V[1];else if(Ut(V,-Vt,Vt,z),V)W=-(q=V<0?-V:V);else throw Error(rn+z+" cannot be zero: "+V);if(R.hasOwnProperty(z="CRYPTO"))if(V=R[z],V===!!V)if(V)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))le=V;else throw le=!V,Error(rn+"crypto unavailable");else le=V;else throw Error(rn+z+" not true or false: "+V);if(R.hasOwnProperty(z="MODULO_MODE")&&(V=R[z],Ut(V,0,9,z),he=V),R.hasOwnProperty(z="POW_PRECISION")&&(V=R[z],Ut(V,0,Vt,z),Me=V),R.hasOwnProperty(z="FORMAT"))if(V=R[z],typeof V=="object")Re=V;else throw Error(rn+z+" not an object: "+V);if(R.hasOwnProperty(z="ALPHABET"))if(V=R[z],typeof V=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(V))Ue=V.slice(0,10)=="0123456789",Ve=V;else throw Error(rn+z+" invalid: "+V)}else throw Error(rn+"Object expected: "+R);return{DECIMAL_PLACES:k,ROUNDING_MODE:E,EXPONENTIAL_AT:[T,A],RANGE:[W,q],CRYPTO:le,MODULO_MODE:he,POW_PRECISION:Me,FORMAT:Re,ALPHABET:Ve}},H.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!H.DEBUG)return!0;var z,V,re=R.c,Q=R.e,J=R.s;e:if({}.toString.call(re)=="[object Array]"){if((J===1||J===-1)&&Q>=-Vt&&Q<=Vt&&Q===Fn(Q)){if(re[0]===0){if(Q===0&&re.length===1)return!0;break e}if(z=(Q+1)%$e,z<1&&(z+=$e),String(re[0]).length==z){for(z=0;z<re.length;z++)if(V=re[z],V<0||V>=_n||V!==Fn(V))break e;if(V!==0)return!0}}}else if(re===null&&Q===null&&(J===null||J===1||J===-1))return!0;throw Error(rn+"Invalid BigNumber: "+R)},H.maximum=H.max=function(){return ke(arguments,-1)},H.minimum=H.min=function(){return ke(arguments,1)},H.random=(function(){var R=9007199254740992,z=Math.random()*R&2097151?function(){return Fn(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(V){var re,Q,J,pe,se,fe=0,xe=[],ye=new H(x);if(V==null?V=k:Ut(V,0,Vt),pe=Sr(V/$e),le)if(crypto.getRandomValues){for(re=crypto.getRandomValues(new Uint32Array(pe*=2));fe<pe;)se=re[fe]*131072+(re[fe+1]>>>11),se>=9e15?(Q=crypto.getRandomValues(new Uint32Array(2)),re[fe]=Q[0],re[fe+1]=Q[1]):(xe.push(se%1e14),fe+=2);fe=pe/2}else if(crypto.randomBytes){for(re=crypto.randomBytes(pe*=7);fe<pe;)se=(re[fe]&31)*281474976710656+re[fe+1]*1099511627776+re[fe+2]*4294967296+re[fe+3]*16777216+(re[fe+4]<<16)+(re[fe+5]<<8)+re[fe+6],se>=9e15?crypto.randomBytes(7).copy(re,fe):(xe.push(se%1e14),fe+=7);fe=pe/7}else throw le=!1,Error(rn+"crypto unavailable");if(!le)for(;fe<pe;)se=z(),se<9e15&&(xe[fe++]=se%1e14);for(pe=xe[--fe],V%=$e,pe&&V&&(se=Oa[$e-V],xe[fe]=Fn(pe/se)*se);xe[fe]===0;xe.pop(),fe--);if(fe<0)xe=[J=0];else{for(J=-1;xe[0]===0;xe.splice(0,1),J-=$e);for(fe=1,se=xe[0];se>=10;se/=10,fe++);fe<$e&&(J-=$e-fe)}return ye.e=J,ye.c=xe,ye}})(),H.sum=function(){for(var R=1,z=arguments,V=new H(z[0]);R<z.length;)V=V.plus(z[R++]);return V},a=(function(){var R="0123456789";function z(V,re,Q,J){for(var pe,se=[0],fe,xe=0,ye=V.length;xe<ye;){for(fe=se.length;fe--;se[fe]*=re);for(se[0]+=J.indexOf(V.charAt(xe++)),pe=0;pe<se.length;pe++)se[pe]>Q-1&&(se[pe+1]==null&&(se[pe+1]=0),se[pe+1]+=se[pe]/Q|0,se[pe]%=Q)}return se.reverse()}return function(V,re,Q,J,pe){var se,fe,xe,ye,Ae,ot,at,_t,Qt=V.indexOf("."),ln=k,St=E;for(Qt>=0&&(ye=Me,Me=0,V=V.replace(".",""),_t=new H(re),ot=_t.pow(V.length-Qt),Me=ye,_t.c=z(Tt(Ln(ot.c),ot.e,"0"),10,Q,R),_t.e=_t.c.length),at=z(V,re,Q,pe?(se=Ve,R):(se=R,Ve)),xe=ye=at.length;at[--ye]==0;at.pop());if(!at[0])return se.charAt(0);if(Qt<0?--xe:(ot.c=at,ot.e=xe,ot.s=J,ot=i(ot,_t,ln,St,Q),at=ot.c,Ae=ot.r,xe=ot.e),fe=xe+ln+1,Qt=at[fe],ye=Q/2,Ae=Ae||fe<0||at[fe+1]!=null,Ae=St<4?(Qt!=null||Ae)&&(St==0||St==(ot.s<0?3:2)):Qt>ye||Qt==ye&&(St==4||Ae||St==6&&at[fe-1]&1||St==(ot.s<0?8:7)),fe<1||!at[0])V=Ae?Tt(se.charAt(1),-ln,se.charAt(0)):se.charAt(0);else{if(at.length=fe,Ae)for(--Q;++at[--fe]>Q;)at[fe]=0,fe||(++xe,at=[1].concat(at));for(ye=at.length;!at[--ye];);for(Qt=0,V="";Qt<=ye;V+=se.charAt(at[Qt++]));V=Tt(V,xe,se.charAt(0))}return V}})(),i=(function(){function R(re,Q,J){var pe,se,fe,xe,ye=0,Ae=re.length,ot=Q%ai,at=Q/ai|0;for(re=re.slice();Ae--;)fe=re[Ae]%ai,xe=re[Ae]/ai|0,pe=at*fe+xe*ot,se=ot*fe+pe%ai*ai+ye,ye=(se/J|0)+(pe/ai|0)+at*xe,re[Ae]=se%J;return ye&&(re=[ye].concat(re)),re}function z(re,Q,J,pe){var se,fe;if(J!=pe)fe=J>pe?1:-1;else for(se=fe=0;se<J;se++)if(re[se]!=Q[se]){fe=re[se]>Q[se]?1:-1;break}return fe}function V(re,Q,J,pe){for(var se=0;J--;)re[J]-=se,se=re[J]<Q[J]?1:0,re[J]=se*pe+re[J]-Q[J];for(;!re[0]&&re.length>1;re.splice(0,1));}return function(re,Q,J,pe,se){var fe,xe,ye,Ae,ot,at,_t,Qt,ln,St,Ft,pn,io,Rl,Wa,Zr,qo,fr=re.s==Q.s?1:-1,An=re.c,$t=Q.c;if(!An||!An[0]||!$t||!$t[0])return new H(!re.s||!Q.s||(An?$t&&An[0]==$t[0]:!$t)?NaN:An&&An[0]==0||!$t?fr*0:fr/0);for(Qt=new H(fr),ln=Qt.c=[],xe=re.e-Q.e,fr=J+xe+1,se||(se=_n,xe=an(re.e/$e)-an(Q.e/$e),fr=fr/$e|0),ye=0;$t[ye]==(An[ye]||0);ye++);if($t[ye]>(An[ye]||0)&&xe--,fr<0)ln.push(1),Ae=!0;else{for(Rl=An.length,Zr=$t.length,ye=0,fr+=2,ot=Fn(se/($t[0]+1)),ot>1&&($t=R($t,ot,se),An=R(An,ot,se),Zr=$t.length,Rl=An.length),io=Zr,St=An.slice(0,Zr),Ft=St.length;Ft<Zr;St[Ft++]=0);qo=$t.slice(),qo=[0].concat(qo),Wa=$t[0],$t[1]>=se/2&&Wa++;do{if(ot=0,fe=z($t,St,Zr,Ft),fe<0){if(pn=St[0],Zr!=Ft&&(pn=pn*se+(St[1]||0)),ot=Fn(pn/Wa),ot>1)for(ot>=se&&(ot=se-1),at=R($t,ot,se),_t=at.length,Ft=St.length;z(at,St,_t,Ft)==1;)ot--,V(at,Zr<_t?qo:$t,_t,se),_t=at.length,fe=1;else ot==0&&(fe=ot=1),at=$t.slice(),_t=at.length;if(_t<Ft&&(at=[0].concat(at)),V(St,at,Ft,se),Ft=St.length,fe==-1)for(;z($t,St,Zr,Ft)<1;)ot++,V(St,Zr<Ft?qo:$t,Ft,se),Ft=St.length}else fe===0&&(ot++,St=[0]);ln[ye++]=ot,St[0]?St[Ft++]=An[io]||0:(St=[An[io]],Ft=1)}while((io++<Rl||St[0]!=null)&&fr--);Ae=St[0]!=null,ln[0]||ln.splice(0,1)}if(se==_n){for(ye=1,fr=ln[0];fr>=10;fr/=10,ye++);Fe(Qt,J+(Qt.e=ye+xe*$e-1)+1,pe,Ae)}else Qt.e=xe,Qt.r=+Ae;return Qt}})();function de(R,z,V,re){var Q,J,pe,se,fe;if(V==null?V=E:Ut(V,0,8),!R.c)return R.toString();if(Q=R.c[0],pe=R.e,z==null)fe=Ln(R.c),fe=re==1||re==2&&(pe<=T||pe>=A)?Ht(fe,pe):Tt(fe,pe,"0");else if(R=Fe(new H(R),z,V),J=R.e,fe=Ln(R.c),se=fe.length,re==1||re==2&&(z<=J||J<=T)){for(;se<z;fe+="0",se++);fe=Ht(fe,J)}else if(z-=pe+(re===2&&J>pe),fe=Tt(fe,J,"0"),J+1>se){if(--z>0)for(fe+=".";z--;fe+="0");}else if(z+=J-se,z>0)for(J+1==se&&(fe+=".");z--;fe+="0");return R.s<0&&Q?"-"+fe:fe}function ke(R,z){for(var V,re,Q=1,J=new H(R[0]);Q<R.length;Q++)re=new H(R[Q]),(!re.s||(V=Ri(J,re))===z||V===0&&J.s===z)&&(J=re);return J}function He(R,z,V){for(var re=1,Q=z.length;!z[--Q];z.pop());for(Q=z[0];Q>=10;Q/=10,re++);return(V=re+V*$e-1)>q?R.c=R.e=null:V<W?R.c=[R.e=0]:(R.e=V,R.c=z),R}d=(function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,z=/^([^.]+)\.$/,V=/^\.([^.]+)$/,re=/^-?(Infinity|NaN)$/,Q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(J,pe,se,fe){var xe,ye=se?pe:pe.replace(Q,"");if(re.test(ye))J.s=isNaN(ye)?null:ye<0?-1:1;else{if(!se&&(ye=ye.replace(R,function(Ae,ot,at){return xe=(at=at.toLowerCase())=="x"?16:at=="b"?2:8,!fe||fe==xe?ot:Ae}),fe&&(xe=fe,ye=ye.replace(z,"$1").replace(V,"0.$1")),pe!=ye))return new H(ye,xe);if(H.DEBUG)throw Error(rn+"Not a"+(fe?" base "+fe:"")+" number: "+pe);J.s=null}J.c=J.e=null}})();function Fe(R,z,V,re){var Q,J,pe,se,fe,xe,ye,Ae=R.c,ot=Oa;if(Ae){e:{for(Q=1,se=Ae[0];se>=10;se/=10,Q++);if(J=z-Q,J<0)J+=$e,pe=z,fe=Ae[xe=0],ye=Fn(fe/ot[Q-pe-1]%10);else if(xe=Sr((J+1)/$e),xe>=Ae.length)if(re){for(;Ae.length<=xe;Ae.push(0));fe=ye=0,Q=1,J%=$e,pe=J-$e+1}else break e;else{for(fe=se=Ae[xe],Q=1;se>=10;se/=10,Q++);J%=$e,pe=J-$e+Q,ye=pe<0?0:Fn(fe/ot[Q-pe-1]%10)}if(re=re||z<0||Ae[xe+1]!=null||(pe<0?fe:fe%ot[Q-pe-1]),re=V<4?(ye||re)&&(V==0||V==(R.s<0?3:2)):ye>5||ye==5&&(V==4||re||V==6&&(J>0?pe>0?fe/ot[Q-pe]:0:Ae[xe-1])%10&1||V==(R.s<0?8:7)),z<1||!Ae[0])return Ae.length=0,re?(z-=R.e+1,Ae[0]=ot[($e-z%$e)%$e],R.e=-z||0):Ae[0]=R.e=0,R;if(J==0?(Ae.length=xe,se=1,xe--):(Ae.length=xe+1,se=ot[$e-J],Ae[xe]=pe>0?Fn(fe/ot[Q-pe]%ot[pe])*se:0),re)for(;;)if(xe==0){for(J=1,pe=Ae[0];pe>=10;pe/=10,J++);for(pe=Ae[0]+=se,se=1;pe>=10;pe/=10,se++);J!=se&&(R.e++,Ae[0]==_n&&(Ae[0]=1));break}else{if(Ae[xe]+=se,Ae[xe]!=_n)break;Ae[xe--]=0,se=1}for(J=Ae.length;Ae[--J]===0;Ae.pop());}R.e>q?R.c=R.e=null:R.e<W&&(R.c=[R.e=0])}return R}function We(R){var z,V=R.e;return V===null?R.toString():(z=Ln(R.c),z=V<=T||V>=A?Ht(z,V):Tt(z,V,"0"),R.s<0?"-"+z:z)}return g.absoluteValue=g.abs=function(){var R=new H(this);return R.s<0&&(R.s=1),R},g.comparedTo=function(R,z){return Ri(this,new H(R,z))},g.decimalPlaces=g.dp=function(R,z){var V,re,Q,J=this;if(R!=null)return Ut(R,0,Vt),z==null?z=E:Ut(z,0,8),Fe(new H(J),R+J.e+1,z);if(!(V=J.c))return null;if(re=((Q=V.length-1)-an(this.e/$e))*$e,Q=V[Q])for(;Q%10==0;Q/=10,re--);return re<0&&(re=0),re},g.dividedBy=g.div=function(R,z){return i(this,new H(R,z),k,E)},g.dividedToIntegerBy=g.idiv=function(R,z){return i(this,new H(R,z),0,1)},g.exponentiatedBy=g.pow=function(R,z){var V,re,Q,J,pe,se,fe,xe,ye,Ae=this;if(R=new H(R),R.c&&!R.isInteger())throw Error(rn+"Exponent not an integer: "+We(R));if(z!=null&&(z=new H(z)),se=R.e>14,!Ae.c||!Ae.c[0]||Ae.c[0]==1&&!Ae.e&&Ae.c.length==1||!R.c||!R.c[0])return ye=new H(Math.pow(+We(Ae),se?R.s*(2-Vr(R)):+We(R))),z?ye.mod(z):ye;if(fe=R.s<0,z){if(z.c?!z.c[0]:!z.s)return new H(NaN);re=!fe&&Ae.isInteger()&&z.isInteger(),re&&(Ae=Ae.mod(z))}else{if(R.e>9&&(Ae.e>0||Ae.e<-1||(Ae.e==0?Ae.c[0]>1||se&&Ae.c[1]>=24e7:Ae.c[0]<8e13||se&&Ae.c[0]<=9999975e7)))return J=Ae.s<0&&Vr(R)?-0:0,Ae.e>-1&&(J=1/J),new H(fe?1/J:J);Me&&(J=Sr(Me/$e+2))}for(se?(V=new H(.5),fe&&(R.s=1),xe=Vr(R)):(Q=Math.abs(+We(R)),xe=Q%2),ye=new H(x);;){if(xe){if(ye=ye.times(Ae),!ye.c)break;J?ye.c.length>J&&(ye.c.length=J):re&&(ye=ye.mod(z))}if(Q){if(Q=Fn(Q/2),Q===0)break;xe=Q%2}else if(R=R.times(V),Fe(R,R.e+1,1),R.e>14)xe=Vr(R);else{if(Q=+We(R),Q===0)break;xe=Q%2}Ae=Ae.times(Ae),J?Ae.c&&Ae.c.length>J&&(Ae.c.length=J):re&&(Ae=Ae.mod(z))}return re?ye:(fe&&(ye=x.div(ye)),z?ye.mod(z):J?Fe(ye,Me,E,pe):ye)},g.integerValue=function(R){var z=new H(this);return R==null?R=E:Ut(R,0,8),Fe(z,z.e+1,R)},g.isEqualTo=g.eq=function(R,z){return Ri(this,new H(R,z))===0},g.isFinite=function(){return!!this.c},g.isGreaterThan=g.gt=function(R,z){return Ri(this,new H(R,z))>0},g.isGreaterThanOrEqualTo=g.gte=function(R,z){return(z=Ri(this,new H(R,z)))===1||z===0},g.isInteger=function(){return!!this.c&&an(this.e/$e)>this.c.length-2},g.isLessThan=g.lt=function(R,z){return Ri(this,new H(R,z))<0},g.isLessThanOrEqualTo=g.lte=function(R,z){return(z=Ri(this,new H(R,z)))===-1||z===0},g.isNaN=function(){return!this.s},g.isNegative=function(){return this.s<0},g.isPositive=function(){return this.s>0},g.isZero=function(){return!!this.c&&this.c[0]==0},g.minus=function(R,z){var V,re,Q,J,pe=this,se=pe.s;if(R=new H(R,z),z=R.s,!se||!z)return new H(NaN);if(se!=z)return R.s=-z,pe.plus(R);var fe=pe.e/$e,xe=R.e/$e,ye=pe.c,Ae=R.c;if(!fe||!xe){if(!ye||!Ae)return ye?(R.s=-z,R):new H(Ae?pe:NaN);if(!ye[0]||!Ae[0])return Ae[0]?(R.s=-z,R):new H(ye[0]?pe:E==3?-0:0)}if(fe=an(fe),xe=an(xe),ye=ye.slice(),se=fe-xe){for((J=se<0)?(se=-se,Q=ye):(xe=fe,Q=Ae),Q.reverse(),z=se;z--;Q.push(0));Q.reverse()}else for(re=(J=(se=ye.length)<(z=Ae.length))?se:z,se=z=0;z<re;z++)if(ye[z]!=Ae[z]){J=ye[z]<Ae[z];break}if(J&&(Q=ye,ye=Ae,Ae=Q,R.s=-R.s),z=(re=Ae.length)-(V=ye.length),z>0)for(;z--;ye[V++]=0);for(z=_n-1;re>se;){if(ye[--re]<Ae[re]){for(V=re;V&&!ye[--V];ye[V]=z);--ye[V],ye[re]+=_n}ye[re]-=Ae[re]}for(;ye[0]==0;ye.splice(0,1),--xe);return ye[0]?He(R,ye,xe):(R.s=E==3?-1:1,R.c=[R.e=0],R)},g.modulo=g.mod=function(R,z){var V,re,Q=this;return R=new H(R,z),!Q.c||!R.s||R.c&&!R.c[0]?new H(NaN):!R.c||Q.c&&!Q.c[0]?new H(Q):(he==9?(re=R.s,R.s=1,V=i(Q,R,0,3),R.s=re,V.s*=re):V=i(Q,R,0,he),R=Q.minus(V.times(R)),!R.c[0]&&he==1&&(R.s=Q.s),R)},g.multipliedBy=g.times=function(R,z){var V,re,Q,J,pe,se,fe,xe,ye,Ae,ot,at,_t,Qt,ln,St=this,Ft=St.c,pn=(R=new H(R,z)).c;if(!Ft||!pn||!Ft[0]||!pn[0])return!St.s||!R.s||Ft&&!Ft[0]&&!pn||pn&&!pn[0]&&!Ft?R.c=R.e=R.s=null:(R.s*=St.s,!Ft||!pn?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(re=an(St.e/$e)+an(R.e/$e),R.s*=St.s,fe=Ft.length,Ae=pn.length,fe<Ae&&(_t=Ft,Ft=pn,pn=_t,Q=fe,fe=Ae,Ae=Q),Q=fe+Ae,_t=[];Q--;_t.push(0));for(Qt=_n,ln=ai,Q=Ae;--Q>=0;){for(V=0,ot=pn[Q]%ln,at=pn[Q]/ln|0,pe=fe,J=Q+pe;J>Q;)xe=Ft[--pe]%ln,ye=Ft[pe]/ln|0,se=at*xe+ye*ot,xe=ot*xe+se%ln*ln+_t[J]+V,V=(xe/Qt|0)+(se/ln|0)+at*ye,_t[J--]=xe%Qt;_t[J]=V}return V?++re:_t.splice(0,1),He(R,_t,re)},g.negated=function(){var R=new H(this);return R.s=-R.s||null,R},g.plus=function(R,z){var V,re=this,Q=re.s;if(R=new H(R,z),z=R.s,!Q||!z)return new H(NaN);if(Q!=z)return R.s=-z,re.minus(R);var J=re.e/$e,pe=R.e/$e,se=re.c,fe=R.c;if(!J||!pe){if(!se||!fe)return new H(Q/0);if(!se[0]||!fe[0])return fe[0]?R:new H(se[0]?re:Q*0)}if(J=an(J),pe=an(pe),se=se.slice(),Q=J-pe){for(Q>0?(pe=J,V=fe):(Q=-Q,V=se),V.reverse();Q--;V.push(0));V.reverse()}for(Q=se.length,z=fe.length,Q-z<0&&(V=fe,fe=se,se=V,z=Q),Q=0;z;)Q=(se[--z]=se[z]+fe[z]+Q)/_n|0,se[z]=_n===se[z]?0:se[z]%_n;return Q&&(se=[Q].concat(se),++pe),He(R,se,pe)},g.precision=g.sd=function(R,z){var V,re,Q,J=this;if(R!=null&&R!==!!R)return Ut(R,1,Vt),z==null?z=E:Ut(z,0,8),Fe(new H(J),R,z);if(!(V=J.c))return null;if(Q=V.length-1,re=Q*$e+1,Q=V[Q]){for(;Q%10==0;Q/=10,re--);for(Q=V[0];Q>=10;Q/=10,re++);}return R&&J.e+1>re&&(re=J.e+1),re},g.shiftedBy=function(R){return Ut(R,-oi,oi),this.times("1e"+R)},g.squareRoot=g.sqrt=function(){var R,z,V,re,Q,J=this,pe=J.c,se=J.s,fe=J.e,xe=k+4,ye=new H("0.5");if(se!==1||!pe||!pe[0])return new H(!se||se<0&&(!pe||pe[0])?NaN:pe?J:1/0);if(se=Math.sqrt(+We(J)),se==0||se==1/0?(z=Ln(pe),(z.length+fe)%2==0&&(z+="0"),se=Math.sqrt(+z),fe=an((fe+1)/2)-(fe<0||fe%2),se==1/0?z="5e"+fe:(z=se.toExponential(),z=z.slice(0,z.indexOf("e")+1)+fe),V=new H(z)):V=new H(se+""),V.c[0]){for(fe=V.e,se=fe+xe,se<3&&(se=0);;)if(Q=V,V=ye.times(Q.plus(i(J,Q,xe,1))),Ln(Q.c).slice(0,se)===(z=Ln(V.c)).slice(0,se))if(V.e<fe&&--se,z=z.slice(se-3,se+1),z=="9999"||!re&&z=="4999"){if(!re&&(Fe(Q,Q.e+k+2,0),Q.times(Q).eq(J))){V=Q;break}xe+=4,se+=4,re=1}else{(!+z||!+z.slice(1)&&z.charAt(0)=="5")&&(Fe(V,V.e+k+2,1),R=!V.times(V).eq(J));break}}return Fe(V,V.e+k+1,E,R)},g.toExponential=function(R,z){return R!=null&&(Ut(R,0,Vt),R++),de(this,R,z,1)},g.toFixed=function(R,z){return R!=null&&(Ut(R,0,Vt),R=R+this.e+1),de(this,R,z)},g.toFormat=function(R,z,V){var re,Q=this;if(V==null)R!=null&&z&&typeof z=="object"?(V=z,z=null):R&&typeof R=="object"?(V=R,R=z=null):V=Re;else if(typeof V!="object")throw Error(rn+"Argument not an object: "+V);if(re=Q.toFixed(R,z),Q.c){var J,pe=re.split("."),se=+V.groupSize,fe=+V.secondaryGroupSize,xe=V.groupSeparator||"",ye=pe[0],Ae=pe[1],ot=Q.s<0,at=ot?ye.slice(1):ye,_t=at.length;if(fe&&(J=se,se=fe,fe=J,_t-=J),se>0&&_t>0){for(J=_t%se||se,ye=at.substr(0,J);J<_t;J+=se)ye+=xe+at.substr(J,se);fe>0&&(ye+=xe+at.slice(J)),ot&&(ye="-"+ye)}re=Ae?ye+(V.decimalSeparator||"")+((fe=+V.fractionGroupSize)?Ae.replace(new RegExp("\\d{"+fe+"}\\B","g"),"$&"+(V.fractionGroupSeparator||"")):Ae):ye}return(V.prefix||"")+re+(V.suffix||"")},g.toFraction=function(R){var z,V,re,Q,J,pe,se,fe,xe,ye,Ae,ot,at=this,_t=at.c;if(R!=null&&(se=new H(R),!se.isInteger()&&(se.c||se.s!==1)||se.lt(x)))throw Error(rn+"Argument "+(se.isInteger()?"out of range: ":"not an integer: ")+We(se));if(!_t)return new H(at);for(z=new H(x),xe=V=new H(x),re=fe=new H(x),ot=Ln(_t),J=z.e=ot.length-at.e-1,z.c[0]=Oa[(pe=J%$e)<0?$e+pe:pe],R=!R||se.comparedTo(z)>0?J>0?z:xe:se,pe=q,q=1/0,se=new H(ot),fe.c[0]=0;ye=i(se,z,0,1),Q=V.plus(ye.times(re)),Q.comparedTo(R)!=1;)V=re,re=Q,xe=fe.plus(ye.times(Q=xe)),fe=Q,z=se.minus(ye.times(Q=z)),se=Q;return Q=i(R.minus(V),re,0,1),fe=fe.plus(Q.times(xe)),V=V.plus(Q.times(re)),fe.s=xe.s=at.s,J=J*2,Ae=i(xe,re,J,E).minus(at).abs().comparedTo(i(fe,V,J,E).minus(at).abs())<1?[xe,re]:[fe,V],q=pe,Ae},g.toNumber=function(){return+We(this)},g.toPrecision=function(R,z){return R!=null&&Ut(R,1,Vt),de(this,R,z,2)},g.toString=function(R){var z,V=this,re=V.s,Q=V.e;return Q===null?re?(z="Infinity",re<0&&(z="-"+z)):z="NaN":(R==null?z=Q<=T||Q>=A?Ht(Ln(V.c),Q):Tt(Ln(V.c),Q,"0"):R===10&&Ue?(V=Fe(new H(V),k+Q+1,E),z=Tt(Ln(V.c),V.e,"0")):(Ut(R,2,Ve.length,"Base"),z=a(Tt(Ln(V.c),Q,"0"),10,R,re,!0)),re<0&&V.c[0]&&(z="-"+z)),z},g.valueOf=g.toJSON=function(){return We(this)},g._isBigNumber=!0,g[Symbol.toStringTag]="BigNumber",g[Symbol.for("nodejs.util.inspect.custom")]=g.valueOf,r!=null&&H.set(r),H}function an(r){var i=r|0;return r>0||r===i?i:i-1}function Ln(r){for(var i,a,d=1,g=r.length,x=r[0]+"";d<g;){for(i=r[d++]+"",a=$e-i.length;a--;i="0"+i);x+=i}for(g=x.length;x.charCodeAt(--g)===48;);return x.slice(0,g+1||1)}function Ri(r,i){var a,d,g=r.c,x=i.c,k=r.s,E=i.s,T=r.e,A=i.e;if(!k||!E)return null;if(a=g&&!g[0],d=x&&!x[0],a||d)return a?d?0:-E:k;if(k!=E)return k;if(a=k<0,d=T==A,!g||!x)return d?0:!g^a?1:-1;if(!d)return T>A^a?1:-1;for(E=(T=g.length)<(A=x.length)?T:A,k=0;k<E;k++)if(g[k]!=x[k])return g[k]>x[k]^a?1:-1;return T==A?0:T>A^a?1:-1}function Ut(r,i,a,d){if(r<i||r>a||r!==Fn(r))throw Error(rn+(d||"Argument")+(typeof r=="number"?r<i||r>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function Vr(r){var i=r.c.length-1;return an(r.e/$e)==i&&r.c[i]%2!=0}function Ht(r,i){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(i<0?"e":"e+")+i}function Tt(r,i,a){var d,g;if(i<0){for(g=a+".";++i;g+=a);r=g+r}else if(d=r.length,++i>d){for(g=a,i-=d;--i;g+=a);r+=g}else i<d&&(r=r.slice(0,i)+"."+r.slice(i));return r}var Es=li(),Zt=Es,Kn=class{key;left=null;right=null;constructor(r){this.key=r}},Gr=class extends Kn{constructor(r){super(r)}},zo=class{size=0;modificationCount=0;splayCount=0;splay(r){let i=this.root;if(i==null)return this.compare(r,r),-1;let a=null,d=null,g=null,x=null,k=i,E=this.compare,T;for(;;)if(T=E(k.key,r),T>0){let A=k.left;if(A==null||(T=E(A.key,r),T>0&&(k.left=A.right,A.right=k,k=A,A=k.left,A==null)))break;a==null?d=k:a.left=k,a=k,k=A}else if(T<0){let A=k.right;if(A==null||(T=E(A.key,r),T<0&&(k.right=A.left,A.left=k,k=A,A=k.right,A==null)))break;g==null?x=k:g.right=k,g=k,k=A}else break;return g!=null&&(g.right=k.left,k.left=x),a!=null&&(a.left=k.right,k.right=d),this.root!==k&&(this.root=k,this.splayCount++),T}splayMin(r){let i=r,a=i.left;for(;a!=null;){let d=a;i.left=d.right,d.right=i,i=d,a=i.left}return i}splayMax(r){let i=r,a=i.right;for(;a!=null;){let d=a;i.right=d.left,d.left=i,i=d,a=i.right}return i}_delete(r){if(this.root==null||this.splay(r)!=0)return null;let i=this.root,a=i,d=i.left;if(this.size--,d==null)this.root=i.right;else{let g=i.right;i=this.splayMax(d),i.right=g,this.root=i}return this.modificationCount++,a}addNewRoot(r,i){this.size++,this.modificationCount++;let a=this.root;if(a==null){this.root=r;return}i<0?(r.left=a,r.right=a.right,a.right=null):(r.right=a,r.left=a.left,a.left=null),this.root=r}_first(){let r=this.root;return r==null?null:(this.root=this.splayMin(r),this.root)}_last(){let r=this.root;return r==null?null:(this.root=this.splayMax(r),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(r){return this.validKey(r)&&this.splay(r)==0}defaultCompare(){return(r,i)=>r<i?-1:r>i?1:0}wrap(){return{getRoot:()=>this.root,setRoot:r=>{this.root=r},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:r=>{this.splayCount=r},splay:r=>this.splay(r),has:r=>this.has(r)}}},kn=class Pu extends zo{root=null;compare;validKey;constructor(i,a){super(),this.compare=i??this.defaultCompare(),this.validKey=a??(d=>d!=null&&d!=null)}delete(i){return this.validKey(i)?this._delete(i)!=null:!1}deleteAll(i){for(let a of i)this.delete(a)}forEach(i){let a=this[Symbol.iterator](),d;for(;d=a.next(),!d.done;)i(d.value,d.value,this)}add(i){let a=this.splay(i);return a!=0&&this.addNewRoot(new Gr(i),a),this}addAndReturn(i){let a=this.splay(i);return a!=0&&this.addNewRoot(new Gr(i),a),this.root.key}addAll(i){for(let a of i)this.add(a)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)<0)return this.root.key;let a=this.root.left;if(a==null)return null;let d=a.right;for(;d!=null;)a=d,d=a.right;return a.key}firstAfter(i){if(i==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(i)>0)return this.root.key;let a=this.root.right;if(a==null)return null;let d=a.left;for(;d!=null;)a=d,d=a.left;return a.key}retainAll(i){let a=new Pu(this.compare,this.validKey),d=this.modificationCount;for(let g of i){if(d!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(g)&&this.splay(g)==0&&a.add(this.root.key)}a.size!=this.size&&(this.root=a.root,this.size=a.size,this.modificationCount++)}lookup(i){return!this.validKey(i)||this.splay(i)!=0?null:this.root.key}intersection(i){let a=new Pu(this.compare,this.validKey);for(let d of this)i.has(d)&&a.add(d);return a}difference(i){let a=new Pu(this.compare,this.validKey);for(let d of this)i.has(d)||a.add(d);return a}union(i){let a=this.clone();return a.addAll(i),a}clone(){let i=new Pu(this.compare,this.validKey);return i.size=this.size,i.root=this.copyNode(this.root),i}copyNode(i){if(i==null)return null;function a(g,x){let k,E;do{if(k=g.left,E=g.right,k!=null){let T=new Gr(k.key);x.left=T,a(k,T)}if(E!=null){let T=new Gr(E.key);x.right=T,g=E,x=T}}while(E!=null)}let d=new Gr(i.key);return a(i,d),d}toSet(){return this.clone()}entries(){return new Wu(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Hu(this.wrap())}[Symbol.toStringTag]="[object Set]"},Na=class{tree;path=new Array;modificationCount=null;splayCount;constructor(r){this.tree=r,this.splayCount=r.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let r=this.path[this.path.length-1];return this.getValue(r)}rebuildPath(r){this.path.splice(0,this.path.length),this.tree.splay(r),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(r){for(;r!=null;)this.path.push(r),r=r.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let a=this.tree.getRoot();for(;a!=null;)this.path.push(a),a=a.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let r=this.path[this.path.length-1],i=r.right;if(i!=null){for(;i!=null;)this.path.push(i),i=i.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===r;)r=this.path.pop();return this.path.length>0}},Hu=class extends Na{getValue(r){return r.key}},Wu=class extends Na{getValue(r){return[r.key,r.key]}},Ia=r=>()=>r,kl=r=>{let i=r?(a,d)=>d.minus(a).abs().isLessThanOrEqualTo(r):Ia(!1);return(a,d)=>i(a,d)?0:a.comparedTo(d)};function Oi(r){let i=r?(a,d,g,x,k)=>a.exponentiatedBy(2).isLessThanOrEqualTo(x.minus(d).exponentiatedBy(2).plus(k.minus(g).exponentiatedBy(2)).times(r)):Ia(!1);return(a,d,g)=>{let x=a.x,k=a.y,E=g.x,T=g.y,A=k.minus(T).times(d.x.minus(E)).minus(x.minus(E).times(d.y.minus(T)));return i(A,x,k,E,T)?0:A.comparedTo(0)}}var El=r=>r,ou=r=>{if(r){let i=new kn(kl(r)),a=new kn(kl(r)),d=(x,k)=>k.addAndReturn(x),g=x=>({x:d(x.x,i),y:d(x.y,a)});return g({x:new Zt(0),y:new Zt(0)}),g}return El},Sl=r=>({set:i=>{Ni=Sl(i)},reset:()=>Sl(r),compare:kl(r),snap:ou(r),orient:Oi(r)}),Ni=Sl(),Pr=(r,i)=>r.ll.x.isLessThanOrEqualTo(i.x)&&i.x.isLessThanOrEqualTo(r.ur.x)&&r.ll.y.isLessThanOrEqualTo(i.y)&&i.y.isLessThanOrEqualTo(r.ur.y),Ss=(r,i)=>{if(i.ur.x.isLessThan(r.ll.x)||r.ur.x.isLessThan(i.ll.x)||i.ur.y.isLessThan(r.ll.y)||r.ur.y.isLessThan(i.ll.y))return null;let a=r.ll.x.isLessThan(i.ll.x)?i.ll.x:r.ll.x,d=r.ur.x.isLessThan(i.ur.x)?r.ur.x:i.ur.x,g=r.ll.y.isLessThan(i.ll.y)?i.ll.y:r.ll.y,x=r.ur.y.isLessThan(i.ur.y)?r.ur.y:i.ur.y;return{ll:{x:a,y:g},ur:{x:d,y:x}}},Ii=(r,i)=>r.x.times(i.y).minus(r.y.times(i.x)),Fa=(r,i)=>r.x.times(i.x).plus(r.y.times(i.y)),no=r=>Fa(r,r).sqrt(),Mr=(r,i,a)=>{let d={x:i.x.minus(r.x),y:i.y.minus(r.y)},g={x:a.x.minus(r.x),y:a.y.minus(r.y)};return Ii(g,d).div(no(g)).div(no(d))},Br=(r,i,a)=>{let d={x:i.x.minus(r.x),y:i.y.minus(r.y)},g={x:a.x.minus(r.x),y:a.y.minus(r.y)};return Fa(g,d).div(no(g)).div(no(d))},Ps=(r,i,a)=>i.y.isZero()?null:{x:r.x.plus(i.x.div(i.y).times(a.minus(r.y))),y:a},ui=(r,i,a)=>i.x.isZero()?null:{x:a,y:r.y.plus(i.y.div(i.x).times(a.minus(r.x)))},Fi=(r,i,a,d)=>{if(i.x.isZero())return ui(a,d,r.x);if(d.x.isZero())return ui(r,i,a.x);if(i.y.isZero())return Ps(a,d,r.y);if(d.y.isZero())return Ps(r,i,a.y);let g=Ii(i,d);if(g.isZero())return null;let x={x:a.x.minus(r.x),y:a.y.minus(r.y)},k=Ii(x,i).div(g),E=Ii(x,d).div(g),T=r.x.plus(E.times(i.x)),A=a.x.plus(k.times(d.x)),W=r.y.plus(E.times(i.y)),q=a.y.plus(k.times(d.y)),le=T.plus(A).div(2),he=W.plus(q).div(2);return{x:le,y:he}},Dn=class D0{point;isLeft;segment;otherSE;consumedBy;static compare(i,a){let d=D0.comparePoints(i.point,a.point);return d!==0?d:(i.point!==a.point&&i.link(a),i.isLeft!==a.isLeft?i.isLeft?1:-1:za.compare(i.segment,a.segment))}static comparePoints(i,a){return i.x.isLessThan(a.x)?-1:i.x.isGreaterThan(a.x)?1:i.y.isLessThan(a.y)?-1:i.y.isGreaterThan(a.y)?1:0}constructor(i,a){i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=a}link(i){if(i.point===this.point)throw new Error("Tried to link already linked events");let a=i.point.events;for(let d=0,g=a.length;d<g;d++){let x=a[d];this.point.events.push(x),x.point=this.point}this.checkForConsuming()}checkForConsuming(){let i=this.point.events.length;for(let a=0;a<i;a++){let d=this.point.events[a];if(d.segment.consumedBy===void 0)for(let g=a+1;g<i;g++){let x=this.point.events[g];x.consumedBy===void 0&&d.otherSE.point.events===x.otherSE.point.events&&d.segment.consume(x.segment)}}}getAvailableLinkedEvents(){let i=[];for(let a=0,d=this.point.events.length;a<d;a++){let g=this.point.events[a];g!==this&&!g.segment.ringOut&&g.segment.isInResult()&&i.push(g)}return i}getLeftmostComparator(i){let a=new Map,d=g=>{let x=g.otherSE;a.set(g,{sine:Mr(this.point,i.point,x.point),cosine:Br(this.point,i.point,x.point)})};return(g,x)=>{a.has(g)||d(g),a.has(x)||d(x);let{sine:k,cosine:E}=a.get(g),{sine:T,cosine:A}=a.get(x);return k.isGreaterThanOrEqualTo(0)&&T.isGreaterThanOrEqualTo(0)?E.isLessThan(A)?1:E.isGreaterThan(A)?-1:0:k.isLessThan(0)&&T.isLessThan(0)?E.isLessThan(A)?-1:E.isGreaterThan(A)?1:0:T.isLessThan(k)?-1:T.isGreaterThan(k)?1:0}}},qu=class Xd{events;poly;_isExteriorRing;_enclosingRing;static factory(i){let a=[];for(let d=0,g=i.length;d<g;d++){let x=i[d];if(!x.isInResult()||x.ringOut)continue;let k=null,E=x.leftSE,T=x.rightSE,A=[E],W=E.point,q=[];for(;k=E,E=T,A.push(E),E.point!==W;)for(;;){let le=E.getAvailableLinkedEvents();if(le.length===0){let Re=A[0].point,Ve=A[A.length-1].point;throw new Error(`Unable to complete output ring starting at [${Re.x}, ${Re.y}]. Last matching segment found ends at [${Ve.x}, ${Ve.y}].`)}if(le.length===1){T=le[0].otherSE;break}let he=null;for(let Re=0,Ve=q.length;Re<Ve;Re++)if(q[Re].point===E.point){he=Re;break}if(he!==null){let Re=q.splice(he)[0],Ve=A.splice(Re.index);Ve.unshift(Ve[0].otherSE),a.push(new Xd(Ve.reverse()));continue}q.push({index:A.length,point:E.point});let Me=E.getLeftmostComparator(k);T=le.sort(Me)[0].otherSE;break}a.push(new Xd(A))}return a}constructor(i){this.events=i;for(let a=0,d=i.length;a<d;a++)i[a].segment.ringOut=this;this.poly=null}getGeom(){let i=this.events[0].point,a=[i];for(let A=1,W=this.events.length-1;A<W;A++){let q=this.events[A].point,le=this.events[A+1].point;Ni.orient(q,i,le)!==0&&(a.push(q),i=q)}if(a.length===1)return null;let d=a[0],g=a[1];Ni.orient(d,i,g)===0&&a.shift(),a.push(a[0]);let x=this.isExteriorRing()?1:-1,k=this.isExteriorRing()?0:a.length-1,E=this.isExteriorRing()?a.length:-1,T=[];for(let A=k;A!=E;A+=x)T.push([a[A].x.toNumber(),a[A].y.toNumber()]);return T}isExteriorRing(){if(this._isExteriorRing===void 0){let i=this.enclosingRing();this._isExteriorRing=i?!i.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let i=this.events[0];for(let g=1,x=this.events.length;g<x;g++){let k=this.events[g];Dn.compare(i,k)>0&&(i=k)}let a=i.segment.prevInResult(),d=a?a.prevInResult():null;for(;;){if(!a)return null;if(!d)return a.ringOut;if(d.ringOut!==a.ringOut)return d.ringOut?.enclosingRing()!==a.ringOut?a.ringOut:a.ringOut?.enclosingRing();a=d.prevInResult(),d=a?a.prevInResult():null}}},Pl=class{exteriorRing;interiorRings;constructor(r){this.exteriorRing=r,r.poly=this,this.interiorRings=[]}addInterior(r){this.interiorRings.push(r),r.poly=this}getGeom(){let r=this.exteriorRing.getGeom();if(r===null)return null;let i=[r];for(let a=0,d=this.interiorRings.length;a<d;a++){let g=this.interiorRings[a].getGeom();g!==null&&i.push(g)}return i}},au=class{rings;polys;constructor(r){this.rings=r,this.polys=this._composePolys(r)}getGeom(){let r=[];for(let i=0,a=this.polys.length;i<a;i++){let d=this.polys[i].getGeom();d!==null&&r.push(d)}return r}_composePolys(r){let i=[];for(let a=0,d=r.length;a<d;a++){let g=r[a];if(!g.poly)if(g.isExteriorRing())i.push(new Pl(g));else{let x=g.enclosingRing();x?.poly||i.push(new Pl(x)),x?.poly?.addInterior(g)}}return i}},hr=class{queue;tree;segments;constructor(r,i=za.compare){this.queue=r,this.tree=new kn(i),this.segments=[]}process(r){let i=r.segment,a=[];if(r.consumedBy)return r.isLeft?this.queue.delete(r.otherSE):this.tree.delete(i),a;r.isLeft&&this.tree.add(i);let d=i,g=i;do d=this.tree.lastBefore(d);while(d!=null&&d.consumedBy!=null);do g=this.tree.firstAfter(g);while(g!=null&&g.consumedBy!=null);if(r.isLeft){let x=null;if(d){let E=d.getIntersection(i);if(E!==null&&(i.isAnEndpoint(E)||(x=E),!d.isAnEndpoint(E))){let T=this._splitSafely(d,E);for(let A=0,W=T.length;A<W;A++)a.push(T[A])}}let k=null;if(g){let E=g.getIntersection(i);if(E!==null&&(i.isAnEndpoint(E)||(k=E),!g.isAnEndpoint(E))){let T=this._splitSafely(g,E);for(let A=0,W=T.length;A<W;A++)a.push(T[A])}}if(x!==null||k!==null){let E=null;x===null?E=k:k===null?E=x:E=Dn.comparePoints(x,k)<=0?x:k,this.queue.delete(i.rightSE),a.push(i.rightSE);let T=i.split(E);for(let A=0,W=T.length;A<W;A++)a.push(T[A])}a.length>0?(this.tree.delete(i),a.push(r)):(this.segments.push(i),i.prev=d)}else{if(d&&g){let x=d.getIntersection(g);if(x!==null){if(!d.isAnEndpoint(x)){let k=this._splitSafely(d,x);for(let E=0,T=k.length;E<T;E++)a.push(k[E])}if(!g.isAnEndpoint(x)){let k=this._splitSafely(g,x);for(let E=0,T=k.length;E<T;E++)a.push(k[E])}}}this.tree.delete(i)}return a}_splitSafely(r,i){this.tree.delete(r);let a=r.rightSE;this.queue.delete(a);let d=r.split(i);return d.push(a),r.consumedBy===void 0&&this.tree.add(r),d}},dr=class{type;numMultiPolys;run(r,i,a){Wt.type=r;let d=[new uu(i,!0)];for(let T=0,A=a.length;T<A;T++)d.push(new uu(a[T],!1));if(Wt.numMultiPolys=d.length,Wt.type==="difference"){let T=d[0],A=1;for(;A<d.length;)Ss(d[A].bbox,T.bbox)!==null?A++:d.splice(A,1)}if(Wt.type==="intersection")for(let T=0,A=d.length;T<A;T++){let W=d[T];for(let q=T+1,le=d.length;q<le;q++)if(Ss(W.bbox,d[q].bbox)===null)return[]}let g=new kn(Dn.compare);for(let T=0,A=d.length;T<A;T++){let W=d[T].getSweepEvents();for(let q=0,le=W.length;q<le;q++)g.add(W[q])}let x=new hr(g),k=null;for(g.size!=0&&(k=g.first(),g.delete(k));k;){let T=x.process(k);for(let A=0,W=T.length;A<W;A++){let q=T[A];q.consumedBy===void 0&&g.add(q)}g.size!=0?(k=g.first(),g.delete(k)):k=null}Ni.reset();let E=qu.factory(x.segments);return new au(E).getGeom()}},Wt=new dr,$n=Wt,Vu=0,za=class Oc{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(i,a){let d=i.leftSE.point.x,g=a.leftSE.point.x,x=i.rightSE.point.x,k=a.rightSE.point.x;if(k.isLessThan(d))return 1;if(x.isLessThan(g))return-1;let E=i.leftSE.point.y,T=a.leftSE.point.y,A=i.rightSE.point.y,W=a.rightSE.point.y;if(d.isLessThan(g)){if(T.isLessThan(E)&&T.isLessThan(A))return 1;if(T.isGreaterThan(E)&&T.isGreaterThan(A))return-1;let q=i.comparePoint(a.leftSE.point);if(q<0)return 1;if(q>0)return-1;let le=a.comparePoint(i.rightSE.point);return le!==0?le:-1}if(d.isGreaterThan(g)){if(E.isLessThan(T)&&E.isLessThan(W))return-1;if(E.isGreaterThan(T)&&E.isGreaterThan(W))return 1;let q=a.comparePoint(i.leftSE.point);if(q!==0)return q;let le=i.comparePoint(a.rightSE.point);return le<0?1:le>0?-1:1}if(E.isLessThan(T))return-1;if(E.isGreaterThan(T))return 1;if(x.isLessThan(k)){let q=a.comparePoint(i.rightSE.point);if(q!==0)return q}if(x.isGreaterThan(k)){let q=i.comparePoint(a.rightSE.point);if(q<0)return 1;if(q>0)return-1}if(!x.eq(k)){let q=A.minus(E),le=x.minus(d),he=W.minus(T),Me=k.minus(g);if(q.isGreaterThan(le)&&he.isLessThan(Me))return 1;if(q.isLessThan(le)&&he.isGreaterThan(Me))return-1}return x.isGreaterThan(k)?1:x.isLessThan(k)||A.isLessThan(W)?-1:A.isGreaterThan(W)?1:i.id<a.id?-1:i.id>a.id?1:0}constructor(i,a,d,g){this.id=++Vu,this.leftSE=i,i.segment=this,i.otherSE=a,this.rightSE=a,a.segment=this,a.otherSE=i,this.rings=d,this.windings=g}static fromRing(i,a,d){let g,x,k,E=Dn.comparePoints(i,a);if(E<0)g=i,x=a,k=1;else if(E>0)g=a,x=i,k=-1;else throw new Error(`Tried to create degenerate segment at [${i.x}, ${i.y}]`);let T=new Dn(g,!0),A=new Dn(x,!1);return new Oc(T,A,[d],[k])}replaceRightSE(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let i=this.leftSE.point.y,a=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i.isLessThan(a)?i:a},ur:{x:this.rightSE.point.x,y:i.isGreaterThan(a)?i:a}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(i){return i.x.eq(this.leftSE.point.x)&&i.y.eq(this.leftSE.point.y)||i.x.eq(this.rightSE.point.x)&&i.y.eq(this.rightSE.point.y)}comparePoint(i){return Ni.orient(this.leftSE.point,i,this.rightSE.point)}getIntersection(i){let a=this.bbox(),d=i.bbox(),g=Ss(a,d);if(g===null)return null;let x=this.leftSE.point,k=this.rightSE.point,E=i.leftSE.point,T=i.rightSE.point,A=Pr(a,E)&&this.comparePoint(E)===0,W=Pr(d,x)&&i.comparePoint(x)===0,q=Pr(a,T)&&this.comparePoint(T)===0,le=Pr(d,k)&&i.comparePoint(k)===0;if(W&&A)return le&&!q?k:!le&&q?T:null;if(W)return q&&x.x.eq(T.x)&&x.y.eq(T.y)?null:x;if(A)return le&&k.x.eq(E.x)&&k.y.eq(E.y)?null:E;if(le&&q)return null;if(le)return k;if(q)return T;let he=Fi(x,this.vector(),E,i.vector());return he===null||!Pr(g,he)?null:Ni.snap(he)}split(i){let a=[],d=i.events!==void 0,g=new Dn(i,!0),x=new Dn(i,!1),k=this.rightSE;this.replaceRightSE(x),a.push(x),a.push(g);let E=new Oc(g,k,this.rings.slice(),this.windings.slice());return Dn.comparePoints(E.leftSE.point,E.rightSE.point)>0&&E.swapEvents(),Dn.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),d&&(g.checkForConsuming(),x.checkForConsuming()),a}swapEvents(){let i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let a=0,d=this.windings.length;a<d;a++)this.windings[a]*=-1}consume(i){let a=this,d=i;for(;a.consumedBy;)a=a.consumedBy;for(;d.consumedBy;)d=d.consumedBy;let g=Oc.compare(a,d);if(g!==0){if(g>0){let x=a;a=d,d=x}if(a.prev===d){let x=a;a=d,d=x}for(let x=0,k=d.rings.length;x<k;x++){let E=d.rings[x],T=d.windings[x],A=a.rings.indexOf(E);A===-1?(a.rings.push(E),a.windings.push(T)):a.windings[A]+=T}d.rings=null,d.windings=null,d.consumedBy=a,d.leftSE.consumedBy=a.leftSE,d.rightSE.consumedBy=a.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};let a=this._afterState.rings,d=this._afterState.windings,g=this._afterState.multiPolys;for(let E=0,T=this.rings.length;E<T;E++){let A=this.rings[E],W=this.windings[E],q=a.indexOf(A);q===-1?(a.push(A),d.push(W)):d[q]+=W}let x=[],k=[];for(let E=0,T=a.length;E<T;E++){if(d[E]===0)continue;let A=a[E],W=A.poly;if(k.indexOf(W)===-1)if(A.isExterior)x.push(W);else{k.indexOf(W)===-1&&k.push(W);let q=x.indexOf(A.poly);q!==-1&&x.splice(q,1)}}for(let E=0,T=x.length;E<T;E++){let A=x[E].multiPoly;g.indexOf(A)===-1&&g.push(A)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let i=this.beforeState().multiPolys,a=this.afterState().multiPolys;switch($n.type){case"union":{let d=i.length===0,g=a.length===0;this._isInResult=d!==g;break}case"intersection":{let d,g;i.length<a.length?(d=i.length,g=a.length):(d=a.length,g=i.length),this._isInResult=g===$n.numMultiPolys&&d<g;break}case"xor":{let d=Math.abs(i.length-a.length);this._isInResult=d%2===1;break}case"difference":{let d=g=>g.length===1&&g[0].isSubject;this._isInResult=d(i)!==d(a);break}}return this._isInResult}},Ml=class{poly;isExterior;segments;bbox;constructor(r,i,a){if(!Array.isArray(r)||r.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=i,this.isExterior=a,this.segments=[],typeof r[0][0]!="number"||typeof r[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let d=Ni.snap({x:new Zt(r[0][0]),y:new Zt(r[0][1])});this.bbox={ll:{x:d.x,y:d.y},ur:{x:d.x,y:d.y}};let g=d;for(let x=1,k=r.length;x<k;x++){if(typeof r[x][0]!="number"||typeof r[x][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let E=Ni.snap({x:new Zt(r[x][0]),y:new Zt(r[x][1])});E.x.eq(g.x)&&E.y.eq(g.y)||(this.segments.push(za.fromRing(g,E,this)),E.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=E.x),E.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=E.y),E.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=E.x),E.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=E.y),g=E)}(!d.x.eq(g.x)||!d.y.eq(g.y))&&this.segments.push(za.fromRing(g,d,this))}getSweepEvents(){let r=[];for(let i=0,a=this.segments.length;i<a;i++){let d=this.segments[i];r.push(d.leftSE),r.push(d.rightSE)}return r}},lu=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(r,i){if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Ml(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let a=1,d=r.length;a<d;a++){let g=new Ml(r[a],this,!1);g.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=g.bbox.ll.x),g.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=g.bbox.ll.y),g.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=g.bbox.ur.x),g.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=g.bbox.ur.y),this.interiorRings.push(g)}this.multiPoly=i}getSweepEvents(){let r=this.exteriorRing.getSweepEvents();for(let i=0,a=this.interiorRings.length;i<a;i++){let d=this.interiorRings[i].getSweepEvents();for(let g=0,x=d.length;g<x;g++)r.push(d[g])}return r}},uu=class{isSubject;polys;bbox;constructor(r,i){if(!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof r[0][0][0]=="number"&&(r=[r])}catch{}this.polys=[],this.bbox={ll:{x:new Zt(Number.POSITIVE_INFINITY),y:new Zt(Number.POSITIVE_INFINITY)},ur:{x:new Zt(Number.NEGATIVE_INFINITY),y:new Zt(Number.NEGATIVE_INFINITY)}};for(let a=0,d=r.length;a<d;a++){let g=new lu(r[a],this);g.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=g.bbox.ll.x),g.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=g.bbox.ll.y),g.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=g.bbox.ur.x),g.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=g.bbox.ur.y),this.polys.push(g)}this.isSubject=i}getSweepEvents(){let r=[];for(let i=0,a=this.polys.length;i<a;i++){let d=this.polys[i].getSweepEvents();for(let g=0,x=d.length;g<x;g++)r.push(d[g])}return r}},Bl=(r,...i)=>$n.run("intersection",r,i),Gu=(r,...i)=>$n.run("difference",r,i);Ni.set;function zi(r){let i={type:"Feature"};return i.geometry=r,i}function Uo(r){return r.type==="Feature"?r.geometry:r}function Zu(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function Ua(r){return zi({type:"LineString",coordinates:r})}function jl(r){return zi({type:"MultiLineString",coordinates:r})}function cu(r){return zi({type:"Polygon",coordinates:r})}function hu(r){return zi({type:"MultiPolygon",coordinates:r})}function Ho(r,i){let a=Uo(r),d=Uo(i),g=Bl(a.coordinates,d.coordinates);return g.length===0?null:g.length===1?cu(g[0]):hu(g)}function Ku(r,i){let a=Uo(r),d=Uo(i),g=Gu(a.coordinates,d.coordinates);return g.length===0?null:g.length===1?cu(g[0]):hu(g)}function Ha(r){return Array.isArray(r)?1+Ha(r[0]):-1}function Tl(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));let i=Zu(r),a=Ha(i),d=[];return a>1?i.forEach(g=>{d.push(Ua(g))}):d.push(r),d}function Wo(r){let i=[];return r.eachLayer(a=>{i.push(Zu(a.toGeoJSON(15)))}),jl(i)}tn.Cut=tn.Polygon.extend({initialize(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let r=this._layer.getLatLngs();if(r.length<=2)return;let i=L.polygon(r,this.options.pathOptions);i._latlngInfos=this._layer._latlngInfo,this.cut(i),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:d,originalLayer:g})=>{this._fireCut(g,d,g),this._fireCut(this._map,d,g),g.pm._fireEdit()}),this._editedLayers=[];let a=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(a))},cut(r){let i=this._map._layers,a=r._latlngInfos||[];Object.keys(i).map(d=>i[d]).filter(d=>d.pm).filter(d=>!d._pmTempLayer).filter(d=>!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1).filter(d=>d instanceof L.Polyline).filter(d=>d!==r).filter(d=>d.pm.options.allowCutting).filter(d=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(d)>-1:!0).filter(d=>!this._layerGroup.hasLayer(d)).filter(d=>{try{let g=!!$s(r.toGeoJSON(15),d.toGeoJSON(15)).features.length>0;return g||d instanceof L.Polyline&&!(d instanceof L.Polygon)?g:!!Ho(r.toGeoJSON(15),d.toGeoJSON(15))}catch{return d instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(d=>{let g;if(d instanceof L.Polygon){g=L.polygon(d.getLatLngs());let T=g.getLatLngs();a.forEach(A=>{if(A&&A.snapInfo){let{latlng:W}=A,q=this._calcClosestLayer(W,[g]);if(q&&q.segment&&q.distance<this.options.snapDistance){let{segment:le}=q;if(le&&le.length===2){let{indexPath:he,parentPath:Me,newIndex:Re}=L.PM.Utils._getIndexFromSegment(T,le);(he.length>1?(0,ks.default)(T,Me):T).splice(Re,0,W)}}}})}else g=d;let x=this._cutLayer(r,g),k=L.geoJSON(x,d.options);k.getLayers().length===1&&([k]=k.getLayers()),this._setPane(k,"layerPane");let E=k.addTo(this._map.pm._getContainingLayer());if(E.pm.enable(d.pm.options),E.pm.disable(),d._pmTempLayer=!0,r._pmTempLayer=!0,d.remove(),d.removeFrom(this._map.pm._getContainingLayer()),r.remove(),r.removeFrom(this._map.pm._getContainingLayer()),E.getLayers&&E.getLayers().length===0&&this._map.pm.removeLayer({target:E}),E instanceof L.LayerGroup?(E.eachLayer(T=>{this._addDrawnLayerProp(T)}),this._addDrawnLayerProp(E)):this._addDrawnLayerProp(E),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let T=this.options.layersToCut.indexOf(d);T>-1&&this.options.layersToCut.splice(T,1)}this._editedLayers.push({layer:E,originalLayer:d})})},_cutLayer(r,i){let a=L.geoJSON(),d;if(i instanceof L.Polygon)d=Ku(i.toGeoJSON(15),r.toGeoJSON(15));else{let g=Tl(i);g.forEach(x=>{let k=Aa(x,r.toGeoJSON(15)),E;k&&k.features.length>0?E=L.geoJSON(k):E=L.geoJSON(x),E.getLayers().forEach(T=>{Tn(r.toGeoJSON(15),T.toGeoJSON(15))||T.addTo(a)})}),g.length>1?d=Wo(a):d=a.toGeoJSON(15)}return d},_change:L.Util.falseFn}),tn.Text=tn.extend({initialize(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarkerAfterMoving,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){let i=r;i.target=this._hintMarker,this._handleSnapping(i)}},_createMarker(r){if(!r.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);let i=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let g=this.options.textOptions.className.split(" ");this.textArea.classList.add(...g)}let a=this._createTextIcon(this.textArea),d=new L.Marker(i,{textMarker:!0,_textMarkerOverPM:!0,icon:a});if(this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm){d.pm.textArea=this.textArea,L.setOptions(d.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let g=this.options.textOptions?.focusAfterDraw??!0;d.pm._createTextMarker(g),this.options.textOptions?.text&&d.pm.setText(this.options.textOptions.text)}this._fireCreate(d),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(r){this.enable(),this._hintMarker.setLatLng(r.latlng)},_createTextArea(){let r=document.createElement("textarea");return r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon(r){return L.divIcon({className:"pm-text-marker",html:r})}});var du={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,ir(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let r=this._getDOMElem();r&&(ir(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,ir(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let r=this._getDOMElem();r&&(ir(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(r){let i=r.touches?r.touches[0]:r,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent(r){let i=r.touches?r.touches[0]:r,a={originalEvent:i,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent(r){let i={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(i.containerPoint=this._map.mouseEventToContainerPoint(r),i.latlng=this._map.containerPointToLatLng(i.containerPoint)),this._dragMixinOnMouseUp(i),!1},_dragMixinOnMouseDown(r){if(r.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(r);let i=r._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",r);if(this._layer instanceof L.Marker&&(this.options.snappable&&!i&&!a?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let d="resizeableCircleMarker";this._layer instanceof L.Circle&&(d="resizeableCircle"),this.options.snappable&&!i&&!a?this._layer.pm.options[d]||this._initSnappableMarkersDrag():this._layer.pm.options[d]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(r){this._overwriteEventIfItComesFromMarker(r);let i=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(i,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(r){let i=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,i&&L.DomUtil.removeClass(i,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(r){let{latlng:i}=r,a={lat:i.lat-this._tempDragCoord.lat,lng:i.lng-this._tempDragCoord.lng},d=g=>g.map(x=>{if(Array.isArray(x))return d(x);let k={lat:x.lat+a.lat,lng:x.lng+a.lng};return(x.alt||x.alt===0)&&(k.alt=x.alt),k});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let g=d([this._layer.getLatLng()]);this._layer.setLatLng(g[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let g=this._layer.getLatLng();this._layer._snapped&&(g=this._layer._orgLatLng);let x=d([g]);this._layer.setLatLng(x[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let g=d([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(g),this._fireChange(this._layer.getBounds(),"Edit")}else{let g=d(this._layer.getLatLngs());this._layer.setLatLngs(g),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=i,r.layer=this._layer,this._fireDrag(r)},addDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass(){let r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem(){let r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers(r,i){if(this.enabled())return!1;if(!i._fromLayerSync&&this._layer===i.target&&this.options.syncLayersOnDrag){i._fromLayerSync=!0;let a=[];if(L.Util.isArray(this.options.syncLayersOnDrag))a=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(d=>{d instanceof L.LayerGroup&&(a=a.concat(d.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let d in this._parentLayerGroup){let g=this._parentLayerGroup[d];g.pm&&(a=g.pm.getLayers(!0))}return L.Util.isArray(a)&&a.length>0&&(a=a.filter(d=>!!d.pm).filter(d=>!!d.pm.options.draggable),a.forEach(d=>{d!==this._layer&&d.pm[r]&&(d._snapped=!1,d.pm[r](i))})),a.length>0}return!1},_stopDOMImageDrag(r){return r.preventDefault(),!1}},fu=du,pu=B(Jr());function mu(r,i,a,d){return a.unproject(i.transform(a.project(r,d)),d)}function ro(r,i,a){let d=a.getMaxZoom();if(d===1/0&&(d=a.getZoom()),L.Util.isArray(r)){let g=[];return r.forEach(x=>{g.push(ro(x,i,a))}),g}return r instanceof L.LatLng?mu(r,i,a,d):null}function En(r,i){i instanceof L.Layer&&(i=i.getLatLng());let a=r.getMaxZoom();return a===1/0&&(a=r.getZoom()),r.project(i,a)}function ci(r,i){let a=r.getMaxZoom();return a===1/0&&(a=r.getZoom()),r.unproject(i,a)}var gu={_onRotateStart(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=En(this._map,this._rotationOriginLatLng),this._rotationStartPoint=En(this._map,r.target.getLatLng()),this._initialRotateLatLng=Wr(this._layer),this._startAngle=this.getAngle();let i=Wr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,i),this._fireRotationStart(this._map,i)},_onRotate(r){let i=En(this._map,r.target.getLatLng()),a=this._rotationStartPoint,d=this._rotationOriginPoint,g=Math.atan2(i.y-d.y,i.x-d.x)-Math.atan2(a.y-d.y,a.x-d.x);this._layer.setLatLngs(this._rotateLayer(g,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let x=this;function k(W,q=[],le=-1){if(le>-1&&q.push(le),L.Util.isArray(W[0]))W.forEach((he,Me)=>k(he,q.slice(),Me));else{let he=q.length>0?(0,pu.default)(x._markers,q):x._markers[0];W.forEach((Me,Re)=>{he[Re].setLatLng(Me)})}}k(this._layer.getLatLngs());let E=Wr(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(g,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let T=g*180/Math.PI;T=T<0?T+360:T;let A=T+this._startAngle;this._setAngle(A),this._rotationLayer.pm._setAngle(A),this._fireRotation(this._rotationLayer,T,E),this._fireRotation(this._map,T,E),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let i=Wr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Wr(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,i),this._fireRotationEnd(this._map,r,i),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(r,i,a,d,g){let x=En(g,a);return this._matrix=d.clone().rotate(r,x).flip(),ro(i,this._matrix,g)},_setAngle(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),i=r.getCenter();return r.removeFrom(this._layer._map),i},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Gs(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),r),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Wr(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(r){let i=this.getAngle(),a=this._layer.getLatLngs(),d=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(d,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(d,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let g=this.getAngle()-i;g=g<0?g+360:g,this._startAngle=i,this._fireRotation(this._layer,g,a,this._layer),this._fireRotation(this._map||this._layer._map,g,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(r){let i=r-this.getAngle();this.rotateLayer(i)},getAngle(){return this._angle||0},setInitAngle(r){this._setAngle(r)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(r){this._rotationCenter=r,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(r)}},$u=gu,Ui=L.Class.extend({includes:[fu,Eo,$u,Yr],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(r){L.Util.setOptions(this,r)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(r,i){i==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":i==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":i==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(r,i){let a=i.target,d={layer:this._layer,marker:a,event:i},g="";return r==="move"?g="moveVertexValidation":r==="add"?g="addVertexValidation":r==="remove"&&(g="removeVertexValidation"),this.options[g]&&typeof this.options[g]=="function"&&!this.options[g](d)?(r==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag(r){return r._cancelDragEventChain?(r._latlng=r._cancelDragEventChain,r.update(),!1):!0},_vertexValidationDragEnd(r){return r._cancelDragEventChain?(r._cancelDragEventChain=null,!1):!0}}),Kt=Ui;Kt.LayerGroup=L.Class.extend({initialize(r){this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(d=>this._initLayer(d));let i=d=>{if(d.layer._pmTempLayer)return;this._layers=this.getLayers();let g=this._layers.filter(x=>!x.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in x.pm._parentLayerGroup));g.forEach(x=>{this._initLayer(x)}),g.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(i,100,this),this),this._layerGroup.on("layerremove",d=>{this._removeLayerFromGroup(d.target)},this);let a=d=>{d.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(a,100,this),this)},enable(r,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(a=>{a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.enable(r,i)):a.pm.enable(r)})},disable(r=[]){r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(i=>{i instanceof L.LayerGroup?r.indexOf(i._leaflet_id)===-1&&(r.push(i._leaflet_id),i.pm.disable(r)):i.pm.disable()})},enabled(r=[]){return r.length===0&&(this._layers=this.getLayers()),!!this._layers.find(i=>i instanceof L.LayerGroup?r.indexOf(i._leaflet_id)===-1?(r.push(i._leaflet_id),i.pm.enabled(r)):!1:i.pm.enabled())},toggleEdit(r,i=[]){i.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(a=>{a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.toggleEdit(r,i)):a.pm.toggleEdit(r)})},_initLayer(r){let i=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[i]=this._layerGroup},_removeLayerFromGroup(r){if(r.pm&&r.pm._layerGroup){let i=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[i]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(r=>r.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(r=>!!r._map)?._map||null},getLayers(r=!1,i=!0,a=!0,d=[]){let g=[];return r?this._layerGroup.getLayers().forEach(x=>{g.push(x),x instanceof L.LayerGroup&&d.indexOf(x._leaflet_id)===-1&&(d.push(x._leaflet_id),g=g.concat(x.pm.getLayers(!0,!0,!0,d)))}):g=this._layerGroup.getLayers(),a&&(g=g.filter(x=>!(x instanceof L.LayerGroup))),i&&(g=g.filter(x=>!!x.pm),g=g.filter(x=>!x._pmTempLayer),g=g.filter(x=>!L.PM.optIn&&!x.options.pmIgnore||L.PM.optIn&&x.options.pmIgnore===!1)),g},setOptions(r,i=[]){i.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(a=>{a.pm&&(a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.setOptions(r,i)):a.pm.setOptions(r))})}}),Kt.Marker=Kt.extend({_shape:"Marker",initialize(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(r={draggable:!0}){if(L.Util.setOptions(this,r),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(r){let i=r.target;i.remove(),this._fireRemove(i),this._fireRemove(this._map,i)},_onDragStart(){this._map.pm.Draw.Marker._layerIsDragging=!0},_onMarkerDragEnd(){this._map.pm.Draw.Marker._layerIsDragging=!1},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});var hi=B(Jr()),Xu={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let r=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=r.filter((i,a,d)=>d.indexOf(i)===a)},_removeFromCache(r){let i=this.markerCache.indexOf(r);i>-1&&this.markerCache.splice(i,1)},renderLimits(r){this.markerCache.forEach(i=>{r.includes(i)?this._markerGroup.addLayer(i):this._markerGroup.removeLayer(i)})},applyLimitFilters({latlng:r={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let i=[...this._filterClosestMarkers(r)];this.renderLimits(i)},_filterClosestMarkers(r){let i=[...this.markerCache],a=this.options.limitMarkersToCount;return a===-1?i:(i.sort((d,g)=>{let x=d._latlng.distanceTo(r),k=g._latlng.distanceTo(r);return x-k}),i.filter((d,g)=>a>-1?g<a:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(r){this._preventRenderMarkers=!!r}},Hi=Xu;Kt.Line=Kt.extend({includes:[Hi],_shape:"Line",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let r=this._map,i=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(r),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let a=d=>{if(Array.isArray(d[0]))return d.map(a,this);let g=d.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&d.map((x,k)=>{let E=this.isPolygon()?(k+1)%d.length:k+1;return this._createMiddleMarker(g[k],g[E])}),g};this._markers=a(i),this.filterMarkerGroup(),r.addLayer(this._markerGroup)},_createMarker(r){let i=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this.options.rotate?(i.on("dragstart",this._onRotateStart,this),i.on("drag",this._onRotate,this),i.on("dragend",this._onRotateEnd,this)):(i.on("click",this._onVertexClick,this),i.on("dragstart",this._onMarkerDragStart,this),i.on("move",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(i),i},_createMiddleMarker(r,i){if(!r||!i)return!1;let a=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),i.getLatLng()),d=this._createMarker(a),g=L.divIcon({className:"marker-icon marker-icon-middle"});return d.setIcon(g),d.leftM=r,d.rightM=i,r._middleMarkerNext=d,i._middleMarkerPrev=d,d.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),d.on("movestart",this._onMiddleMarkerMoveStart,this),d},_onMiddleMarkerClick(r){let i=r.target;if(!this._vertexValidation("add",r))return;let a=L.divIcon({className:"marker-icon"});i.setIcon(a),this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMoveStart(r){let i=r.target;if(i.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",r)){i.on("move",this._onMiddleMarkerMovePrevent,this);return}i._dragging=!0,this._addMarker(i,i.leftM,i.rightM)},_onMiddleMarkerMovePrevent(r){let i=r.target;this._vertexValidationDrag(i)},_onMiddleMarkerMoveEnd(r){let i=r.target;if(i.off("move",this._onMiddleMarkerMovePrevent,this),i.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(i))return;let a=L.divIcon({className:"marker-icon"});i.setIcon(a),setTimeout(()=>{delete i._dragging},100)},_addMarker(r,i,a){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let d=r.getLatLng(),g=this._layer._latlngs;delete r.leftM,delete r.rightM;let{indexPath:x,index:k,parentPath:E}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),T=x.length>1?(0,hi.default)(g,E):g,A=x.length>1?(0,hi.default)(this._markers,E):this._markers;T.splice(k+1,0,d),A.splice(k+1,0,r),this._layer.setLatLngs(g),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(i,r),this._createMiddleMarker(r,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,d),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Ks(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(r){let i=this._layer,a,d;if(this.options.allowSelfIntersection?a=!1:(d=Ks(this._layer.toGeoJSON(15)),a=d.features.length>0),a){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return a;r?this._flashLayer():(i.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(d)}else i.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return a},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(r,i){r.forEach(a=>{Array.isArray(a)?this._updateDisabledMarkerStyle(a,i):a._icon&&(i&&!this._checkMarkerAllowedToDrag(a)?L.DomUtil.addClass(a._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(a._icon,"vertexmarker-disabled"))})},_removeMarker(r){let i=r.target;if(!this._vertexValidation("remove",r))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Wr(this._layer,this._layer.getLatLngs()));let a=this._layer.getLatLngs(),{indexPath:d,index:g,parentPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!d)return;let k=d.length>1?(0,hi.default)(a,x):a,E=d.length>1?(0,hi.default)(this._markers,x):this._markers,T=x[x.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!T&&(k.length<=2||this.isPolygon()&&k.length<=3)){this._flashLayer();return}k.splice(g,1),this._layer.setLatLngs(a),this.isPolygon()&&k.length<=2&&k.splice(0,k.length);let A=!1;if(k.length<=1&&(k.splice(0,k.length),x.length>1&&d.length>1&&(a=bt(a)),this._layer.setLatLngs(a),this._initMarkers(),A=!0),fs(a)||this._layer.remove(),a=bt(a),this._layer.setLatLngs(a),this._markers=bt(this._markers),!A&&(E=d.length>1?(0,hi.default)(this._markers,x):this._markers,i._middleMarkerPrev&&(this._markerGroup.removeLayer(i._middleMarkerPrev),this._removeFromCache(i._middleMarkerPrev)),i._middleMarkerNext&&(this._markerGroup.removeLayer(i._middleMarkerNext),this._removeFromCache(i._middleMarkerNext)),this._markerGroup.removeLayer(i),this._removeFromCache(i),E)){let W,q;if(this.isPolygon()?(W=(g+1)%E.length,q=(g+(E.length-1))%E.length):(q=g-1<0?void 0:g-1,W=g+1>=E.length?void 0:g+1),W!==q){let le=E[q],he=E[W];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(le,he)}E.splice(g,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(i,d),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(r){let i=this._layer.getLatLngs(),a=r.getLatLng(),{indexPath:d,index:g,parentPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),k=d.length>1?(0,hi.default)(i,x):i;a.alt=k[g].alt,k.splice(g,1,a),this._layer.setLatLngs(i)},_getNeighborMarkers(r){let{indexPath:i,index:a,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),g=i.length>1?(0,hi.default)(this._markers,d):this._markers,x=(a+1)%g.length,k=(a+(g.length-1))%g.length,E=g[k],T=g[x];return{prevMarker:E,nextMarker:T}},_checkMarkerAllowedToDrag(r){let{prevMarker:i,nextMarker:a}=this._getNeighborMarkers(r),d=L.polyline([i.getLatLng(),r.getLatLng()]),g=L.polyline([r.getLatLng(),a.getLatLng()]),x=$s(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(i.getLatLng())&&!A.equals(r.getLatLng())}).length,k=$s(this._layer.toGeoJSON(15),g.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(a.getLatLng())&&!A.equals(r.getLatLng())}).length;return!(x<1&&k<1)},_onMarkerDragStart(r){let i=r.target;if(this._preventRenderingMarkers(!0),this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",r))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(r,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Wr(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(i):this._markerAllowedToDrag=null},_onMarkerDrag(r){let i=r.target;if(!this._vertexValidationDrag(i))return;let{indexPath:a,index:d,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);if(!a)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(i);let x=a.length>1?(0,hi.default)(this._markers,g):this._markers,k=(d+1)%x.length,E=(d+(x.length-1))%x.length,T=i.getLatLng(),A=x[E].getLatLng(),W=x[k].getLatLng();if(i._middleMarkerNext){let q=L.PM.Utils.calcMiddleLatLng(this._map,T,W);i._middleMarkerNext.setLatLng(q)}if(i._middleMarkerPrev){let q=L.PM.Utils.calcMiddleLatLng(this._map,T,A);i._middleMarkerPrev.setLatLng(q)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let i=r.target;if(this._preventRenderingMarkers(!1),!this._vertexValidationDragEnd(i))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),d=!this.options.allowSelfIntersection&&this.hasSelfIntersection();d&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(d=!1);let g=!this.options.allowSelfIntersection&&d;if(this._fireMarkerDragEnd(r,a,g),g){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(r,a);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(r){let i=r.target;if(i._dragging)return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireVertexClick(r,a)}}),Kt.Polygon=Kt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(r){let{prevMarker:i,nextMarker:a}=this._getNeighborMarkers(r),d=L.polyline([i.getLatLng(),r.getLatLng()]),g=L.polyline([r.getLatLng(),a.getLatLng()]),x=$s(this._layer.toGeoJSON(15),d.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(i.getLatLng())&&!A.equals(r.getLatLng())}).length,k=$s(this._layer.toGeoJSON(15),g.toGeoJSON(15)).features.filter(E=>{let T=E.geometry.coordinates,A=L.latLng(T[1],T[0]);return!A.equals(a.getLatLng())&&!A.equals(r.getLatLng())}).length;return!(x<1&&k<1)}}),Kt.Rectangle=Kt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let r=this._map,i=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,r.addLayer(this._markerGroup),this._markers=[],this._markers[0]=i.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((a,d)=>{let g=this._cornerMarkers.find(x=>x._index===d);g&&g.setLatLng(a)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(r,i){let a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._index=i,a._pmTempLayer=!0,a.on("click",this._onVertexClick,this),this._markerGroup.addLayer(a),a},_addMarkerEvents(){this._markers[0].forEach(r=>{r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(r){if(!this._vertexValidation("move",r))return;let i=r.target,a=this._cornerMarkers;i._oppositeCornerLatLng=a.find(g=>g._index===(i._index+2)%4).getLatLng(),i._snapped=!1;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragStart(r,d)},_onMarkerDrag(r){let i=r.target;if(!this._vertexValidationDrag(i)||i._index===void 0)return;this._adjustRectangleForMarkerMove(i);let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDrag(r,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(r){let i=r.target;if(!this._vertexValidationDragEnd(i))return;this._cornerMarkers.forEach(d=>{delete d._oppositeCornerLatLng});let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);this._fireMarkerDragEnd(r,a),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(r){L.extend(r._origLatLng,r._latlng);let i=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(i),this._adjustAllMarkers(r),this._layer.redraw()},_adjustAllMarkers(r){let i=this._layer.getLatLngs()[0];if(i&&i.length!==4&&i.length>0)i.forEach((a,d)=>{this._cornerMarkers[d].setLatLng(a)}),this._cornerMarkers.slice(i.length).forEach(a=>{a.setLatLng(i[0])});else if(!i||!i.length)console.error("The layer has no LatLngs");else{let a=i.findIndex(d=>r.getLatLng().equals(d));a>-1?(this._cornerMarkers[(r._index+1)%4].setLatLng(i[(a+1)%4]),this._cornerMarkers[(r._index+2)%4].setLatLng(i[(a+2)%4]),this._cornerMarkers[(r._index+3)%4].setLatLng(i[(a+3)%4])):this._cornerMarkers.forEach(d=>{d.setLatLng(i[d._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Gs(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this.getAngle(),this._map||this)}}),Kt.CircleMarker=Kt.extend({_shape:"CircleMarker",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let r=this._map;this._helperLayers&&(this._helperLayers.removeFrom(r),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);let i=this._layer.getLatLng(),a=this._layer._radius,d=this._getLatLngOnCircle(i,a);this._centerMarker=this._createCenterMarker(i),this._outerMarker=this._createOuterMarker(d),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(r,i){let a=this._map.project(r),d=L.point(a.x+i,a.y);return this._map.unproject(d)},_createHintLine(r,i){let a=r.getLatLng(),d=i.getLatLng();this._hintline=L.polyline([a,d],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(r){let i=this._createMarker(r);return this.options.draggable?(L.DomUtil.addClass(i._icon,"leaflet-pm-draggable"),i.on("move",this._moveCircle,this)):i.dragging.disable(),i},_createOuterMarker(r){let i=this._createMarker(r);return i.on("drag",this._resizeCircle,this),i},_createMarker(r){let i=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=r,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("click",this._onVertexClick,this),this._helperLayers.addLayer(i),i},_moveCircle(r){if(r.target._cancelDragEventChain)return;let i=this._centerMarker.getLatLng();this._layer.setLatLng(i);let a=this._layer._radius,d=this._getLatLngOnCircle(i,a);this._outerMarker._latlng=d,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let r=this._layer.getLatLng(),i=this._layer._radius,a=this._getLatLngOnCircle(r,i);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(r,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,i])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag(r){let i=r.target;i instanceof L.Marker&&!this._vertexValidationDrag(i)||this._fireMarkerDrag(r)},_onMarkerDragEnd(r){this._extedingMarkerDragEnd();let i=r.target;this._vertexValidationDragEnd(i)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let r=this._layer._map||this._map;if(r){let i=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(i);let d=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!d).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!d),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(r,i);return this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?i=Si(this._map,r,i,this._getMinDistanceInMeter(r)):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(i=Si(this._map,r,i,this._getMaxDistanceInMeter(r))),i},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let r=this._centerMarker.getLatLng(),i=this._outerMarker.getLatLng(),a=this._distanceCalculation(r,i);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(r,i){return this._map.project(r).distanceTo(this._map.project(i))},_getMinDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,r)},_getMaxDistanceInMeter(r){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,r)},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),Kt.Circle=Kt.CircleMarker.extend({_shape:"Circle",initialize(r){this._layer=r,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(r){L.PM.Edit.CircleMarker.prototype.enable.call(this,r||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(r,i){return this._map.distance(r,i)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(r){r.target._dragging||this._fireVertexClick(r,void 0)}}),Kt.ImageOverlay=Kt.extend({_shape:"ImageOverlay",initialize(r){this._layer=r,this._enabled=!1},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},enabled(){return this._enabled},enable(r={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,r),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let r=this._layer.getBounds(),i=r.getNorthWest(),a=r.getNorthEast(),d=r.getSouthEast(),g=r.getSouthWest();return[i,a,d,g]}}),Kt.Text=Kt.extend({_shape:"Text",initialize(r){this._layer=r,this._enabled=!1},enable(r){if(L.Util.setOptions(this,r),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),document.removeEventListener("click",this._documentClickThis,{capture:!0}),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(r){this.enabled()?this.disable():this.enable(r)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,i=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${r}px`,this.textArea.style.width=`${i}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&(this._documentClickThis=this._documentClickThis||this._documentClick.bind(this),document.addEventListener("click",this._documentClickThis,{capture:!0}))},100)},_documentClick(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(r={}){let i=this._hasFocus;this._hasFocus=r.type==="focus",!i!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(r){r&&(this.textArea.value=r),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let i=this.options.className.split(" ");this.textArea.classList.add(...i)}let r=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(r),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(r=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(r){r.preventDefault()}});var di=function(r,i,a,d,g,x){this._matrix=[r,i,a,d,g,x]};di.init=()=>new L.PM.Matrix(1,0,0,1,0,0),di.prototype={transform(r){return this._transform(r.clone())},_transform(r){let i=this._matrix,{x:a,y:d}=r;return r.x=i[0]*a+i[1]*d+i[4],r.y=i[2]*a+i[3]*d+i[5],r},untransform(r){let i=this._matrix;return new L.Point((r.x/i[0]-i[4])/i[0],(r.y/i[2]-i[5])/i[2])},clone(){let r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate(r){if(r===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let i,a;return typeof r=="number"?(i=r,a=r):(i=r.x,a=r.y),this._add(1,0,0,1,i,a)},scale(r,i){if(r===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let a,d;return i=i||L.point(0,0),typeof r=="number"?(a=r,d=r):(a=r.x,d=r.y),this._add(a,0,0,d,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},rotate(r,i){let a=Math.cos(r),d=Math.sin(r);return i=i||new L.Point(0,0),this._add(a,d,-d,a,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(r,i,a,d,g,x){let k=[[],[],[]],E=this._matrix,T=[[E[0],E[2],E[4]],[E[1],E[3],E[5]],[0,0,1]],A=[[r,a,g],[i,d,x],[0,0,1]],W;r&&r instanceof L.PM.Matrix&&(E=r._matrix,A=[[E[0],E[2],E[4]],[E[1],E[3],E[5]],[0,0,1]]);for(let q=0;q<3;q+=1)for(let le=0;le<3;le+=1){W=0;for(let he=0;he<3;he+=1)W+=T[q][he]*A[he][le];k[q][le]=W}return this._matrix=[k[0][0],k[1][0],k[0][1],k[1][1],k[0][2],k[1][2]],this}};var Dl=di,Ju={calcMiddleLatLng(r,i,a){let d=r.project(i),g=r.project(a);return r.unproject(d._add(g)._divideBy(2))},findLayers(r){let i=[];return r.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&i.push(a)}),i=i.filter(a=>!!a.pm),i=i.filter(a=>!a._pmTempLayer),i=i.filter(a=>!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1),i},circleToPolygon(r,i=60,a=!0){let d=r.getLatLng(),g=r.getRadius(),x=Mn(d,g,i,0,a),k=[];for(let E=0;E<x.length;E+=1){let T=[x[E].lat,x[E].lng];k.push(T)}return L.polygon(k,r.options)},disablePopup(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent(r,i,a,d=!1){r.fire(i,a,d);let{groups:g}=this.getAllParentGroups(r);g.forEach(x=>{x.fire(i,a,d)})},getAllParentGroups(r){let i=[],a=[],d=g=>{for(let x in g._eventParents)if(i.indexOf(x)===-1){i.push(x);let k=g._eventParents[x];a.push(k),d(k)}};return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(d(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:i},{groupIds:i,groups:a}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Mn,getTranslation:Et,findDeepCoordIndex(r,i,a=!0){let d,g=k=>(E,T)=>{let A=k.concat(T);if(a){if(E.lat&&E.lat===i.lat&&E.lng===i.lng)return d=A,!0}else if(E.lat&&L.latLng(E).equals(i))return d=A,!0;return Array.isArray(E)&&E.some(g(A))};r.some(g([]));let x={};return d&&(x={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),x},findDeepMarkerIndex(r,i){let a,d=x=>(k,E)=>{let T=x.concat(E);return k._leaflet_id===i._leaflet_id?(a=T,!0):Array.isArray(k)&&k.some(d(T))};r.some(d([]));let g={};return a&&(g={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),g},_getIndexFromSegment(r,i){if(i&&i.length===2){let a=this.findDeepCoordIndex(r,i[0]),d=this.findDeepCoordIndex(r,i[1]),g=Math.max(a.index,d.index);return(a.index===0||d.index===0)&&g!==1&&(g+=1),{indexA:a,indexB:d,newIndex:g,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle(r,i,a,d){let g=En(d,r),x=En(d,i),k=a*Math.PI/180,E=Math.cos(k),T=Math.sin(k),A=(x.x-g.x)*E+(x.y-g.y)*T,W=(x.y-g.y)*E-(x.x-g.x)*T,q=A*E+g.x,le=A*T+g.y,he=-W*T+g.x,Me=W*E+g.y,Re=ci(d,g),Ve=ci(d,{x:q,y:le}),Ue=ci(d,x),H=ci(d,{x:he,y:Me});return[Re,Ve,Ue,H]},pxRadiusToMeterRadius(r,i,a){let d=i.project(a),g=L.point(d.x+r,d.y);return i.distance(i.unproject(g),a)}},Al=Ju;L.PM=L.PM||{version:Gt.version,Map:eu,Toolbar:sr,Draw:tn,Edit:Kt,Utils:Al,Matrix:Dl,activeLang:"en",optIn:!1,initialize(r){this.addInitHooks(r)},setOptIn(r){this.optIn=!!r},addInitHooks(){function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(r);function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(i);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(a);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(d);function g(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(g);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(x);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(k);function E(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(E);function T(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(T)},reInitLayer(r){r instanceof L.LayerGroup&&r.eachLayer(i=>{this.reInitLayer(i)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(r){let i=this._map.mouseEventToLayerPoint(r),a,d;for(let g=this._drawFirst;g;g=g.next)a=g.layer,a.options.interactive&&a._containsPoint(i)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(a))&&(d=a);d&&(L.DomEvent.fakeStop(r),this._fireEvent([d],r))}}),L.PM.initialize()})()),pg}Zw();const Hd={getAllSectors:async()=>(await ht.get("/admin/sectors")).data,createSector:async o=>(await ht.post("/admin/sectors",o)).data,deleteSector:async o=>(await ht.delete(`/admin/sectors/${o}`)).data},Kw=({isDrawing:o,onPolygonComplete:u})=>{const h=mf();return U.useEffect(()=>{if(h)return h.pm.setLang("uk"),h.on("pm:create",p=>{const{layer:_}=p;if(_ instanceof Ds.Polygon){const y=_.getLatLngs()[0].map(v=>({lat:v.lat,lng:v.lng}));u(y),h.removeLayer(_)}}),()=>h.off("pm:create")},[h,u]),U.useEffect(()=>{o?h.pm.enableDraw("Polygon",{snappable:!0,continueDrawing:!1,hintText:",  .    ,  ."}):h.pm.disableDraw()},[o,h]),null},$w=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!1),[_,y]=U.useState(null),[v,P]=U.useState(""),[B,D]=U.useState(!0),S=[50.45,30.52];U.useEffect(()=>{j()},[]);const j=async()=>{try{const Z=await Hd.getAllSectors();u(Z)}catch(Z){console.error(Z)}},I=U.useCallback(Z=>{y(Z),p(!1)},[]),ne=async()=>{if(!v)return alert("  ");try{await Hd.createSector({name:v,isCity:B,points:_}),P(""),D(!0),y(null),j()}catch{alert(" ")}},K=()=>{y(null),P(""),D(!0)},G=async Z=>{window.confirm("  ?")&&(await Hd.deleteSector(Z),j())};return c.jsxs("div",{className:"sectors-page",children:[c.jsxs("div",{className:"sectors-sidebar",children:[c.jsx("h2",{children:""}),c.jsx("button",{className:`add-sector-btn ${h?"cancel":""}`,onClick:()=>{p(!h),y(null)},children:h?" ":"+  "}),_&&c.jsxs("div",{className:"save-sector-box",children:[c.jsx("label",{children:"  !"}),c.jsx("input",{type:"text",placeholder:" ...",value:v,autoFocus:!0,onChange:Z=>P(Z.target.value)}),c.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"10px 0"},children:[c.jsx("input",{type:"checkbox",id:"chkIsCity",checked:B,onChange:Z=>D(Z.target.checked),style:{width:"auto",marginRight:"8px"}}),c.jsx("label",{htmlFor:"chkIsCity",style:{marginBottom:0,cursor:"pointer"},children:'  ? ( "")'})]}),!B&&c.jsx("small",{style:{color:"#ff9800"},children:'   " "'}),c.jsxs("div",{className:"box-actions",children:[c.jsx("button",{onClick:ne,className:"save-btn",children:""}),c.jsx("button",{onClick:K,className:"discard-btn",children:""})]})]}),c.jsx("div",{className:"sectors-list",children:o.map(Z=>c.jsxs("div",{className:"sector-card",style:{borderLeft:Z.isCity?"4px solid #00ffaa":"4px solid #ff9800"},children:[c.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[c.jsx("span",{className:"sector-name",children:Z.name}),c.jsx("span",{style:{fontSize:"0.8em",color:"#888"},children:Z.isCity?" ":"  "})]}),c.jsx("button",{className:"del-btn",onClick:()=>G(Z.id),children:""})]},Z.id))})]}),c.jsx("div",{className:"map-view",children:c.jsxs(gf,{center:S,zoom:11,style:{height:"100%",width:"100%"},children:[c.jsx(_f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.map(Z=>c.jsx(ug,{positions:Z.points.map(Se=>[Se.lat,Se.lng]),pathOptions:{fillColor:Z.isCity?"#00ffaa":"#ff9800",fillOpacity:.2,color:Z.isCity?"#00ffaa":"#ff9800",weight:2},children:c.jsx(cg,{permanent:!0,direction:"center",className:"sector-label",children:Z.name})},Z.id)),_&&c.jsx(ug,{positions:_.map(Z=>[Z.lat,Z.lng]),pathOptions:{fillColor:"#ffcc00",fillOpacity:.4,color:"#ffcc00",weight:3,dashArray:"5, 5"},children:c.jsx(cg,{permanent:!0,direction:"center",className:"sector-label-preview",children:v||" "})}),c.jsx(Kw,{isDrawing:h,onPolygonComplete:I})]})})]})},Xw=async()=>(await ht.get("/admin/ratings")).data,Jw=async o=>(await ht.post(`/admin/ratings/${o}/ignore`)).data,Yw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState("ALL"),[_,y]=U.useState(!0);U.useEffect(()=>{v()},[]);const v=async()=>{try{const S=await Xw();u(S)}catch(S){console.error("   ",S)}finally{y(!1)}},P=async S=>{if(window.confirm("    ?"))try{await Jw(S),v()}catch(j){console.error("",j),alert("   ")}},B=()=>o.filter(S=>h==="BAD"?S.score<=3:h==="GOOD"?S.score>3:!0),D=S=>"".repeat(S);return _?c.jsx("div",{className:"page-container",children:"..."}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"header-actions",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[c.jsx("h2",{children:"  "}),c.jsxs("div",{className:"filter-buttons",children:[c.jsx("button",{className:h==="ALL"?"active-btn":"",onClick:()=>p("ALL"),style:{marginRight:"10px",padding:"5px 10px"},children:""}),c.jsx("button",{className:h==="BAD"?"active-btn":"",onClick:()=>p("BAD"),style:{marginRight:"10px",padding:"5px 10px",backgroundColor:"#ffcccc",color:"#000"},children:" (1-3)"}),c.jsx("button",{className:h==="GOOD"?"active-btn":"",onClick:()=>p("GOOD"),style:{padding:"5px 10px",backgroundColor:"#ccffcc",color:"#000"},children:" (4-5)"})]})]}),c.jsx("div",{className:"table-responsive",children:c.jsxs("table",{className:"custom-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsxs("tbody",{children:[B().map(S=>c.jsxs("tr",{style:{opacity:S.comment?.includes("[IGNORED]")?.5:1},children:[c.jsxs("td",{children:["#",S.id]}),c.jsx("td",{children:S.date||"-"}),c.jsxs("td",{children:["#",S.orderId]}),c.jsx("td",{children:S.driverName||"---"}),c.jsx("td",{children:S.clientName||"---"}),c.jsx("td",{style:{color:"#FFD700",fontWeight:"bold",fontSize:"1.5rem",letterSpacing:"2px",minWidth:"100px",textShadow:"1px 1px 2px rgba(0,0,0,0.2)"},children:D(S.score)}),c.jsx("td",{children:S.comment||"-"}),c.jsx("td",{children:c.jsx("button",{onClick:()=>P(S.id),style:{fontSize:"0.8rem",padding:"4px 8px",cursor:"pointer"},children:""})})]},S.id||Math.random())),B().length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:"8",style:{textAlign:"center"},children:"  "})})]})]})})]})},gg={getFormSchema:async o=>(await ht.get(`/admin/forms/${o}`)).data,saveFormSchema:async(o,u)=>(await ht.put(`/admin/forms/${o}`,u)).data},Qw=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),_="add_car";U.useEffect(()=>{y()},[]);const y=async()=>{try{const j=await gg.getFormSchema(_);u(j)}catch(j){console.error(" :",j),alert("  .  .")}finally{p(!1)}},v=()=>{u([...o,{type:"text",name:`field_${Date.now()}`,label:" ",required:!1,options:[]}])},P=j=>{u(o.filter((I,ne)=>ne!==j))},B=(j,I,ne)=>{u(K=>K.map((G,Z)=>Z===j?{...G,[I]:ne}:G))},D=async()=>{console.log(" ...",o);try{await gg.saveFormSchema(_,o),alert("  !   .")}catch(j){console.error(" :",j),alert(`  : ${j.message||" "}`)}},S=(j,I)=>c.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",marginBottom:"10px",borderRadius:"8px",background:"white"},children:[c.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:" "}),c.jsxs("select",{className:"form-input",value:j.type,onChange:ne=>B(I,"type",ne.target.value),children:[c.jsx("option",{value:"text",children:""}),c.jsx("option",{value:"photo",children:""}),c.jsx("option",{value:"select",children:" "})]})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:" (Label)"}),c.jsx("input",{className:"form-input",type:"text",value:j.label,onChange:ne=>B(I,"label",ne.target.value)})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:"  (name, en)"}),c.jsx("input",{className:"form-input",type:"text",value:j.name,onChange:ne=>B(I,"name",ne.target.value),placeholder:"brand, vin..."})]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[c.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:j.required,onChange:ne=>B(I,"required",ne.target.checked)}),c.jsx("span",{style:{marginLeft:"8px"},children:" "})]}),c.jsx("button",{onClick:()=>P(I),style:{marginLeft:"auto",background:"#ffebee",color:"#d32f2f",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer"},children:" "})]}),j.type==="select"&&c.jsxs("div",{style:{marginTop:"10px"},children:[c.jsx("label",{style:{fontSize:"12px",color:"#666"},children:" ( )"}),c.jsx("input",{className:"form-input",type:"text",placeholder:", , ",value:j.options?j.options.join(", "):"",onChange:ne=>B(I,"options",ne.target.value.split(",").map(K=>K.trim()))})]})]},I);return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"page-header",children:[c.jsx("h1",{children:"   "}),c.jsx("button",{className:"primary-button",onClick:D,style:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"10px 20px",fontSize:"16px",borderRadius:"5px",cursor:"pointer"},children:"  "})]}),c.jsxs("div",{style:{maxWidth:"800px",marginTop:"20px"},children:[o.map((j,I)=>S(j,I)),c.jsx("button",{onClick:v,style:{width:"100%",padding:"15px",border:"2px dashed #aaa",background:"transparent",color:"#555",borderRadius:"8px",cursor:"pointer",marginTop:"10px"},children:"+  "})]}),c.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"#f0f0f0",borderRadius:"8px"},children:[c.jsx("h3",{children:" ( ):"}),c.jsx("pre",{style:{fontSize:"12px"},children:JSON.stringify(o,null,2)})]})]})},eb=()=>{const[o,u]=U.useState([]),[h,p]=U.useState(!0),[_,y]=U.useState(null),[v,P]=U.useState(null),[B,D]=U.useState({});U.useEffect(()=>{S()},[]);const S=async()=>{try{const F=await x4();u(F)}catch(F){console.error(" :",F)}finally{p(!1)}},j=F=>{_===F.id?(y(null),D({})):(y(F.id),D({make:F.make,model:F.model,plateNumber:F.plateNumber,color:F.color,year:F.year,carType:F.carType||"Standard",vin:F.vin||""}))},I=F=>{const{name:te,value:X}=F.target;D(Y=>({...Y,[te]:X}))},ne=async F=>{try{await ag(F,B),alert("  !"),S()}catch(te){alert(" : "+te.message)}},K=async(F,te)=>{if(te&&te.stopPropagation(),_===F)try{await ag(F,B)}catch{alert("     ");return}if(window.confirm("  ?"))try{await w4(F),alert("  !"),S(),y(null)}catch(X){alert(": "+X.message)}},G=async(F,te)=>{te&&te.stopPropagation();const X=prompt("  :");if(X)try{await b4(F,X),alert("  ."),S()}catch(Y){alert(": "+Y.message)}},Z=({url:F,label:te})=>{if(!F)return c.jsxs("div",{style:cn.noPhoto,children:[te,c.jsx("br",{}),"()"]});const X=F.startsWith("http")?F:`http://localhost:8080/uploads/${F}`;return c.jsxs("div",{style:cn.photoContainer,onClick:()=>P({url:X,label:te}),children:[c.jsx("img",{src:X,alt:te,style:cn.photoImg}),c.jsx("div",{style:cn.photoLabel,children:te})]})},Se=()=>v?c.jsxs("div",{style:cn.lightboxOverlay,onClick:()=>P(null),children:[c.jsx("button",{style:cn.closeBtn,onClick:()=>P(null),children:""}),c.jsx("img",{src:v.url,alt:"Full",style:cn.lightboxImg,onClick:F=>F.stopPropagation()}),c.jsx("div",{style:cn.lightboxLabel,children:v.label})]}):null;return h?c.jsx("div",{children:" ..."}):c.jsxs("div",{className:"page-container",children:[c.jsx(Se,{}),c.jsxs("div",{className:"page-header",children:[c.jsxs("h1",{children:["   (",o.length,")"]}),c.jsx("button",{onClick:S,className:"secondary-button",children:""})]}),o.length===0?c.jsx("div",{style:{textAlign:"center",marginTop:"50px",color:"#777"},children:c.jsx("h3",{children:"   "})}):c.jsxs("table",{className:"data-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"ID"}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:". "}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:o.map(F=>c.jsxs(Mu.Fragment,{children:[c.jsxs("tr",{onClick:()=>j(F),style:{cursor:"pointer",background:_===F.id?"#e3f2fd":"white"},children:[c.jsx("td",{children:F.id}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:F.driver?.fullName||"N/A"}),c.jsx("div",{style:{fontSize:"12px",color:"#666"},children:F.driver?.phoneNumber})]}),c.jsx("td",{children:_===F.id?c.jsxs("div",{style:{display:"flex",gap:"5px"},children:[c.jsx("input",{name:"make",value:B.make,onChange:I,style:cn.miniInput,placeholder:"",onClick:te=>te.stopPropagation()}),c.jsx("input",{name:"model",value:B.model,onChange:I,style:cn.miniInput,placeholder:"",onClick:te=>te.stopPropagation()})]}):c.jsxs("div",{style:{fontWeight:"bold"},children:[F.make," ",F.model]})}),c.jsx("td",{children:_===F.id?c.jsx("input",{name:"plateNumber",value:B.plateNumber,onChange:I,style:{...cn.miniInput,width:"100px",textTransform:"uppercase"},onClick:te=>te.stopPropagation()}):c.jsx("div",{className:"license-plate",children:F.plateNumber})}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:te=>K(F.id,te),style:cn.btnApprove,children:" "}),c.jsx("button",{onClick:te=>G(F.id,te),style:cn.btnReject,children:" "})]})})]}),_===F.id&&c.jsx("tr",{children:c.jsx("td",{colSpan:"5",style:{padding:0},children:c.jsxs("div",{style:{padding:"20px",background:"#f8f9fa",borderBottom:"2px solid #ddd"},children:[c.jsx("h4",{style:{marginTop:0,color:"#333"},children:"    "}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:":"}),c.jsx("input",{name:"color",value:B.color,onChange:I,style:cn.input})]}),c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:" :"}),c.jsx("input",{name:"year",type:"number",value:B.year,onChange:I,style:cn.input})]}),c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:" :"}),c.jsxs("select",{name:"carType",value:B.carType,onChange:I,style:cn.input,children:[c.jsx("option",{value:"Standard",children:"Standard"}),c.jsx("option",{value:"Comfort",children:"Comfort"}),c.jsx("option",{value:"Business",children:"Business"}),c.jsx("option",{value:"Minivan",children:"Minivan"})]})]}),c.jsxs("div",{style:cn.inputGroup,children:[c.jsx("label",{children:"VIN-:"}),c.jsx("input",{name:"vin",value:B.vin,onChange:I,style:cn.input,placeholder:" VIN"})]})]}),c.jsxs("div",{style:{textAlign:"right",marginBottom:"20px"},children:[c.jsx("button",{onClick:()=>ne(F.id),style:cn.btnSave,children:"  "}),c.jsx("span",{style:{marginLeft:"10px",fontSize:"12px",color:"#666"},children:'( "" ,  )'})]}),c.jsx("hr",{style:{border:"0",borderTop:"1px solid #ddd",margin:"20px 0"}}),c.jsx("h4",{style:{color:"#1976D2"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px"},children:[c.jsx(Z,{url:F.techPassportFront,label:" ()"}),c.jsx(Z,{url:F.techPassportBack,label:" ()"}),c.jsx(Z,{url:F.insurancePhoto,label:""})]}),c.jsx("h4",{style:{color:"#388E3C"},children:" '"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"15px"},children:[c.jsx(Z,{url:F.photoFront,label:""}),c.jsx(Z,{url:F.photoBack,label:""}),c.jsx(Z,{url:F.photoLeft,label:""}),c.jsx(Z,{url:F.photoRight,label:""})]}),c.jsx("h4",{style:{color:"#F57C00"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:[c.jsx(Z,{url:F.photoSeatsFront,label:" "}),c.jsx(Z,{url:F.photoSeatsBack,label:" "})]})]})})})]},F.id))})]})]})},cn={miniInput:{padding:"4px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"13px",width:"80px"},inputGroup:{display:"flex",flexDirection:"column"},input:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px"},btnApprove:{background:"#4CAF50",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},btnReject:{background:"#f44336",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},btnSave:{background:"#2196F3",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},photoContainer:{textAlign:"center",cursor:"zoom-in",border:"1px solid #ddd",padding:"4px",background:"white",borderRadius:"4px"},photoImg:{width:"120px",height:"90px",objectFit:"cover",borderRadius:"2px"},photoLabel:{fontSize:"11px",color:"#555",marginTop:"2px",fontWeight:"bold"},noPhoto:{width:"120px",height:"90px",background:"#f0f0f0",border:"1px dashed #ccc",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",color:"#999"},lightboxOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},closeBtn:{position:"absolute",top:"20px",right:"30px",background:"transparent",border:"none",color:"white",fontSize:"30px",cursor:"pointer"},lightboxImg:{maxWidth:"90%",maxHeight:"80%",borderRadius:"4px",boxShadow:"0 0 20px rgba(255,255,255,0.2)"},lightboxLabel:{marginTop:"15px",color:"white",fontSize:"18px"}},tb=async()=>{try{return(await ht.get("/public/info/car-options")).data}catch(o){return console.error("Error loading car options:",o),{makes:[],colors:[],types:[]}}},nb=async()=>{try{return(await ht.get("/public/tariffs")).data}catch(o){return console.error("Error loading tariffs:",o),[]}},mi=({url:o,label:u,onZoom:h})=>o?c.jsxs("div",{style:{marginRight:"10px",marginBottom:"5px",cursor:"pointer"},onClick:()=>h(o),children:[c.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",marginBottom:"2px",color:"#555"},children:u}),c.jsx("img",{src:o,alt:u,style:{width:"100px",height:"70px",objectFit:"cover",borderRadius:"6px",border:"1px solid #ddd",transition:"transform 0.2s"},onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)"})]}):c.jsxs("div",{style:{fontSize:"12px",color:"#999",marginBottom:"5px"},children:[u,": "]}),rb=()=>{const[o,u]=U.useState([]),[h,p]=U.useState([]),[_,y]=U.useState(!0),[v,P]=U.useState(""),[B,D]=U.useState(!1),[S,j]=U.useState(null),[I,ne]=U.useState([]),[K,G]=U.useState(!1),[Z,Se]=U.useState(""),[F,te]=U.useState(null),X=async()=>{y(!0);try{const[oe,De]=await Promise.all([C4(),nb()]);u(oe),p(De)}catch(oe){P(oe.message||" ")}finally{y(!1)}};U.useEffect(()=>{X()},[]);const Y=oe=>{j(oe),ne([]),D(!0)},Pe=oe=>{ne(De=>De.includes(oe)?De.filter(Xe=>Xe!==oe):[...De,oe])},_e=async()=>{if(I.length===0){alert("    !");return}try{await L4(S,I),alert("  !"),u(oe=>oe.filter(De=>De.id!==S)),D(!1)}catch(oe){alert(oe.message)}},ae=oe=>{j(oe),Se(""),G(!0)},ve=async oe=>{if(oe.preventDefault(),!Z)return alert(" ");try{await k4(S,Z),alert(" ."),u(De=>De.filter(Xe=>Xe.id!==S)),G(!1)}catch(De){alert(De.message)}};return _?c.jsx("div",{children:"..."}):c.jsxs("div",{className:"table-page-container",children:[c.jsxs("div",{className:"table-header",children:[c.jsxs("h2",{children:["    (",o.length,")"]}),c.jsx("button",{className:"btn-secondary",onClick:X,children:" "})]}),v&&c.jsx("div",{className:"error-message",children:v}),o.length===0?c.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:c.jsx("h3",{children:"  "})}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:o.map(oe=>c.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",borderLeft:"5px solid #FFC107"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"15px"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{margin:0,color:"#333"},children:oe.fullName}),c.jsxs("div",{style:{color:"#666",marginTop:"5px"},children:[" ",oe.phoneNumber," |  ID: ",oe.id]})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{className:"btn-danger",onClick:()=>ae(oe.id),children:""}),c.jsx("button",{className:"btn-primary",onClick:()=>Y(oe.id),style:{backgroundColor:"#4CAF50"},children:" "})]})]}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"30px"},children:[c.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[c.jsx("h4",{style:{color:"#1976D2",marginTop:0},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(mi,{url:oe.photoUrl,label:"",onZoom:te}),c.jsx(mi,{url:oe.driverLicenseFront,label:" ()",onZoom:te}),c.jsx(mi,{url:oe.driverLicenseBack,label:" ()",onZoom:te})]}),c.jsxs("div",{style:{marginTop:"10px",fontSize:"14px",lineHeight:"1.6"},children:[c.jsxs("div",{children:[c.jsx("strong",{children:":"})," ",oe.rnokpp||"-"]}),c.jsxs("div",{children:[c.jsx("strong",{children:" :"})," ",oe.driverLicense||"-"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",oe.email||"-"]})]})]}),oe.car?c.jsxs("div",{style:{flex:2,minWidth:"300px"},children:[c.jsxs("h4",{style:{color:"#388E3C",marginTop:0},children:[" ",oe.car.make," ",oe.car.model," (",oe.car.year,")"]}),c.jsxs("div",{style:{marginBottom:"10px"},children:[c.jsx("span",{style:{background:"#333",color:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:oe.car.plateNumber}),c.jsxs("span",{style:{marginLeft:"10px",color:"#666"},children:[": ",oe.car.color]})]}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#777",marginBottom:"5px"},children:" "}),c.jsxs("div",{style:{display:"flex"},children:[c.jsx(mi,{url:oe.car.techPassportFront,label:" ()",onZoom:te}),c.jsx(mi,{url:oe.car.techPassportBack,label:" ()",onZoom:te}),c.jsx(mi,{url:oe.car.insurancePhoto,label:"",onZoom:te})]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#777",marginBottom:"5px"},children:" "}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[c.jsx(mi,{url:oe.car.photoFront,label:"",onZoom:te}),c.jsx(mi,{url:oe.car.photoBack,label:"",onZoom:te}),c.jsx(mi,{url:oe.car.photoLeft,label:"",onZoom:te}),c.jsx(mi,{url:oe.car.photoRight,label:"",onZoom:te}),c.jsx(mi,{url:oe.car.photoSeatsFront,label:" ()",onZoom:te}),c.jsx(mi,{url:oe.car.photoSeatsBack,label:" ()",onZoom:te})]})]})]})]}):c.jsx("div",{style:{flex:1,color:"#999",fontStyle:"italic"},children:"  "})]})]},oe.id))}),F&&c.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:()=>te(null),children:[c.jsx("img",{src:F,style:{maxWidth:"90%",maxHeight:"90%",borderRadius:"8px",boxShadow:"0 0 20px rgba(255,255,255,0.2)"},alt:"Zoom"}),c.jsx("div",{style:{position:"absolute",top:"20px",right:"30px",color:"white",fontSize:"30px"},children:""})]}),c.jsx(ta,{isOpen:B,onClose:()=>D(!1),title:"  ",children:c.jsxs("div",{style:{padding:"10px"},children:[c.jsx("p",{children:" ,    :"}),c.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",border:"1px solid #eee",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:h.map(oe=>c.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"8px",borderBottom:"1px solid #f5f5f5",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:I.includes(oe.id),onChange:()=>Pe(oe.id),style:{transform:"scale(1.2)",marginRight:"10px"}}),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:oe.name}),c.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[": ",oe.basePrice," "]})]})]},oe.id))}),c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[c.jsx("button",{className:"btn-secondary",onClick:()=>D(!1),children:""}),c.jsx("button",{className:"btn-primary",onClick:_e,style:{backgroundColor:"#4CAF50"},disabled:I.length===0,children:""})]})]})}),c.jsx(ta,{isOpen:K,onClose:()=>G(!1),title:" ",children:c.jsxs("form",{onSubmit:ve,children:[c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"5px"},children:" :"}),c.jsx("textarea",{rows:"4",style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ccc"},value:Z,onChange:oe=>Se(oe.target.value),placeholder:":   ...",required:!0})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>G(!1),children:""}),c.jsx("button",{type:"submit",className:"btn-danger",children:""})]})]})})]})},ib={backgroundColor:"#ff4d4d",color:"white",fontWeight:"bold",animation:"pulse 1s infinite"},sb=()=>{const{user:o,logout:u}=Kc(),h=o&&o.role==="ADMINISTRATOR",p=Ts();Uc();const[_,y]=U.useState(!1),[v,P]=U.useState([]);return U.useEffect(()=>{const B=new y0("http://localhost:8080/ws-taxi"),D=new o0({webSocketFactory:()=>B,onConnect:()=>{console.log("WS Connected (Global)"),D.subscribe("/topic/admin/sos",S=>{const j=JSON.parse(S.body);console.log("SOS RECEIVED:",j),P(I=>[j,...I]),p.pathname!=="/news"&&y(!0)})},onStompError:S=>{console.error("Broker reported error: "+S.headers.message),console.error("Additional details: "+S.body)}});return D.activate(),()=>D.deactivate()},[p.pathname]),U.useEffect(()=>{p.pathname==="/news"&&y(!1)},[p.pathname]),c.jsxs("div",{className:"dashboard-layout",children:[c.jsxs("header",{className:"dashboard-header",children:[c.jsx("h1",{children:"Taxi-App ()"}),c.jsxs("div",{className:"user-info",children:[c.jsxs("span",{children:[o?.fullName," (",o?.role,")"]}),c.jsx("button",{onClick:u,children:""})]})]}),c.jsxs("nav",{className:"dashboard-nav",children:[c.jsx(Yn,{to:"/",end:!0,children:""}),c.jsx(Yn,{to:"/drivers",children:""}),c.jsx(Yn,{to:"/clients",children:""}),h&&c.jsxs(c.Fragment,{children:[c.jsx(Yn,{to:"/car-requests",className:"nav-item",children:" "}),c.jsxs(Yn,{to:"/news",style:({isActive:B})=>_&&!B?ib:{},children:[" ",_&&"(!)"]}),c.jsx(Yn,{to:"/driver-requests",className:"nav-item",children:"  "}),c.jsx(Yn,{to:"/ratings",children:""}),c.jsx(Yn,{to:"/services",children:". "}),c.jsx(Yn,{to:"/tariffs",children:""}),c.jsx(Yn,{to:"/dispatchers",children:""}),c.jsx(Yn,{to:"/promos",children:" ()"}),c.jsx(Yn,{to:"/promocodes",children:""}),c.jsx(Yn,{to:"/sectors",children:""}),c.jsx(Yn,{to:"/form-builder",children:" "}),c.jsx(Yn,{to:"/settings",children:""})]})]}),c.jsx("main",{className:"dashboard-content",children:c.jsxs(Pg,{children:[c.jsx(Nt,{path:"/",element:c.jsx(aw,{})}),c.jsx(Nt,{path:"/drivers",element:c.jsx(mw,{})}),c.jsx(Nt,{path:"/clients",element:c.jsx(_w,{})}),h?c.jsxs(c.Fragment,{children:[c.jsx(Nt,{path:"/news",element:c.jsx(zw,{sosList:v,setSosList:P})}),c.jsx(Nt,{path:"/ratings",element:c.jsx(Yw,{})}),c.jsx(Nt,{path:"/services",element:c.jsx(Vw,{})}),c.jsx(Nt,{path:"/tariffs",element:c.jsx(vw,{})}),c.jsx(Nt,{path:"/dispatchers",element:c.jsx(kw,{})}),c.jsx(Nt,{path:"/promos",element:c.jsx(Dw,{})}),c.jsx(Nt,{path:"/promocodes",element:c.jsx(Rw,{})}),c.jsx(Nt,{path:"/sectors",element:c.jsx($w,{})}),c.jsx(Nt,{path:"/driver-requests",element:c.jsx(rb,{})}),c.jsx(Nt,{path:"/car-requests",element:c.jsx(eb,{})}),c.jsx(Nt,{path:"/form-builder",element:c.jsx(Qw,{})}),c.jsx(Nt,{path:"/settings",element:c.jsx(Gw,{})})]}):c.jsxs(c.Fragment,{children:[c.jsx(Nt,{path:"/news",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/ratings",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/services",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/tariffs",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/dispatchers",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/promos",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/promocodes",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/sectors",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/car-requests",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/driver-requests",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/form-builder",element:c.jsx(Nr,{to:"/",replace:!0})}),c.jsx(Nt,{path:"/settings",element:c.jsx(Nr,{to:"/",replace:!0})})]}),c.jsx(Nt,{path:"*",element:c.jsx("h2",{children:"  "})})]})})]})},ob=({children:o})=>{const{isAuthenticated:u}=Kc(),h=Ts();return u?o:c.jsx(Nr,{to:"/login",state:{from:h},replace:!0})},Lt={bg:"#F8FAFC",card:"#FFFFFF",textMain:"#1E293B",textSec:"#64748B",primary:"#14B8A6",primaryLight:"#CCFBF1",border:"#E2E8F0",error:"#EF4444",bgInput:"#F1F5F9"},A0={padding:"20px 20px 100px 20px",maxWidth:"600px",margin:"0 auto",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',backgroundColor:Lt.bg,minHeight:"100vh",boxSizing:"border-box"},ab={fontSize:"26px",fontWeight:"800",color:Lt.textMain,marginBottom:"8px",textAlign:"center"},lb={fontSize:"15px",color:Lt.textSec,marginBottom:"30px",textAlign:"center",lineHeight:"1.5"},_g={fontSize:"18px",fontWeight:"700",color:Lt.textMain,marginTop:"25px",marginBottom:"15px"},Rr={marginBottom:"16px"},Or={display:"block",fontSize:"13px",fontWeight:"600",color:Lt.textSec,marginBottom:"6px",marginLeft:"4px"},Ki={width:"100%",padding:"16px",borderRadius:"16px",border:`1px solid ${Lt.border}`,backgroundColor:Lt.card,fontSize:"16px",color:Lt.textMain,outline:"none",boxSizing:"border-box",transition:"border-color 0.2s",WebkitTapHighlightColor:"transparent"},Bc={...Ki,appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:'url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%2364748B%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3C%2Fpolyline%3E%3C%2Fsvg%3E")',backgroundRepeat:"no-repeat",backgroundPosition:"right 16px center",paddingRight:"40px"},R0={position:"fixed",bottom:0,left:0,width:"100%",padding:"20px",backgroundColor:Lt.primary,color:"#fff",border:"none",fontSize:"18px",fontWeight:"700",cursor:"pointer",zIndex:100,boxShadow:"0 -4px 12px rgba(0,0,0,0.05)",letterSpacing:"0.5px",WebkitTapHighlightColor:"transparent"},ub={color:Lt.error,fontSize:"14px",textAlign:"center",marginTop:"10px",padding:"10px",backgroundColor:"#FEF2F2",borderRadius:"12px",border:"1px solid #FECACA"},cb={display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"12px",backgroundColor:"#fff",border:`1px solid ${Lt.border}`,marginBottom:"15px",cursor:"pointer",color:Lt.textMain,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",WebkitTapHighlightColor:"transparent"},hb=()=>c.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{color:Lt.textSec},children:[c.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),c.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),db=()=>c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:Lt.primary,stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:Lt.primary,stroke:"none"}),c.jsx("path",{d:"M9 12l2 2 4-4"})]}),fb=()=>c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})}),pb=({value:o,onChange:u})=>{const p=(B=>{if(!B)return"";let D=B;return B.length>3&&(D=B.slice(0,3)+" "+B.slice(3)),B.length>5&&(D=D.slice(0,6)+" "+D.slice(6)),B.length>7&&(D=D.slice(0,9)+" "+D.slice(9)),D})(o),y="XXX XX XX XXX".slice(p.length),v=B=>{let D=B.target.value.replace(/\D/g,"");D.length>10&&(D=D.slice(0,10)),u({target:{name:"phoneNumber",value:D}})},P={...Ki,padding:"22px",fontSize:"20px",fontFamily:"monospace"};return c.jsxs("div",{style:{position:"relative",width:"100%"},children:[c.jsxs("div",{style:{...P,position:"absolute",top:0,left:0,borderColor:"transparent",pointerEvents:"none",zIndex:1},children:[c.jsx("span",{style:{color:Lt.textMain},children:p}),c.jsx("span",{style:{color:"#CBD5E1"},children:y})]}),c.jsx("input",{type:"tel",value:p,onChange:v,style:{...P,position:"relative",zIndex:2,backgroundColor:"transparent",color:"transparent",caretColor:Lt.textMain}})]})},mb=({value:o,onChange:u})=>c.jsxs("div",{style:{position:"relative",width:"100%",height:"60px",marginTop:"20px"},children:[c.jsx("input",{name:"smsCode",type:"tel",pattern:"[0-9]*",autoComplete:"one-time-code",value:o,onChange:u,maxLength:6,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,zIndex:10,cursor:"text"},autoFocus:!0}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",height:"100%"},children:[0,1,2,3,4,5].map(h=>{const p=o[h]||"",_=h===o.length,y=h<o.length;return c.jsx("div",{style:{width:"14%",height:"100%",borderRadius:"12px",backgroundColor:Lt.card,border:_?`2px solid ${Lt.primary}`:`1px solid ${y?Lt.primary:Lt.border}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:Lt.textMain,boxShadow:_?`0 0 0 4px ${Lt.primaryLight}`:"none",transition:"all 0.2s ease"},children:p},h)})})]}),gi=({label:o,fieldName:u,file:h,onChange:p})=>{const[_,y]=U.useState(null);U.useEffect(()=>{if(h){const P=URL.createObjectURL(h);return y(P),()=>URL.revokeObjectURL(P)}else y(null)},[h]);const v={position:"relative",display:"flex",alignItems:"center",justifyContent:"center",padding:"0",height:"140px",marginBottom:"16px",borderRadius:"16px",border:h?`2px solid ${Lt.primary}`:`2px dashed ${Lt.border}`,backgroundColor:h?"#fff":Lt.bgInput,overflow:"hidden",cursor:"pointer",transition:"all 0.2s ease"};return c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:Lt.textMain},children:[o," ",c.jsx("span",{style:{color:Lt.error},children:"*"})]}),c.jsx("input",{type:"file",accept:"image/*",id:u,style:{display:"none"},onChange:P=>p(P,u)}),c.jsx("label",{htmlFor:u,style:v,children:h&&_?c.jsxs(c.Fragment,{children:[c.jsx("img",{src:_,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover",opacity:.9}}),c.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#fff",borderRadius:"50%"},children:c.jsx(db,{})}),c.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.5)",color:"#fff",fontSize:"12px",padding:"6px",textAlign:"center"},children:"  "})]}):c.jsxs("div",{style:{textAlign:"center",color:Lt.textSec},children:[c.jsx("div",{style:{marginBottom:"5px"},children:c.jsx(hb,{})}),c.jsx("div",{style:{fontSize:"13px"},children:" "})]})})]})},Yo=({title:o,subtitle:u,btnText:h,onNext:p,children:_,showBack:y=!0,onBack:v,loading:P,error:B})=>c.jsxs("div",{style:A0,children:[y&&v&&c.jsx("div",{onClick:v,style:cb,children:c.jsx(fb,{})}),c.jsx("h2",{style:ab,children:o}),u&&c.jsx("div",{style:lb,children:u}),c.jsx("div",{style:{marginBottom:"40px"},children:_}),B&&c.jsxs("div",{style:ub,children:[" ",B]}),c.jsx("button",{onClick:p,disabled:P,style:R0,children:P?"...":h})]}),gb=()=>{const[o,u]=U.useState(0),[h,p]=U.useState(!1),[_,y]=U.useState(""),[v,P]=U.useState({makes:[],colors:[],types:[]}),[B,D]=U.useState([]),[S,j]=U.useState({phoneNumber:"",smsCode:"",password:"",lastName:"",firstName:"",middleName:"",email:"",rnokpp:"",driverLicense:"",make:"",model:"",year:"",color:"",plateNumber:"",carType:""}),[I,ne]=U.useState({avatar:null,driverLicenseFront:null,driverLicenseBack:null,techPassportFront:null,techPassportBack:null,insurance:null,carFront:null,carBack:null,carLeft:null,carRight:null,carInteriorFront:null,carInteriorBack:null});U.useEffect(()=>{tb().then(oe=>P(oe))},[]),U.useEffect(()=>{if(S.make){const oe=v.makes.find(De=>De.name===S.make);D(oe?oe.models:[])}},[S.make,v]);const K=oe=>{const{name:De,value:Xe}=oe.target;if(De==="smsCode"){const Ne=Xe.replace(/[^0-9]/g,"").slice(0,6);j(vt=>({...vt,[De]:Ne}))}else j(Ne=>({...Ne,[De]:Xe}))},G=(oe,De)=>{oe.target.files&&oe.target.files[0]&&(ne(Xe=>({...Xe,[De]:oe.target.files[0]})),y(""))},Z=()=>{y(""),u(oe=>oe-1)},Se=async()=>{if(S.phoneNumber.length<10)return y("   (10 )");p(!0),y("");try{await wx(S.phoneNumber),u(1)}catch(oe){y(oe.message)}finally{p(!1)}},F=async()=>{if(S.smsCode.length<6)return y("  6- ");p(!0),y("");try{await bx(S.phoneNumber,S.smsCode),u(2)}catch(oe){y(oe.message)}finally{p(!1)}},te=()=>{y(""),u(oe=>oe+1),window.scrollTo(0,0)},X=()=>{if(!S.lastName)return y(" ");if(!S.firstName)return y(" '");const oe=S.password,De=/[A-Z]/.test(oe),Xe=/\d/.test(oe),Ne=/^[a-zA-Z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/.test(oe);if(!oe||oe.length<6)return y(":  6 ");if(!Ne)return y(":     ");if(!De)return y(":     1   (A-Z)");if(!Xe)return y(":     1 ");if(!S.email||!S.email.includes("@"))return y("  Email");if(!S.rnokpp||S.rnokpp.length<8)return y("   ()");if(!S.driverLicense)return y("   ");te()},Y=()=>{if(!S.make)return y("  ");if(!S.model)return y("  ");if(!S.year)return y("  ");if(!S.color)return y(" ");if(!S.plateNumber||S.plateNumber.length<3)return y("  . ");te()},Pe=()=>{if(!I.avatar)return y("   ()");if(!I.driverLicenseFront)return y("  ()");if(!I.driverLicenseBack)return y("  ()");if(!I.techPassportFront)return y(" .  ()");if(!I.techPassportBack)return y(" .  ()");if(!I.insurance)return y("  ");te()},_e=()=>{if(!I.carFront)return y("   ");if(!I.carBack)return y("   ");if(!I.carLeft)return y("   ");if(!I.carRight)return y("   ");te()},ae=()=>{if(!I.carInteriorFront)return y("   ");if(!I.carInteriorBack)return y("   ");te()},ve=async()=>{p(!0),y("");try{const oe=`${S.lastName} ${S.firstName} ${S.middleName}`.trim(),De={phoneNumber:S.phoneNumber,smsCode:S.smsCode,password:S.password,fullName:oe,email:S.email,rnokpp:S.rnokpp,driverLicense:S.driverLicense,make:S.make,model:S.model,color:S.color,plateNumber:S.plateNumber,year:parseInt(S.year),carType:S.carType};await Cx(De,I),u(8)}catch(oe){y(oe.message)}finally{p(!1)}};return o===0?c.jsx(Yo,{title:"",subtitle:"     ",btnText:"",onNext:Se,showBack:!1,loading:h,error:_,children:c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:" "}),c.jsx(pb,{value:S.phoneNumber,onChange:K})]})}):o===1?c.jsx(Yo,{title:" ",subtitle:` 6   SMS,   ${S.phoneNumber}`,btnText:"",onNext:F,showBack:!0,onBack:Z,loading:h,error:_,children:c.jsx(mb,{value:S.smsCode,onChange:K})}):o===2?c.jsxs(Yo,{title:" ",subtitle:"   ",btnText:"",onNext:X,showBack:!1,onBack:Z,loading:h,error:_,children:[c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:" *"}),c.jsx("input",{name:"lastName",value:S.lastName,onChange:K,style:Ki})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:"' *"}),c.jsx("input",{name:"firstName",value:S.firstName,onChange:K,style:Ki})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:" "}),c.jsx("input",{name:"middleName",value:S.middleName,onChange:K,style:Ki})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:" (, 1 , 1 ) *"}),c.jsx("input",{name:"password",type:"password",placeholder:". 6 ",value:S.password,onChange:K,style:Ki})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:"Email *"}),c.jsx("input",{name:"email",type:"email",placeholder:"mail@example.com",value:S.email,onChange:K,style:Ki})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:" () *"}),c.jsx("input",{name:"rnokpp",placeholder:"XXXXXXXXXX",value:S.rnokpp,onChange:K,style:Ki})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:"   *"}),c.jsx("input",{name:"driverLicense",placeholder:"ABC 123456",value:S.driverLicense,onChange:K,style:Ki})]})]}):o===3?c.jsxs(Yo,{title:" ",subtitle:"  ",btnText:"",onNext:Y,showBack:!0,onBack:Z,loading:h,error:_,children:[c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:" *"}),c.jsxs("select",{name:"make",value:S.make,onChange:K,style:Bc,children:[c.jsx("option",{value:"",children:"..."}),v.makes.map(oe=>c.jsx("option",{value:oe.name,children:oe.name},oe.name))]})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:" *"}),c.jsxs("select",{name:"model",value:S.model,onChange:K,style:Bc,disabled:!S.make,children:[c.jsx("option",{value:"",children:"..."}),B.map(oe=>c.jsx("option",{value:oe,children:oe},oe))]})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsxs("div",{style:{...Rr,flex:1},children:[c.jsx("label",{style:Or,children:" *"}),c.jsx("input",{name:"year",type:"number",placeholder:"2018",value:S.year,onChange:K,style:Ki})]}),c.jsxs("div",{style:{...Rr,flex:1},children:[c.jsx("label",{style:Or,children:" *"}),c.jsxs("select",{name:"color",value:S.color,onChange:K,style:Bc,children:[c.jsx("option",{value:"",children:"..."}),v.colors.map(oe=>c.jsx("option",{value:oe,children:oe},oe))]})]})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:".  *"}),c.jsx("input",{name:"plateNumber",placeholder:"AA1234AA",value:S.plateNumber,onChange:K,style:{...Ki,textTransform:"uppercase"}})]}),c.jsxs("div",{style:Rr,children:[c.jsx("label",{style:Or,children:"  *"}),c.jsx("select",{name:"carType",value:S.carType,onChange:K,style:Bc,children:v.types.map(oe=>c.jsx("option",{value:oe,children:oe},oe))})]})]}):o===4?c.jsxs(Yo,{title:" ",subtitle:"   ",btnText:"",onNext:Pe,showBack:!0,onBack:Z,loading:h,error:_,children:[c.jsx("div",{style:_g,children:""}),c.jsx(gi,{label:"  ()",fieldName:"avatar",file:I.avatar,onChange:G}),c.jsx(gi,{label:" ( )",fieldName:"driverLicenseFront",file:I.driverLicenseFront,onChange:G}),c.jsx(gi,{label:" ( )",fieldName:"driverLicenseBack",file:I.driverLicenseBack,onChange:G}),c.jsx("div",{style:_g,children:""}),c.jsx(gi,{label:".  ()",fieldName:"techPassportFront",file:I.techPassportFront,onChange:G}),c.jsx(gi,{label:".  ()",fieldName:"techPassportBack",file:I.techPassportBack,onChange:G}),c.jsx(gi,{label:" ",fieldName:"insurance",file:I.insurance,onChange:G})]}):o===5?c.jsxs(Yo,{title:" ",subtitle:"     ( )",btnText:"",onNext:_e,showBack:!0,onBack:Z,loading:h,error:_,children:[c.jsx(gi,{label:" ( )",fieldName:"carFront",file:I.carFront,onChange:G}),c.jsx(gi,{label:" ( )",fieldName:"carBack",file:I.carBack,onChange:G}),c.jsx(gi,{label:" ",fieldName:"carLeft",file:I.carLeft,onChange:G}),c.jsx(gi,{label:" ",fieldName:"carRight",file:I.carRight,onChange:G})]}):o===6?c.jsxs(Yo,{title:" ",subtitle:"    ",btnText:"",onNext:ae,showBack:!0,onBack:Z,loading:h,error:_,children:[c.jsx(gi,{label:"  ",fieldName:"carInteriorFront",file:I.carInteriorFront,onChange:G}),c.jsx(gi,{label:"  ",fieldName:"carInteriorBack",file:I.carInteriorBack,onChange:G})]}):o===7?c.jsxs(Yo,{title:" ",subtitle:",   ",btnText:"  ",onNext:ve,showBack:!0,onBack:Z,loading:h,error:_,children:[c.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"16px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",border:`1px solid ${Lt.border}`},children:[c.jsx("h4",{style:{margin:"0 0 10px 0",color:Lt.primary},children:" "}),c.jsx("div",{style:{marginBottom:"5px",fontSize:"16px"},children:c.jsxs("b",{children:[S.lastName," ",S.firstName]})}),c.jsx("div",{style:{color:Lt.textSec,fontSize:"14px"},children:S.phoneNumber}),c.jsx("div",{style:{color:Lt.textSec,fontSize:"14px"},children:S.email}),c.jsxs("div",{style:{color:Lt.textSec,fontSize:"14px"},children:[": ",S.rnokpp]}),c.jsx("hr",{style:{border:"none",borderTop:`1px solid ${Lt.border}`,margin:"15px 0"}}),c.jsx("h4",{style:{margin:"0 0 10px 0",color:Lt.primary},children:" "}),c.jsxs("div",{style:{marginBottom:"5px",fontSize:"16px"},children:[c.jsxs("b",{children:[S.make," ",S.model]})," (",S.year,")"]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"},children:[c.jsx("span",{style:{backgroundColor:"#F1F5F9",padding:"6px 10px",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",border:"1px solid #E2E8F0"},children:S.plateNumber}),c.jsx("span",{style:{color:Lt.textSec},children:S.color})]})]}),c.jsxs("div",{style:{marginTop:"20px",textAlign:"center",fontSize:"14px",color:Lt.textMain,fontWeight:"500"},children:[c.jsx("span",{style:{marginRight:"5px"},children:""})," : ",c.jsxs("span",{style:{color:Lt.primary,fontWeight:"bold"},children:[Object.values(I).filter(oe=>oe!==null).length,"  12"]})]})]}):o===8?c.jsxs("div",{style:{...A0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingBottom:"0"},children:[c.jsx("div",{style:{fontSize:"80px",marginBottom:"20px"},children:""}),c.jsx("h2",{style:{color:Lt.textMain,marginBottom:"10px"},children:" !"}),c.jsxs("p",{style:{textAlign:"center",lineHeight:"1.6",color:Lt.textSec,maxWidth:"90%"},children:[", ",S.firstName,"!",c.jsx("br",{}),"     .",c.jsx("br",{}),"  SMS   ."]}),c.jsx("button",{onClick:()=>window.location.href="/registration-success",style:{...R0,position:"relative",marginTop:"40px",borderRadius:"16px",width:"100%"},children:""})]}):c.jsx("div",{children:" "})};function _b(){return c.jsx(Lx,{children:c.jsxs(Pg,{children:[c.jsx(Nt,{path:"/login",element:c.jsx(kx,{})}),c.jsx(Nt,{path:"/driver-register",element:c.jsx(gb,{})}),c.jsx(Nt,{path:"/*",element:c.jsx(ob,{children:c.jsx(sb,{})})})]})})}b_.createRoot(document.getElementById("root")).render(c.jsx(Mu.StrictMode,{children:c.jsx(Ry,{children:c.jsx(_b,{})})}));
